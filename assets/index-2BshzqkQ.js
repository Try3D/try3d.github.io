var Jt=Object.defineProperty;var Kt=(e,n,t)=>n in e?Jt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Oe=(e,n,t)=>Kt(e,typeof n!="symbol"?n+"":n,t);import{g as en,l as Pe,M as tn}from"./index-BD8YFhod.js";import{d as nt,c as nn}from"./browser-BJWuXAgX.js";function ht(e){if(e)throw e}var Ne,pt;function rn(){if(pt)return Ne;pt=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(h){return typeof Array.isArray=="function"?Array.isArray(h):n.call(h)==="[object Array]"},i=function(h){if(!h||n.call(h)!=="[object Object]")return!1;var c=e.call(h,"constructor"),k=h.constructor&&h.constructor.prototype&&e.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!c&&!k)return!1;var x;for(x in h);return typeof x>"u"||e.call(h,x)},s=function(h,c){t&&c.name==="__proto__"?t(h,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):h[c.name]=c.newValue},l=function(h,c){if(c==="__proto__")if(e.call(h,c)){if(r)return r(h,c).value}else return;return h[c]};return Ne=function m(){var h,c,k,x,p,P,I=arguments[0],L=1,w=arguments.length,_=!1;for(typeof I=="boolean"&&(_=I,I=arguments[1]||{},L=2),(I==null||typeof I!="object"&&typeof I!="function")&&(I={});L<w;++L)if(h=arguments[L],h!=null)for(c in h)k=l(I,c),x=l(h,c),I!==x&&(_&&x&&(i(x)||(p=a(x)))?(p?(p=!1,P=k&&a(k)?k:[]):P=k&&i(k)?k:{},s(I,{name:c,newValue:m(_,P,x)})):typeof x<"u"&&s(I,{name:c,newValue:x}));return I},Ne}var an=rn();const He=en(an);class un extends Error{constructor(t,r,a,i,s){super(t);Oe(this,"name","Assertion");Oe(this,"code","ERR_ASSERTION");Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.actual=r,this.expected=a,this.generated=s,this.operator=i}}function g(e,n){on(!!e,!1,!0,"ok","Expected value to be truthy",n)}function on(e,n,t,r,a,i){if(!e)throw i instanceof Error?i:new un(i||a,n,t,r,!i)}function Xe(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function sn(){const e=[],n={run:t,use:r};return n;function t(...a){let i=-1;const s=a.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...a);function l(m,...h){const c=e[++i];let k=-1;if(m){s(m);return}for(;++k<a.length;)(h[k]===null||h[k]===void 0)&&(h[k]=a[k]);a=h,c?ln(c,l)(...h):s(null,...h)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),n}}function ln(e,n){let t;return r;function r(...s){const l=e.length>s.length;let m;l&&s.push(a);try{m=e.apply(this,s)}catch(h){const c=h;if(l&&t)throw c;return a(c)}l||(m&&m.then&&typeof m.then=="function"?m.then(i,a):m instanceof Error?a(m):i(m))}function a(s,...l){t||(t=!0,n(s,...l))}function i(s){a(null,s)}}function cn(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ft(e.position):"start"in e||"end"in e?ft(e):"line"in e||"column"in e?$e(e):""}function $e(e){return dt(e&&e.line)+":"+dt(e&&e.column)}function ft(e){return $e(e&&e.start)+"-"+$e(e&&e.end)}function dt(e){return e&&typeof e=="number"?e:1}class Z extends Error{constructor(n,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let a="",i={},s=!1;if(t&&("line"in t&&"column"in t?i={place:t}:"start"in t&&"end"in t?i={place:t}:"type"in t?i={ancestors:[t],place:t.position}:i={...t}),typeof n=="string"?a=n:!i.cause&&n&&(s=!0,a=n.message,i.cause=n),!i.ruleId&&!i.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?i.ruleId=r:(i.source=r.slice(0,m),i.ruleId=r.slice(m+1))}if(!i.place&&i.ancestors&&i.ancestors){const m=i.ancestors[i.ancestors.length-1];m&&(i.place=m.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=l?l.line:void 0,this.name=cn(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Z.prototype.file="";Z.prototype.name="";Z.prototype.reason="";Z.prototype.message="";Z.prototype.stack="";Z.prototype.column=void 0;Z.prototype.line=void 0;Z.prototype.ancestors=void 0;Z.prototype.cause=void 0;Z.prototype.fatal=void 0;Z.prototype.place=void 0;Z.prototype.ruleId=void 0;Z.prototype.source=void 0;const ue={basename:hn,dirname:pn,extname:fn,join:dn,sep:"/"};function hn(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Fe(e);let t=0,r=-1,a=e.length,i;if(n===void 0||n.length===0||n.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){t=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let s=-1,l=n.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){t=a+1;break}}else s<0&&(i=!0,s=a+1),l>-1&&(e.codePointAt(a)===n.codePointAt(l--)?l<0&&(r=a):(l=-1,r=s));return t===r?r=s:r<0&&(r=e.length),e.slice(t,r)}function pn(e){if(Fe(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.codePointAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function fn(e){Fe(e);let n=e.length,t=-1,r=0,a=-1,i=0,s;for(;n--;){const l=e.codePointAt(n);if(l===47){if(s){r=n+1;break}continue}t<0&&(s=!0,t=n+1),l===46?a<0?a=n:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||t<0||i===0||i===1&&a===t-1&&a===r+1?"":e.slice(a,t)}function dn(...e){let n=-1,t;for(;++n<e.length;)Fe(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":mn(t)}function mn(e){Fe(e);const n=e.codePointAt(0)===47;let t=gn(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.codePointAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function gn(e,n){let t="",r=0,a=-1,i=0,s=-1,l,m;for(;++s<=e.length;){if(s<e.length)l=e.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(a===s-1||i===1))if(a!==s-1&&i===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(m=t.lastIndexOf("/"),m!==t.length-1){m<0?(t="",r=0):(t=t.slice(0,m),r=t.length-1-t.lastIndexOf("/")),a=s,i=0;continue}}else if(t.length>0){t="",r=0,a=s,i=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(a+1,s):t=e.slice(a+1,s),r=s-a-1;a=s,i=0}else l===46&&i>-1?i++:i=-1}return t}function Fe(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const xn={cwd:kn};function kn(){return"/"}function Ze(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function yn(e){if(typeof e=="string")e=new URL(e);else if(!Ze(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return bn(e)}function bn(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.codePointAt(t)===37&&n.codePointAt(t+1)===50){const r=n.codePointAt(t+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(n)}const Ve=["history","path","basename","stem","extname","dirname"];class Sn{constructor(n){let t;n?Ze(n)?t={path:n}:typeof n=="string"||wn(n)?t={value:n}:t=n:t={},this.cwd="cwd"in t?"":xn.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ve.length;){const i=Ve[r];i in t&&t[i]!==void 0&&t[i]!==null&&(this[i]=i==="history"?[...t[i]]:t[i])}let a;for(a in t)Ve.includes(a)||(this[a]=t[a])}get basename(){return typeof this.path=="string"?ue.basename(this.path):void 0}set basename(n){Qe(n,"basename"),je(n,"basename"),this.path=ue.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?ue.dirname(this.path):void 0}set dirname(n){mt(this.basename,"dirname"),this.path=ue.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?ue.extname(this.path):void 0}set extname(n){if(je(n,"extname"),mt(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ue.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){Ze(n)&&(n=yn(n)),Qe(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?ue.basename(this.path,this.extname):void 0}set stem(n){Qe(n,"stem"),je(n,"stem"),this.path=ue.join(this.dirname||"",n+(this.extname||""))}fail(n,t,r){const a=this.message(n,t,r);throw a.fatal=!0,a}info(n,t,r){const a=this.message(n,t,r);return a.fatal=void 0,a}message(n,t,r){const a=new Z(n,t,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function je(e,n){if(e&&e.includes(ue.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+ue.sep+"`")}function Qe(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function mt(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function wn(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Tn=function(e){const r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},In={}.hasOwnProperty;class rt extends Tn{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=sn()}copy(){const n=new rt;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];n.use(...r)}return n.data(He(!0,{},this.namespace)),n}data(n,t){return typeof n=="string"?arguments.length===2?(ve("data",this.frozen),this.namespace[n]=t,this):In.call(this.namespace,n)&&this.namespace[n]||void 0:n?(ve("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=t.call(n,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const t=Ae(n),r=this.parser||this.Parser;return Ue("parse",r),r(String(t),t)}process(n,t){const r=this;return this.freeze(),Ue("process",this.parser||this.Parser),We("process",this.compiler||this.Compiler),t?a(void 0,t):new Promise(a);function a(i,s){const l=Ae(n),m=r.parse(l);r.run(m,l,function(c,k,x){if(c||!k||!x)return h(c);const p=k,P=r.stringify(p,x);Cn(P)?x.value=P:x.result=P,h(c,x)});function h(c,k){c||!k?s(c):i?i(k):(g(t,"`done` is defined if `resolve` is not"),t(void 0,k))}}}processSync(n){let t=!1,r;return this.freeze(),Ue("processSync",this.parser||this.Parser),We("processSync",this.compiler||this.Compiler),this.process(n,a),xt("processSync","process",t),g(r,"we either bailed on an error or have a tree"),r;function a(i,s){t=!0,ht(i),r=s}}run(n,t,r){gt(n),this.freeze();const a=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?i(void 0,r):new Promise(i);function i(s,l){g(typeof t!="function","`file` can’t be a `done` anymore, we checked");const m=Ae(t);a.run(n,m,h);function h(c,k,x){const p=k||n;c?l(c):s?s(p):(g(r,"`done` is defined if `resolve` is not"),r(void 0,p,x))}}}runSync(n,t){let r=!1,a;return this.run(n,t,i),xt("runSync","run",r),g(a,"we either bailed on an error or have a tree"),a;function i(s,l){ht(s),a=l,r=!0}}stringify(n,t){this.freeze();const r=Ae(t),a=this.compiler||this.Compiler;return We("stringify",a),gt(n),a(n,r)}use(n,...t){const r=this.attachers,a=this.namespace;if(ve("use",this.frozen),n!=null)if(typeof n=="function")m(n,t);else if(typeof n=="object")Array.isArray(n)?l(n):s(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function i(h){if(typeof h=="function")m(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[c,...k]=h;m(c,k)}else s(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function s(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(h.plugins),h.settings&&(a.settings=He(!0,a.settings,h.settings))}function l(h){let c=-1;if(h!=null)if(Array.isArray(h))for(;++c<h.length;){const k=h[c];i(k)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function m(h,c){let k=-1,x=-1;for(;++k<r.length;)if(r[k][0]===h){x=k;break}if(x===-1)r.push([h,...c]);else if(c.length>0){let[p,...P]=c;const I=r[x][1];Xe(I)&&Xe(p)&&(p=He(!0,I,p)),r[x]=[h,p,...P]}}}}const zn=new rt().freeze();function Ue(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function We(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ve(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function gt(e){if(!Xe(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function xt(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function Ae(e){return En(e)?e:new Sn(e)}function En(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Cn(e){return typeof e=="string"||Fn(e)}function Fn(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Mn={};function Pn(e,n){const t=Mn,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,a=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return At(e,r,a)}function At(e,n,t){if(An(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return kt(e.children,n,t)}return Array.isArray(e)?kt(e,n,t):""}function kt(e,n,t){const r=[];let a=-1;for(;++a<e.length;)r[a]=At(e[a],n,t);return r.join("")}function An(e){return!!(e&&typeof e=="object")}const o={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,ht:9,lf:10,vt:11,cr:13,space:32,exclamationMark:33,quotationMark:34,numberSign:35,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseX:88,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseX:120,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},T={atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupPunctuation:2,characterGroupWhitespace:1,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeContent:"content",contentTypeFlow:"flow",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlBasic:6,htmlCdata:5,htmlComment:2,htmlComplete:7,htmlDeclaration:4,htmlInstruction:3,htmlRawSizeMax:8,htmlRaw:1,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4},u={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},fe={ht:"	",lf:`
`,cr:"\r",space:" ",replacementCharacter:"�"};function se(e,n,t,r){const a=e.length;let i=0,s;if(n<0?n=-n>a?0:a+n:n=n>a?a:n,t=t>0?t:0,r.length<T.v8MaxSafeChunkSize)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);i<r.length;)s=r.slice(i,i+T.v8MaxSafeChunkSize),s.unshift(n,0),e.splice(...s),i+=T.v8MaxSafeChunkSize,n+=T.v8MaxSafeChunkSize}function re(e,n){return e.length>0?(se(e,e.length,0,n),e):n}const yt={}.hasOwnProperty;function Bn(e){const n={};let t=-1;for(;++t<e.length;)_n(n,e[t]);return n}function _n(e,n){let t;for(t in n){const a=(yt.call(e,t)?e[t]:void 0)||(e[t]={}),i=n[t];let s;if(i)for(s in i){yt.call(a,s)||(a[s]=[]);const l=i[s];Ln(a[s],Array.isArray(l)?l:l?[l]:[])}}}function Ln(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);se(e,0,0,r)}function Bt(e,n){const t=Number.parseInt(e,n);return t<o.ht||t===o.vt||t>o.cr&&t<o.space||t>o.tilde&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?fe.replacementCharacter:String.fromCodePoint(t)}function we(e){return e.replace(/[\t\n\r ]+/g,fe.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const oe=me(/[A-Za-z]/),ie=me(/[\dA-Za-z]/),qn=me(/[#-'*+\--9=?A-Z^-~]/);function Je(e){return e!==null&&(e<o.space||e===o.del)}const Ke=me(/\d/),Rn=me(/[\dA-Fa-f]/),Dn=me(/[!-/:-@[-`{-~]/);function F(e){return e!==null&&e<o.horizontalTab}function $(e){return e!==null&&(e<o.nul||e===o.space)}function q(e){return e===o.horizontalTab||e===o.virtualSpace||e===o.space}const On=me(new RegExp("\\p{P}|\\p{S}","u")),Nn=me(/\s/);function me(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function j(e,n,t,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(m){return q(m)?(e.enter(t),l(m)):n(m)}function l(m){return q(m)&&i++<a?(e.consume(m),l):(e.exit(t),n(m))}}const Hn={tokenize:Vn};function Vn(e){const n=e.attempt(this.parser.constructs.contentInitial,r,a);let t;return n;function r(l){if(g(l===o.eof||F(l),"expected eol or eof"),l===o.eof){e.consume(l);return}return e.enter(u.lineEnding),e.consume(l),e.exit(u.lineEnding),j(e,n,u.linePrefix)}function a(l){return g(l!==o.eof&&!F(l),"expected anything other than a line ending or EOF"),e.enter(u.paragraph),i(l)}function i(l){const m=e.enter(u.chunkText,{contentType:T.contentTypeText,previous:t});return t&&(t.next=m),t=m,s(l)}function s(l){if(l===o.eof){e.exit(u.chunkText),e.exit(u.paragraph),e.consume(l);return}return F(l)?(e.consume(l),e.exit(u.chunkText),i):(e.consume(l),s)}}const jn={tokenize:Qn},bt={tokenize:Un};function Qn(e){const n=this,t=[];let r=0,a,i,s;return l;function l(C){if(r<t.length){const R=t[r];return n.containerState=R[1],g(R[0].continuation,"expected `continuation` to be defined on container construct"),e.attempt(R[0].continuation,m,h)(C)}return h(C)}function m(C){if(g(n.containerState,"expected `containerState` to be defined after continuation"),r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,a&&_();const R=n.events.length;let H=R,S;for(;H--;)if(n.events[H][0]==="exit"&&n.events[H][1].type===u.chunkFlow){S=n.events[H][1].end;break}g(S,"could not find previous flow chunk"),w(r);let V=R;for(;V<n.events.length;)n.events[V][1].end={...S},V++;return se(n.events,H+1,0,n.events.slice(R)),n.events.length=V,h(C)}return l(C)}function h(C){if(r===t.length){if(!a)return x(C);if(a.currentConstruct&&a.currentConstruct.concrete)return P(C);n.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(bt,c,k)(C)}function c(C){return a&&_(),w(r),x(C)}function k(C){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,P(C)}function x(C){return n.containerState={},e.attempt(bt,p,P)(C)}function p(C){return g(n.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),g(n.containerState,"expected `containerState` to be defined on tokenizer"),r++,t.push([n.currentConstruct,n.containerState]),x(C)}function P(C){if(C===o.eof){a&&_(),w(0),e.consume(C);return}return a=a||n.parser.flow(n.now()),e.enter(u.chunkFlow,{_tokenizer:a,contentType:T.contentTypeFlow,previous:i}),I(C)}function I(C){if(C===o.eof){L(e.exit(u.chunkFlow),!0),w(0),e.consume(C);return}return F(C)?(e.consume(C),L(e.exit(u.chunkFlow)),r=0,n.interrupt=void 0,l):(e.consume(C),I)}function L(C,R){g(a,"expected `childFlow` to be defined when continuing");const H=n.sliceStream(C);if(R&&H.push(null),C.previous=i,i&&(i.next=C),i=C,a.defineSkip(C.start),a.write(H),n.parser.lazy[C.start.line]){let S=a.events.length;for(;S--;)if(a.events[S][1].start.offset<s&&(!a.events[S][1].end||a.events[S][1].end.offset>s))return;const V=n.events.length;let W=V,D,Q;for(;W--;)if(n.events[W][0]==="exit"&&n.events[W][1].type===u.chunkFlow){if(D){Q=n.events[W][1].end;break}D=!0}for(g(Q,"could not find previous flow chunk"),w(r),S=V;S<n.events.length;)n.events[S][1].end={...Q},S++;se(n.events,W+1,0,n.events.slice(V)),n.events.length=S}}function w(C){let R=t.length;for(;R-- >C;){const H=t[R];n.containerState=H[1],g(H[0].exit,"expected `exit` to be defined on container construct"),H[0].exit.call(n,e)}t.length=C}function _(){g(n.containerState,"expected `containerState` to be defined when closing flow"),g(a,"expected `childFlow` to be defined when closing it"),a.write([o.eof]),i=void 0,a=void 0,n.containerState._closeFlow=void 0}}function Un(e,n,t){return g(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),j(e,e.attempt(this.parser.constructs.document,n,t),u.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:T.tabSize)}function St(e){if(e===o.eof||$(e)||Nn(e))return T.characterGroupWhitespace;if(On(e))return T.characterGroupPunctuation}function it(e,n,t){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(n=i(n,t),r.push(i))}return n}const et={name:"attention",resolveAll:Wn,tokenize:vn};function Wn(e,n){let t=-1,r,a,i,s,l,m,h,c;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;m=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const k={...e[r][1].end},x={...e[t][1].start};wt(k,-m),wt(x,m),s={type:m>1?u.strongSequence:u.emphasisSequence,start:k,end:{...e[r][1].end}},l={type:m>1?u.strongSequence:u.emphasisSequence,start:{...e[t][1].start},end:x},i={type:m>1?u.strongText:u.emphasisText,start:{...e[r][1].end},end:{...e[t][1].start}},a={type:m>1?u.strong:u.emphasis,start:{...s.start},end:{...l.end}},e[r][1].end={...s.start},e[t][1].start={...l.end},h=[],e[r][1].end.offset-e[r][1].start.offset&&(h=re(h,[["enter",e[r][1],n],["exit",e[r][1],n]])),h=re(h,[["enter",a,n],["enter",s,n],["exit",s,n],["enter",i,n]]),g(n.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),h=re(h,it(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),h=re(h,[["exit",i,n],["enter",l,n],["exit",l,n],["exit",a,n]]),e[t][1].end.offset-e[t][1].start.offset?(c=2,h=re(h,[["enter",e[t][1],n],["exit",e[t][1],n]])):c=0,se(e,r-1,t-r+3,h),t=r+h.length-c-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function vn(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,a=St(r);let i;return s;function s(m){return g(m===o.asterisk||m===o.underscore,"expected asterisk or underscore"),i=m,e.enter("attentionSequence"),l(m)}function l(m){if(m===i)return e.consume(m),l;const h=e.exit("attentionSequence"),c=St(m);g(t,"expected `attentionMarkers` to be populated");const k=!c||c===T.characterGroupPunctuation&&a||t.includes(m),x=!a||a===T.characterGroupPunctuation&&c||t.includes(r);return h._open=!!(i===o.asterisk?k:k&&(a||!x)),h._close=!!(i===o.asterisk?x:x&&(c||!k)),n(m)}}function wt(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const Yn={name:"autolink",tokenize:Gn};function Gn(e,n,t){let r=0;return a;function a(p){return g(p===o.lessThan,"expected `<`"),e.enter(u.autolink),e.enter(u.autolinkMarker),e.consume(p),e.exit(u.autolinkMarker),e.enter(u.autolinkProtocol),i}function i(p){return oe(p)?(e.consume(p),s):p===o.atSign?t(p):h(p)}function s(p){return p===o.plusSign||p===o.dash||p===o.dot||ie(p)?(r=1,l(p)):h(p)}function l(p){return p===o.colon?(e.consume(p),r=0,m):(p===o.plusSign||p===o.dash||p===o.dot||ie(p))&&r++<T.autolinkSchemeSizeMax?(e.consume(p),l):(r=0,h(p))}function m(p){return p===o.greaterThan?(e.exit(u.autolinkProtocol),e.enter(u.autolinkMarker),e.consume(p),e.exit(u.autolinkMarker),e.exit(u.autolink),n):p===o.eof||p===o.space||p===o.lessThan||Je(p)?t(p):(e.consume(p),m)}function h(p){return p===o.atSign?(e.consume(p),c):qn(p)?(e.consume(p),h):t(p)}function c(p){return ie(p)?k(p):t(p)}function k(p){return p===o.dot?(e.consume(p),r=0,c):p===o.greaterThan?(e.exit(u.autolinkProtocol).type=u.autolinkEmail,e.enter(u.autolinkMarker),e.consume(p),e.exit(u.autolinkMarker),e.exit(u.autolink),n):x(p)}function x(p){if((p===o.dash||ie(p))&&r++<T.autolinkDomainSizeMax){const P=p===o.dash?x:k;return e.consume(p),P}return t(p)}}const qe={partial:!0,tokenize:Xn};function Xn(e,n,t){return r;function r(i){return q(i)?j(e,a,u.linePrefix)(i):a(i)}function a(i){return i===o.eof||F(i)?n(i):t(i)}}const _t={continuation:{tokenize:Zn},exit:Jn,name:"blockQuote",tokenize:$n};function $n(e,n,t){const r=this;return a;function a(s){if(s===o.greaterThan){const l=r.containerState;return g(l,"expected `containerState` to be defined in container"),l.open||(e.enter(u.blockQuote,{_container:!0}),l.open=!0),e.enter(u.blockQuotePrefix),e.enter(u.blockQuoteMarker),e.consume(s),e.exit(u.blockQuoteMarker),i}return t(s)}function i(s){return q(s)?(e.enter(u.blockQuotePrefixWhitespace),e.consume(s),e.exit(u.blockQuotePrefixWhitespace),e.exit(u.blockQuotePrefix),n):(e.exit(u.blockQuotePrefix),n(s))}}function Zn(e,n,t){const r=this;return a;function a(s){return q(s)?(g(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),j(e,i,u.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:T.tabSize)(s)):i(s)}function i(s){return e.attempt(_t,n,t)(s)}}function Jn(e){e.exit(u.blockQuote)}const Lt={name:"characterEscape",tokenize:Kn};function Kn(e,n,t){return r;function r(i){return g(i===o.backslash,"expected `\\`"),e.enter(u.characterEscape),e.enter(u.escapeMarker),e.consume(i),e.exit(u.escapeMarker),a}function a(i){return Dn(i)?(e.enter(u.characterEscapeValue),e.consume(i),e.exit(u.characterEscapeValue),e.exit(u.characterEscape),n):t(i)}}const qt={name:"characterReference",tokenize:er};function er(e,n,t){const r=this;let a=0,i,s;return l;function l(k){return g(k===o.ampersand,"expected `&`"),e.enter(u.characterReference),e.enter(u.characterReferenceMarker),e.consume(k),e.exit(u.characterReferenceMarker),m}function m(k){return k===o.numberSign?(e.enter(u.characterReferenceMarkerNumeric),e.consume(k),e.exit(u.characterReferenceMarkerNumeric),h):(e.enter(u.characterReferenceValue),i=T.characterReferenceNamedSizeMax,s=ie,c(k))}function h(k){return k===o.uppercaseX||k===o.lowercaseX?(e.enter(u.characterReferenceMarkerHexadecimal),e.consume(k),e.exit(u.characterReferenceMarkerHexadecimal),e.enter(u.characterReferenceValue),i=T.characterReferenceHexadecimalSizeMax,s=Rn,c):(e.enter(u.characterReferenceValue),i=T.characterReferenceDecimalSizeMax,s=Ke,c(k))}function c(k){if(k===o.semicolon&&a){const x=e.exit(u.characterReferenceValue);return s===ie&&!nt(r.sliceSerialize(x))?t(k):(e.enter(u.characterReferenceMarker),e.consume(k),e.exit(u.characterReferenceMarker),e.exit(u.characterReference),n)}return s(k)&&a++<i?(e.consume(k),c):t(k)}}const Tt={partial:!0,tokenize:nr},It={concrete:!0,name:"codeFenced",tokenize:tr};function tr(e,n,t){const r=this,a={partial:!0,tokenize:H};let i=0,s=0,l;return m;function m(S){return h(S)}function h(S){g(S===o.graveAccent||S===o.tilde,"expected `` ` `` or `~`");const V=r.events[r.events.length-1];return i=V&&V[1].type===u.linePrefix?V[2].sliceSerialize(V[1],!0).length:0,l=S,e.enter(u.codeFenced),e.enter(u.codeFencedFence),e.enter(u.codeFencedFenceSequence),c(S)}function c(S){return S===l?(s++,e.consume(S),c):s<T.codeFencedSequenceSizeMin?t(S):(e.exit(u.codeFencedFenceSequence),q(S)?j(e,k,u.whitespace)(S):k(S))}function k(S){return S===o.eof||F(S)?(e.exit(u.codeFencedFence),r.interrupt?n(S):e.check(Tt,I,R)(S)):(e.enter(u.codeFencedFenceInfo),e.enter(u.chunkString,{contentType:T.contentTypeString}),x(S))}function x(S){return S===o.eof||F(S)?(e.exit(u.chunkString),e.exit(u.codeFencedFenceInfo),k(S)):q(S)?(e.exit(u.chunkString),e.exit(u.codeFencedFenceInfo),j(e,p,u.whitespace)(S)):S===o.graveAccent&&S===l?t(S):(e.consume(S),x)}function p(S){return S===o.eof||F(S)?k(S):(e.enter(u.codeFencedFenceMeta),e.enter(u.chunkString,{contentType:T.contentTypeString}),P(S))}function P(S){return S===o.eof||F(S)?(e.exit(u.chunkString),e.exit(u.codeFencedFenceMeta),k(S)):S===o.graveAccent&&S===l?t(S):(e.consume(S),P)}function I(S){return g(F(S),"expected eol"),e.attempt(a,R,L)(S)}function L(S){return g(F(S),"expected eol"),e.enter(u.lineEnding),e.consume(S),e.exit(u.lineEnding),w}function w(S){return i>0&&q(S)?j(e,_,u.linePrefix,i+1)(S):_(S)}function _(S){return S===o.eof||F(S)?e.check(Tt,I,R)(S):(e.enter(u.codeFlowValue),C(S))}function C(S){return S===o.eof||F(S)?(e.exit(u.codeFlowValue),_(S)):(e.consume(S),C)}function R(S){return e.exit(u.codeFenced),n(S)}function H(S,V,W){let D=0;return Q;function Q(A){return g(F(A),"expected eol"),S.enter(u.lineEnding),S.consume(A),S.exit(u.lineEnding),ee}function ee(A){return g(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),S.enter(u.codeFencedFence),q(A)?j(S,N,u.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:T.tabSize)(A):N(A)}function N(A){return A===l?(S.enter(u.codeFencedFenceSequence),z(A)):W(A)}function z(A){return A===l?(D++,S.consume(A),z):D>=s?(S.exit(u.codeFencedFenceSequence),q(A)?j(S,M,u.whitespace)(A):M(A)):W(A)}function M(A){return A===o.eof||F(A)?(S.exit(u.codeFencedFence),V(A)):W(A)}}}function nr(e,n,t){const r=this;return a;function a(s){return s===o.eof?t(s):(g(F(s),"expected eol"),e.enter(u.lineEnding),e.consume(s),e.exit(u.lineEnding),i)}function i(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const Ye={name:"codeIndented",tokenize:ir},rr={partial:!0,tokenize:ar};function ir(e,n,t){const r=this;return a;function a(h){return g(q(h)),e.enter(u.codeIndented),j(e,i,u.linePrefix,T.tabSize+1)(h)}function i(h){const c=r.events[r.events.length-1];return c&&c[1].type===u.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=T.tabSize?s(h):t(h)}function s(h){return h===o.eof?m(h):F(h)?e.attempt(rr,s,m)(h):(e.enter(u.codeFlowValue),l(h))}function l(h){return h===o.eof||F(h)?(e.exit(u.codeFlowValue),s(h)):(e.consume(h),l)}function m(h){return e.exit(u.codeIndented),n(h)}}function ar(e,n,t){const r=this;return a;function a(s){return r.parser.lazy[r.now().line]?t(s):F(s)?(e.enter(u.lineEnding),e.consume(s),e.exit(u.lineEnding),a):j(e,i,u.linePrefix,T.tabSize+1)(s)}function i(s){const l=r.events[r.events.length-1];return l&&l[1].type===u.linePrefix&&l[2].sliceSerialize(l[1],!0).length>=T.tabSize?n(s):F(s)?a(s):t(s)}}const ur={name:"codeText",previous:Rt,resolve:or,tokenize:sr};function or(e){let n=e.length-4,t=3,r,a;if((e[t][1].type===u.lineEnding||e[t][1].type==="space")&&(e[n][1].type===u.lineEnding||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type===u.codeTextData){e[t][1].type=u.codeTextPadding,e[n][1].type=u.codeTextPadding,t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)a===void 0?r!==n&&e[r][1].type!==u.lineEnding&&(a=r):(r===n||e[r][1].type===u.lineEnding)&&(e[a][1].type=u.codeTextData,r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),n-=r-a-2,r=a+2),a=void 0);return e}function Rt(e){return e!==o.graveAccent||this.events[this.events.length-1][1].type===u.characterEscape}function sr(e,n,t){const r=this;let a=0,i,s;return l;function l(x){return g(x===o.graveAccent,"expected `` ` ``"),g(Rt.call(r,r.previous),"expected correct previous"),e.enter(u.codeText),e.enter(u.codeTextSequence),m(x)}function m(x){return x===o.graveAccent?(e.consume(x),a++,m):(e.exit(u.codeTextSequence),h(x))}function h(x){return x===o.eof?t(x):x===o.space?(e.enter("space"),e.consume(x),e.exit("space"),h):x===o.graveAccent?(s=e.enter(u.codeTextSequence),i=0,k(x)):F(x)?(e.enter(u.lineEnding),e.consume(x),e.exit(u.lineEnding),h):(e.enter(u.codeTextData),c(x))}function c(x){return x===o.eof||x===o.space||x===o.graveAccent||F(x)?(e.exit(u.codeTextData),h(x)):(e.consume(x),c)}function k(x){return x===o.graveAccent?(e.consume(x),i++,k):i===a?(e.exit(u.codeTextSequence),e.exit(u.codeText),n(x)):(s.type=u.codeTextData,c(x))}}class lr{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(n,r):n>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(n,t,r){const a=t||0;this.setCursor(Math.trunc(n));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Ee(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),Ee(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),Ee(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const t=this.left.splice(n,Number.POSITIVE_INFINITY);Ee(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);Ee(this.left,t.reverse())}}}function Ee(e,n){let t=0;if(n.length<T.v8MaxSafeChunkSize)e.push(...n);else for(;t<n.length;)e.push(...n.slice(t,t+T.v8MaxSafeChunkSize)),t+=T.v8MaxSafeChunkSize}function Dt(e){const n={};let t=-1,r,a,i,s,l,m,h;const c=new lr(e);for(;++t<c.length;){for(;t in n;)t=n[t];if(r=c.get(t),t&&r[1].type===u.chunkFlow&&c.get(t-1)[1].type===u.listItemPrefix&&(g(r[1]._tokenizer,"expected `_tokenizer` on subtokens"),m=r[1]._tokenizer.events,i=0,i<m.length&&m[i][1].type===u.lineEndingBlank&&(i+=2),i<m.length&&m[i][1].type===u.content))for(;++i<m.length&&m[i][1].type!==u.content;)m[i][1].type===u.chunkText&&(m[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,cr(c,t)),t=n[t],h=!0);else if(r[1]._container){for(i=t,a=void 0;i--;)if(s=c.get(i),s[1].type===u.lineEnding||s[1].type===u.lineEndingBlank)s[0]==="enter"&&(a&&(c.get(a)[1].type=u.lineEndingBlank),s[1].type=u.lineEnding,a=i);else if(!(s[1].type===u.linePrefix||s[1].type===u.listItemIndent))break;a&&(r[1].end={...c.get(a)[1].start},l=c.slice(a,t),l.unshift(r),c.splice(a,t-a+1,l))}}return se(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!h}function cr(e,n){const t=e.get(n)[1],r=e.get(n)[2];let a=n-1;const i=[];g(t.contentType,"expected `contentType` on subtokens");let s=t._tokenizer;s||(s=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,m=[],h={};let c,k,x=-1,p=t,P=0,I=0;const L=[I];for(;p;){for(;e.get(++a)[1]!==p;);g(!k||p.previous===k,"expected previous to match"),g(!k||k.next===p,"expected next to match"),i.push(a),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(o.eof),k&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),k=p,p=p.next}for(p=t;++x<l.length;)l[x][0]==="exit"&&l[x-1][0]==="enter"&&l[x][1].type===l[x-1][1].type&&l[x][1].start.line!==l[x][1].end.line&&(g(p,"expected a current token"),I=x+1,L.push(I),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0,g(!p.next,"expected no next token")):L.pop(),x=L.length;x--;){const w=l.slice(L[x],L[x+1]),_=i.pop();g(_!==void 0,"expected a start position when splicing"),m.push([_,_+w.length-1]),e.splice(_,2,w)}for(m.reverse(),x=-1;++x<m.length;)h[P+m[x][0]]=P+m[x][1],P+=m[x][1]-m[x][0]-1;return h}const hr={resolve:fr,tokenize:dr},pr={partial:!0,tokenize:mr};function fr(e){return Dt(e),e}function dr(e,n){let t;return r;function r(l){return g(l!==o.eof&&!F(l),"expected no eof or eol"),e.enter(u.content),t=e.enter(u.chunkContent,{contentType:T.contentTypeContent}),a(l)}function a(l){return l===o.eof?i(l):F(l)?e.check(pr,s,i)(l):(e.consume(l),a)}function i(l){return e.exit(u.chunkContent),e.exit(u.content),n(l)}function s(l){return g(F(l),"expected eol"),e.consume(l),e.exit(u.chunkContent),g(t,"expected previous token"),t.next=e.enter(u.chunkContent,{contentType:T.contentTypeContent,previous:t}),t=t.next,a}}function mr(e,n,t){const r=this;return a;function a(s){return g(F(s),"expected a line ending"),e.exit(u.chunkContent),e.enter(u.lineEnding),e.consume(s),e.exit(u.lineEnding),j(e,i,u.linePrefix)}function i(s){if(s===o.eof||F(s))return t(s);g(r.parser.constructs.disable.null,"expected `disable.null` to be populated");const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type===u.linePrefix&&l[2].sliceSerialize(l[1],!0).length>=T.tabSize?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function Ot(e,n,t,r,a,i,s,l,m){const h=m||Number.POSITIVE_INFINITY;let c=0;return k;function k(w){return w===o.lessThan?(e.enter(r),e.enter(a),e.enter(i),e.consume(w),e.exit(i),x):w===o.eof||w===o.space||w===o.rightParenthesis||Je(w)?t(w):(e.enter(r),e.enter(s),e.enter(l),e.enter(u.chunkString,{contentType:T.contentTypeString}),I(w))}function x(w){return w===o.greaterThan?(e.enter(i),e.consume(w),e.exit(i),e.exit(a),e.exit(r),n):(e.enter(l),e.enter(u.chunkString,{contentType:T.contentTypeString}),p(w))}function p(w){return w===o.greaterThan?(e.exit(u.chunkString),e.exit(l),x(w)):w===o.eof||w===o.lessThan||F(w)?t(w):(e.consume(w),w===o.backslash?P:p)}function P(w){return w===o.lessThan||w===o.greaterThan||w===o.backslash?(e.consume(w),p):p(w)}function I(w){return!c&&(w===o.eof||w===o.rightParenthesis||$(w))?(e.exit(u.chunkString),e.exit(l),e.exit(s),e.exit(r),n(w)):c<h&&w===o.leftParenthesis?(e.consume(w),c++,I):w===o.rightParenthesis?(e.consume(w),c--,I):w===o.eof||w===o.space||w===o.leftParenthesis||Je(w)?t(w):(e.consume(w),w===o.backslash?L:I)}function L(w){return w===o.leftParenthesis||w===o.rightParenthesis||w===o.backslash?(e.consume(w),I):I(w)}}function Nt(e,n,t,r,a,i){const s=this;let l=0,m;return h;function h(p){return g(p===o.leftSquareBracket,"expected `[`"),e.enter(r),e.enter(a),e.consume(p),e.exit(a),e.enter(i),c}function c(p){return l>T.linkReferenceSizeMax||p===o.eof||p===o.leftSquareBracket||p===o.rightSquareBracket&&!m||p===o.caret&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?t(p):p===o.rightSquareBracket?(e.exit(i),e.enter(a),e.consume(p),e.exit(a),e.exit(r),n):F(p)?(e.enter(u.lineEnding),e.consume(p),e.exit(u.lineEnding),c):(e.enter(u.chunkString,{contentType:T.contentTypeString}),k(p))}function k(p){return p===o.eof||p===o.leftSquareBracket||p===o.rightSquareBracket||F(p)||l++>T.linkReferenceSizeMax?(e.exit(u.chunkString),c(p)):(e.consume(p),m||(m=!q(p)),p===o.backslash?x:k)}function x(p){return p===o.leftSquareBracket||p===o.backslash||p===o.rightSquareBracket?(e.consume(p),l++,k):k(p)}}function Ht(e,n,t,r,a,i){let s;return l;function l(x){return x===o.quotationMark||x===o.apostrophe||x===o.leftParenthesis?(e.enter(r),e.enter(a),e.consume(x),e.exit(a),s=x===o.leftParenthesis?o.rightParenthesis:x,m):t(x)}function m(x){return x===s?(e.enter(a),e.consume(x),e.exit(a),e.exit(r),n):(e.enter(i),h(x))}function h(x){return x===s?(e.exit(i),m(s)):x===o.eof?t(x):F(x)?(e.enter(u.lineEnding),e.consume(x),e.exit(u.lineEnding),j(e,h,u.linePrefix)):(e.enter(u.chunkString,{contentType:T.contentTypeString}),c(x))}function c(x){return x===s||x===o.eof||F(x)?(e.exit(u.chunkString),h(x)):(e.consume(x),x===o.backslash?k:c)}function k(x){return x===s||x===o.backslash?(e.consume(x),c):c(x)}}function Ce(e,n){let t;return r;function r(a){return F(a)?(e.enter(u.lineEnding),e.consume(a),e.exit(u.lineEnding),t=!0,r):q(a)?j(e,r,t?u.linePrefix:u.lineSuffix)(a):n(a)}}const gr={name:"definition",tokenize:kr},xr={partial:!0,tokenize:yr};function kr(e,n,t){const r=this;let a;return i;function i(p){return e.enter(u.definition),s(p)}function s(p){return g(p===o.leftSquareBracket,"expected `[`"),Nt.call(r,e,l,t,u.definitionLabel,u.definitionLabelMarker,u.definitionLabelString)(p)}function l(p){return a=we(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===o.colon?(e.enter(u.definitionMarker),e.consume(p),e.exit(u.definitionMarker),m):t(p)}function m(p){return $(p)?Ce(e,h)(p):h(p)}function h(p){return Ot(e,c,t,u.definitionDestination,u.definitionDestinationLiteral,u.definitionDestinationLiteralMarker,u.definitionDestinationRaw,u.definitionDestinationString)(p)}function c(p){return e.attempt(xr,k,k)(p)}function k(p){return q(p)?j(e,x,u.whitespace)(p):x(p)}function x(p){return p===o.eof||F(p)?(e.exit(u.definition),r.parser.defined.push(a),n(p)):t(p)}}function yr(e,n,t){return r;function r(l){return $(l)?Ce(e,a)(l):t(l)}function a(l){return Ht(e,i,t,u.definitionTitle,u.definitionTitleMarker,u.definitionTitleString)(l)}function i(l){return q(l)?j(e,s,u.whitespace)(l):s(l)}function s(l){return l===o.eof||F(l)?n(l):t(l)}}const br={name:"hardBreakEscape",tokenize:Sr};function Sr(e,n,t){return r;function r(i){return g(i===o.backslash,"expected `\\`"),e.enter(u.hardBreakEscape),e.consume(i),a}function a(i){return F(i)?(e.exit(u.hardBreakEscape),n(i)):t(i)}}const wr={name:"headingAtx",resolve:Tr,tokenize:Ir};function Tr(e,n){let t=e.length-2,r=3,a,i;return e[r][1].type===u.whitespace&&(r+=2),t-2>r&&e[t][1].type===u.whitespace&&(t-=2),e[t][1].type===u.atxHeadingSequence&&(r===t-1||t-4>r&&e[t-2][1].type===u.whitespace)&&(t-=r+1===t?2:4),t>r&&(a={type:u.atxHeadingText,start:e[r][1].start,end:e[t][1].end},i={type:u.chunkText,start:e[r][1].start,end:e[t][1].end,contentType:T.contentTypeText},se(e,r,t-r+1,[["enter",a,n],["enter",i,n],["exit",i,n],["exit",a,n]])),e}function Ir(e,n,t){let r=0;return a;function a(c){return e.enter(u.atxHeading),i(c)}function i(c){return g(c===o.numberSign,"expected `#`"),e.enter(u.atxHeadingSequence),s(c)}function s(c){return c===o.numberSign&&r++<T.atxHeadingOpeningFenceSizeMax?(e.consume(c),s):c===o.eof||$(c)?(e.exit(u.atxHeadingSequence),l(c)):t(c)}function l(c){return c===o.numberSign?(e.enter(u.atxHeadingSequence),m(c)):c===o.eof||F(c)?(e.exit(u.atxHeading),n(c)):q(c)?j(e,l,u.whitespace)(c):(e.enter(u.atxHeadingText),h(c))}function m(c){return c===o.numberSign?(e.consume(c),m):(e.exit(u.atxHeadingSequence),l(c))}function h(c){return c===o.eof||c===o.numberSign||$(c)?(e.exit(u.atxHeadingText),l(c)):(e.consume(c),h)}}const zr=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zt=["pre","script","style","textarea"],Er={concrete:!0,name:"htmlFlow",resolveTo:Mr,tokenize:Pr},Cr={partial:!0,tokenize:Br},Fr={partial:!0,tokenize:Ar};function Mr(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type===u.htmlFlow););return n>1&&e[n-2][1].type===u.linePrefix&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function Pr(e,n,t){const r=this;let a,i,s,l,m;return h;function h(d){return c(d)}function c(d){return g(d===o.lessThan,"expected `<`"),e.enter(u.htmlFlow),e.enter(u.htmlFlowData),e.consume(d),k}function k(d){return d===o.exclamationMark?(e.consume(d),x):d===o.slash?(e.consume(d),i=!0,I):d===o.questionMark?(e.consume(d),a=T.htmlInstruction,r.interrupt?n:f):oe(d)?(g(d!==null),e.consume(d),s=String.fromCharCode(d),L):t(d)}function x(d){return d===o.dash?(e.consume(d),a=T.htmlComment,p):d===o.leftSquareBracket?(e.consume(d),a=T.htmlCdata,l=0,P):oe(d)?(e.consume(d),a=T.htmlDeclaration,r.interrupt?n:f):t(d)}function p(d){return d===o.dash?(e.consume(d),r.interrupt?n:f):t(d)}function P(d){const J=T.cdataOpeningString;return d===J.charCodeAt(l++)?(e.consume(d),l===J.length?r.interrupt?n:N:P):t(d)}function I(d){return oe(d)?(g(d!==null),e.consume(d),s=String.fromCharCode(d),L):t(d)}function L(d){if(d===o.eof||d===o.slash||d===o.greaterThan||$(d)){const J=d===o.slash,ge=s.toLowerCase();return!J&&!i&&zt.includes(ge)?(a=T.htmlRaw,r.interrupt?n(d):N(d)):zr.includes(s.toLowerCase())?(a=T.htmlBasic,J?(e.consume(d),w):r.interrupt?n(d):N(d)):(a=T.htmlComplete,r.interrupt&&!r.parser.lazy[r.now().line]?t(d):i?_(d):C(d))}return d===o.dash||ie(d)?(e.consume(d),s+=String.fromCharCode(d),L):t(d)}function w(d){return d===o.greaterThan?(e.consume(d),r.interrupt?n:N):t(d)}function _(d){return q(d)?(e.consume(d),_):Q(d)}function C(d){return d===o.slash?(e.consume(d),Q):d===o.colon||d===o.underscore||oe(d)?(e.consume(d),R):q(d)?(e.consume(d),C):Q(d)}function R(d){return d===o.dash||d===o.dot||d===o.colon||d===o.underscore||ie(d)?(e.consume(d),R):H(d)}function H(d){return d===o.equalsTo?(e.consume(d),S):q(d)?(e.consume(d),H):C(d)}function S(d){return d===o.eof||d===o.lessThan||d===o.equalsTo||d===o.greaterThan||d===o.graveAccent?t(d):d===o.quotationMark||d===o.apostrophe?(e.consume(d),m=d,V):q(d)?(e.consume(d),S):W(d)}function V(d){return d===m?(e.consume(d),m=null,D):d===o.eof||F(d)?t(d):(e.consume(d),V)}function W(d){return d===o.eof||d===o.quotationMark||d===o.apostrophe||d===o.slash||d===o.lessThan||d===o.equalsTo||d===o.greaterThan||d===o.graveAccent||$(d)?H(d):(e.consume(d),W)}function D(d){return d===o.slash||d===o.greaterThan||q(d)?C(d):t(d)}function Q(d){return d===o.greaterThan?(e.consume(d),ee):t(d)}function ee(d){return d===o.eof||F(d)?N(d):q(d)?(e.consume(d),ee):t(d)}function N(d){return d===o.dash&&a===T.htmlComment?(e.consume(d),U):d===o.lessThan&&a===T.htmlRaw?(e.consume(d),v):d===o.greaterThan&&a===T.htmlDeclaration?(e.consume(d),ne):d===o.questionMark&&a===T.htmlInstruction?(e.consume(d),f):d===o.rightSquareBracket&&a===T.htmlCdata?(e.consume(d),ae):F(d)&&(a===T.htmlBasic||a===T.htmlComplete)?(e.exit(u.htmlFlowData),e.check(Cr,le,z)(d)):d===o.eof||F(d)?(e.exit(u.htmlFlowData),z(d)):(e.consume(d),N)}function z(d){return e.check(Fr,M,le)(d)}function M(d){return g(F(d)),e.enter(u.lineEnding),e.consume(d),e.exit(u.lineEnding),A}function A(d){return d===o.eof||F(d)?z(d):(e.enter(u.htmlFlowData),N(d))}function U(d){return d===o.dash?(e.consume(d),f):N(d)}function v(d){return d===o.slash?(e.consume(d),s="",te):N(d)}function te(d){if(d===o.greaterThan){const J=s.toLowerCase();return zt.includes(J)?(e.consume(d),ne):N(d)}return oe(d)&&s.length<T.htmlRawSizeMax?(g(d!==null),e.consume(d),s+=String.fromCharCode(d),te):N(d)}function ae(d){return d===o.rightSquareBracket?(e.consume(d),f):N(d)}function f(d){return d===o.greaterThan?(e.consume(d),ne):d===o.dash&&a===T.htmlComment?(e.consume(d),f):N(d)}function ne(d){return d===o.eof||F(d)?(e.exit(u.htmlFlowData),le(d)):(e.consume(d),ne)}function le(d){return e.exit(u.htmlFlow),n(d)}}function Ar(e,n,t){const r=this;return a;function a(s){return F(s)?(e.enter(u.lineEnding),e.consume(s),e.exit(u.lineEnding),i):t(s)}function i(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function Br(e,n,t){return r;function r(a){return g(F(a),"expected a line ending"),e.enter(u.lineEnding),e.consume(a),e.exit(u.lineEnding),e.attempt(qe,n,t)}}const _r={name:"htmlText",tokenize:Lr};function Lr(e,n,t){const r=this;let a,i,s;return l;function l(f){return g(f===o.lessThan,"expected `<`"),e.enter(u.htmlText),e.enter(u.htmlTextData),e.consume(f),m}function m(f){return f===o.exclamationMark?(e.consume(f),h):f===o.slash?(e.consume(f),H):f===o.questionMark?(e.consume(f),C):oe(f)?(e.consume(f),W):t(f)}function h(f){return f===o.dash?(e.consume(f),c):f===o.leftSquareBracket?(e.consume(f),i=0,P):oe(f)?(e.consume(f),_):t(f)}function c(f){return f===o.dash?(e.consume(f),p):t(f)}function k(f){return f===o.eof?t(f):f===o.dash?(e.consume(f),x):F(f)?(s=k,v(f)):(e.consume(f),k)}function x(f){return f===o.dash?(e.consume(f),p):k(f)}function p(f){return f===o.greaterThan?U(f):f===o.dash?x(f):k(f)}function P(f){const ne=T.cdataOpeningString;return f===ne.charCodeAt(i++)?(e.consume(f),i===ne.length?I:P):t(f)}function I(f){return f===o.eof?t(f):f===o.rightSquareBracket?(e.consume(f),L):F(f)?(s=I,v(f)):(e.consume(f),I)}function L(f){return f===o.rightSquareBracket?(e.consume(f),w):I(f)}function w(f){return f===o.greaterThan?U(f):f===o.rightSquareBracket?(e.consume(f),w):I(f)}function _(f){return f===o.eof||f===o.greaterThan?U(f):F(f)?(s=_,v(f)):(e.consume(f),_)}function C(f){return f===o.eof?t(f):f===o.questionMark?(e.consume(f),R):F(f)?(s=C,v(f)):(e.consume(f),C)}function R(f){return f===o.greaterThan?U(f):C(f)}function H(f){return oe(f)?(e.consume(f),S):t(f)}function S(f){return f===o.dash||ie(f)?(e.consume(f),S):V(f)}function V(f){return F(f)?(s=V,v(f)):q(f)?(e.consume(f),V):U(f)}function W(f){return f===o.dash||ie(f)?(e.consume(f),W):f===o.slash||f===o.greaterThan||$(f)?D(f):t(f)}function D(f){return f===o.slash?(e.consume(f),U):f===o.colon||f===o.underscore||oe(f)?(e.consume(f),Q):F(f)?(s=D,v(f)):q(f)?(e.consume(f),D):U(f)}function Q(f){return f===o.dash||f===o.dot||f===o.colon||f===o.underscore||ie(f)?(e.consume(f),Q):ee(f)}function ee(f){return f===o.equalsTo?(e.consume(f),N):F(f)?(s=ee,v(f)):q(f)?(e.consume(f),ee):D(f)}function N(f){return f===o.eof||f===o.lessThan||f===o.equalsTo||f===o.greaterThan||f===o.graveAccent?t(f):f===o.quotationMark||f===o.apostrophe?(e.consume(f),a=f,z):F(f)?(s=N,v(f)):q(f)?(e.consume(f),N):(e.consume(f),M)}function z(f){return f===a?(e.consume(f),a=void 0,A):f===o.eof?t(f):F(f)?(s=z,v(f)):(e.consume(f),z)}function M(f){return f===o.eof||f===o.quotationMark||f===o.apostrophe||f===o.lessThan||f===o.equalsTo||f===o.graveAccent?t(f):f===o.slash||f===o.greaterThan||$(f)?D(f):(e.consume(f),M)}function A(f){return f===o.slash||f===o.greaterThan||$(f)?D(f):t(f)}function U(f){return f===o.greaterThan?(e.consume(f),e.exit(u.htmlTextData),e.exit(u.htmlText),n):t(f)}function v(f){return g(s,"expected return state"),g(F(f),"expected eol"),e.exit(u.htmlTextData),e.enter(u.lineEnding),e.consume(f),e.exit(u.lineEnding),te}function te(f){return g(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),q(f)?j(e,ae,u.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:T.tabSize)(f):ae(f)}function ae(f){return e.enter(u.htmlTextData),s(f)}}const at={name:"labelEnd",resolveAll:Or,resolveTo:Nr,tokenize:Hr},qr={tokenize:Vr},Rr={tokenize:jr},Dr={tokenize:Qr};function Or(e){let n=-1;const t=[];for(;++n<e.length;){const r=e[n][1];if(t.push(e[n]),r.type===u.labelImage||r.type===u.labelLink||r.type===u.labelEnd){const a=r.type===u.labelImage?4:2;r.type=u.data,n+=a}}return e.length!==t.length&&se(e,0,e.length,t),e}function Nr(e,n){let t=e.length,r=0,a,i,s,l;for(;t--;)if(a=e[t][1],i){if(a.type===u.link||a.type===u.labelLink&&a._inactive)break;e[t][0]==="enter"&&a.type===u.labelLink&&(a._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(a.type===u.labelImage||a.type===u.labelLink)&&!a._balanced&&(i=t,a.type!==u.labelLink)){r=2;break}}else a.type===u.labelEnd&&(s=t);g(i!==void 0,"`open` is supposed to be found"),g(s!==void 0,"`close` is supposed to be found");const m={type:e[i][1].type===u.labelLink?u.link:u.image,start:{...e[i][1].start},end:{...e[e.length-1][1].end}},h={type:u.label,start:{...e[i][1].start},end:{...e[s][1].end}},c={type:u.labelText,start:{...e[i+r+2][1].end},end:{...e[s-2][1].start}};return l=[["enter",m,n],["enter",h,n]],l=re(l,e.slice(i+1,i+r+3)),l=re(l,[["enter",c,n]]),g(n.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),l=re(l,it(n.parser.constructs.insideSpan.null,e.slice(i+r+4,s-3),n)),l=re(l,[["exit",c,n],e[s-2],e[s-1],["exit",h,n]]),l=re(l,e.slice(s+1)),l=re(l,[["exit",m,n]]),se(e,i,e.length,l),e}function Hr(e,n,t){const r=this;let a=r.events.length,i,s;for(;a--;)if((r.events[a][1].type===u.labelImage||r.events[a][1].type===u.labelLink)&&!r.events[a][1]._balanced){i=r.events[a][1];break}return l;function l(x){return g(x===o.rightSquareBracket,"expected `]`"),i?i._inactive?k(x):(s=r.parser.defined.includes(we(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter(u.labelEnd),e.enter(u.labelMarker),e.consume(x),e.exit(u.labelMarker),e.exit(u.labelEnd),m):t(x)}function m(x){return x===o.leftParenthesis?e.attempt(qr,c,s?c:k)(x):x===o.leftSquareBracket?e.attempt(Rr,c,s?h:k)(x):s?c(x):k(x)}function h(x){return e.attempt(Dr,c,k)(x)}function c(x){return n(x)}function k(x){return i._balanced=!0,t(x)}}function Vr(e,n,t){return r;function r(k){return g(k===o.leftParenthesis,"expected left paren"),e.enter(u.resource),e.enter(u.resourceMarker),e.consume(k),e.exit(u.resourceMarker),a}function a(k){return $(k)?Ce(e,i)(k):i(k)}function i(k){return k===o.rightParenthesis?c(k):Ot(e,s,l,u.resourceDestination,u.resourceDestinationLiteral,u.resourceDestinationLiteralMarker,u.resourceDestinationRaw,u.resourceDestinationString,T.linkResourceDestinationBalanceMax)(k)}function s(k){return $(k)?Ce(e,m)(k):c(k)}function l(k){return t(k)}function m(k){return k===o.quotationMark||k===o.apostrophe||k===o.leftParenthesis?Ht(e,h,t,u.resourceTitle,u.resourceTitleMarker,u.resourceTitleString)(k):c(k)}function h(k){return $(k)?Ce(e,c)(k):c(k)}function c(k){return k===o.rightParenthesis?(e.enter(u.resourceMarker),e.consume(k),e.exit(u.resourceMarker),e.exit(u.resource),n):t(k)}}function jr(e,n,t){const r=this;return a;function a(l){return g(l===o.leftSquareBracket,"expected left bracket"),Nt.call(r,e,i,s,u.reference,u.referenceMarker,u.referenceString)(l)}function i(l){return r.parser.defined.includes(we(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(l):t(l)}function s(l){return t(l)}}function Qr(e,n,t){return r;function r(i){return g(i===o.leftSquareBracket,"expected left bracket"),e.enter(u.reference),e.enter(u.referenceMarker),e.consume(i),e.exit(u.referenceMarker),a}function a(i){return i===o.rightSquareBracket?(e.enter(u.referenceMarker),e.consume(i),e.exit(u.referenceMarker),e.exit(u.reference),n):t(i)}}const Ur={name:"labelStartImage",resolveAll:at.resolveAll,tokenize:Wr};function Wr(e,n,t){const r=this;return a;function a(l){return g(l===o.exclamationMark,"expected `!`"),e.enter(u.labelImage),e.enter(u.labelImageMarker),e.consume(l),e.exit(u.labelImageMarker),i}function i(l){return l===o.leftSquareBracket?(e.enter(u.labelMarker),e.consume(l),e.exit(u.labelMarker),e.exit(u.labelImage),s):t(l)}function s(l){return l===o.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const vr={name:"labelStartLink",resolveAll:at.resolveAll,tokenize:Yr};function Yr(e,n,t){const r=this;return a;function a(s){return g(s===o.leftSquareBracket,"expected `[`"),e.enter(u.labelLink),e.enter(u.labelMarker),e.consume(s),e.exit(u.labelMarker),e.exit(u.labelLink),i}function i(s){return s===o.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const Ge={name:"lineEnding",tokenize:Gr};function Gr(e,n){return t;function t(r){return g(F(r),"expected eol"),e.enter(u.lineEnding),e.consume(r),e.exit(u.lineEnding),j(e,n,u.linePrefix)}}const _e={name:"thematicBreak",tokenize:Xr};function Xr(e,n,t){let r=0,a;return i;function i(h){return e.enter(u.thematicBreak),s(h)}function s(h){return g(h===o.asterisk||h===o.dash||h===o.underscore,"expected `*`, `-`, or `_`"),a=h,l(h)}function l(h){return h===a?(e.enter(u.thematicBreakSequence),m(h)):r>=T.thematicBreakMarkerCountMin&&(h===o.eof||F(h))?(e.exit(u.thematicBreak),n(h)):t(h)}function m(h){return h===a?(e.consume(h),r++,m):(e.exit(u.thematicBreakSequence),q(h)?j(e,l,u.whitespace)(h):l(h))}}const X={continuation:{tokenize:Kr},exit:ti,name:"list",tokenize:Jr},$r={partial:!0,tokenize:ni},Zr={partial:!0,tokenize:ei};function Jr(e,n,t){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type===u.linePrefix?a[2].sliceSerialize(a[1],!0).length:0,s=0;return l;function l(p){g(r.containerState,"expected state");const P=r.containerState.type||(p===o.asterisk||p===o.plusSign||p===o.dash?u.listUnordered:u.listOrdered);if(P===u.listUnordered?!r.containerState.marker||p===r.containerState.marker:Ke(p)){if(r.containerState.type||(r.containerState.type=P,e.enter(P,{_container:!0})),P===u.listUnordered)return e.enter(u.listItemPrefix),p===o.asterisk||p===o.dash?e.check(_e,t,h)(p):h(p);if(!r.interrupt||p===o.digit1)return e.enter(u.listItemPrefix),e.enter(u.listItemValue),m(p)}return t(p)}function m(p){return g(r.containerState,"expected state"),Ke(p)&&++s<T.listItemValueSizeMax?(e.consume(p),m):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===o.rightParenthesis||p===o.dot)?(e.exit(u.listItemValue),h(p)):t(p)}function h(p){return g(r.containerState,"expected state"),g(p!==o.eof,"eof (`null`) is not a marker"),e.enter(u.listItemMarker),e.consume(p),e.exit(u.listItemMarker),r.containerState.marker=r.containerState.marker||p,e.check(qe,r.interrupt?t:c,e.attempt($r,x,k))}function c(p){return g(r.containerState,"expected state"),r.containerState.initialBlankLine=!0,i++,x(p)}function k(p){return q(p)?(e.enter(u.listItemPrefixWhitespace),e.consume(p),e.exit(u.listItemPrefixWhitespace),x):t(p)}function x(p){return g(r.containerState,"expected state"),r.containerState.size=i+r.sliceSerialize(e.exit(u.listItemPrefix),!0).length,n(p)}}function Kr(e,n,t){const r=this;return g(r.containerState,"expected state"),r.containerState._closeFlow=void 0,e.check(qe,a,i);function a(l){return g(r.containerState,"expected state"),g(typeof r.containerState.size=="number","expected size"),r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,j(e,n,u.listItemIndent,r.containerState.size+1)(l)}function i(l){return g(r.containerState,"expected state"),r.containerState.furtherBlankLines||!q(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Zr,n,s)(l))}function s(l){return g(r.containerState,"expected state"),r.containerState._closeFlow=!0,r.interrupt=void 0,g(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),j(e,e.attempt(X,n,t),u.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:T.tabSize)(l)}}function ei(e,n,t){const r=this;return g(r.containerState,"expected state"),g(typeof r.containerState.size=="number","expected size"),j(e,a,u.listItemIndent,r.containerState.size+1);function a(i){g(r.containerState,"expected state");const s=r.events[r.events.length-1];return s&&s[1].type===u.listItemIndent&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(i):t(i)}}function ti(e){g(this.containerState,"expected state"),g(typeof this.containerState.type=="string","expected type"),e.exit(this.containerState.type)}function ni(e,n,t){const r=this;return g(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),j(e,a,u.listItemPrefixWhitespace,r.parser.constructs.disable.null.includes("codeIndented")?void 0:T.tabSize+1);function a(i){const s=r.events[r.events.length-1];return!q(i)&&s&&s[1].type===u.listItemPrefixWhitespace?n(i):t(i)}}const Et={name:"setextUnderline",resolveTo:ri,tokenize:ii};function ri(e,n){let t=e.length,r,a,i;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type===u.content){r=t;break}e[t][1].type===u.paragraph&&(a=t)}else e[t][1].type===u.content&&e.splice(t,1),!i&&e[t][1].type===u.definition&&(i=t);g(a!==void 0,"expected a `text` index to be found"),g(r!==void 0,"expected a `text` index to be found"),g(e[r][2]===n,"enter context should be same"),g(e[e.length-1][2]===n,"enter context should be same");const s={type:u.setextHeading,start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type=u.setextHeadingText,i?(e.splice(a,0,["enter",s,n]),e.splice(i+1,0,["exit",e[r][1],n]),e[r][1].end={...e[i][1].end}):e[r][1]=s,e.push(["exit",s,n]),e}function ii(e,n,t){const r=this;let a;return i;function i(h){let c=r.events.length,k;for(g(h===o.dash||h===o.equalsTo,"expected `=` or `-`");c--;)if(r.events[c][1].type!==u.lineEnding&&r.events[c][1].type!==u.linePrefix&&r.events[c][1].type!==u.content){k=r.events[c][1].type===u.paragraph;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||k)?(e.enter(u.setextHeadingLine),a=h,s(h)):t(h)}function s(h){return e.enter(u.setextHeadingLineSequence),l(h)}function l(h){return h===a?(e.consume(h),l):(e.exit(u.setextHeadingLineSequence),q(h)?j(e,m,u.lineSuffix)(h):m(h))}function m(h){return h===o.eof||F(h)?(e.exit(u.setextHeadingLine),n(h)):t(h)}}const ai={tokenize:ui};function ui(e){const n=this,t=e.attempt(qe,r,e.attempt(this.parser.constructs.flowInitial,a,j(e,e.attempt(this.parser.constructs.flow,a,e.attempt(hr,a)),u.linePrefix)));return t;function r(i){if(g(i===o.eof||F(i),"expected eol or eof"),i===o.eof){e.consume(i);return}return e.enter(u.lineEndingBlank),e.consume(i),e.exit(u.lineEndingBlank),n.currentConstruct=void 0,t}function a(i){if(g(i===o.eof||F(i),"expected eol or eof"),i===o.eof){e.consume(i);return}return e.enter(u.lineEnding),e.consume(i),e.exit(u.lineEnding),n.currentConstruct=void 0,t}}const oi={resolveAll:jt()},si=Vt("string"),li=Vt("text");function Vt(e){return{resolveAll:jt(e==="text"?ci:void 0),tokenize:n};function n(t){const r=this,a=this.parser.constructs[e],i=t.attempt(a,s,l);return s;function s(c){return h(c)?i(c):l(c)}function l(c){if(c===o.eof){t.consume(c);return}return t.enter(u.data),t.consume(c),m}function m(c){return h(c)?(t.exit(u.data),i(c)):(t.consume(c),m)}function h(c){if(c===o.eof)return!0;const k=a[c];let x=-1;if(k)for(g(Array.isArray(k),"expected `disable.null` to be populated");++x<k.length;){const p=k[x];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function jt(e){return n;function n(t,r){let a=-1,i;for(;++a<=t.length;)i===void 0?t[a]&&t[a][1].type===u.data&&(i=a,a++):(!t[a]||t[a][1].type!==u.data)&&(a!==i+2&&(t[i][1].end=t[a-1][1].end,t.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(t,r):t}}function ci(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type===u.lineEnding)&&e[t-1][1].type===u.data){const r=e[t-1][1],a=n.sliceStream(r);let i=a.length,s=-1,l=0,m;for(;i--;){const h=a[i];if(typeof h=="string"){for(s=h.length;h.charCodeAt(s-1)===o.space;)l++,s--;if(s)break;s=-1}else if(h===o.horizontalTab)m=!0,l++;else if(h!==o.virtualSpace){i++;break}}if(n._contentTypeTextTrailing&&t===e.length&&(l=0),l){const h={type:t===e.length||m||l<T.hardBreakPrefixSizeMin?u.lineSuffix:u.hardBreakTrailing,start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(e.splice(t,0,["enter",h,n],["exit",h,n]),t+=2)}t++}return e}const hi={[o.asterisk]:X,[o.plusSign]:X,[o.dash]:X,[o.digit0]:X,[o.digit1]:X,[o.digit2]:X,[o.digit3]:X,[o.digit4]:X,[o.digit5]:X,[o.digit6]:X,[o.digit7]:X,[o.digit8]:X,[o.digit9]:X,[o.greaterThan]:_t},pi={[o.leftSquareBracket]:gr},fi={[o.horizontalTab]:Ye,[o.virtualSpace]:Ye,[o.space]:Ye},di={[o.numberSign]:wr,[o.asterisk]:_e,[o.dash]:[Et,_e],[o.lessThan]:Er,[o.equalsTo]:Et,[o.underscore]:_e,[o.graveAccent]:It,[o.tilde]:It},mi={[o.ampersand]:qt,[o.backslash]:Lt},gi={[o.carriageReturn]:Ge,[o.lineFeed]:Ge,[o.carriageReturnLineFeed]:Ge,[o.exclamationMark]:Ur,[o.ampersand]:qt,[o.asterisk]:et,[o.lessThan]:[Yn,_r],[o.leftSquareBracket]:vr,[o.backslash]:[br,Lt],[o.rightSquareBracket]:at,[o.underscore]:et,[o.graveAccent]:ur},xi={null:[et,oi]},ki={null:[o.asterisk,o.underscore]},yi={null:[]},bi=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ki,contentInitial:pi,disable:yi,document:hi,flow:di,flowInitial:fi,insideSpan:xi,string:mi,text:gi},Symbol.toStringTag,{value:"Module"})),ye=nn("micromark");function Si(e,n,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const a={},i=[];let s=[],l=[],m=!0;const h={attempt:D(V),check:D(W),consume:R,enter:H,exit:S,interrupt:D(W,{interrupt:!0})},c={code:o.eof,containerState:{},defineSkip:w,events:[],now:L,parser:e,previous:o.eof,sliceSerialize:P,sliceStream:I,write:p};let k=n.tokenize.call(c,h),x;return n.resolveAll&&i.push(n),c;function p(z){return s=re(s,z),_(),s[s.length-1]!==o.eof?[]:(Q(n,0),c.events=it(i,c.events,c),c.events)}function P(z,M){return Ti(I(z),M)}function I(z){return wi(s,z)}function L(){const{_bufferIndex:z,_index:M,line:A,column:U,offset:v}=r;return{_bufferIndex:z,_index:M,line:A,column:U,offset:v}}function w(z){a[z.line]=z.column,N(),ye("position: define skip: `%j`",r)}function _(){let z;for(;r._index<s.length;){const M=s[r._index];if(typeof M=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<M.length;)C(M.charCodeAt(r._bufferIndex));else C(M)}}function C(z){g(m===!0,"expected character to be consumed"),m=void 0,ye("main: passing `%s` to %s",z,k&&k.name),x=z,g(typeof k=="function","expected state"),k=k(z)}function R(z){g(z===x,"expected given code to equal expected code"),ye("consume: `%s`",z),g(m===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),g(z===null?c.events.length===0||c.events[c.events.length-1][0]==="exit":c.events[c.events.length-1][0]==="enter","expected last token to be open"),F(z)?(r.line++,r.column=1,r.offset+=z===o.carriageReturnLineFeed?2:1,N(),ye("position: after eol: `%j`",r)):z!==o.virtualSpace&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=z,m=!0}function H(z,M){const A=M||{};return A.type=z,A.start=L(),g(typeof z=="string","expected string type"),g(z.length>0,"expected non-empty string"),ye("enter: `%s`",z),c.events.push(["enter",A,c]),l.push(A),A}function S(z){g(typeof z=="string","expected string type"),g(z.length>0,"expected non-empty string");const M=l.pop();return g(M,"cannot close w/o open tokens"),M.end=L(),g(z===M.type,"expected exit token to match current token"),g(!(M.start._index===M.end._index&&M.start._bufferIndex===M.end._bufferIndex),"expected non-empty token (`"+z+"`)"),ye("exit: `%s`",M.type),c.events.push(["exit",M,c]),M}function V(z,M){Q(z,M.from)}function W(z,M){M.restore()}function D(z,M){return A;function A(U,v,te){let ae,f,ne,le;return Array.isArray(U)?J(U):"tokenize"in U?J([U]):d(U);function d(Y){return Te;function Te(ce){const xe=ce!==null&&Y[ce],be=ce!==null&&Y.null,De=[...Array.isArray(xe)?xe:xe?[xe]:[],...Array.isArray(be)?be:be?[be]:[]];return J(De)(ce)}}function J(Y){return ae=Y,f=0,Y.length===0?(g(te,"expected `bogusState` to be given"),te):ge(Y[f])}function ge(Y){return Te;function Te(ce){return le=ee(),ne=Y,Y.partial||(c.currentConstruct=Y),g(c.parser.constructs.disable.null,"expected `disable.null` to be populated"),Y.name&&c.parser.constructs.disable.null.includes(Y.name)?Me(ce):Y.tokenize.call(M?Object.assign(Object.create(c),M):c,h,Re,Me)(ce)}}function Re(Y){return g(Y===x,"expected code"),m=!0,z(ne,le),v}function Me(Y){return g(Y===x,"expected code"),m=!0,le.restore(),++f<ae.length?ge(ae[f]):te}}}function Q(z,M){z.resolveAll&&!i.includes(z)&&i.push(z),z.resolve&&se(c.events,M,c.events.length-M,z.resolve(c.events.slice(M),c)),z.resolveTo&&(c.events=z.resolveTo(c.events,c)),g(z.partial||c.events.length===0||c.events[c.events.length-1][0]==="exit","expected last token to end")}function ee(){const z=L(),M=c.previous,A=c.currentConstruct,U=c.events.length,v=Array.from(l);return{from:U,restore:te};function te(){r=z,c.previous=M,c.currentConstruct=A,c.events.length=U,l=v,N(),ye("position: restore: `%j`",r)}}function N(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function wi(e,n){const t=n.start._index,r=n.start._bufferIndex,a=n.end._index,i=n.end._bufferIndex;let s;if(t===a)g(i>-1,"expected non-negative end buffer index"),g(r>-1,"expected non-negative start buffer index"),s=[e[t].slice(r,i)];else{if(s=e.slice(t,a),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):(g(r===0,"expected `startBufferIndex` to be `0`"),s.shift())}i>0&&s.push(e[a].slice(0,i))}return s}function Ti(e,n){let t=-1;const r=[];let a;for(;++t<e.length;){const i=e[t];let s;if(typeof i=="string")s=i;else switch(i){case o.carriageReturn:{s=fe.cr;break}case o.lineFeed:{s=fe.lf;break}case o.carriageReturnLineFeed:{s=fe.cr+fe.lf;break}case o.horizontalTab:{s=n?fe.space:fe.ht;break}case o.virtualSpace:{if(!n&&a)continue;s=fe.space;break}default:g(typeof i=="number","expected number"),s=String.fromCharCode(i)}a=i===o.horizontalTab,r.push(s)}return r.join("")}function Ii(e){const r={constructs:Bn([bi,...(e||{}).extensions||[]]),content:a(Hn),defined:[],document:a(jn),flow:a(ai),lazy:{},string:a(si),text:a(li)};return r;function a(i){return s;function s(l){return Si(r,i,l)}}}function zi(e){for(;!Dt(e););return e}const Ct=/[\0\t\n\r]/g;function Ei(){let e=1,n="",t=!0,r;return a;function a(i,s,l){const m=[];let h,c,k,x,p;for(i=n+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),k=0,n="",t&&(i.charCodeAt(0)===o.byteOrderMarker&&k++,t=void 0);k<i.length;){if(Ct.lastIndex=k,h=Ct.exec(i),x=h&&h.index!==void 0?h.index:i.length,p=i.charCodeAt(x),!h){n=i.slice(k);break}if(p===o.lf&&k===x&&r)m.push(o.carriageReturnLineFeed),r=void 0;else switch(r&&(m.push(o.carriageReturn),r=void 0),k<x&&(m.push(i.slice(k,x)),e+=x-k),p){case o.nul:{m.push(o.replacementCharacter),e++;break}case o.ht:{for(c=Math.ceil(e/T.tabSize)*T.tabSize,m.push(o.horizontalTab);e++<c;)m.push(o.virtualSpace);break}case o.lf:{m.push(o.lineFeed),e=1;break}default:r=!0,e=1}k=x+1}return l&&(r&&m.push(o.carriageReturn),n&&m.push(n),m.push(o.eof)),m}}const Ci=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Fi(e){return e.replace(Ci,Mi)}function Mi(e,n,t){if(n)return n;if(t.charCodeAt(0)===o.numberSign){const a=t.charCodeAt(1),i=a===o.lowercaseX||a===o.uppercaseX;return Bt(t.slice(i?2:1),i?T.numericBaseHexadecimal:T.numericBaseDecimal)}return nt(t)||e}function Le(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ft(e.position):"start"in e||"end"in e?Ft(e):"line"in e||"column"in e?tt(e):""}function tt(e){return Mt(e&&e.line)+":"+Mt(e&&e.column)}function Ft(e){return tt(e&&e.start)+"-"+tt(e&&e.end)}function Mt(e){return e&&typeof e=="number"?e:1}const Qt={}.hasOwnProperty;function Pi(e,n,t){return typeof n!="string"&&(t=n,n=void 0),Ai(t)(zi(Ii(t).document().write(Ei()(e,n,!0))))}function Ai(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(lt),autolinkProtocol:D,autolinkEmail:D,atxHeading:i(ut),blockQuote:i(ce),characterEscape:D,characterReference:D,codeFenced:i(xe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(xe,s),codeText:i(be,s),codeTextData:D,data:D,codeFlowValue:D,definition:i(De),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(Wt),hardBreakEscape:i(ot),hardBreakTrailing:i(ot),htmlFlow:i(st,s),htmlFlowData:D,htmlText:i(st,s),htmlTextData:D,image:i(vt),label:s,link:i(lt),listItem:i(Yt),listItemValue:x,listOrdered:i(ct,k),listUnordered:i(ct),paragraph:i(Gt),reference:d,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(ut),strong:i(Xt),thematicBreak:i(Zt)},exit:{atxHeading:m(),atxHeadingSequence:H,autolink:m(),autolinkEmail:Te,autolinkProtocol:Y,blockQuote:m(),characterEscapeValue:Q,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:Re,characterReference:Me,codeFenced:m(L),codeFencedFence:I,codeFencedFenceInfo:p,codeFencedFenceMeta:P,codeFlowValue:Q,codeIndented:m(w),codeText:m(A),codeTextData:Q,data:Q,definition:m(),definitionDestinationString:R,definitionLabelString:_,definitionTitleString:C,emphasis:m(),hardBreakEscape:m(N),hardBreakTrailing:m(N),htmlFlow:m(z),htmlFlowData:Q,htmlText:m(M),htmlTextData:Q,image:m(v),label:ae,labelText:te,lineEnding:ee,link:m(U),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:J,resourceDestinationString:f,resourceTitleString:ne,resource:le,setextHeading:m(W),setextHeadingLineSequence:V,setextHeadingText:S,strong:m(),thematicBreak:m()}};Ut(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(y){let b={type:"root",children:[]};const E={stack:[b],tokenStack:[],config:n,enter:l,exit:h,buffer:s,resume:c,data:t},B=[];let O=-1;for(;++O<y.length;)if(y[O][1].type===u.listOrdered||y[O][1].type===u.listUnordered)if(y[O][0]==="enter")B.push(O);else{const G=B.pop();g(typeof G=="number","expected list ot be open"),O=a(y,G,O)}for(O=-1;++O<y.length;){const G=n[y[O][0]];Qt.call(G,y[O][1].type)&&G[y[O][1].type].call(Object.assign({sliceSerialize:y[O][2].sliceSerialize},E),y[O][1])}if(E.tokenStack.length>0){const G=E.tokenStack[E.tokenStack.length-1];(G[1]||Pt).call(E,void 0,G[0])}for(b.position={start:de(y.length>0?y[0][1].start:{line:1,column:1,offset:0}),end:de(y.length>0?y[y.length-2][1].end:{line:1,column:1,offset:0})},O=-1;++O<n.transforms.length;)b=n.transforms[O](b)||b;return b}function a(y,b,E){let B=b-1,O=-1,G=!1,ke,he,Ie,ze;for(;++B<=E;){const K=y[B];switch(K[1].type){case u.listUnordered:case u.listOrdered:case u.blockQuote:{K[0]==="enter"?O++:O--,ze=void 0;break}case u.lineEndingBlank:{K[0]==="enter"&&(ke&&!ze&&!O&&!Ie&&(Ie=B),ze=void 0);break}case u.linePrefix:case u.listItemValue:case u.listItemMarker:case u.listItemPrefix:case u.listItemPrefixWhitespace:break;default:ze=void 0}if(!O&&K[0]==="enter"&&K[1].type===u.listItemPrefix||O===-1&&K[0]==="exit"&&(K[1].type===u.listUnordered||K[1].type===u.listOrdered)){if(ke){let Se=B;for(he=void 0;Se--;){const pe=y[Se];if(pe[1].type===u.lineEnding||pe[1].type===u.lineEndingBlank){if(pe[0]==="exit")continue;he&&(y[he][1].type=u.lineEndingBlank,G=!0),pe[1].type=u.lineEnding,he=Se}else if(!(pe[1].type===u.linePrefix||pe[1].type===u.blockQuotePrefix||pe[1].type===u.blockQuotePrefixWhitespace||pe[1].type===u.blockQuoteMarker||pe[1].type===u.listItemIndent))break}Ie&&(!he||Ie<he)&&(ke._spread=!0),ke.end=Object.assign({},he?y[he][1].start:K[1].end),y.splice(he||B,0,["exit",ke,K[2]]),B++,E++}if(K[1].type===u.listItemPrefix){const Se={type:"listItem",_spread:!1,start:Object.assign({},K[1].start),end:void 0};ke=Se,y.splice(B,0,["enter",Se,K[2]]),B++,E++,Ie=void 0,ze=!0}}}return y[b][1]._spread=G,E}function i(y,b){return E;function E(B){l.call(this,y(B),B),b&&b.call(this,B)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(y,b,E){const B=this.stack[this.stack.length-1];g(B,"expected `parent`"),g("children"in B,"expected `parent`"),B.children.push(y),this.stack.push(y),this.tokenStack.push([b,E||void 0]),y.position={start:de(b.start),end:void 0}}function m(y){return b;function b(E){y&&y.call(this,E),h.call(this,E)}}function h(y,b){const E=this.stack.pop();g(E,"expected `node`");const B=this.tokenStack.pop();if(B)B[0].type!==y.type&&(b?b.call(this,y,B[0]):(B[1]||Pt).call(this,y,B[0]));else throw new Error("Cannot close `"+y.type+"` ("+Le({start:y.start,end:y.end})+"): it’s not open");g(E.type!=="fragment","unexpected fragment `exit`ed"),g(E.position,"expected `position` to be defined"),E.position.end=de(y.end)}function c(){return Pn(this.stack.pop())}function k(){this.data.expectingFirstListItemValue=!0}function x(y){if(this.data.expectingFirstListItemValue){const b=this.stack[this.stack.length-2];g(b,"expected nodes on stack"),g(b.type==="list","expected list on stack"),b.start=Number.parseInt(this.sliceSerialize(y),T.numericBaseDecimal),this.data.expectingFirstListItemValue=void 0}}function p(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="code","expected code on stack"),b.lang=y}function P(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="code","expected code on stack"),b.meta=y}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function L(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="code","expected code on stack"),b.value=y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="code","expected code on stack"),b.value=y.replace(/(\r?\n|\r)$/g,"")}function _(y){const b=this.resume(),E=this.stack[this.stack.length-1];g(E,"expected node on stack"),g(E.type==="definition","expected definition on stack"),E.label=b,E.identifier=we(this.sliceSerialize(y)).toLowerCase()}function C(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="definition","expected definition on stack"),b.title=y}function R(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="definition","expected definition on stack"),b.url=y}function H(y){const b=this.stack[this.stack.length-1];if(g(b,"expected node on stack"),g(b.type==="heading","expected heading on stack"),!b.depth){const E=this.sliceSerialize(y).length;g(E===1||E===2||E===3||E===4||E===5||E===6,"expected `depth` between `1` and `6`"),b.depth=E}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function V(y){const b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="heading","expected heading on stack"),b.depth=this.sliceSerialize(y).codePointAt(0)===o.equalsTo?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function D(y){const b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g("children"in b,"expected parent on stack");const E=b.children;let B=E[E.length-1];(!B||B.type!=="text")&&(B=$t(),B.position={start:de(y.start),end:void 0},E.push(B)),this.stack.push(B)}function Q(y){const b=this.stack.pop();g(b,"expected a `node` to be on the stack"),g("value"in b,"expected a `literal` to be on the stack"),g(b.position,"expected `node` to have an open position"),b.value+=this.sliceSerialize(y),b.position.end=de(y.end)}function ee(y){const b=this.stack[this.stack.length-1];if(g(b,"expected `node`"),this.data.atHardBreak){g("children"in b,"expected `parent`");const E=b.children[b.children.length-1];g(E.position,"expected tail to have a starting position"),E.position.end=de(y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(b.type)&&(D.call(this,y),Q.call(this,y))}function N(){this.data.atHardBreak=!0}function z(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="html","expected html on stack"),b.value=y}function M(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="html","expected html on stack"),b.value=y}function A(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="inlineCode","expected inline code on stack"),b.value=y}function U(){const y=this.stack[this.stack.length-1];if(g(y,"expected node on stack"),g(y.type==="link","expected link on stack"),this.data.inReference){const b=this.data.referenceType||"shortcut";y.type+="Reference",y.referenceType=b,delete y.url,delete y.title}else delete y.identifier,delete y.label;this.data.referenceType=void 0}function v(){const y=this.stack[this.stack.length-1];if(g(y,"expected node on stack"),g(y.type==="image","expected image on stack"),this.data.inReference){const b=this.data.referenceType||"shortcut";y.type+="Reference",y.referenceType=b,delete y.url,delete y.title}else delete y.identifier,delete y.label;this.data.referenceType=void 0}function te(y){const b=this.sliceSerialize(y),E=this.stack[this.stack.length-2];g(E,"expected ancestor on stack"),g(E.type==="image"||E.type==="link","expected image or link on stack"),E.label=Fi(b),E.identifier=we(b).toLowerCase()}function ae(){const y=this.stack[this.stack.length-1];g(y,"expected node on stack"),g(y.type==="fragment","expected fragment on stack");const b=this.resume(),E=this.stack[this.stack.length-1];if(g(E,"expected node on stack"),g(E.type==="image"||E.type==="link","expected image or link on stack"),this.data.inReference=!0,E.type==="link"){const B=y.children;E.children=B}else E.alt=b}function f(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="image"||b.type==="link","expected image or link on stack"),b.url=y}function ne(){const y=this.resume(),b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="image"||b.type==="link","expected image or link on stack"),b.title=y}function le(){this.data.inReference=void 0}function d(){this.data.referenceType="collapsed"}function J(y){const b=this.resume(),E=this.stack[this.stack.length-1];g(E,"expected node on stack"),g(E.type==="image"||E.type==="link","expected image reference or link reference on stack"),E.label=b,E.identifier=we(this.sliceSerialize(y)).toLowerCase(),this.data.referenceType="full"}function ge(y){g(y.type==="characterReferenceMarkerNumeric"||y.type==="characterReferenceMarkerHexadecimal"),this.data.characterReferenceType=y.type}function Re(y){const b=this.sliceSerialize(y),E=this.data.characterReferenceType;let B;if(E)B=Bt(b,E===u.characterReferenceMarkerNumeric?T.numericBaseDecimal:T.numericBaseHexadecimal),this.data.characterReferenceType=void 0;else{const G=nt(b);g(G!==!1,"expected reference to decode"),B=G}const O=this.stack[this.stack.length-1];g(O,"expected `node`"),g("value"in O,"expected `node.value`"),O.value+=B}function Me(y){const b=this.stack.pop();g(b,"expected `node`"),g(b.position,"expected `node.position`"),b.position.end=de(y.end)}function Y(y){Q.call(this,y);const b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="link","expected link on stack"),b.url=this.sliceSerialize(y)}function Te(y){Q.call(this,y);const b=this.stack[this.stack.length-1];g(b,"expected node on stack"),g(b.type==="link","expected link on stack"),b.url="mailto:"+this.sliceSerialize(y)}function ce(){return{type:"blockquote",children:[]}}function xe(){return{type:"code",lang:null,meta:null,value:""}}function be(){return{type:"inlineCode",value:""}}function De(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Wt(){return{type:"emphasis",children:[]}}function ut(){return{type:"heading",depth:0,children:[]}}function ot(){return{type:"break"}}function st(){return{type:"html",value:""}}function vt(){return{type:"image",title:null,url:"",alt:null}}function lt(){return{type:"link",title:null,url:"",children:[]}}function ct(y){return{type:"list",ordered:y.type==="listOrdered",start:null,spread:y._spread,children:[]}}function Yt(y){return{type:"listItem",spread:y._spread,checked:null,children:[]}}function Gt(){return{type:"paragraph",children:[]}}function Xt(){return{type:"strong",children:[]}}function $t(){return{type:"text",value:""}}function Zt(){return{type:"thematicBreak"}}}function de(e){return{line:e.line,column:e.column,offset:e.offset}}function Ut(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?Ut(e,r):Bi(e,r)}}function Bi(e,n){let t;for(t in n)if(Qt.call(n,t))switch(t){case"canContainEols":{const r=n[t];r&&e[t].push(...r);break}case"transforms":{const r=n[t];r&&e[t].push(...r);break}case"enter":case"exit":{const r=n[t];r&&Object.assign(e[t],r);break}}}function Pt(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Le({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Le({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Le({start:n.start,end:n.end})+") is still open")}function _i(e){const n=this;n.parser=t;function t(r){return Pi(r,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}const Be=e=>{let n="";const t=r=>{if(r.type==="text"||r.type==="inlineCode"||r.type==="code"){n+=r.value;return}if(r.type==="link"){n+=`${r.url}`;return}r.children&&r.children.length>0&&r.children.forEach(a=>{t(a)})};return t(e),n},Li=(e,n)=>{if(e.type==="heading"){const t=e.depth;for(let r=t-1;r>=0;r--)if(n[`${r}`])return n[`${r}`]}return n[0]},Oi=(e,n)=>{var x,p,P;const r=zn().use(_i).parse(e);let a=!1;const i=(x=r.children)==null?void 0:x.find(I=>{if(I.type==="heading")return I});i&&((p=r.children)==null?void 0:p.filter(I=>I.type==="heading"&&i&&I.depth===i.depth).length)===1&&(a=!0);const s=Be(i),m=Pe(n||a&&s||"中心主题",{layout:tn.right});m.isRoot=!0,m.type="mindmap";const h={0:m};let c=m;const k=(I,L=!1)=>{var w;if(!(a&&!n&&I===i))if(I.type==="heading"){const _=Li(I,h),C=Be(I);if(!C)return;const R=Pe(C,{});_.children.push(R),h[`${I.depth}`]=R,c=R}else if(I.type==="list")(w=I.children)==null||w.forEach(_=>{k(_)});else if(I.type==="listItem"){if(I.children&&I.children.length>1){const R=c;I.children.forEach((H,S)=>{k(H,S===0)}),c=R;return}const _=Be(I);if(!_)return;const C=Pe(_,{});c.children.push(C)}else{const _=Be(I);if(!_)return;const C=Pe(_,{});c.children.push(C),L&&(c=C)}};return(P=r.children)==null||P.forEach(I=>{k(I)}),m};export{Li as getParentMindNode,Be as getTextFromNode,Oi as parseMarkdownToDrawnix};
