const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CbZlvb4d.js","assets/browser-_ca9S3D6.js"])))=>i.map(i=>d[i]);
function m$(e,n){for(var r=0;r<n.length;r++){const i=n[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var KC={exports:{}},uv={},qC={exports:{}},Sg={exports:{}};Sg.exports;var k2;function v$(){return k2||(k2=1,function(e,n){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var r="18.3.1",i=Symbol.for("react.element"),o=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),S=Symbol.iterator,T="@@iterator";function C(O){if(O===null||typeof O!="object")return null;var K=S&&O[S]||O[T];return typeof K=="function"?K:null}var B={current:null},P={transition:null},I={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},z={current:null},Y={},te=null;function re(O){te=O}Y.setExtraStackFrame=function(O){te=O},Y.getCurrentStack=null,Y.getStackAddendum=function(){var O="";te&&(O+=te);var K=Y.getCurrentStack;return K&&(O+=K()||""),O};var ae=!1,ce=!1,ne=!1,Q=!1,le=!1,G={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:P,ReactCurrentOwner:z};G.ReactDebugCurrentFrame=Y,G.ReactCurrentActQueue=I;function R(O){{for(var K=arguments.length,ye=new Array(K>1?K-1:0),Ee=1;Ee<K;Ee++)ye[Ee-1]=arguments[Ee];H("warn",O,ye)}}function k(O){{for(var K=arguments.length,ye=new Array(K>1?K-1:0),Ee=1;Ee<K;Ee++)ye[Ee-1]=arguments[Ee];H("error",O,ye)}}function H(O,K,ye){{var Ee=G.ReactDebugCurrentFrame,He=Ee.getStackAddendum();He!==""&&(K+="%s",ye=ye.concat([He]));var xt=ye.map(function(rt){return String(rt)});xt.unshift("Warning: "+K),Function.prototype.apply.call(console[O],console,xt)}}var _={};function X(O,K){{var ye=O.constructor,Ee=ye&&(ye.displayName||ye.name)||"ReactClass",He=Ee+"."+K;if(_[He])return;k("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",K,Ee),_[He]=!0}}var U={isMounted:function(O){return!1},enqueueForceUpdate:function(O,K,ye){X(O,"forceUpdate")},enqueueReplaceState:function(O,K,ye,Ee){X(O,"replaceState")},enqueueSetState:function(O,K,ye,Ee){X(O,"setState")}},ie=Object.assign,q={};Object.freeze(q);function ue(O,K,ye){this.props=O,this.context=K,this.refs=q,this.updater=ye||U}ue.prototype.isReactComponent={},ue.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ue.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};{var xe={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},fe=function(O,K){Object.defineProperty(ue.prototype,O,{get:function(){R("%s(...) is deprecated in plain JavaScript React classes. %s",K[0],K[1])}})};for(var Te in xe)xe.hasOwnProperty(Te)&&fe(Te,xe[Te])}function ke(){}ke.prototype=ue.prototype;function Z(O,K,ye){this.props=O,this.context=K,this.refs=q,this.updater=ye||U}var de=Z.prototype=new ke;de.constructor=Z,ie(de,ue.prototype),de.isPureReactComponent=!0;function me(){var O={current:null};return Object.seal(O),O}var Ce=Array.isArray;function $e(O){return Ce(O)}function Pe(O){{var K=typeof Symbol=="function"&&Symbol.toStringTag,ye=K&&O[Symbol.toStringTag]||O.constructor.name||"Object";return ye}}function ot(O){try{return je(O),!1}catch{return!0}}function je(O){return""+O}function Ie(O){if(ot(O))return k("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Pe(O)),je(O)}function ht(O,K,ye){var Ee=O.displayName;if(Ee)return Ee;var He=K.displayName||K.name||"";return He!==""?ye+"("+He+")":ye}function Je(O){return O.displayName||"Context"}function Dt(O){if(O==null)return null;if(typeof O.tag=="number"&&k("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O;switch(O){case u:return"Fragment";case o:return"Portal";case c:return"Profiler";case l:return"StrictMode";case m:return"Suspense";case v:return"SuspenseList"}if(typeof O=="object")switch(O.$$typeof){case h:var K=O;return Je(K)+".Consumer";case d:var ye=O;return Je(ye._context)+".Provider";case p:return ht(O,O.render,"ForwardRef");case w:var Ee=O.displayName||null;return Ee!==null?Ee:Dt(O.type)||"Memo";case b:{var He=O,xt=He._payload,rt=He._init;try{return Dt(rt(xt))}catch{return null}}}return null}var ft=Object.prototype.hasOwnProperty,Rt={key:!0,ref:!0,__self:!0,__source:!0},pn,rr,rn;rn={};function Wn(O){if(ft.call(O,"ref")){var K=Object.getOwnPropertyDescriptor(O,"ref").get;if(K&&K.isReactWarning)return!1}return O.ref!==void 0}function Jn(O){if(ft.call(O,"key")){var K=Object.getOwnPropertyDescriptor(O,"key").get;if(K&&K.isReactWarning)return!1}return O.key!==void 0}function kn(O,K){var ye=function(){pn||(pn=!0,k("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",K))};ye.isReactWarning=!0,Object.defineProperty(O,"key",{get:ye,configurable:!0})}function Tn(O,K){var ye=function(){rr||(rr=!0,k("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",K))};ye.isReactWarning=!0,Object.defineProperty(O,"ref",{get:ye,configurable:!0})}function _e(O){if(typeof O.ref=="string"&&z.current&&O.__self&&z.current.stateNode!==O.__self){var K=Dt(z.current.type);rn[K]||(k('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',K,O.ref),rn[K]=!0)}}var at=function(O,K,ye,Ee,He,xt,rt){var Ot={$$typeof:i,type:O,key:K,ref:ye,props:rt,_owner:xt};return Ot._store={},Object.defineProperty(Ot._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ot,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Ee}),Object.defineProperty(Ot,"_source",{configurable:!1,enumerable:!1,writable:!1,value:He}),Object.freeze&&(Object.freeze(Ot.props),Object.freeze(Ot)),Ot};function Gt(O,K,ye){var Ee,He={},xt=null,rt=null,Ot=null,Qt=null;if(K!=null){Wn(K)&&(rt=K.ref,_e(K)),Jn(K)&&(Ie(K.key),xt=""+K.key),Ot=K.__self===void 0?null:K.__self,Qt=K.__source===void 0?null:K.__source;for(Ee in K)ft.call(K,Ee)&&!Rt.hasOwnProperty(Ee)&&(He[Ee]=K[Ee])}var xn=arguments.length-2;if(xn===1)He.children=ye;else if(xn>1){for(var Ln=Array(xn),In=0;In<xn;In++)Ln[In]=arguments[In+2];Object.freeze&&Object.freeze(Ln),He.children=Ln}if(O&&O.defaultProps){var Xt=O.defaultProps;for(Ee in Xt)He[Ee]===void 0&&(He[Ee]=Xt[Ee])}if(xt||rt){var Yn=typeof O=="function"?O.displayName||O.name||"Unknown":O;xt&&kn(He,Yn),rt&&Tn(He,Yn)}return at(O,xt,rt,Ot,Qt,z.current,He)}function fn(O,K){var ye=at(O.type,K,O.ref,O._self,O._source,O._owner,O.props);return ye}function Pn(O,K,ye){if(O==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ee,He=ie({},O.props),xt=O.key,rt=O.ref,Ot=O._self,Qt=O._source,xn=O._owner;if(K!=null){Wn(K)&&(rt=K.ref,xn=z.current),Jn(K)&&(Ie(K.key),xt=""+K.key);var Ln;O.type&&O.type.defaultProps&&(Ln=O.type.defaultProps);for(Ee in K)ft.call(K,Ee)&&!Rt.hasOwnProperty(Ee)&&(K[Ee]===void 0&&Ln!==void 0?He[Ee]=Ln[Ee]:He[Ee]=K[Ee])}var In=arguments.length-2;if(In===1)He.children=ye;else if(In>1){for(var Xt=Array(In),Yn=0;Yn<In;Yn++)Xt[Yn]=arguments[Yn+2];He.children=Xt}return at(O.type,xt,rt,Ot,Qt,xn,He)}function Gn(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}var Mn=".",mr=":";function ir(O){var K=/[=:]/g,ye={"=":"=0",":":"=2"},Ee=O.replace(K,function(He){return ye[He]});return"$"+Ee}var Nn=!1,or=/\/+/g;function jo(O){return O.replace(or,"$&/")}function zo(O,K){return typeof O=="object"&&O!==null&&O.key!=null?(Ie(O.key),ir(""+O.key)):K.toString(36)}function Co(O,K,ye,Ee,He){var xt=typeof O;(xt==="undefined"||xt==="boolean")&&(O=null);var rt=!1;if(O===null)rt=!0;else switch(xt){case"string":case"number":rt=!0;break;case"object":switch(O.$$typeof){case i:case o:rt=!0}}if(rt){var Ot=O,Qt=He(Ot),xn=Ee===""?Mn+zo(Ot,0):Ee;if($e(Qt)){var Ln="";xn!=null&&(Ln=jo(xn)+"/"),Co(Qt,K,Ln,"",function(Xy){return Xy})}else Qt!=null&&(Gn(Qt)&&(Qt.key&&(!Ot||Ot.key!==Qt.key)&&Ie(Qt.key),Qt=fn(Qt,ye+(Qt.key&&(!Ot||Ot.key!==Qt.key)?jo(""+Qt.key)+"/":"")+xn)),K.push(Qt));return 1}var In,Xt,Yn=0,fr=Ee===""?Mn:Ee+mr;if($e(O))for(var ol=0;ol<O.length;ol++)In=O[ol],Xt=fr+zo(In,ol),Yn+=Co(In,K,ye,Xt,He);else{var Vd=C(O);if(typeof Vd=="function"){var ra=O;Vd===ra.entries&&(Nn||R("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Nn=!0);for(var jd=Vd.call(ra),zd,Wy=0;!(zd=jd.next()).done;)In=zd.value,Xt=fr+zo(In,Wy++),Yn+=Co(In,K,ye,Xt,He)}else if(xt==="object"){var am=String(O);throw new Error("Objects are not valid as a React child (found: "+(am==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":am)+"). If you meant to render a collection of children, use an array instead.")}}return Yn}function ea(O,K,ye){if(O==null)return O;var Ee=[],He=0;return Co(O,Ee,"","",function(xt){return K.call(ye,xt,He++)}),Ee}function Td(O){var K=0;return ea(O,function(){K++}),K}function Ku(O,K,ye){ea(O,function(){K.apply(this,arguments)},ye)}function Ec(O){return ea(O,function(K){return K})||[]}function Dc(O){if(!Gn(O))throw new Error("React.Children.only expected to receive a single React element child.");return O}function qu(O){var K={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};K.Provider={$$typeof:d,_context:K};var ye=!1,Ee=!1,He=!1;{var xt={$$typeof:h,_context:K};Object.defineProperties(xt,{Provider:{get:function(){return Ee||(Ee=!0,k("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),K.Provider},set:function(rt){K.Provider=rt}},_currentValue:{get:function(){return K._currentValue},set:function(rt){K._currentValue=rt}},_currentValue2:{get:function(){return K._currentValue2},set:function(rt){K._currentValue2=rt}},_threadCount:{get:function(){return K._threadCount},set:function(rt){K._threadCount=rt}},Consumer:{get:function(){return ye||(ye=!0,k("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),K.Consumer}},displayName:{get:function(){return K.displayName},set:function(rt){He||(R("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",rt),He=!0)}}}),K.Consumer=xt}return K._currentRenderer=null,K._currentRenderer2=null,K}var $o=-1,Eo=0,to=1,xs=2;function Zu(O){if(O._status===$o){var K=O._result,ye=K();if(ye.then(function(xt){if(O._status===Eo||O._status===$o){var rt=O;rt._status=to,rt._result=xt}},function(xt){if(O._status===Eo||O._status===$o){var rt=O;rt._status=xs,rt._result=xt}}),O._status===$o){var Ee=O;Ee._status=Eo,Ee._result=ye}}if(O._status===to){var He=O._result;return He===void 0&&k(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,He),"default"in He||k(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,He),He.default}else throw O._result}function ee(O){var K={_status:$o,_result:O},ye={$$typeof:b,_payload:K,_init:Zu};{var Ee,He;Object.defineProperties(ye,{defaultProps:{configurable:!0,get:function(){return Ee},set:function(xt){k("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Ee=xt,Object.defineProperty(ye,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return He},set:function(xt){k("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),He=xt,Object.defineProperty(ye,"propTypes",{enumerable:!0})}}})}return ye}function Ne(O){O!=null&&O.$$typeof===w?k("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof O!="function"?k("forwardRef requires a render function but was given %s.",O===null?"null":typeof O):O.length!==0&&O.length!==2&&k("forwardRef render functions accept exactly two parameters: props and ref. %s",O.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),O!=null&&(O.defaultProps!=null||O.propTypes!=null)&&k("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var K={$$typeof:p,render:O};{var ye;Object.defineProperty(K,"displayName",{enumerable:!1,configurable:!0,get:function(){return ye},set:function(Ee){ye=Ee,!O.name&&!O.displayName&&(O.displayName=Ee)}})}return K}var Ue;Ue=Symbol.for("react.module.reference");function pt(O){return!!(typeof O=="string"||typeof O=="function"||O===u||O===c||le||O===l||O===m||O===v||Q||O===E||ae||ce||ne||typeof O=="object"&&O!==null&&(O.$$typeof===b||O.$$typeof===w||O.$$typeof===d||O.$$typeof===h||O.$$typeof===p||O.$$typeof===Ue||O.getModuleId!==void 0))}function Zt(O,K){pt(O)||k("memo: The first argument must be a component. Instead received: %s",O===null?"null":typeof O);var ye={$$typeof:w,type:O,compare:K===void 0?null:K};{var Ee;Object.defineProperty(ye,"displayName",{enumerable:!1,configurable:!0,get:function(){return Ee},set:function(He){Ee=He,!O.name&&!O.displayName&&(O.displayName=He)}})}return ye}function kt(){var O=B.current;return O===null&&k(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),O}function jt(O){var K=kt();if(O._context!==void 0){var ye=O._context;ye.Consumer===O?k("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):ye.Provider===O&&k("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return K.useContext(O)}function yt(O){var K=kt();return K.useState(O)}function vr(O,K,ye){var Ee=kt();return Ee.useReducer(O,K,ye)}function _n(O){var K=kt();return K.useRef(O)}function Vn(O,K){var ye=kt();return ye.useEffect(O,K)}function si(O,K){var ye=kt();return ye.useInsertionEffect(O,K)}function bs(O,K){var ye=kt();return ye.useLayoutEffect(O,K)}function Uo(O,K){var ye=kt();return ye.useCallback(O,K)}function yr(O,K){var ye=kt();return ye.useMemo(O,K)}function Qu(O,K,ye){var Ee=kt();return Ee.useImperativeHandle(O,K,ye)}function Wo(O,K){{var ye=kt();return ye.useDebugValue(O,K)}}function Wt(){var O=kt();return O.useTransition()}function Ju(O){var K=kt();return K.useDeferredValue(O)}function qp(){var O=kt();return O.useId()}function Zp(O,K,ye){var Ee=kt();return Ee.useSyncExternalStore(O,K,ye)}var Ua=0,Ad,Pd,Rd,Bd,kd,Qp,Jp;function Sc(){}Sc.__reactDisabledLog=!0;function Md(){{if(Ua===0){Ad=console.log,Pd=console.info,Rd=console.warn,Bd=console.error,kd=console.group,Qp=console.groupCollapsed,Jp=console.groupEnd;var O={configurable:!0,enumerable:!0,value:Sc,writable:!0};Object.defineProperties(console,{info:O,log:O,warn:O,error:O,group:O,groupCollapsed:O,groupEnd:O})}Ua++}}function Cs(){{if(Ua--,Ua===0){var O={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:ie({},O,{value:Ad}),info:ie({},O,{value:Pd}),warn:ie({},O,{value:Rd}),error:ie({},O,{value:Bd}),group:ie({},O,{value:kd}),groupCollapsed:ie({},O,{value:Qp}),groupEnd:ie({},O,{value:Jp})})}Ua<0&&k("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var el=G.ReactCurrentDispatcher,Wa;function Tc(O,K,ye){{if(Wa===void 0)try{throw Error()}catch(He){var Ee=He.stack.trim().match(/\n( *(at )?)/);Wa=Ee&&Ee[1]||""}return`
`+Wa+O}}var tl=!1,Ac;{var Nd=typeof WeakMap=="function"?WeakMap:Map;Ac=new Nd}function em(O,K){if(!O||tl)return"";{var ye=Ac.get(O);if(ye!==void 0)return ye}var Ee;tl=!0;var He=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var xt;xt=el.current,el.current=null,Md();try{if(K){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(fr){Ee=fr}Reflect.construct(O,[],rt)}else{try{rt.call()}catch(fr){Ee=fr}O.call(rt.prototype)}}else{try{throw Error()}catch(fr){Ee=fr}O()}}catch(fr){if(fr&&Ee&&typeof fr.stack=="string"){for(var Ot=fr.stack.split(`
`),Qt=Ee.stack.split(`
`),xn=Ot.length-1,Ln=Qt.length-1;xn>=1&&Ln>=0&&Ot[xn]!==Qt[Ln];)Ln--;for(;xn>=1&&Ln>=0;xn--,Ln--)if(Ot[xn]!==Qt[Ln]){if(xn!==1||Ln!==1)do if(xn--,Ln--,Ln<0||Ot[xn]!==Qt[Ln]){var In=`
`+Ot[xn].replace(" at new "," at ");return O.displayName&&In.includes("<anonymous>")&&(In=In.replace("<anonymous>",O.displayName)),typeof O=="function"&&Ac.set(O,In),In}while(xn>=1&&Ln>=0);break}}}finally{tl=!1,el.current=xt,Cs(),Error.prepareStackTrace=He}var Xt=O?O.displayName||O.name:"",Yn=Xt?Tc(Xt):"";return typeof O=="function"&&Ac.set(O,Yn),Yn}function Od(O,K,ye){return em(O,!1)}function Vy(O){var K=O.prototype;return!!(K&&K.isReactComponent)}function nl(O,K,ye){if(O==null)return"";if(typeof O=="function")return em(O,Vy(O));if(typeof O=="string")return Tc(O);switch(O){case m:return Tc("Suspense");case v:return Tc("SuspenseList")}if(typeof O=="object")switch(O.$$typeof){case p:return Od(O.render);case w:return nl(O.type,K,ye);case b:{var Ee=O,He=Ee._payload,xt=Ee._init;try{return nl(xt(He),K,ye)}catch{}}}return""}var tm={},Fd=G.ReactDebugCurrentFrame;function dn(O){if(O){var K=O._owner,ye=nl(O.type,O._source,K?K.type:null);Fd.setExtraStackFrame(ye)}else Fd.setExtraStackFrame(null)}function jy(O,K,ye,Ee,He){{var xt=Function.call.bind(ft);for(var rt in O)if(xt(O,rt)){var Ot=void 0;try{if(typeof O[rt]!="function"){var Qt=Error((Ee||"React class")+": "+ye+" type `"+rt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof O[rt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Qt.name="Invariant Violation",Qt}Ot=O[rt](K,rt,Ee,ye,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(xn){Ot=xn}Ot&&!(Ot instanceof Error)&&(dn(He),k("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Ee||"React class",ye,rt,typeof Ot),dn(null)),Ot instanceof Error&&!(Ot.message in tm)&&(tm[Ot.message]=!0,dn(He),k("Failed %s type: %s",ye,Ot.message),dn(null))}}}function ta(O){if(O){var K=O._owner,ye=nl(O.type,O._source,K?K.type:null);re(ye)}else re(null)}var It;It=!1;function Ld(){if(z.current){var O=Dt(z.current.type);if(O)return`

Check the render method of \``+O+"`."}return""}function yi(O){if(O!==void 0){var K=O.fileName.replace(/^.*[\\\/]/,""),ye=O.lineNumber;return`

Check your code at `+K+":"+ye+"."}return""}function rl(O){return O!=null?yi(O.__source):""}var Xa={};function zy(O){var K=Ld();if(!K){var ye=typeof O=="string"?O:O.displayName||O.name;ye&&(K=`

Check the top-level render call using <`+ye+">.")}return K}function Br(O,K){if(!(!O._store||O._store.validated||O.key!=null)){O._store.validated=!0;var ye=zy(K);if(!Xa[ye]){Xa[ye]=!0;var Ee="";O&&O._owner&&O._owner!==z.current&&(Ee=" It was passed a child from "+Dt(O._owner.type)+"."),ta(O),k('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ye,Ee),ta(null)}}}function Xn(O,K){if(typeof O=="object"){if($e(O))for(var ye=0;ye<O.length;ye++){var Ee=O[ye];Gn(Ee)&&Br(Ee,K)}else if(Gn(O))O._store&&(O._store.validated=!0);else if(O){var He=C(O);if(typeof He=="function"&&He!==O.entries)for(var xt=He.call(O),rt;!(rt=xt.next()).done;)Gn(rt.value)&&Br(rt.value,K)}}}function nm(O){{var K=O.type;if(K==null||typeof K=="string")return;var ye;if(typeof K=="function")ye=K.propTypes;else if(typeof K=="object"&&(K.$$typeof===p||K.$$typeof===w))ye=K.propTypes;else return;if(ye){var Ee=Dt(K);jy(ye,O.props,"prop",Ee,O)}else if(K.PropTypes!==void 0&&!It){It=!0;var He=Dt(K);k("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",He||"Unknown")}typeof K.getDefaultProps=="function"&&!K.getDefaultProps.isReactClassApproved&&k("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Do(O){{for(var K=Object.keys(O.props),ye=0;ye<K.length;ye++){var Ee=K[ye];if(Ee!=="children"&&Ee!=="key"){ta(O),k("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Ee),ta(null);break}}O.ref!==null&&(ta(O),k("Invalid attribute `ref` supplied to `React.Fragment`."),ta(null))}}function wi(O,K,ye){var Ee=pt(O);if(!Ee){var He="";(O===void 0||typeof O=="object"&&O!==null&&Object.keys(O).length===0)&&(He+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var xt=rl(K);xt?He+=xt:He+=Ld();var rt;O===null?rt="null":$e(O)?rt="array":O!==void 0&&O.$$typeof===i?(rt="<"+(Dt(O.type)||"Unknown")+" />",He=" Did you accidentally export a JSX literal instead of a component?"):rt=typeof O,k("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",rt,He)}var Ot=Gt.apply(this,arguments);if(Ot==null)return Ot;if(Ee)for(var Qt=2;Qt<arguments.length;Qt++)Xn(arguments[Qt],O);return O===u?Do(Ot):nm(Ot),Ot}var Xo=!1;function $y(O){var K=wi.bind(null,O);return K.type=O,Xo||(Xo=!0,R("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(K,"type",{enumerable:!1,get:function(){return R("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:O}),O}}),K}function Id(O,K,ye){for(var Ee=Pn.apply(this,arguments),He=2;He<arguments.length;He++)Xn(arguments[He],Ee.type);return nm(Ee),Ee}function rm(O,K){var ye=P.transition;P.transition={};var Ee=P.transition;P.transition._updatedFibers=new Set;try{O()}finally{if(P.transition=ye,ye===null&&Ee._updatedFibers){var He=Ee._updatedFibers.size;He>10&&R("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),Ee._updatedFibers.clear()}}}var Hd=!1,Pc=null;function Uy(O){if(Pc===null)try{var K=("require"+Math.random()).slice(0,7),ye=e&&e[K];Pc=ye.call(e,"timers").setImmediate}catch{Pc=function(He){Hd===!1&&(Hd=!0,typeof MessageChannel>"u"&&k("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var xt=new MessageChannel;xt.port1.onmessage=He,xt.port2.postMessage(void 0)}}return Pc(O)}var Ya=0,il=!1;function Gd(O){{var K=Ya;Ya++,I.current===null&&(I.current=[]);var ye=I.isBatchingLegacy,Ee;try{if(I.isBatchingLegacy=!0,Ee=O(),!ye&&I.didScheduleLegacyUpdate){var He=I.current;He!==null&&(I.didScheduleLegacyUpdate=!1,kc(He))}}catch(Xt){throw na(K),Xt}finally{I.isBatchingLegacy=ye}if(Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var xt=Ee,rt=!1,Ot={then:function(Xt,Yn){rt=!0,xt.then(function(fr){na(K),Ya===0?Rc(fr,Xt,Yn):Xt(fr)},function(fr){na(K),Yn(fr)})}};return!il&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){rt||(il=!0,k("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),Ot}else{var Qt=Ee;if(na(K),Ya===0){var xn=I.current;xn!==null&&(kc(xn),I.current=null);var Ln={then:function(Xt,Yn){I.current===null?(I.current=[],Rc(Qt,Xt,Yn)):Xt(Qt)}};return Ln}else{var In={then:function(Xt,Yn){Xt(Qt)}};return In}}}}function na(O){O!==Ya-1&&k("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Ya=O}function Rc(O,K,ye){{var Ee=I.current;if(Ee!==null)try{kc(Ee),Uy(function(){Ee.length===0?(I.current=null,K(O)):Rc(O,K,ye)})}catch(He){ye(He)}else K(O)}}var Bc=!1;function kc(O){if(!Bc){Bc=!0;var K=0;try{for(;K<O.length;K++){var ye=O[K];do ye=ye(!0);while(ye!==null)}O.length=0}catch(Ee){throw O=O.slice(K+1),Ee}finally{Bc=!1}}}var im=wi,om=Id,_d=$y,sm={map:ea,forEach:Ku,count:Td,toArray:Ec,only:Dc};n.Children=sm,n.Component=ue,n.Fragment=u,n.Profiler=c,n.PureComponent=Z,n.StrictMode=l,n.Suspense=m,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,n.act=Gd,n.cloneElement=om,n.createContext=qu,n.createElement=im,n.createFactory=_d,n.createRef=me,n.forwardRef=Ne,n.isValidElement=Gn,n.lazy=ee,n.memo=Zt,n.startTransition=rm,n.unstable_act=Gd,n.useCallback=Uo,n.useContext=jt,n.useDebugValue=Wo,n.useDeferredValue=Ju,n.useEffect=Vn,n.useId=qp,n.useImperativeHandle=Qu,n.useInsertionEffect=si,n.useLayoutEffect=bs,n.useMemo=yr,n.useReducer=vr,n.useRef=_n,n.useState=yt,n.useSyncExternalStore=Zp,n.useTransition=Wt,n.version=r,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()}(Sg,Sg.exports)),Sg.exports}var M2;function A3(){return M2||(M2=1,qC.exports=v$()),qC.exports}var N2;function y$(){if(N2)return uv;N2=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){var e=A3(),n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),b=Symbol.iterator,E="@@iterator";function S(ee){if(ee===null||typeof ee!="object")return null;var Ne=b&&ee[b]||ee[E];return typeof Ne=="function"?Ne:null}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function C(ee){{for(var Ne=arguments.length,Ue=new Array(Ne>1?Ne-1:0),pt=1;pt<Ne;pt++)Ue[pt-1]=arguments[pt];B("error",ee,Ue)}}function B(ee,Ne,Ue){{var pt=T.ReactDebugCurrentFrame,Zt=pt.getStackAddendum();Zt!==""&&(Ne+="%s",Ue=Ue.concat([Zt]));var kt=Ue.map(function(jt){return String(jt)});kt.unshift("Warning: "+Ne),Function.prototype.apply.call(console[ee],console,kt)}}var P=!1,I=!1,z=!1,Y=!1,te=!1,re;re=Symbol.for("react.module.reference");function ae(ee){return!!(typeof ee=="string"||typeof ee=="function"||ee===i||ee===u||te||ee===o||ee===h||ee===p||Y||ee===w||P||I||z||typeof ee=="object"&&ee!==null&&(ee.$$typeof===v||ee.$$typeof===m||ee.$$typeof===l||ee.$$typeof===c||ee.$$typeof===d||ee.$$typeof===re||ee.getModuleId!==void 0))}function ce(ee,Ne,Ue){var pt=ee.displayName;if(pt)return pt;var Zt=Ne.displayName||Ne.name||"";return Zt!==""?Ue+"("+Zt+")":Ue}function ne(ee){return ee.displayName||"Context"}function Q(ee){if(ee==null)return null;if(typeof ee.tag=="number"&&C("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof ee=="function")return ee.displayName||ee.name||null;if(typeof ee=="string")return ee;switch(ee){case i:return"Fragment";case r:return"Portal";case u:return"Profiler";case o:return"StrictMode";case h:return"Suspense";case p:return"SuspenseList"}if(typeof ee=="object")switch(ee.$$typeof){case c:var Ne=ee;return ne(Ne)+".Consumer";case l:var Ue=ee;return ne(Ue._context)+".Provider";case d:return ce(ee,ee.render,"ForwardRef");case m:var pt=ee.displayName||null;return pt!==null?pt:Q(ee.type)||"Memo";case v:{var Zt=ee,kt=Zt._payload,jt=Zt._init;try{return Q(jt(kt))}catch{return null}}}return null}var le=Object.assign,G=0,R,k,H,_,X,U,ie;function q(){}q.__reactDisabledLog=!0;function ue(){{if(G===0){R=console.log,k=console.info,H=console.warn,_=console.error,X=console.group,U=console.groupCollapsed,ie=console.groupEnd;var ee={configurable:!0,enumerable:!0,value:q,writable:!0};Object.defineProperties(console,{info:ee,log:ee,warn:ee,error:ee,group:ee,groupCollapsed:ee,groupEnd:ee})}G++}}function xe(){{if(G--,G===0){var ee={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:le({},ee,{value:R}),info:le({},ee,{value:k}),warn:le({},ee,{value:H}),error:le({},ee,{value:_}),group:le({},ee,{value:X}),groupCollapsed:le({},ee,{value:U}),groupEnd:le({},ee,{value:ie})})}G<0&&C("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var fe=T.ReactCurrentDispatcher,Te;function ke(ee,Ne,Ue){{if(Te===void 0)try{throw Error()}catch(Zt){var pt=Zt.stack.trim().match(/\n( *(at )?)/);Te=pt&&pt[1]||""}return`
`+Te+ee}}var Z=!1,de;{var me=typeof WeakMap=="function"?WeakMap:Map;de=new me}function Ce(ee,Ne){if(!ee||Z)return"";{var Ue=de.get(ee);if(Ue!==void 0)return Ue}var pt;Z=!0;var Zt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var kt;kt=fe.current,fe.current=null,ue();try{if(Ne){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(yr){pt=yr}Reflect.construct(ee,[],jt)}else{try{jt.call()}catch(yr){pt=yr}ee.call(jt.prototype)}}else{try{throw Error()}catch(yr){pt=yr}ee()}}catch(yr){if(yr&&pt&&typeof yr.stack=="string"){for(var yt=yr.stack.split(`
`),vr=pt.stack.split(`
`),_n=yt.length-1,Vn=vr.length-1;_n>=1&&Vn>=0&&yt[_n]!==vr[Vn];)Vn--;for(;_n>=1&&Vn>=0;_n--,Vn--)if(yt[_n]!==vr[Vn]){if(_n!==1||Vn!==1)do if(_n--,Vn--,Vn<0||yt[_n]!==vr[Vn]){var si=`
`+yt[_n].replace(" at new "," at ");return ee.displayName&&si.includes("<anonymous>")&&(si=si.replace("<anonymous>",ee.displayName)),typeof ee=="function"&&de.set(ee,si),si}while(_n>=1&&Vn>=0);break}}}finally{Z=!1,fe.current=kt,xe(),Error.prepareStackTrace=Zt}var bs=ee?ee.displayName||ee.name:"",Uo=bs?ke(bs):"";return typeof ee=="function"&&de.set(ee,Uo),Uo}function $e(ee,Ne,Ue){return Ce(ee,!1)}function Pe(ee){var Ne=ee.prototype;return!!(Ne&&Ne.isReactComponent)}function ot(ee,Ne,Ue){if(ee==null)return"";if(typeof ee=="function")return Ce(ee,Pe(ee));if(typeof ee=="string")return ke(ee);switch(ee){case h:return ke("Suspense");case p:return ke("SuspenseList")}if(typeof ee=="object")switch(ee.$$typeof){case d:return $e(ee.render);case m:return ot(ee.type,Ne,Ue);case v:{var pt=ee,Zt=pt._payload,kt=pt._init;try{return ot(kt(Zt),Ne,Ue)}catch{}}}return""}var je=Object.prototype.hasOwnProperty,Ie={},ht=T.ReactDebugCurrentFrame;function Je(ee){if(ee){var Ne=ee._owner,Ue=ot(ee.type,ee._source,Ne?Ne.type:null);ht.setExtraStackFrame(Ue)}else ht.setExtraStackFrame(null)}function Dt(ee,Ne,Ue,pt,Zt){{var kt=Function.call.bind(je);for(var jt in ee)if(kt(ee,jt)){var yt=void 0;try{if(typeof ee[jt]!="function"){var vr=Error((pt||"React class")+": "+Ue+" type `"+jt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ee[jt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw vr.name="Invariant Violation",vr}yt=ee[jt](Ne,jt,pt,Ue,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(_n){yt=_n}yt&&!(yt instanceof Error)&&(Je(Zt),C("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",pt||"React class",Ue,jt,typeof yt),Je(null)),yt instanceof Error&&!(yt.message in Ie)&&(Ie[yt.message]=!0,Je(Zt),C("Failed %s type: %s",Ue,yt.message),Je(null))}}}var ft=Array.isArray;function Rt(ee){return ft(ee)}function pn(ee){{var Ne=typeof Symbol=="function"&&Symbol.toStringTag,Ue=Ne&&ee[Symbol.toStringTag]||ee.constructor.name||"Object";return Ue}}function rr(ee){try{return rn(ee),!1}catch{return!0}}function rn(ee){return""+ee}function Wn(ee){if(rr(ee))return C("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",pn(ee)),rn(ee)}var Jn=T.ReactCurrentOwner,kn={key:!0,ref:!0,__self:!0,__source:!0},Tn,_e,at;at={};function Gt(ee){if(je.call(ee,"ref")){var Ne=Object.getOwnPropertyDescriptor(ee,"ref").get;if(Ne&&Ne.isReactWarning)return!1}return ee.ref!==void 0}function fn(ee){if(je.call(ee,"key")){var Ne=Object.getOwnPropertyDescriptor(ee,"key").get;if(Ne&&Ne.isReactWarning)return!1}return ee.key!==void 0}function Pn(ee,Ne){if(typeof ee.ref=="string"&&Jn.current&&Ne&&Jn.current.stateNode!==Ne){var Ue=Q(Jn.current.type);at[Ue]||(C('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',Q(Jn.current.type),ee.ref),at[Ue]=!0)}}function Gn(ee,Ne){{var Ue=function(){Tn||(Tn=!0,C("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ne))};Ue.isReactWarning=!0,Object.defineProperty(ee,"key",{get:Ue,configurable:!0})}}function Mn(ee,Ne){{var Ue=function(){_e||(_e=!0,C("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ne))};Ue.isReactWarning=!0,Object.defineProperty(ee,"ref",{get:Ue,configurable:!0})}}var mr=function(ee,Ne,Ue,pt,Zt,kt,jt){var yt={$$typeof:n,type:ee,key:Ne,ref:Ue,props:jt,_owner:kt};return yt._store={},Object.defineProperty(yt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(yt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:pt}),Object.defineProperty(yt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Zt}),Object.freeze&&(Object.freeze(yt.props),Object.freeze(yt)),yt};function ir(ee,Ne,Ue,pt,Zt){{var kt,jt={},yt=null,vr=null;Ue!==void 0&&(Wn(Ue),yt=""+Ue),fn(Ne)&&(Wn(Ne.key),yt=""+Ne.key),Gt(Ne)&&(vr=Ne.ref,Pn(Ne,Zt));for(kt in Ne)je.call(Ne,kt)&&!kn.hasOwnProperty(kt)&&(jt[kt]=Ne[kt]);if(ee&&ee.defaultProps){var _n=ee.defaultProps;for(kt in _n)jt[kt]===void 0&&(jt[kt]=_n[kt])}if(yt||vr){var Vn=typeof ee=="function"?ee.displayName||ee.name||"Unknown":ee;yt&&Gn(jt,Vn),vr&&Mn(jt,Vn)}return mr(ee,yt,vr,Zt,pt,Jn.current,jt)}}var Nn=T.ReactCurrentOwner,or=T.ReactDebugCurrentFrame;function jo(ee){if(ee){var Ne=ee._owner,Ue=ot(ee.type,ee._source,Ne?Ne.type:null);or.setExtraStackFrame(Ue)}else or.setExtraStackFrame(null)}var zo;zo=!1;function Co(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===n}function ea(){{if(Nn.current){var ee=Q(Nn.current.type);if(ee)return`

Check the render method of \``+ee+"`."}return""}}function Td(ee){{if(ee!==void 0){var Ne=ee.fileName.replace(/^.*[\\\/]/,""),Ue=ee.lineNumber;return`

Check your code at `+Ne+":"+Ue+"."}return""}}var Ku={};function Ec(ee){{var Ne=ea();if(!Ne){var Ue=typeof ee=="string"?ee:ee.displayName||ee.name;Ue&&(Ne=`

Check the top-level render call using <`+Ue+">.")}return Ne}}function Dc(ee,Ne){{if(!ee._store||ee._store.validated||ee.key!=null)return;ee._store.validated=!0;var Ue=Ec(Ne);if(Ku[Ue])return;Ku[Ue]=!0;var pt="";ee&&ee._owner&&ee._owner!==Nn.current&&(pt=" It was passed a child from "+Q(ee._owner.type)+"."),jo(ee),C('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Ue,pt),jo(null)}}function qu(ee,Ne){{if(typeof ee!="object")return;if(Rt(ee))for(var Ue=0;Ue<ee.length;Ue++){var pt=ee[Ue];Co(pt)&&Dc(pt,Ne)}else if(Co(ee))ee._store&&(ee._store.validated=!0);else if(ee){var Zt=S(ee);if(typeof Zt=="function"&&Zt!==ee.entries)for(var kt=Zt.call(ee),jt;!(jt=kt.next()).done;)Co(jt.value)&&Dc(jt.value,Ne)}}}function $o(ee){{var Ne=ee.type;if(Ne==null||typeof Ne=="string")return;var Ue;if(typeof Ne=="function")Ue=Ne.propTypes;else if(typeof Ne=="object"&&(Ne.$$typeof===d||Ne.$$typeof===m))Ue=Ne.propTypes;else return;if(Ue){var pt=Q(Ne);Dt(Ue,ee.props,"prop",pt,ee)}else if(Ne.PropTypes!==void 0&&!zo){zo=!0;var Zt=Q(Ne);C("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Zt||"Unknown")}typeof Ne.getDefaultProps=="function"&&!Ne.getDefaultProps.isReactClassApproved&&C("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Eo(ee){{for(var Ne=Object.keys(ee.props),Ue=0;Ue<Ne.length;Ue++){var pt=Ne[Ue];if(pt!=="children"&&pt!=="key"){jo(ee),C("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",pt),jo(null);break}}ee.ref!==null&&(jo(ee),C("Invalid attribute `ref` supplied to `React.Fragment`."),jo(null))}}var to={};function xs(ee,Ne,Ue,pt,Zt,kt){{var jt=ae(ee);if(!jt){var yt="";(ee===void 0||typeof ee=="object"&&ee!==null&&Object.keys(ee).length===0)&&(yt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var vr=Td(Zt);vr?yt+=vr:yt+=ea();var _n;ee===null?_n="null":Rt(ee)?_n="array":ee!==void 0&&ee.$$typeof===n?(_n="<"+(Q(ee.type)||"Unknown")+" />",yt=" Did you accidentally export a JSX literal instead of a component?"):_n=typeof ee,C("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",_n,yt)}var Vn=ir(ee,Ne,Ue,Zt,kt);if(Vn==null)return Vn;if(jt){var si=Ne.children;if(si!==void 0)if(pt)if(Rt(si)){for(var bs=0;bs<si.length;bs++)qu(si[bs],ee);Object.freeze&&Object.freeze(si)}else C("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else qu(si,ee)}if(je.call(Ne,"key")){var Uo=Q(ee),yr=Object.keys(Ne).filter(function(Wt){return Wt!=="key"}),Qu=yr.length>0?"{key: someKey, "+yr.join(": ..., ")+": ...}":"{key: someKey}";if(!to[Uo+Qu]){var Wo=yr.length>0?"{"+yr.join(": ..., ")+": ...}":"{}";C(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Qu,Uo,Wo,Uo),to[Uo+Qu]=!0}}return ee===i?Eo(Vn):$o(Vn),Vn}}var Zu=xs;uv.Fragment=i,uv.jsxDEV=Zu}(),uv}var O2;function w$(){return O2||(O2=1,KC.exports=y$()),KC.exports}var V=w$(),$=A3();const vt=gc($),x$=m$({__proto__:null,default:vt},[$]);var lv={},ZC={exports:{}},_i={},QC={exports:{}},JC={},F2;function b$(){return F2||(F2=1,function(e){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n=!1,r=5;function i(_e,at){var Gt=_e.length;_e.push(at),l(_e,at,Gt)}function o(_e){return _e.length===0?null:_e[0]}function u(_e){if(_e.length===0)return null;var at=_e[0],Gt=_e.pop();return Gt!==at&&(_e[0]=Gt,c(_e,Gt,0)),at}function l(_e,at,Gt){for(var fn=Gt;fn>0;){var Pn=fn-1>>>1,Gn=_e[Pn];if(d(Gn,at)>0)_e[Pn]=at,_e[fn]=Gn,fn=Pn;else return}}function c(_e,at,Gt){for(var fn=Gt,Pn=_e.length,Gn=Pn>>>1;fn<Gn;){var Mn=(fn+1)*2-1,mr=_e[Mn],ir=Mn+1,Nn=_e[ir];if(d(mr,at)<0)ir<Pn&&d(Nn,mr)<0?(_e[fn]=Nn,_e[ir]=at,fn=ir):(_e[fn]=mr,_e[Mn]=at,fn=Mn);else if(ir<Pn&&d(Nn,at)<0)_e[fn]=Nn,_e[ir]=at,fn=ir;else return}}function d(_e,at){var Gt=_e.sortIndex-at.sortIndex;return Gt!==0?Gt:_e.id-at.id}var h=1,p=2,m=3,v=4,w=5;function b(_e,at){}var E=typeof performance=="object"&&typeof performance.now=="function";if(E){var S=performance;e.unstable_now=function(){return S.now()}}else{var T=Date,C=T.now();e.unstable_now=function(){return T.now()-C}}var B=1073741823,P=-1,I=250,z=5e3,Y=1e4,te=B,re=[],ae=[],ce=1,ne=null,Q=m,le=!1,G=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(_e){for(var at=o(ae);at!==null;){if(at.callback===null)u(ae);else if(at.startTime<=_e)u(ae),at.sortIndex=at.expirationTime,i(re,at);else return;at=o(ae)}}function U(_e){if(R=!1,X(_e),!G)if(o(re)!==null)G=!0,rn(ie);else{var at=o(ae);at!==null&&Wn(U,at.startTime-_e)}}function ie(_e,at){G=!1,R&&(R=!1,Jn()),le=!0;var Gt=Q;try{var fn;if(!n)return q(_e,at)}finally{ne=null,Q=Gt,le=!1}}function q(_e,at){var Gt=at;for(X(Gt),ne=o(re);ne!==null&&!(ne.expirationTime>Gt&&(!_e||ht()));){var fn=ne.callback;if(typeof fn=="function"){ne.callback=null,Q=ne.priorityLevel;var Pn=ne.expirationTime<=Gt,Gn=fn(Pn);Gt=e.unstable_now(),typeof Gn=="function"?ne.callback=Gn:ne===o(re)&&u(re),X(Gt)}else u(re);ne=o(re)}if(ne!==null)return!0;var Mn=o(ae);return Mn!==null&&Wn(U,Mn.startTime-Gt),!1}function ue(_e,at){switch(_e){case h:case p:case m:case v:case w:break;default:_e=m}var Gt=Q;Q=_e;try{return at()}finally{Q=Gt}}function xe(_e){var at;switch(Q){case h:case p:case m:at=m;break;default:at=Q;break}var Gt=Q;Q=at;try{return _e()}finally{Q=Gt}}function fe(_e){var at=Q;return function(){var Gt=Q;Q=at;try{return _e.apply(this,arguments)}finally{Q=Gt}}}function Te(_e,at,Gt){var fn=e.unstable_now(),Pn;if(typeof Gt=="object"&&Gt!==null){var Gn=Gt.delay;typeof Gn=="number"&&Gn>0?Pn=fn+Gn:Pn=fn}else Pn=fn;var Mn;switch(_e){case h:Mn=P;break;case p:Mn=I;break;case w:Mn=te;break;case v:Mn=Y;break;case m:default:Mn=z;break}var mr=Pn+Mn,ir={id:ce++,callback:at,priorityLevel:_e,startTime:Pn,expirationTime:mr,sortIndex:-1};return Pn>fn?(ir.sortIndex=Pn,i(ae,ir),o(re)===null&&ir===o(ae)&&(R?Jn():R=!0,Wn(U,Pn-fn))):(ir.sortIndex=mr,i(re,ir),!G&&!le&&(G=!0,rn(ie))),ir}function ke(){}function Z(){!G&&!le&&(G=!0,rn(ie))}function de(){return o(re)}function me(_e){_e.callback=null}function Ce(){return Q}var $e=!1,Pe=null,ot=-1,je=r,Ie=-1;function ht(){var _e=e.unstable_now()-Ie;return!(_e<je)}function Je(){}function Dt(_e){if(_e<0||_e>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}_e>0?je=Math.floor(1e3/_e):je=r}var ft=function(){if(Pe!==null){var _e=e.unstable_now();Ie=_e;var at=!0,Gt=!0;try{Gt=Pe(at,_e)}finally{Gt?Rt():($e=!1,Pe=null)}}else $e=!1},Rt;if(typeof _=="function")Rt=function(){_(ft)};else if(typeof MessageChannel<"u"){var pn=new MessageChannel,rr=pn.port2;pn.port1.onmessage=ft,Rt=function(){rr.postMessage(null)}}else Rt=function(){k(ft,0)};function rn(_e){Pe=_e,$e||($e=!0,Rt())}function Wn(_e,at){ot=k(function(){_e(e.unstable_now())},at)}function Jn(){H(ot),ot=-1}var kn=Je,Tn=null;e.unstable_IdlePriority=w,e.unstable_ImmediatePriority=h,e.unstable_LowPriority=v,e.unstable_NormalPriority=m,e.unstable_Profiling=Tn,e.unstable_UserBlockingPriority=p,e.unstable_cancelCallback=me,e.unstable_continueExecution=Z,e.unstable_forceFrameRate=Dt,e.unstable_getCurrentPriorityLevel=Ce,e.unstable_getFirstCallbackNode=de,e.unstable_next=xe,e.unstable_pauseExecution=ke,e.unstable_requestPaint=kn,e.unstable_runWithPriority=ue,e.unstable_scheduleCallback=Te,e.unstable_shouldYield=ht,e.unstable_wrapCallback=fe,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()}(JC)),JC}var L2;function C$(){return L2||(L2=1,QC.exports=b$()),QC.exports}var I2;function E$(){if(I2)return _i;I2=1;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=A3(),n=C$(),r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=!1;function o(s){i=s}function u(s){if(!i){for(var a=arguments.length,f=new Array(a>1?a-1:0),g=1;g<a;g++)f[g-1]=arguments[g];c("warn",s,f)}}function l(s){if(!i){for(var a=arguments.length,f=new Array(a>1?a-1:0),g=1;g<a;g++)f[g-1]=arguments[g];c("error",s,f)}}function c(s,a,f){{var g=r.ReactDebugCurrentFrame,y=g.getStackAddendum();y!==""&&(a+="%s",f=f.concat([y]));var x=f.map(function(D){return String(D)});x.unshift("Warning: "+a),Function.prototype.apply.call(console[s],console,x)}}var d=0,h=1,p=2,m=3,v=4,w=5,b=6,E=7,S=8,T=9,C=10,B=11,P=12,I=13,z=14,Y=15,te=16,re=17,ae=18,ce=19,ne=21,Q=22,le=23,G=24,R=25,k=!0,H=!1,_=!1,X=!1,U=!1,ie=!0,q=!0,ue=!0,xe=!0,fe=new Set,Te={},ke={};function Z(s,a){de(s,a),de(s+"Capture",a)}function de(s,a){Te[s]&&l("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",s),Te[s]=a;{var f=s.toLowerCase();ke[f]=s,s==="onDoubleClick"&&(ke.ondblclick=s)}for(var g=0;g<a.length;g++)fe.add(a[g])}var me=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ce=Object.prototype.hasOwnProperty;function $e(s){{var a=typeof Symbol=="function"&&Symbol.toStringTag,f=a&&s[Symbol.toStringTag]||s.constructor.name||"Object";return f}}function Pe(s){try{return ot(s),!1}catch{return!0}}function ot(s){return""+s}function je(s,a){if(Pe(s))return l("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",a,$e(s)),ot(s)}function Ie(s){if(Pe(s))return l("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",$e(s)),ot(s)}function ht(s,a){if(Pe(s))return l("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",a,$e(s)),ot(s)}function Je(s,a){if(Pe(s))return l("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",a,$e(s)),ot(s)}function Dt(s){if(Pe(s))return l("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",$e(s)),ot(s)}function ft(s){if(Pe(s))return l("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",$e(s)),ot(s)}var Rt=0,pn=1,rr=2,rn=3,Wn=4,Jn=5,kn=6,Tn=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",_e=Tn+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",at=new RegExp("^["+Tn+"]["+_e+"]*$"),Gt={},fn={};function Pn(s){return Ce.call(fn,s)?!0:Ce.call(Gt,s)?!1:at.test(s)?(fn[s]=!0,!0):(Gt[s]=!0,l("Invalid attribute name: `%s`",s),!1)}function Gn(s,a,f){return a!==null?a.type===Rt:f?!1:s.length>2&&(s[0]==="o"||s[0]==="O")&&(s[1]==="n"||s[1]==="N")}function Mn(s,a,f,g){if(f!==null&&f.type===Rt)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":{if(g)return!1;if(f!==null)return!f.acceptsBooleans;var y=s.toLowerCase().slice(0,5);return y!=="data-"&&y!=="aria-"}default:return!1}}function mr(s,a,f,g){if(a===null||typeof a>"u"||Mn(s,a,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case rn:return!a;case Wn:return a===!1;case Jn:return isNaN(a);case kn:return isNaN(a)||a<1}return!1}function ir(s){return or.hasOwnProperty(s)?or[s]:null}function Nn(s,a,f,g,y,x,D){this.acceptsBooleans=a===rr||a===rn||a===Wn,this.attributeName=g,this.attributeNamespace=y,this.mustUseProperty=f,this.propertyName=s,this.type=a,this.sanitizeURL=x,this.removeEmptyString=D}var or={},jo=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];jo.forEach(function(s){or[s]=new Nn(s,Rt,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0],f=s[1];or[a]=new Nn(a,pn,!1,f,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){or[s]=new Nn(s,rr,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){or[s]=new Nn(s,rr,!1,s,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(s){or[s]=new Nn(s,rn,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){or[s]=new Nn(s,rn,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){or[s]=new Nn(s,Wn,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){or[s]=new Nn(s,kn,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){or[s]=new Nn(s,Jn,!1,s.toLowerCase(),null,!1,!1)});var zo=/[\-\:]([a-z])/g,Co=function(s){return s[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(s){var a=s.replace(zo,Co);or[a]=new Nn(a,pn,!1,s,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(s){var a=s.replace(zo,Co);or[a]=new Nn(a,pn,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(zo,Co);or[a]=new Nn(a,pn,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){or[s]=new Nn(s,pn,!1,s.toLowerCase(),null,!1,!1)});var ea="xlinkHref";or[ea]=new Nn("xlinkHref",pn,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){or[s]=new Nn(s,pn,!1,s.toLowerCase(),null,!0,!0)});var Td=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Ku=!1;function Ec(s){!Ku&&Td.test(s)&&(Ku=!0,l("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(s)))}function Dc(s,a,f,g){if(g.mustUseProperty){var y=g.propertyName;return s[y]}else{je(f,a),g.sanitizeURL&&Ec(""+f);var x=g.attributeName,D=null;if(g.type===Wn){if(s.hasAttribute(x)){var A=s.getAttribute(x);return A===""?!0:mr(a,f,g,!1)?A:A===""+f?f:A}}else if(s.hasAttribute(x)){if(mr(a,f,g,!1))return s.getAttribute(x);if(g.type===rn)return f;D=s.getAttribute(x)}return mr(a,f,g,!1)?D===null?f:D:D===""+f?f:D}}function qu(s,a,f,g){{if(!Pn(a))return;if(!s.hasAttribute(a))return f===void 0?void 0:null;var y=s.getAttribute(a);return je(f,a),y===""+f?f:y}}function $o(s,a,f,g){var y=ir(a);if(!Gn(a,y,g)){if(mr(a,f,y,g)&&(f=null),g||y===null){if(Pn(a)){var x=a;f===null?s.removeAttribute(x):(je(f,a),s.setAttribute(x,""+f))}return}var D=y.mustUseProperty;if(D){var A=y.propertyName;if(f===null){var M=y.type;s[A]=M===rn?!1:""}else s[A]=f;return}var j=y.attributeName,W=y.attributeNamespace;if(f===null)s.removeAttribute(j);else{var se=y.type,oe;se===rn||se===Wn&&f===!0?oe="":(je(f,j),oe=""+f,y.sanitizeURL&&Ec(oe.toString())),W?s.setAttributeNS(W,j,oe):s.setAttribute(j,oe)}}}var Eo=Symbol.for("react.element"),to=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),Zu=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),Ue=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),jt=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),vr=Symbol.for("react.scope"),_n=Symbol.for("react.debug_trace_mode"),Vn=Symbol.for("react.offscreen"),si=Symbol.for("react.legacy_hidden"),bs=Symbol.for("react.cache"),Uo=Symbol.for("react.tracing_marker"),yr=Symbol.iterator,Qu="@@iterator";function Wo(s){if(s===null||typeof s!="object")return null;var a=yr&&s[yr]||s[Qu];return typeof a=="function"?a:null}var Wt=Object.assign,Ju=0,qp,Zp,Ua,Ad,Pd,Rd,Bd;function kd(){}kd.__reactDisabledLog=!0;function Qp(){{if(Ju===0){qp=console.log,Zp=console.info,Ua=console.warn,Ad=console.error,Pd=console.group,Rd=console.groupCollapsed,Bd=console.groupEnd;var s={configurable:!0,enumerable:!0,value:kd,writable:!0};Object.defineProperties(console,{info:s,log:s,warn:s,error:s,group:s,groupCollapsed:s,groupEnd:s})}Ju++}}function Jp(){{if(Ju--,Ju===0){var s={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Wt({},s,{value:qp}),info:Wt({},s,{value:Zp}),warn:Wt({},s,{value:Ua}),error:Wt({},s,{value:Ad}),group:Wt({},s,{value:Pd}),groupCollapsed:Wt({},s,{value:Rd}),groupEnd:Wt({},s,{value:Bd})})}Ju<0&&l("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Sc=r.ReactCurrentDispatcher,Md;function Cs(s,a,f){{if(Md===void 0)try{throw Error()}catch(y){var g=y.stack.trim().match(/\n( *(at )?)/);Md=g&&g[1]||""}return`
`+Md+s}}var el=!1,Wa;{var Tc=typeof WeakMap=="function"?WeakMap:Map;Wa=new Tc}function tl(s,a){if(!s||el)return"";{var f=Wa.get(s);if(f!==void 0)return f}var g;el=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var x;x=Sc.current,Sc.current=null,Qp();try{if(a){var D=function(){throw Error()};if(Object.defineProperty(D.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(D,[])}catch(we){g=we}Reflect.construct(s,[],D)}else{try{D.call()}catch(we){g=we}s.call(D.prototype)}}else{try{throw Error()}catch(we){g=we}s()}}catch(we){if(we&&g&&typeof we.stack=="string"){for(var A=we.stack.split(`
`),M=g.stack.split(`
`),j=A.length-1,W=M.length-1;j>=1&&W>=0&&A[j]!==M[W];)W--;for(;j>=1&&W>=0;j--,W--)if(A[j]!==M[W]){if(j!==1||W!==1)do if(j--,W--,W<0||A[j]!==M[W]){var se=`
`+A[j].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),typeof s=="function"&&Wa.set(s,se),se}while(j>=1&&W>=0);break}}}finally{el=!1,Sc.current=x,Jp(),Error.prepareStackTrace=y}var oe=s?s.displayName||s.name:"",pe=oe?Cs(oe):"";return typeof s=="function"&&Wa.set(s,pe),pe}function Ac(s,a,f){return tl(s,!0)}function Nd(s,a,f){return tl(s,!1)}function em(s){var a=s.prototype;return!!(a&&a.isReactComponent)}function Od(s,a,f){if(s==null)return"";if(typeof s=="function")return tl(s,em(s));if(typeof s=="string")return Cs(s);switch(s){case Zt:return Cs("Suspense");case kt:return Cs("SuspenseList")}if(typeof s=="object")switch(s.$$typeof){case pt:return Nd(s.render);case jt:return Od(s.type,a,f);case yt:{var g=s,y=g._payload,x=g._init;try{return Od(x(y),a,f)}catch{}}}return""}function Vy(s){switch(s._debugOwner&&s._debugOwner.type,s._debugSource,s.tag){case w:return Cs(s.type);case te:return Cs("Lazy");case I:return Cs("Suspense");case ce:return Cs("SuspenseList");case d:case p:case Y:return Nd(s.type);case B:return Nd(s.type.render);case h:return Ac(s.type);default:return""}}function nl(s){try{var a="",f=s;do a+=Vy(f),f=f.return;while(f);return a}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function tm(s,a,f){var g=s.displayName;if(g)return g;var y=a.displayName||a.name||"";return y!==""?f+"("+y+")":f}function Fd(s){return s.displayName||"Context"}function dn(s){if(s==null)return null;if(typeof s.tag=="number"&&l("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case xs:return"Fragment";case to:return"Portal";case ee:return"Profiler";case Zu:return"StrictMode";case Zt:return"Suspense";case kt:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ue:var a=s;return Fd(a)+".Consumer";case Ne:var f=s;return Fd(f._context)+".Provider";case pt:return tm(s,s.render,"ForwardRef");case jt:var g=s.displayName||null;return g!==null?g:dn(s.type)||"Memo";case yt:{var y=s,x=y._payload,D=y._init;try{return dn(D(x))}catch{return null}}}return null}function jy(s,a,f){var g=a.displayName||a.name||"";return s.displayName||(g!==""?f+"("+g+")":f)}function ta(s){return s.displayName||"Context"}function It(s){var a=s.tag,f=s.type;switch(a){case G:return"Cache";case T:var g=f;return ta(g)+".Consumer";case C:var y=f;return ta(y._context)+".Provider";case ae:return"DehydratedFragment";case B:return jy(f,f.render,"ForwardRef");case E:return"Fragment";case w:return f;case v:return"Portal";case m:return"Root";case b:return"Text";case te:return dn(f);case S:return f===Zu?"StrictMode":"Mode";case Q:return"Offscreen";case P:return"Profiler";case ne:return"Scope";case I:return"Suspense";case ce:return"SuspenseList";case R:return"TracingMarker";case h:case d:case re:case p:case z:case Y:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;break}return null}var Ld=r.ReactDebugCurrentFrame,yi=null,rl=!1;function Xa(){{if(yi===null)return null;var s=yi._debugOwner;if(s!==null&&typeof s<"u")return It(s)}return null}function zy(){return yi===null?"":nl(yi)}function Br(){Ld.getCurrentStack=null,yi=null,rl=!1}function Xn(s){Ld.getCurrentStack=s===null?null:zy,yi=s,rl=!1}function nm(){return yi}function Do(s){rl=s}function wi(s){return""+s}function Xo(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return ft(s),s;default:return""}}var $y={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Id(s,a){$y[a.type]||a.onChange||a.onInput||a.readOnly||a.disabled||a.value==null||l("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),a.onChange||a.readOnly||a.disabled||a.checked==null||l("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function rm(s){var a=s.type,f=s.nodeName;return f&&f.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Hd(s){return s._valueTracker}function Pc(s){s._valueTracker=null}function Uy(s){var a="";return s&&(rm(s)?a=s.checked?"true":"false":a=s.value),a}function Ya(s){var a=rm(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);ft(s[a]);var g=""+s[a];if(!(s.hasOwnProperty(a)||typeof f>"u"||typeof f.get!="function"||typeof f.set!="function")){var y=f.get,x=f.set;Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(A){ft(A),g=""+A,x.call(this,A)}}),Object.defineProperty(s,a,{enumerable:f.enumerable});var D={getValue:function(){return g},setValue:function(A){ft(A),g=""+A},stopTracking:function(){Pc(s),delete s[a]}};return D}}function il(s){Hd(s)||(s._valueTracker=Ya(s))}function Gd(s){if(!s)return!1;var a=Hd(s);if(!a)return!0;var f=a.getValue(),g=Uy(s);return g!==f?(a.setValue(g),!0):!1}function na(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Rc=!1,Bc=!1,kc=!1,im=!1;function om(s){var a=s.type==="checkbox"||s.type==="radio";return a?s.checked!=null:s.value!=null}function _d(s,a){var f=s,g=a.checked,y=Wt({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??f._wrapperState.initialChecked});return y}function sm(s,a){Id("input",a),a.checked!==void 0&&a.defaultChecked!==void 0&&!Bc&&(l("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Xa()||"A component",a.type),Bc=!0),a.value!==void 0&&a.defaultValue!==void 0&&!Rc&&(l("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Xa()||"A component",a.type),Rc=!0);var f=s,g=a.defaultValue==null?"":a.defaultValue;f._wrapperState={initialChecked:a.checked!=null?a.checked:a.defaultChecked,initialValue:Xo(a.value!=null?a.value:g),controlled:om(a)}}function O(s,a){var f=s,g=a.checked;g!=null&&$o(f,"checked",g,!1)}function K(s,a){var f=s;{var g=om(a);!f._wrapperState.controlled&&g&&!im&&(l("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),im=!0),f._wrapperState.controlled&&!g&&!kc&&(l("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),kc=!0)}O(s,a);var y=Xo(a.value),x=a.type;if(y!=null)x==="number"?(y===0&&f.value===""||f.value!=y)&&(f.value=wi(y)):f.value!==wi(y)&&(f.value=wi(y));else if(x==="submit"||x==="reset"){f.removeAttribute("value");return}a.hasOwnProperty("value")?xt(f,a.type,y):a.hasOwnProperty("defaultValue")&&xt(f,a.type,Xo(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(f.defaultChecked=!!a.defaultChecked)}function ye(s,a,f){var g=s;if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var y=a.type,x=y==="submit"||y==="reset";if(x&&(a.value===void 0||a.value===null))return;var D=wi(g._wrapperState.initialValue);f||D!==g.value&&(g.value=D),g.defaultValue=D}var A=g.name;A!==""&&(g.name=""),g.defaultChecked=!g.defaultChecked,g.defaultChecked=!!g._wrapperState.initialChecked,A!==""&&(g.name=A)}function Ee(s,a){var f=s;K(f,a),He(f,a)}function He(s,a){var f=a.name;if(a.type==="radio"&&f!=null){for(var g=s;g.parentNode;)g=g.parentNode;je(f,"name");for(var y=g.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),x=0;x<y.length;x++){var D=y[x];if(!(D===s||D.form!==s.form)){var A=Xm(D);if(!A)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Gd(D),K(D,A)}}}}function xt(s,a,f){(a!=="number"||na(s.ownerDocument)!==s)&&(f==null?s.defaultValue=wi(s._wrapperState.initialValue):s.defaultValue!==wi(f)&&(s.defaultValue=wi(f)))}var rt=!1,Ot=!1,Qt=!1;function xn(s,a){a.value==null&&(typeof a.children=="object"&&a.children!==null?e.Children.forEach(a.children,function(f){f!=null&&(typeof f=="string"||typeof f=="number"||Ot||(Ot=!0,l("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):a.dangerouslySetInnerHTML!=null&&(Qt||(Qt=!0,l("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),a.selected!=null&&!rt&&(l("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),rt=!0)}function Ln(s,a){a.value!=null&&s.setAttribute("value",wi(Xo(a.value)))}var In=Array.isArray;function Xt(s){return In(s)}var Yn;Yn=!1;function fr(){var s=Xa();return s?`

Check the render method of \``+s+"`.":""}var ol=["value","defaultValue"];function Vd(s){{Id("select",s);for(var a=0;a<ol.length;a++){var f=ol[a];if(s[f]!=null){var g=Xt(s[f]);s.multiple&&!g?l("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",f,fr()):!s.multiple&&g&&l("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",f,fr())}}}}function ra(s,a,f,g){var y=s.options;if(a){for(var x=f,D={},A=0;A<x.length;A++)D["$"+x[A]]=!0;for(var M=0;M<y.length;M++){var j=D.hasOwnProperty("$"+y[M].value);y[M].selected!==j&&(y[M].selected=j),j&&g&&(y[M].defaultSelected=!0)}}else{for(var W=wi(Xo(f)),se=null,oe=0;oe<y.length;oe++){if(y[oe].value===W){y[oe].selected=!0,g&&(y[oe].defaultSelected=!0);return}se===null&&!y[oe].disabled&&(se=y[oe])}se!==null&&(se.selected=!0)}}function jd(s,a){return Wt({},a,{value:void 0})}function zd(s,a){var f=s;Vd(a),f._wrapperState={wasMultiple:!!a.multiple},a.value!==void 0&&a.defaultValue!==void 0&&!Yn&&(l("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Yn=!0)}function Wy(s,a){var f=s;f.multiple=!!a.multiple;var g=a.value;g!=null?ra(f,!!a.multiple,g,!1):a.defaultValue!=null&&ra(f,!!a.multiple,a.defaultValue,!0)}function am(s,a){var f=s,g=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?ra(f,!!a.multiple,y,!1):g!==!!a.multiple&&(a.defaultValue!=null?ra(f,!!a.multiple,a.defaultValue,!0):ra(f,!!a.multiple,a.multiple?[]:"",!1))}function Xy(s,a){var f=s,g=a.value;g!=null&&ra(f,!!a.multiple,g,!1)}var ET=!1;function Yy(s,a){var f=s;if(a.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var g=Wt({},a,{value:void 0,defaultValue:void 0,children:wi(f._wrapperState.initialValue)});return g}function DT(s,a){var f=s;Id("textarea",a),a.value!==void 0&&a.defaultValue!==void 0&&!ET&&(l("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",Xa()||"A component"),ET=!0);var g=a.value;if(g==null){var y=a.children,x=a.defaultValue;if(y!=null){l("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(x!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Xt(y)){if(y.length>1)throw new Error("<textarea> can only have at most one child.");y=y[0]}x=y}}x==null&&(x=""),g=x}f._wrapperState={initialValue:Xo(g)}}function ST(s,a){var f=s,g=Xo(a.value),y=Xo(a.defaultValue);if(g!=null){var x=wi(g);x!==f.value&&(f.value=x),a.defaultValue==null&&f.defaultValue!==x&&(f.defaultValue=x)}y!=null&&(f.defaultValue=wi(y))}function TT(s,a){var f=s,g=f.textContent;g===f._wrapperState.initialValue&&g!==""&&g!==null&&(f.value=g)}function rF(s,a){ST(s,a)}var ia="http://www.w3.org/1999/xhtml",iF="http://www.w3.org/1998/Math/MathML",Ky="http://www.w3.org/2000/svg";function qy(s){switch(s){case"svg":return Ky;case"math":return iF;default:return ia}}function Zy(s,a){return s==null||s===ia?qy(a):s===Ky&&a==="foreignObject"?ia:s}var oF=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,f,g,y){MSApp.execUnsafeLocalFunction(function(){return s(a,f,g,y)})}:s},um,AT=oF(function(s,a){if(s.namespaceURI===Ky&&!("innerHTML"in s)){um=um||document.createElement("div"),um.innerHTML="<svg>"+a.valueOf().toString()+"</svg>";for(var f=um.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;f.firstChild;)s.appendChild(f.firstChild);return}s.innerHTML=a}),Oi=1,oa=3,dr=8,sa=9,Qy=11,lm=function(s,a){if(a){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===oa){f.nodeValue=a;return}}s.textContent=a},sF={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},$d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function aF(s,a){return s+a.charAt(0).toUpperCase()+a.substring(1)}var uF=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(s){uF.forEach(function(a){$d[aF(a,s)]=$d[s]})});function Jy(s,a,f){var g=a==null||typeof a=="boolean"||a==="";return g?"":!f&&typeof a=="number"&&a!==0&&!($d.hasOwnProperty(s)&&$d[s])?a+"px":(Je(a,s),(""+a).trim())}var lF=/([A-Z])/g,cF=/^ms-/;function fF(s){return s.replace(lF,"-$1").toLowerCase().replace(cF,"-ms-")}var PT=function(){};{var dF=/^(?:webkit|moz|o)[A-Z]/,hF=/^-ms-/,gF=/-(.)/g,RT=/;\s*$/,Mc={},ew={},BT=!1,kT=!1,pF=function(s){return s.replace(gF,function(a,f){return f.toUpperCase()})},mF=function(s){Mc.hasOwnProperty(s)&&Mc[s]||(Mc[s]=!0,l("Unsupported style property %s. Did you mean %s?",s,pF(s.replace(hF,"ms-"))))},vF=function(s){Mc.hasOwnProperty(s)&&Mc[s]||(Mc[s]=!0,l("Unsupported vendor-prefixed style property %s. Did you mean %s?",s,s.charAt(0).toUpperCase()+s.slice(1)))},yF=function(s,a){ew.hasOwnProperty(a)&&ew[a]||(ew[a]=!0,l(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,s,a.replace(RT,"")))},wF=function(s,a){BT||(BT=!0,l("`NaN` is an invalid value for the `%s` css style property.",s))},xF=function(s,a){kT||(kT=!0,l("`Infinity` is an invalid value for the `%s` css style property.",s))};PT=function(s,a){s.indexOf("-")>-1?mF(s):dF.test(s)?vF(s):RT.test(a)&&yF(s,a),typeof a=="number"&&(isNaN(a)?wF(s,a):isFinite(a)||xF(s,a))}}var bF=PT;function CF(s){{var a="",f="";for(var g in s)if(s.hasOwnProperty(g)){var y=s[g];if(y!=null){var x=g.indexOf("--")===0;a+=f+(x?g:fF(g))+":",a+=Jy(g,y,x),f=";"}}return a||null}}function MT(s,a){var f=s.style;for(var g in a)if(a.hasOwnProperty(g)){var y=g.indexOf("--")===0;y||bF(g,a[g]);var x=Jy(g,a[g],y);g==="float"&&(g="cssFloat"),y?f.setProperty(g,x):f[g]=x}}function EF(s){return s==null||typeof s=="boolean"||s===""}function NT(s){var a={};for(var f in s)for(var g=sF[f]||[f],y=0;y<g.length;y++)a[g[y]]=f;return a}function DF(s,a){{if(!a)return;var f=NT(s),g=NT(a),y={};for(var x in f){var D=f[x],A=g[x];if(A&&D!==A){var M=D+","+A;if(y[M])continue;y[M]=!0,l("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",EF(s[D])?"Removing":"Updating",D,A)}}}}var SF={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},TF=Wt({menuitem:!0},SF),AF="__html";function tw(s,a){if(a){if(TF[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw new Error(s+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof a.dangerouslySetInnerHTML!="object"||!(AF in a.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!a.suppressContentEditableWarning&&a.contentEditable&&a.children!=null&&l("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),a.style!=null&&typeof a.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function sl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},OT={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Nc={},PF=new RegExp("^(aria)-["+_e+"]*$"),RF=new RegExp("^(aria)[A-Z]["+_e+"]*$");function BF(s,a){{if(Ce.call(Nc,a)&&Nc[a])return!0;if(RF.test(a)){var f="aria-"+a.slice(4).toLowerCase(),g=OT.hasOwnProperty(f)?f:null;if(g==null)return l("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",a),Nc[a]=!0,!0;if(a!==g)return l("Invalid ARIA attribute `%s`. Did you mean `%s`?",a,g),Nc[a]=!0,!0}if(PF.test(a)){var y=a.toLowerCase(),x=OT.hasOwnProperty(y)?y:null;if(x==null)return Nc[a]=!0,!1;if(a!==x)return l("Unknown ARIA attribute `%s`. Did you mean `%s`?",a,x),Nc[a]=!0,!0}}return!0}function kF(s,a){{var f=[];for(var g in a){var y=BF(s,g);y||f.push(g)}var x=f.map(function(D){return"`"+D+"`"}).join(", ");f.length===1?l("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",x,s):f.length>1&&l("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",x,s)}}function MF(s,a){sl(s,a)||kF(s,a)}var FT=!1;function NF(s,a){{if(s!=="input"&&s!=="textarea"&&s!=="select")return;a!=null&&a.value===null&&!FT&&(FT=!0,s==="select"&&a.multiple?l("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",s):l("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",s))}}var LT=function(){};{var xi={},IT=/^on./,OF=/^on[^A-Z]/,FF=new RegExp("^(aria)-["+_e+"]*$"),LF=new RegExp("^(aria)[A-Z]["+_e+"]*$");LT=function(s,a,f,g){if(Ce.call(xi,a)&&xi[a])return!0;var y=a.toLowerCase();if(y==="onfocusin"||y==="onfocusout")return l("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),xi[a]=!0,!0;if(g!=null){var x=g.registrationNameDependencies,D=g.possibleRegistrationNames;if(x.hasOwnProperty(a))return!0;var A=D.hasOwnProperty(y)?D[y]:null;if(A!=null)return l("Invalid event handler property `%s`. Did you mean `%s`?",a,A),xi[a]=!0,!0;if(IT.test(a))return l("Unknown event handler property `%s`. It will be ignored.",a),xi[a]=!0,!0}else if(IT.test(a))return OF.test(a)&&l("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",a),xi[a]=!0,!0;if(FF.test(a)||LF.test(a))return!0;if(y==="innerhtml")return l("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),xi[a]=!0,!0;if(y==="aria")return l("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),xi[a]=!0,!0;if(y==="is"&&f!==null&&f!==void 0&&typeof f!="string")return l("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof f),xi[a]=!0,!0;if(typeof f=="number"&&isNaN(f))return l("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",a),xi[a]=!0,!0;var M=ir(a),j=M!==null&&M.type===Rt;if(cm.hasOwnProperty(y)){var W=cm[y];if(W!==a)return l("Invalid DOM property `%s`. Did you mean `%s`?",a,W),xi[a]=!0,!0}else if(!j&&a!==y)return l("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",a,y),xi[a]=!0,!0;return typeof f=="boolean"&&Mn(a,f,M,!1)?(f?l('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',f,a,a,f,a):l('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',f,a,a,f,a,a,a),xi[a]=!0,!0):j?!0:Mn(a,f,M,!1)?(xi[a]=!0,!1):((f==="false"||f==="true")&&M!==null&&M.type===rn&&(l("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",f,a,f==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',a,f),xi[a]=!0),!0)}}var IF=function(s,a,f){{var g=[];for(var y in a){var x=LT(s,y,a[y],f);x||g.push(y)}var D=g.map(function(A){return"`"+A+"`"}).join(", ");g.length===1?l("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",D,s):g.length>1&&l("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",D,s)}};function HF(s,a,f){sl(s,a)||IF(s,a,f)}var HT=1,nw=2,Ud=4,GF=HT|nw|Ud,Wd=null;function _F(s){Wd!==null&&l("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Wd=s}function VF(){Wd===null&&l("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Wd=null}function jF(s){return s===Wd}function rw(s){var a=s.target||s.srcElement||window;return a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===oa?a.parentNode:a}var iw=null,Oc=null,Fc=null;function GT(s){var a=ru(s);if(a){if(typeof iw!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var f=a.stateNode;if(f){var g=Xm(f);iw(a.stateNode,a.type,g)}}}function zF(s){iw=s}function _T(s){Oc?Fc?Fc.push(s):Fc=[s]:Oc=s}function $F(){return Oc!==null||Fc!==null}function VT(){if(Oc){var s=Oc,a=Fc;if(Oc=null,Fc=null,GT(s),a)for(var f=0;f<a.length;f++)GT(a[f])}}var jT=function(s,a){return s(a)},zT=function(){},ow=!1;function UF(){var s=$F();s&&(zT(),VT())}function $T(s,a,f){if(ow)return s(a,f);ow=!0;try{return jT(s,a,f)}finally{ow=!1,UF()}}function WF(s,a,f){jT=s,zT=f}function XF(s){return s==="button"||s==="input"||s==="select"||s==="textarea"}function YF(s,a,f){switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(f.disabled&&XF(a));default:return!1}}function Xd(s,a){var f=s.stateNode;if(f===null)return null;var g=Xm(f);if(g===null)return null;var y=g[a];if(YF(a,s.type,g))return null;if(y&&typeof y!="function")throw new Error("Expected `"+a+"` listener to be a function, instead got a value of `"+typeof y+"` type.");return y}var sw=!1;if(me)try{var Yd={};Object.defineProperty(Yd,"passive",{get:function(){sw=!0}}),window.addEventListener("test",Yd,Yd),window.removeEventListener("test",Yd,Yd)}catch{sw=!1}function UT(s,a,f,g,y,x,D,A,M){var j=Array.prototype.slice.call(arguments,3);try{a.apply(f,j)}catch(W){this.onError(W)}}var WT=UT;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var aw=document.createElement("react");WT=function(a,f,g,y,x,D,A,M,j){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var W=document.createEvent("Event"),se=!1,oe=!0,pe=window.event,we=Object.getOwnPropertyDescriptor(window,"event");function De(){aw.removeEventListener(Se,mt,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=pe)}var We=Array.prototype.slice.call(arguments,3);function mt(){se=!0,De(),f.apply(g,We),oe=!1}var st,tn=!1,Yt=!1;function he(ge){if(st=ge.error,tn=!0,st===null&&ge.colno===0&&ge.lineno===0&&(Yt=!0),ge.defaultPrevented&&st!=null&&typeof st=="object")try{st._suppressLogging=!0}catch{}}var Se="react-"+(a||"invokeguardedcallback");if(window.addEventListener("error",he),aw.addEventListener(Se,mt,!1),W.initEvent(Se,!1,!1),aw.dispatchEvent(W),we&&Object.defineProperty(window,"event",we),se&&oe&&(tn?Yt&&(st=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):st=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(st)),window.removeEventListener("error",he),!se)return De(),UT.apply(this,arguments)}}var KF=WT,Lc=!1,fm=null,dm=!1,uw=null,qF={onError:function(s){Lc=!0,fm=s}};function lw(s,a,f,g,y,x,D,A,M){Lc=!1,fm=null,KF.apply(qF,arguments)}function ZF(s,a,f,g,y,x,D,A,M){if(lw.apply(this,arguments),Lc){var j=cw();dm||(dm=!0,uw=j)}}function QF(){if(dm){var s=uw;throw dm=!1,uw=null,s}}function JF(){return Lc}function cw(){if(Lc){var s=fm;return Lc=!1,fm=null,s}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function Ic(s){return s._reactInternals}function eL(s){return s._reactInternals!==void 0}function tL(s,a){s._reactInternals=a}var Ct=0,Hc=1,kr=2,hn=4,al=16,hm=32,XT=64,mn=128,ul=256,ll=512,Gc=1024,Ka=2048,cl=4096,fl=8192,fw=16384,nL=32767,gm=32768,Yo=65536,dw=131072,YT=1048576,hw=2097152,dl=4194304,gw=8388608,qa=16777216,pw=33554432,mw=hn|Gc|0,vw=kr|hn|al|hm|ll|cl|fl,Kd=hn|XT|ll|fl,_c=Ka|al,aa=dl|gw|hw,rL=r.ReactCurrentOwner;function hl(s){var a=s,f=s;if(s.alternate)for(;a.return;)a=a.return;else{var g=a;do a=g,(a.flags&(kr|cl))!==Ct&&(f=a.return),g=a.return;while(g)}return a.tag===m?f:null}function KT(s){if(s.tag===I){var a=s.memoizedState;if(a===null){var f=s.alternate;f!==null&&(a=f.memoizedState)}if(a!==null)return a.dehydrated}return null}function qT(s){return s.tag===m?s.stateNode.containerInfo:null}function iL(s){return hl(s)===s}function oL(s){{var a=rL.current;if(a!==null&&a.tag===h){var f=a,g=f.stateNode;g._warnedAboutRefsInRender||l("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",It(f)||"A component"),g._warnedAboutRefsInRender=!0}}var y=Ic(s);return y?hl(y)===y:!1}function ZT(s){if(hl(s)!==s)throw new Error("Unable to find node on an unmounted component.")}function QT(s){var a=s.alternate;if(!a){var f=hl(s);if(f===null)throw new Error("Unable to find node on an unmounted component.");return f!==s?null:s}for(var g=s,y=a;;){var x=g.return;if(x===null)break;var D=x.alternate;if(D===null){var A=x.return;if(A!==null){g=y=A;continue}break}if(x.child===D.child){for(var M=x.child;M;){if(M===g)return ZT(x),s;if(M===y)return ZT(x),a;M=M.sibling}throw new Error("Unable to find node on an unmounted component.")}if(g.return!==y.return)g=x,y=D;else{for(var j=!1,W=x.child;W;){if(W===g){j=!0,g=x,y=D;break}if(W===y){j=!0,y=x,g=D;break}W=W.sibling}if(!j){for(W=D.child;W;){if(W===g){j=!0,g=D,y=x;break}if(W===y){j=!0,y=D,g=x;break}W=W.sibling}if(!j)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(g.alternate!==y)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(g.tag!==m)throw new Error("Unable to find node on an unmounted component.");return g.stateNode.current===g?s:a}function JT(s){var a=QT(s);return a!==null?eA(a):null}function eA(s){if(s.tag===w||s.tag===b)return s;for(var a=s.child;a!==null;){var f=eA(a);if(f!==null)return f;a=a.sibling}return null}function sL(s){var a=QT(s);return a!==null?tA(a):null}function tA(s){if(s.tag===w||s.tag===b)return s;for(var a=s.child;a!==null;){if(a.tag!==v){var f=tA(a);if(f!==null)return f}a=a.sibling}return null}var nA=n.unstable_scheduleCallback,aL=n.unstable_cancelCallback,uL=n.unstable_shouldYield,lL=n.unstable_requestPaint,Mr=n.unstable_now,cL=n.unstable_getCurrentPriorityLevel,pm=n.unstable_ImmediatePriority,yw=n.unstable_UserBlockingPriority,gl=n.unstable_NormalPriority,fL=n.unstable_LowPriority,ww=n.unstable_IdlePriority,dL=n.unstable_yieldValue,hL=n.unstable_setDisableYieldValue,Vc=null,ai=null,Ke=null,Es=!1,Ko=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function gL(s){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(a.isDisabled)return!0;if(!a.supportsFiber)return l("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{q&&(s=Wt({},s,{getLaneLabelMap:xL,injectProfilingHooks:wL})),Vc=a.inject(s),ai=a}catch(f){l("React instrumentation encountered an error: %s.",f)}return!!a.checkDCE}function pL(s,a){if(ai&&typeof ai.onScheduleFiberRoot=="function")try{ai.onScheduleFiberRoot(Vc,s,a)}catch(f){Es||(Es=!0,l("React instrumentation encountered an error: %s",f))}}function mL(s,a){if(ai&&typeof ai.onCommitFiberRoot=="function")try{var f=(s.current.flags&mn)===mn;if(ue){var g;switch(a){case ro:g=pm;break;case la:g=yw;break;case ca:g=gl;break;case Cm:g=ww;break;default:g=gl;break}ai.onCommitFiberRoot(Vc,s,g,f)}}catch(y){Es||(Es=!0,l("React instrumentation encountered an error: %s",y))}}function vL(s){if(ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(Vc,s)}catch(a){Es||(Es=!0,l("React instrumentation encountered an error: %s",a))}}function yL(s){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(Vc,s)}catch(a){Es||(Es=!0,l("React instrumentation encountered an error: %s",a))}}function Nr(s){if(typeof dL=="function"&&(hL(s),o(s)),ai&&typeof ai.setStrictMode=="function")try{ai.setStrictMode(Vc,s)}catch(a){Es||(Es=!0,l("React instrumentation encountered an error: %s",a))}}function wL(s){Ke=s}function xL(){{for(var s=new Map,a=1,f=0;f<bw;f++){var g=_L(a);s.set(a,g),a*=2}return s}}function bL(s){Ke!==null&&typeof Ke.markCommitStarted=="function"&&Ke.markCommitStarted(s)}function rA(){Ke!==null&&typeof Ke.markCommitStopped=="function"&&Ke.markCommitStopped()}function qd(s){Ke!==null&&typeof Ke.markComponentRenderStarted=="function"&&Ke.markComponentRenderStarted(s)}function jc(){Ke!==null&&typeof Ke.markComponentRenderStopped=="function"&&Ke.markComponentRenderStopped()}function CL(s){Ke!==null&&typeof Ke.markComponentPassiveEffectMountStarted=="function"&&Ke.markComponentPassiveEffectMountStarted(s)}function EL(){Ke!==null&&typeof Ke.markComponentPassiveEffectMountStopped=="function"&&Ke.markComponentPassiveEffectMountStopped()}function DL(s){Ke!==null&&typeof Ke.markComponentPassiveEffectUnmountStarted=="function"&&Ke.markComponentPassiveEffectUnmountStarted(s)}function SL(){Ke!==null&&typeof Ke.markComponentPassiveEffectUnmountStopped=="function"&&Ke.markComponentPassiveEffectUnmountStopped()}function TL(s){Ke!==null&&typeof Ke.markComponentLayoutEffectMountStarted=="function"&&Ke.markComponentLayoutEffectMountStarted(s)}function AL(){Ke!==null&&typeof Ke.markComponentLayoutEffectMountStopped=="function"&&Ke.markComponentLayoutEffectMountStopped()}function iA(s){Ke!==null&&typeof Ke.markComponentLayoutEffectUnmountStarted=="function"&&Ke.markComponentLayoutEffectUnmountStarted(s)}function oA(){Ke!==null&&typeof Ke.markComponentLayoutEffectUnmountStopped=="function"&&Ke.markComponentLayoutEffectUnmountStopped()}function PL(s,a,f){Ke!==null&&typeof Ke.markComponentErrored=="function"&&Ke.markComponentErrored(s,a,f)}function RL(s,a,f){Ke!==null&&typeof Ke.markComponentSuspended=="function"&&Ke.markComponentSuspended(s,a,f)}function BL(s){Ke!==null&&typeof Ke.markLayoutEffectsStarted=="function"&&Ke.markLayoutEffectsStarted(s)}function kL(){Ke!==null&&typeof Ke.markLayoutEffectsStopped=="function"&&Ke.markLayoutEffectsStopped()}function ML(s){Ke!==null&&typeof Ke.markPassiveEffectsStarted=="function"&&Ke.markPassiveEffectsStarted(s)}function NL(){Ke!==null&&typeof Ke.markPassiveEffectsStopped=="function"&&Ke.markPassiveEffectsStopped()}function sA(s){Ke!==null&&typeof Ke.markRenderStarted=="function"&&Ke.markRenderStarted(s)}function OL(){Ke!==null&&typeof Ke.markRenderYielded=="function"&&Ke.markRenderYielded()}function aA(){Ke!==null&&typeof Ke.markRenderStopped=="function"&&Ke.markRenderStopped()}function FL(s){Ke!==null&&typeof Ke.markRenderScheduled=="function"&&Ke.markRenderScheduled(s)}function LL(s,a){Ke!==null&&typeof Ke.markForceUpdateScheduled=="function"&&Ke.markForceUpdateScheduled(s,a)}function xw(s,a){Ke!==null&&typeof Ke.markStateUpdateScheduled=="function"&&Ke.markStateUpdateScheduled(s,a)}var wt=0,Jt=1,bn=2,sr=8,Ds=16,uA=Math.clz32?Math.clz32:GL,IL=Math.log,HL=Math.LN2;function GL(s){var a=s>>>0;return a===0?32:31-(IL(a)/HL|0)|0}var bw=31,Me=0,Or=0,Mt=1,zc=2,ua=4,pl=8,Ss=16,Zd=32,$c=4194240,Qd=64,Cw=128,Ew=256,Dw=512,Sw=1024,Tw=2048,Aw=4096,Pw=8192,Rw=16384,Bw=32768,kw=65536,Mw=131072,Nw=262144,Ow=524288,Fw=1048576,Lw=2097152,mm=130023424,Uc=4194304,Iw=8388608,Hw=16777216,Gw=33554432,_w=67108864,lA=Uc,Jd=134217728,cA=268435455,eh=268435456,ml=536870912,So=1073741824;function _L(s){{if(s&Mt)return"Sync";if(s&zc)return"InputContinuousHydration";if(s&ua)return"InputContinuous";if(s&pl)return"DefaultHydration";if(s&Ss)return"Default";if(s&Zd)return"TransitionHydration";if(s&$c)return"Transition";if(s&mm)return"Retry";if(s&Jd)return"SelectiveHydration";if(s&eh)return"IdleHydration";if(s&ml)return"Idle";if(s&So)return"Offscreen"}}var Hn=-1,vm=Qd,ym=Uc;function th(s){switch(vl(s)){case Mt:return Mt;case zc:return zc;case ua:return ua;case pl:return pl;case Ss:return Ss;case Zd:return Zd;case Qd:case Cw:case Ew:case Dw:case Sw:case Tw:case Aw:case Pw:case Rw:case Bw:case kw:case Mw:case Nw:case Ow:case Fw:case Lw:return s&$c;case Uc:case Iw:case Hw:case Gw:case _w:return s&mm;case Jd:return Jd;case eh:return eh;case ml:return ml;case So:return So;default:return l("Should have found matching lanes. This is a bug in React."),s}}function wm(s,a){var f=s.pendingLanes;if(f===Me)return Me;var g=Me,y=s.suspendedLanes,x=s.pingedLanes,D=f&cA;if(D!==Me){var A=D&~y;if(A!==Me)g=th(A);else{var M=D&x;M!==Me&&(g=th(M))}}else{var j=f&~y;j!==Me?g=th(j):x!==Me&&(g=th(x))}if(g===Me)return Me;if(a!==Me&&a!==g&&(a&y)===Me){var W=vl(g),se=vl(a);if(W>=se||W===Ss&&(se&$c)!==Me)return a}(g&ua)!==Me&&(g|=f&Ss);var oe=s.entangledLanes;if(oe!==Me)for(var pe=s.entanglements,we=g&oe;we>0;){var De=yl(we),We=1<<De;g|=pe[De],we&=~We}return g}function VL(s,a){for(var f=s.eventTimes,g=Hn;a>0;){var y=yl(a),x=1<<y,D=f[y];D>g&&(g=D),a&=~x}return g}function jL(s,a){switch(s){case Mt:case zc:case ua:return a+250;case pl:case Ss:case Zd:case Qd:case Cw:case Ew:case Dw:case Sw:case Tw:case Aw:case Pw:case Rw:case Bw:case kw:case Mw:case Nw:case Ow:case Fw:case Lw:return a+5e3;case Uc:case Iw:case Hw:case Gw:case _w:return Hn;case Jd:case eh:case ml:case So:return Hn;default:return l("Should have found matching lanes. This is a bug in React."),Hn}}function zL(s,a){for(var f=s.pendingLanes,g=s.suspendedLanes,y=s.pingedLanes,x=s.expirationTimes,D=f;D>0;){var A=yl(D),M=1<<A,j=x[A];j===Hn?((M&g)===Me||(M&y)!==Me)&&(x[A]=jL(M,a)):j<=a&&(s.expiredLanes|=M),D&=~M}}function $L(s){return th(s.pendingLanes)}function Vw(s){var a=s.pendingLanes&-1073741825;return a!==Me?a:a&So?So:Me}function UL(s){return(s&Mt)!==Me}function jw(s){return(s&cA)!==Me}function fA(s){return(s&mm)===s}function WL(s){var a=Mt|ua|Ss;return(s&a)===Me}function XL(s){return(s&$c)===s}function xm(s,a){var f=zc|ua|pl|Ss;return(a&f)!==Me}function YL(s,a){return(a&s.expiredLanes)!==Me}function dA(s){return(s&$c)!==Me}function hA(){var s=vm;return vm<<=1,(vm&$c)===Me&&(vm=Qd),s}function KL(){var s=ym;return ym<<=1,(ym&mm)===Me&&(ym=Uc),s}function vl(s){return s&-s}function nh(s){return vl(s)}function yl(s){return 31-uA(s)}function zw(s){return yl(s)}function no(s,a){return(s&a)!==Me}function Wc(s,a){return(s&a)===a}function zt(s,a){return s|a}function bm(s,a){return s&~a}function gA(s,a){return s&a}function xfe(s){return s}function qL(s,a){return s!==Or&&s<a?s:a}function $w(s){for(var a=[],f=0;f<bw;f++)a.push(s);return a}function rh(s,a,f){s.pendingLanes|=a,a!==ml&&(s.suspendedLanes=Me,s.pingedLanes=Me);var g=s.eventTimes,y=zw(a);g[y]=f}function ZL(s,a){s.suspendedLanes|=a,s.pingedLanes&=~a;for(var f=s.expirationTimes,g=a;g>0;){var y=yl(g),x=1<<y;f[y]=Hn,g&=~x}}function pA(s,a,f){s.pingedLanes|=s.suspendedLanes&a}function QL(s,a){var f=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=Me,s.pingedLanes=Me,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a;for(var g=s.entanglements,y=s.eventTimes,x=s.expirationTimes,D=f;D>0;){var A=yl(D),M=1<<A;g[A]=Me,y[A]=Hn,x[A]=Hn,D&=~M}}function Uw(s,a){for(var f=s.entangledLanes|=a,g=s.entanglements,y=f;y;){var x=yl(y),D=1<<x;D&a|g[x]&a&&(g[x]|=a),y&=~D}}function JL(s,a){var f=vl(a),g;switch(f){case ua:g=zc;break;case Ss:g=pl;break;case Qd:case Cw:case Ew:case Dw:case Sw:case Tw:case Aw:case Pw:case Rw:case Bw:case kw:case Mw:case Nw:case Ow:case Fw:case Lw:case Uc:case Iw:case Hw:case Gw:case _w:g=Zd;break;case ml:g=eh;break;default:g=Or;break}return(g&(s.suspendedLanes|a))!==Or?Or:g}function mA(s,a,f){if(Ko)for(var g=s.pendingUpdatersLaneMap;f>0;){var y=zw(f),x=1<<y,D=g[y];D.add(a),f&=~x}}function vA(s,a){if(Ko)for(var f=s.pendingUpdatersLaneMap,g=s.memoizedUpdaters;a>0;){var y=zw(a),x=1<<y,D=f[y];D.size>0&&(D.forEach(function(A){var M=A.alternate;(M===null||!g.has(M))&&g.add(A)}),D.clear()),a&=~x}}function yA(s,a){return null}var ro=Mt,la=ua,ca=Ss,Cm=ml,ih=Or;function qo(){return ih}function Fr(s){ih=s}function eI(s,a){var f=ih;try{return ih=s,a()}finally{ih=f}}function tI(s,a){return s!==0&&s<a?s:a}function nI(s,a){return s>a?s:a}function Ww(s,a){return s!==0&&s<a}function wA(s){var a=vl(s);return Ww(ro,a)?Ww(la,a)?jw(a)?ca:Cm:la:ro}function Em(s){var a=s.current.memoizedState;return a.isDehydrated}var xA;function rI(s){xA=s}function iI(s){xA(s)}var Xw;function oI(s){Xw=s}var bA;function sI(s){bA=s}var CA;function aI(s){CA=s}var EA;function uI(s){EA=s}var Yw=!1,Dm=[],Za=null,Qa=null,Ja=null,oh=new Map,sh=new Map,eu=[],lI=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function cI(s){return lI.indexOf(s)>-1}function fI(s,a,f,g,y){return{blockedOn:s,domEventName:a,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]}}function DA(s,a){switch(s){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":{var f=a.pointerId;oh.delete(f);break}case"gotpointercapture":case"lostpointercapture":{var g=a.pointerId;sh.delete(g);break}}}function ah(s,a,f,g,y,x){if(s===null||s.nativeEvent!==x){var D=fI(a,f,g,y,x);if(a!==null){var A=ru(a);A!==null&&Xw(A)}return D}s.eventSystemFlags|=g;var M=s.targetContainers;return y!==null&&M.indexOf(y)===-1&&M.push(y),s}function dI(s,a,f,g,y){switch(a){case"focusin":{var x=y;return Za=ah(Za,s,a,f,g,x),!0}case"dragenter":{var D=y;return Qa=ah(Qa,s,a,f,g,D),!0}case"mouseover":{var A=y;return Ja=ah(Ja,s,a,f,g,A),!0}case"pointerover":{var M=y,j=M.pointerId;return oh.set(j,ah(oh.get(j)||null,s,a,f,g,M)),!0}case"gotpointercapture":{var W=y,se=W.pointerId;return sh.set(se,ah(sh.get(se)||null,s,a,f,g,W)),!0}}return!1}function SA(s){var a=bl(s.target);if(a!==null){var f=hl(a);if(f!==null){var g=f.tag;if(g===I){var y=KT(f);if(y!==null){s.blockedOn=y,EA(s.priority,function(){bA(f)});return}}else if(g===m){var x=f.stateNode;if(Em(x)){s.blockedOn=qT(f);return}}}}s.blockedOn=null}function hI(s){for(var a=CA(),f={blockedOn:null,target:s,priority:a},g=0;g<eu.length&&Ww(a,eu[g].priority);g++);eu.splice(g,0,f),g===0&&SA(f)}function Sm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;a.length>0;){var f=a[0],g=Zw(s.domEventName,s.eventSystemFlags,f,s.nativeEvent);if(g===null){var y=s.nativeEvent,x=new y.constructor(y.type,y);_F(x),y.target.dispatchEvent(x),VF()}else{var D=ru(g);return D!==null&&Xw(D),s.blockedOn=g,!1}a.shift()}return!0}function TA(s,a,f){Sm(s)&&f.delete(a)}function gI(){Yw=!1,Za!==null&&Sm(Za)&&(Za=null),Qa!==null&&Sm(Qa)&&(Qa=null),Ja!==null&&Sm(Ja)&&(Ja=null),oh.forEach(TA),sh.forEach(TA)}function uh(s,a){s.blockedOn===a&&(s.blockedOn=null,Yw||(Yw=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gI)))}function lh(s){if(Dm.length>0){uh(Dm[0],s);for(var a=1;a<Dm.length;a++){var f=Dm[a];f.blockedOn===s&&(f.blockedOn=null)}}Za!==null&&uh(Za,s),Qa!==null&&uh(Qa,s),Ja!==null&&uh(Ja,s);var g=function(A){return uh(A,s)};oh.forEach(g),sh.forEach(g);for(var y=0;y<eu.length;y++){var x=eu[y];x.blockedOn===s&&(x.blockedOn=null)}for(;eu.length>0;){var D=eu[0];if(D.blockedOn!==null)break;SA(D),D.blockedOn===null&&eu.shift()}}var Xc=r.ReactCurrentBatchConfig,Kw=!0;function AA(s){Kw=!!s}function pI(){return Kw}function mI(s,a,f){var g=PA(a),y;switch(g){case ro:y=vI;break;case la:y=yI;break;case ca:default:y=qw;break}return y.bind(null,a,f,s)}function vI(s,a,f,g){var y=qo(),x=Xc.transition;Xc.transition=null;try{Fr(ro),qw(s,a,f,g)}finally{Fr(y),Xc.transition=x}}function yI(s,a,f,g){var y=qo(),x=Xc.transition;Xc.transition=null;try{Fr(la),qw(s,a,f,g)}finally{Fr(y),Xc.transition=x}}function qw(s,a,f,g){Kw&&wI(s,a,f,g)}function wI(s,a,f,g){var y=Zw(s,a,f,g);if(y===null){fx(s,a,g,Tm,f),DA(s,g);return}if(dI(y,s,a,f,g)){g.stopPropagation();return}if(DA(s,g),a&Ud&&cI(s)){for(;y!==null;){var x=ru(y);x!==null&&iI(x);var D=Zw(s,a,f,g);if(D===null&&fx(s,a,g,Tm,f),D===y)break;y=D}y!==null&&g.stopPropagation();return}fx(s,a,g,null,f)}var Tm=null;function Zw(s,a,f,g){Tm=null;var y=rw(g),x=bl(y);if(x!==null){var D=hl(x);if(D===null)x=null;else{var A=D.tag;if(A===I){var M=KT(D);if(M!==null)return M;x=null}else if(A===m){var j=D.stateNode;if(Em(j))return qT(D);x=null}else D!==x&&(x=null)}}return Tm=x,null}function PA(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return ro;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return la;case"message":{var a=cL();switch(a){case pm:return ro;case yw:return la;case gl:case fL:return ca;case ww:return Cm;default:return ca}}default:return ca}}function xI(s,a,f){return s.addEventListener(a,f,!1),f}function bI(s,a,f){return s.addEventListener(a,f,!0),f}function CI(s,a,f,g){return s.addEventListener(a,f,{capture:!0,passive:g}),f}function EI(s,a,f,g){return s.addEventListener(a,f,{passive:g}),f}var ch=null,Qw=null,fh=null;function DI(s){return ch=s,Qw=BA(),!0}function SI(){ch=null,Qw=null,fh=null}function RA(){if(fh)return fh;var s,a=Qw,f=a.length,g,y=BA(),x=y.length;for(s=0;s<f&&a[s]===y[s];s++);var D=f-s;for(g=1;g<=D&&a[f-g]===y[x-g];g++);var A=g>1?1-g:void 0;return fh=y.slice(s,A),fh}function BA(){return"value"in ch?ch.value:ch.textContent}function Am(s){var a,f=s.keyCode;return"charCode"in s?(a=s.charCode,a===0&&f===13&&(a=13)):a=f,a===10&&(a=13),a>=32||a===13?a:0}function Pm(){return!0}function kA(){return!1}function io(s){function a(f,g,y,x,D){this._reactName=f,this._targetInst=y,this.type=g,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var A in s)if(s.hasOwnProperty(A)){var M=s[A];M?this[A]=M(x):this[A]=x[A]}var j=x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1;return j?this.isDefaultPrevented=Pm:this.isDefaultPrevented=kA,this.isPropagationStopped=kA,this}return Wt(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Pm)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Pm)},persist:function(){},isPersistent:Pm}),a}var Yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jw=io(Yc),dh=Wt({},Yc,{view:0,detail:0}),TI=io(dh),ex,tx,hh;function AI(s){s!==hh&&(hh&&s.type==="mousemove"?(ex=s.screenX-hh.screenX,tx=s.screenY-hh.screenY):(ex=0,tx=0),hh=s)}var Rm=Wt({},dh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rx,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(AI(s),ex)},movementY:function(s){return"movementY"in s?s.movementY:tx}}),MA=io(Rm),PI=Wt({},Rm,{dataTransfer:0}),RI=io(PI),BI=Wt({},dh,{relatedTarget:0}),nx=io(BI),kI=Wt({},Yc,{animationName:0,elapsedTime:0,pseudoElement:0}),MI=io(kI),NI=Wt({},Yc,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),OI=io(NI),FI=Wt({},Yc,{data:0}),NA=io(FI),LI=NA,II={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function GI(s){if(s.key){var a=II[s.key]||s.key;if(a!=="Unidentified")return a}if(s.type==="keypress"){var f=Am(s);return f===13?"Enter":String.fromCharCode(f)}return s.type==="keydown"||s.type==="keyup"?HI[s.keyCode]||"Unidentified":""}var _I={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VI(s){var a=this,f=a.nativeEvent;if(f.getModifierState)return f.getModifierState(s);var g=_I[s];return g?!!f[g]:!1}function rx(s){return VI}var jI=Wt({},dh,{key:GI,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rx,charCode:function(s){return s.type==="keypress"?Am(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Am(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),zI=io(jI),$I=Wt({},Rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OA=io($I),UI=Wt({},dh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rx}),WI=io(UI),XI=Wt({},Yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),YI=io(XI),KI=Wt({},Rm,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qI=io(KI),ZI=[9,13,27,32],FA=229,ix=me&&"CompositionEvent"in window,gh=null;me&&"documentMode"in document&&(gh=document.documentMode);var QI=me&&"TextEvent"in window&&!gh,LA=me&&(!ix||gh&&gh>8&&gh<=11),IA=32,HA=String.fromCharCode(IA);function JI(){Z("onBeforeInput",["compositionend","keypress","textInput","paste"]),Z("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),Z("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),Z("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var GA=!1;function eH(s){return(s.ctrlKey||s.altKey||s.metaKey)&&!(s.ctrlKey&&s.altKey)}function tH(s){switch(s){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function nH(s,a){return s==="keydown"&&a.keyCode===FA}function _A(s,a){switch(s){case"keyup":return ZI.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==FA;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VA(s){var a=s.detail;return typeof a=="object"&&"data"in a?a.data:null}function jA(s){return s.locale==="ko"}var Kc=!1;function rH(s,a,f,g,y){var x,D;if(ix?x=tH(a):Kc?_A(a,g)&&(x="onCompositionEnd"):nH(a,g)&&(x="onCompositionStart"),!x)return null;LA&&!jA(g)&&(!Kc&&x==="onCompositionStart"?Kc=DI(y):x==="onCompositionEnd"&&Kc&&(D=RA()));var A=Om(f,x);if(A.length>0){var M=new NA(x,a,null,g,y);if(s.push({event:M,listeners:A}),D)M.data=D;else{var j=VA(g);j!==null&&(M.data=j)}}}function iH(s,a){switch(s){case"compositionend":return VA(a);case"keypress":var f=a.which;return f!==IA?null:(GA=!0,HA);case"textInput":var g=a.data;return g===HA&&GA?null:g;default:return null}}function oH(s,a){if(Kc){if(s==="compositionend"||!ix&&_A(s,a)){var f=RA();return SI(),Kc=!1,f}return null}switch(s){case"paste":return null;case"keypress":if(!eH(a)){if(a.char&&a.char.length>1)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return LA&&!jA(a)?null:a.data;default:return null}}function sH(s,a,f,g,y){var x;if(QI?x=iH(a,g):x=oH(a,g),!x)return null;var D=Om(f,"onBeforeInput");if(D.length>0){var A=new LI("onBeforeInput","beforeinput",null,g,y);s.push({event:A,listeners:D}),A.data=x}}function aH(s,a,f,g,y,x,D){rH(s,a,f,g,y),sH(s,a,f,g,y)}var uH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zA(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!uH[s.type]:a==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function lH(s){if(!me)return!1;var a="on"+s,f=a in document;if(!f){var g=document.createElement("div");g.setAttribute(a,"return;"),f=typeof g[a]=="function"}return f}function cH(){Z("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function $A(s,a,f,g){_T(g);var y=Om(a,"onChange");if(y.length>0){var x=new Jw("onChange","change",null,f,g);s.push({event:x,listeners:y})}}var ph=null,mh=null;function fH(s){var a=s.nodeName&&s.nodeName.toLowerCase();return a==="select"||a==="input"&&s.type==="file"}function dH(s){var a=[];$A(a,mh,s,rw(s)),$T(hH,a)}function hH(s){uP(s,0)}function Bm(s){var a=tf(s);if(Gd(a))return s}function gH(s,a){if(s==="change")return a}var UA=!1;me&&(UA=lH("input")&&(!document.documentMode||document.documentMode>9));function pH(s,a){ph=s,mh=a,ph.attachEvent("onpropertychange",XA)}function WA(){ph&&(ph.detachEvent("onpropertychange",XA),ph=null,mh=null)}function XA(s){s.propertyName==="value"&&Bm(mh)&&dH(s)}function mH(s,a,f){s==="focusin"?(WA(),pH(a,f)):s==="focusout"&&WA()}function vH(s,a){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bm(mh)}function yH(s){var a=s.nodeName;return a&&a.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")}function wH(s,a){if(s==="click")return Bm(a)}function xH(s,a){if(s==="input"||s==="change")return Bm(a)}function bH(s){var a=s._wrapperState;!a||!a.controlled||s.type!=="number"||xt(s,"number",s.value)}function CH(s,a,f,g,y,x,D){var A=f?tf(f):window,M,j;if(fH(A)?M=gH:zA(A)?UA?M=xH:(M=vH,j=mH):yH(A)&&(M=wH),M){var W=M(a,f);if(W){$A(s,W,g,y);return}}j&&j(a,A,f),a==="focusout"&&bH(A)}function EH(){de("onMouseEnter",["mouseout","mouseover"]),de("onMouseLeave",["mouseout","mouseover"]),de("onPointerEnter",["pointerout","pointerover"]),de("onPointerLeave",["pointerout","pointerover"])}function DH(s,a,f,g,y,x,D){var A=a==="mouseover"||a==="pointerover",M=a==="mouseout"||a==="pointerout";if(A&&!jF(g)){var j=g.relatedTarget||g.fromElement;if(j&&(bl(j)||kh(j)))return}if(!(!M&&!A)){var W;if(y.window===y)W=y;else{var se=y.ownerDocument;se?W=se.defaultView||se.parentWindow:W=window}var oe,pe;if(M){var we=g.relatedTarget||g.toElement;if(oe=f,pe=we?bl(we):null,pe!==null){var De=hl(pe);(pe!==De||pe.tag!==w&&pe.tag!==b)&&(pe=null)}}else oe=null,pe=f;if(oe!==pe){var We=MA,mt="onMouseLeave",st="onMouseEnter",tn="mouse";(a==="pointerout"||a==="pointerover")&&(We=OA,mt="onPointerLeave",st="onPointerEnter",tn="pointer");var Yt=oe==null?W:tf(oe),he=pe==null?W:tf(pe),Se=new We(mt,tn+"leave",oe,g,y);Se.target=Yt,Se.relatedTarget=he;var ge=null,Oe=bl(y);if(Oe===f){var Ze=new We(st,tn+"enter",pe,g,y);Ze.target=he,Ze.relatedTarget=Yt,ge=Ze}YH(s,Se,ge,oe,pe)}}}function SH(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var oo=typeof Object.is=="function"?Object.is:SH;function vh(s,a){if(oo(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var f=Object.keys(s),g=Object.keys(a);if(f.length!==g.length)return!1;for(var y=0;y<f.length;y++){var x=f[y];if(!Ce.call(a,x)||!oo(s[x],a[x]))return!1}return!0}function YA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function TH(s){for(;s;){if(s.nextSibling)return s.nextSibling;s=s.parentNode}}function KA(s,a){for(var f=YA(s),g=0,y=0;f;){if(f.nodeType===oa){if(y=g+f.textContent.length,g<=a&&y>=a)return{node:f,offset:a-g};g=y}f=YA(TH(f))}}function AH(s){var a=s.ownerDocument,f=a&&a.defaultView||window,g=f.getSelection&&f.getSelection();if(!g||g.rangeCount===0)return null;var y=g.anchorNode,x=g.anchorOffset,D=g.focusNode,A=g.focusOffset;try{y.nodeType,D.nodeType}catch{return null}return PH(s,y,x,D,A)}function PH(s,a,f,g,y){var x=0,D=-1,A=-1,M=0,j=0,W=s,se=null;e:for(;;){for(var oe=null;W===a&&(f===0||W.nodeType===oa)&&(D=x+f),W===g&&(y===0||W.nodeType===oa)&&(A=x+y),W.nodeType===oa&&(x+=W.nodeValue.length),(oe=W.firstChild)!==null;)se=W,W=oe;for(;;){if(W===s)break e;if(se===a&&++M===f&&(D=x),se===g&&++j===y&&(A=x),(oe=W.nextSibling)!==null)break;W=se,se=W.parentNode}W=oe}return D===-1||A===-1?null:{start:D,end:A}}function RH(s,a){var f=s.ownerDocument||document,g=f&&f.defaultView||window;if(g.getSelection){var y=g.getSelection(),x=s.textContent.length,D=Math.min(a.start,x),A=a.end===void 0?D:Math.min(a.end,x);if(!y.extend&&D>A){var M=A;A=D,D=M}var j=KA(s,D),W=KA(s,A);if(j&&W){if(y.rangeCount===1&&y.anchorNode===j.node&&y.anchorOffset===j.offset&&y.focusNode===W.node&&y.focusOffset===W.offset)return;var se=f.createRange();se.setStart(j.node,j.offset),y.removeAllRanges(),D>A?(y.addRange(se),y.extend(W.node,W.offset)):(se.setEnd(W.node,W.offset),y.addRange(se))}}}function qA(s){return s&&s.nodeType===oa}function ZA(s,a){return!s||!a?!1:s===a?!0:qA(s)?!1:qA(a)?ZA(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1}function BH(s){return s&&s.ownerDocument&&ZA(s.ownerDocument.documentElement,s)}function kH(s){try{return typeof s.contentWindow.location.href=="string"}catch{return!1}}function QA(){for(var s=window,a=na();a instanceof s.HTMLIFrameElement;){if(kH(a))s=a.contentWindow;else return a;a=na(s.document)}return a}function ox(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function MH(){var s=QA();return{focusedElem:s,selectionRange:ox(s)?OH(s):null}}function NH(s){var a=QA(),f=s.focusedElem,g=s.selectionRange;if(a!==f&&BH(f)){g!==null&&ox(f)&&FH(f,g);for(var y=[],x=f;x=x.parentNode;)x.nodeType===Oi&&y.push({element:x,left:x.scrollLeft,top:x.scrollTop});typeof f.focus=="function"&&f.focus();for(var D=0;D<y.length;D++){var A=y[D];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}}function OH(s){var a;return"selectionStart"in s?a={start:s.selectionStart,end:s.selectionEnd}:a=AH(s),a||{start:0,end:0}}function FH(s,a){var f=a.start,g=a.end;g===void 0&&(g=f),"selectionStart"in s?(s.selectionStart=f,s.selectionEnd=Math.min(g,s.value.length)):RH(s,a)}var LH=me&&"documentMode"in document&&document.documentMode<=11;function IH(){Z("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var qc=null,sx=null,yh=null,ax=!1;function HH(s){if("selectionStart"in s&&ox(s))return{start:s.selectionStart,end:s.selectionEnd};var a=s.ownerDocument&&s.ownerDocument.defaultView||window,f=a.getSelection();return{anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}}function GH(s){return s.window===s?s.document:s.nodeType===sa?s:s.ownerDocument}function JA(s,a,f){var g=GH(f);if(!(ax||qc==null||qc!==na(g))){var y=HH(qc);if(!yh||!vh(yh,y)){yh=y;var x=Om(sx,"onSelect");if(x.length>0){var D=new Jw("onSelect","select",null,a,f);s.push({event:D,listeners:x}),D.target=qc}}}}function _H(s,a,f,g,y,x,D){var A=f?tf(f):window;switch(a){case"focusin":(zA(A)||A.contentEditable==="true")&&(qc=A,sx=f,yh=null);break;case"focusout":qc=null,sx=null,yh=null;break;case"mousedown":ax=!0;break;case"contextmenu":case"mouseup":case"dragend":ax=!1,JA(s,g,y);break;case"selectionchange":if(LH)break;case"keydown":case"keyup":JA(s,g,y)}}function km(s,a){var f={};return f[s.toLowerCase()]=a.toLowerCase(),f["Webkit"+s]="webkit"+a,f["Moz"+s]="moz"+a,f}var Zc={animationend:km("Animation","AnimationEnd"),animationiteration:km("Animation","AnimationIteration"),animationstart:km("Animation","AnimationStart"),transitionend:km("Transition","TransitionEnd")},ux={},eP={};me&&(eP=document.createElement("div").style,"AnimationEvent"in window||(delete Zc.animationend.animation,delete Zc.animationiteration.animation,delete Zc.animationstart.animation),"TransitionEvent"in window||delete Zc.transitionend.transition);function Mm(s){if(ux[s])return ux[s];if(!Zc[s])return s;var a=Zc[s];for(var f in a)if(a.hasOwnProperty(f)&&f in eP)return ux[s]=a[f];return s}var tP=Mm("animationend"),nP=Mm("animationiteration"),rP=Mm("animationstart"),iP=Mm("transitionend"),oP=new Map,sP=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function tu(s,a){oP.set(s,a),Z(a,[s])}function VH(){for(var s=0;s<sP.length;s++){var a=sP[s],f=a.toLowerCase(),g=a[0].toUpperCase()+a.slice(1);tu(f,"on"+g)}tu(tP,"onAnimationEnd"),tu(nP,"onAnimationIteration"),tu(rP,"onAnimationStart"),tu("dblclick","onDoubleClick"),tu("focusin","onFocus"),tu("focusout","onBlur"),tu(iP,"onTransitionEnd")}function jH(s,a,f,g,y,x,D){var A=oP.get(a);if(A!==void 0){var M=Jw,j=a;switch(a){case"keypress":if(Am(g)===0)return;case"keydown":case"keyup":M=zI;break;case"focusin":j="focus",M=nx;break;case"focusout":j="blur",M=nx;break;case"beforeblur":case"afterblur":M=nx;break;case"click":if(g.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=MA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=RI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=WI;break;case tP:case nP:case rP:M=MI;break;case iP:M=YI;break;case"scroll":M=TI;break;case"wheel":M=qI;break;case"copy":case"cut":case"paste":M=OI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=OA;break}var W=(x&Ud)!==0;{var se=!W&&a==="scroll",oe=WH(f,A,g.type,W,se);if(oe.length>0){var pe=new M(A,j,null,g,y);s.push({event:pe,listeners:oe})}}}}VH(),EH(),cH(),IH(),JI();function zH(s,a,f,g,y,x,D){jH(s,a,f,g,y,x);var A=(x&GF)===0;A&&(DH(s,a,f,g,y),CH(s,a,f,g,y),_H(s,a,f,g,y),aH(s,a,f,g,y))}var wh=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],lx=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(wh));function aP(s,a,f){var g=s.type||"unknown-event";s.currentTarget=f,ZF(g,a,void 0,s),s.currentTarget=null}function $H(s,a,f){var g;if(f)for(var y=a.length-1;y>=0;y--){var x=a[y],D=x.instance,A=x.currentTarget,M=x.listener;if(D!==g&&s.isPropagationStopped())return;aP(s,M,A),g=D}else for(var j=0;j<a.length;j++){var W=a[j],se=W.instance,oe=W.currentTarget,pe=W.listener;if(se!==g&&s.isPropagationStopped())return;aP(s,pe,oe),g=se}}function uP(s,a){for(var f=(a&Ud)!==0,g=0;g<s.length;g++){var y=s[g],x=y.event,D=y.listeners;$H(x,D,f)}QF()}function UH(s,a,f,g,y){var x=rw(f),D=[];zH(D,s,g,f,x,a),uP(D,a)}function jn(s,a){lx.has(s)||l('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',s);var f=!1,g=b_(a),y=KH(s);g.has(y)||(lP(a,s,nw,f),g.add(y))}function cx(s,a,f){lx.has(s)&&!a&&l('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',s);var g=0;a&&(g|=Ud),lP(f,s,g,a)}var Nm="_reactListening"+Math.random().toString(36).slice(2);function xh(s){if(!s[Nm]){s[Nm]=!0,fe.forEach(function(f){f!=="selectionchange"&&(lx.has(f)||cx(f,!1,s),cx(f,!0,s))});var a=s.nodeType===sa?s:s.ownerDocument;a!==null&&(a[Nm]||(a[Nm]=!0,cx("selectionchange",!1,a)))}}function lP(s,a,f,g,y){var x=mI(s,a,f),D=void 0;sw&&(a==="touchstart"||a==="touchmove"||a==="wheel")&&(D=!0),s=s,g?D!==void 0?CI(s,a,x,D):bI(s,a,x):D!==void 0?EI(s,a,x,D):xI(s,a,x)}function cP(s,a){return s===a||s.nodeType===dr&&s.parentNode===a}function fx(s,a,f,g,y){var x=g;if((a&HT)===0&&(a&nw)===0){var D=y;if(g!==null){var A=g;e:for(;;){if(A===null)return;var M=A.tag;if(M===m||M===v){var j=A.stateNode.containerInfo;if(cP(j,D))break;if(M===v)for(var W=A.return;W!==null;){var se=W.tag;if(se===m||se===v){var oe=W.stateNode.containerInfo;if(cP(oe,D))return}W=W.return}for(;j!==null;){var pe=bl(j);if(pe===null)return;var we=pe.tag;if(we===w||we===b){A=x=pe;continue e}j=j.parentNode}}A=A.return}}}$T(function(){return UH(s,a,f,x)})}function bh(s,a,f){return{instance:s,listener:a,currentTarget:f}}function WH(s,a,f,g,y,x){for(var D=a!==null?a+"Capture":null,A=g?D:a,M=[],j=s,W=null;j!==null;){var se=j,oe=se.stateNode,pe=se.tag;if(pe===w&&oe!==null&&(W=oe,A!==null)){var we=Xd(j,A);we!=null&&M.push(bh(j,we,W))}if(y)break;j=j.return}return M}function Om(s,a){for(var f=a+"Capture",g=[],y=s;y!==null;){var x=y,D=x.stateNode,A=x.tag;if(A===w&&D!==null){var M=D,j=Xd(y,f);j!=null&&g.unshift(bh(y,j,M));var W=Xd(y,a);W!=null&&g.push(bh(y,W,M))}y=y.return}return g}function Qc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==w);return s||null}function XH(s,a){for(var f=s,g=a,y=0,x=f;x;x=Qc(x))y++;for(var D=0,A=g;A;A=Qc(A))D++;for(;y-D>0;)f=Qc(f),y--;for(;D-y>0;)g=Qc(g),D--;for(var M=y;M--;){if(f===g||g!==null&&f===g.alternate)return f;f=Qc(f),g=Qc(g)}return null}function fP(s,a,f,g,y){for(var x=a._reactName,D=[],A=f;A!==null&&A!==g;){var M=A,j=M.alternate,W=M.stateNode,se=M.tag;if(j!==null&&j===g)break;if(se===w&&W!==null){var oe=W;if(y){var pe=Xd(A,x);pe!=null&&D.unshift(bh(A,pe,oe))}else if(!y){var we=Xd(A,x);we!=null&&D.push(bh(A,we,oe))}}A=A.return}D.length!==0&&s.push({event:a,listeners:D})}function YH(s,a,f,g,y){var x=g&&y?XH(g,y):null;g!==null&&fP(s,a,g,x,!1),y!==null&&f!==null&&fP(s,f,y,x,!0)}function KH(s,a){return s+"__bubble"}var Fi=!1,Ch="dangerouslySetInnerHTML",Fm="suppressContentEditableWarning",nu="suppressHydrationWarning",dP="autoFocus",wl="children",xl="style",Lm="__html",dx,Im,Eh,hP,Hm,gP,pP;dx={dialog:!0,webview:!0},Im=function(s,a){MF(s,a),NF(s,a),HF(s,a,{registrationNameDependencies:Te,possibleRegistrationNames:ke})},gP=me&&!document.documentMode,Eh=function(s,a,f){if(!Fi){var g=Gm(f),y=Gm(a);y!==g&&(Fi=!0,l("Prop `%s` did not match. Server: %s Client: %s",s,JSON.stringify(y),JSON.stringify(g)))}},hP=function(s){if(!Fi){Fi=!0;var a=[];s.forEach(function(f){a.push(f)}),l("Extra attributes from the server: %s",a)}},Hm=function(s,a){a===!1?l("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",s,s,s):l("Expected `%s` listener to be a function, instead got a value of `%s` type.",s,typeof a)},pP=function(s,a){var f=s.namespaceURI===ia?s.ownerDocument.createElement(s.tagName):s.ownerDocument.createElementNS(s.namespaceURI,s.tagName);return f.innerHTML=a,f.innerHTML};var qH=/\r\n?/g,ZH=/\u0000|\uFFFD/g;function Gm(s){Dt(s);var a=typeof s=="string"?s:""+s;return a.replace(qH,`
`).replace(ZH,"")}function _m(s,a,f,g){var y=Gm(a),x=Gm(s);if(x!==y&&(g&&(Fi||(Fi=!0,l('Text content did not match. Server: "%s" Client: "%s"',x,y))),f&&k))throw new Error("Text content does not match server-rendered HTML.")}function mP(s){return s.nodeType===sa?s:s.ownerDocument}function QH(){}function Vm(s){s.onclick=QH}function JH(s,a,f,g,y){for(var x in g)if(g.hasOwnProperty(x)){var D=g[x];if(x===xl)D&&Object.freeze(D),MT(a,D);else if(x===Ch){var A=D?D[Lm]:void 0;A!=null&&AT(a,A)}else if(x===wl)if(typeof D=="string"){var M=s!=="textarea"||D!=="";M&&lm(a,D)}else typeof D=="number"&&lm(a,""+D);else x===Fm||x===nu||x===dP||(Te.hasOwnProperty(x)?D!=null&&(typeof D!="function"&&Hm(x,D),x==="onScroll"&&jn("scroll",a)):D!=null&&$o(a,x,D,y))}}function eG(s,a,f,g){for(var y=0;y<a.length;y+=2){var x=a[y],D=a[y+1];x===xl?MT(s,D):x===Ch?AT(s,D):x===wl?lm(s,D):$o(s,x,D,g)}}function tG(s,a,f,g){var y,x=mP(f),D,A=g;if(A===ia&&(A=qy(s)),A===ia){if(y=sl(s,a),!y&&s!==s.toLowerCase()&&l("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",s),s==="script"){var M=x.createElement("div");M.innerHTML="<script><\/script>";var j=M.firstChild;D=M.removeChild(j)}else if(typeof a.is=="string")D=x.createElement(s,{is:a.is});else if(D=x.createElement(s),s==="select"){var W=D;a.multiple?W.multiple=!0:a.size&&(W.size=a.size)}}else D=x.createElementNS(A,s);return A===ia&&!y&&Object.prototype.toString.call(D)==="[object HTMLUnknownElement]"&&!Ce.call(dx,s)&&(dx[s]=!0,l("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",s)),D}function nG(s,a){return mP(a).createTextNode(s)}function rG(s,a,f,g){var y=sl(a,f);Im(a,f);var x;switch(a){case"dialog":jn("cancel",s),jn("close",s),x=f;break;case"iframe":case"object":case"embed":jn("load",s),x=f;break;case"video":case"audio":for(var D=0;D<wh.length;D++)jn(wh[D],s);x=f;break;case"source":jn("error",s),x=f;break;case"img":case"image":case"link":jn("error",s),jn("load",s),x=f;break;case"details":jn("toggle",s),x=f;break;case"input":sm(s,f),x=_d(s,f),jn("invalid",s);break;case"option":xn(s,f),x=f;break;case"select":zd(s,f),x=jd(s,f),jn("invalid",s);break;case"textarea":DT(s,f),x=Yy(s,f),jn("invalid",s);break;default:x=f}switch(tw(a,x),JH(a,s,g,x,y),a){case"input":il(s),ye(s,f,!1);break;case"textarea":il(s),TT(s);break;case"option":Ln(s,f);break;case"select":Wy(s,f);break;default:typeof x.onClick=="function"&&Vm(s);break}}function iG(s,a,f,g,y){Im(a,g);var x=null,D,A;switch(a){case"input":D=_d(s,f),A=_d(s,g),x=[];break;case"select":D=jd(s,f),A=jd(s,g),x=[];break;case"textarea":D=Yy(s,f),A=Yy(s,g),x=[];break;default:D=f,A=g,typeof D.onClick!="function"&&typeof A.onClick=="function"&&Vm(s);break}tw(a,A);var M,j,W=null;for(M in D)if(!(A.hasOwnProperty(M)||!D.hasOwnProperty(M)||D[M]==null))if(M===xl){var se=D[M];for(j in se)se.hasOwnProperty(j)&&(W||(W={}),W[j]="")}else M===Ch||M===wl||M===Fm||M===nu||M===dP||(Te.hasOwnProperty(M)?x||(x=[]):(x=x||[]).push(M,null));for(M in A){var oe=A[M],pe=D!=null?D[M]:void 0;if(!(!A.hasOwnProperty(M)||oe===pe||oe==null&&pe==null))if(M===xl)if(oe&&Object.freeze(oe),pe){for(j in pe)pe.hasOwnProperty(j)&&(!oe||!oe.hasOwnProperty(j))&&(W||(W={}),W[j]="");for(j in oe)oe.hasOwnProperty(j)&&pe[j]!==oe[j]&&(W||(W={}),W[j]=oe[j])}else W||(x||(x=[]),x.push(M,W)),W=oe;else if(M===Ch){var we=oe?oe[Lm]:void 0,De=pe?pe[Lm]:void 0;we!=null&&De!==we&&(x=x||[]).push(M,we)}else M===wl?(typeof oe=="string"||typeof oe=="number")&&(x=x||[]).push(M,""+oe):M===Fm||M===nu||(Te.hasOwnProperty(M)?(oe!=null&&(typeof oe!="function"&&Hm(M,oe),M==="onScroll"&&jn("scroll",s)),!x&&pe!==oe&&(x=[])):(x=x||[]).push(M,oe))}return W&&(DF(W,A[xl]),(x=x||[]).push(xl,W)),x}function oG(s,a,f,g,y){f==="input"&&y.type==="radio"&&y.name!=null&&O(s,y);var x=sl(f,g),D=sl(f,y);switch(eG(s,a,x,D),f){case"input":K(s,y);break;case"textarea":ST(s,y);break;case"select":am(s,y);break}}function sG(s){{var a=s.toLowerCase();return cm.hasOwnProperty(a)&&cm[a]||null}}function aG(s,a,f,g,y,x,D){var A,M;switch(A=sl(a,f),Im(a,f),a){case"dialog":jn("cancel",s),jn("close",s);break;case"iframe":case"object":case"embed":jn("load",s);break;case"video":case"audio":for(var j=0;j<wh.length;j++)jn(wh[j],s);break;case"source":jn("error",s);break;case"img":case"image":case"link":jn("error",s),jn("load",s);break;case"details":jn("toggle",s);break;case"input":sm(s,f),jn("invalid",s);break;case"option":xn(s,f);break;case"select":zd(s,f),jn("invalid",s);break;case"textarea":DT(s,f),jn("invalid",s);break}tw(a,f);{M=new Set;for(var W=s.attributes,se=0;se<W.length;se++){var oe=W[se].name.toLowerCase();switch(oe){case"value":break;case"checked":break;case"selected":break;default:M.add(W[se].name)}}}var pe=null;for(var we in f)if(f.hasOwnProperty(we)){var De=f[we];if(we===wl)typeof De=="string"?s.textContent!==De&&(f[nu]!==!0&&_m(s.textContent,De,x,D),pe=[wl,De]):typeof De=="number"&&s.textContent!==""+De&&(f[nu]!==!0&&_m(s.textContent,De,x,D),pe=[wl,""+De]);else if(Te.hasOwnProperty(we))De!=null&&(typeof De!="function"&&Hm(we,De),we==="onScroll"&&jn("scroll",s));else if(D&&typeof A=="boolean"){var We=void 0,mt=ir(we);if(f[nu]!==!0){if(!(we===Fm||we===nu||we==="value"||we==="checked"||we==="selected")){if(we===Ch){var st=s.innerHTML,tn=De?De[Lm]:void 0;if(tn!=null){var Yt=pP(s,tn);Yt!==st&&Eh(we,st,Yt)}}else if(we===xl){if(M.delete(we),gP){var he=CF(De);We=s.getAttribute("style"),he!==We&&Eh(we,We,he)}}else if(A)M.delete(we.toLowerCase()),We=qu(s,we,De),De!==We&&Eh(we,We,De);else if(!Gn(we,mt,A)&&!mr(we,De,mt,A)){var Se=!1;if(mt!==null)M.delete(mt.attributeName),We=Dc(s,we,De,mt);else{var ge=g;if(ge===ia&&(ge=qy(a)),ge===ia)M.delete(we.toLowerCase());else{var Oe=sG(we);Oe!==null&&Oe!==we&&(Se=!0,M.delete(Oe)),M.delete(we)}We=qu(s,we,De)}var Ze=U;!Ze&&De!==We&&!Se&&Eh(we,We,De)}}}}}switch(D&&M.size>0&&f[nu]!==!0&&hP(M),a){case"input":il(s),ye(s,f,!0);break;case"textarea":il(s),TT(s);break;case"select":case"option":break;default:typeof f.onClick=="function"&&Vm(s);break}return pe}function uG(s,a,f){var g=s.nodeValue!==a;return g}function hx(s,a){{if(Fi)return;Fi=!0,l("Did not expect server HTML to contain a <%s> in <%s>.",a.nodeName.toLowerCase(),s.nodeName.toLowerCase())}}function gx(s,a){{if(Fi)return;Fi=!0,l('Did not expect server HTML to contain the text node "%s" in <%s>.',a.nodeValue,s.nodeName.toLowerCase())}}function px(s,a,f){{if(Fi)return;Fi=!0,l("Expected server HTML to contain a matching <%s> in <%s>.",a,s.nodeName.toLowerCase())}}function mx(s,a){{if(a===""||Fi)return;Fi=!0,l('Expected server HTML to contain a matching text node for "%s" in <%s>.',a,s.nodeName.toLowerCase())}}function lG(s,a,f){switch(a){case"input":Ee(s,f);return;case"textarea":rF(s,f);return;case"select":Xy(s,f);return}}var Dh=function(){},Sh=function(){};{var cG=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],vP=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],fG=vP.concat(["button"]),dG=["dd","dt","li","option","optgroup","p","rp","rt"],yP={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Sh=function(s,a){var f=Wt({},s||yP),g={tag:a};return vP.indexOf(a)!==-1&&(f.aTagInScope=null,f.buttonTagInScope=null,f.nobrTagInScope=null),fG.indexOf(a)!==-1&&(f.pTagInButtonScope=null),cG.indexOf(a)!==-1&&a!=="address"&&a!=="div"&&a!=="p"&&(f.listItemTagAutoclosing=null,f.dlItemTagAutoclosing=null),f.current=g,a==="form"&&(f.formTag=g),a==="a"&&(f.aTagInScope=g),a==="button"&&(f.buttonTagInScope=g),a==="nobr"&&(f.nobrTagInScope=g),a==="p"&&(f.pTagInButtonScope=g),a==="li"&&(f.listItemTagAutoclosing=g),(a==="dd"||a==="dt")&&(f.dlItemTagAutoclosing=g),f};var hG=function(s,a){switch(a){case"select":return s==="option"||s==="optgroup"||s==="#text";case"optgroup":return s==="option"||s==="#text";case"option":return s==="#text";case"tr":return s==="th"||s==="td"||s==="style"||s==="script"||s==="template";case"tbody":case"thead":case"tfoot":return s==="tr"||s==="style"||s==="script"||s==="template";case"colgroup":return s==="col"||s==="template";case"table":return s==="caption"||s==="colgroup"||s==="tbody"||s==="tfoot"||s==="thead"||s==="style"||s==="script"||s==="template";case"head":return s==="base"||s==="basefont"||s==="bgsound"||s==="link"||s==="meta"||s==="title"||s==="noscript"||s==="noframes"||s==="style"||s==="script"||s==="template";case"html":return s==="head"||s==="body"||s==="frameset";case"frameset":return s==="frame";case"#document":return s==="html"}switch(s){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a!=="h1"&&a!=="h2"&&a!=="h3"&&a!=="h4"&&a!=="h5"&&a!=="h6";case"rp":case"rt":return dG.indexOf(a)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return a==null}return!0},gG=function(s,a){switch(s){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return a.pTagInButtonScope;case"form":return a.formTag||a.pTagInButtonScope;case"li":return a.listItemTagAutoclosing;case"dd":case"dt":return a.dlItemTagAutoclosing;case"button":return a.buttonTagInScope;case"a":return a.aTagInScope;case"nobr":return a.nobrTagInScope}return null},wP={};Dh=function(s,a,f){f=f||yP;var g=f.current,y=g&&g.tag;a!=null&&(s!=null&&l("validateDOMNesting: when childText is passed, childTag should be null"),s="#text");var x=hG(s,y)?null:g,D=x?null:gG(s,f),A=x||D;if(A){var M=A.tag,j=!!x+"|"+s+"|"+M;if(!wP[j]){wP[j]=!0;var W=s,se="";if(s==="#text"?/\S/.test(a)?W="Text nodes":(W="Whitespace text nodes",se=" Make sure you don't have any extra whitespace between tags on each line of your source code."):W="<"+s+">",x){var oe="";M==="table"&&s==="tr"&&(oe+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),l("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",W,M,se,oe)}else l("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",W,M)}}}}var jm="suppressHydrationWarning",zm="$",$m="/$",Th="$?",Ah="$!",pG="style",vx=null,yx=null;function mG(s){var a,f,g=s.nodeType;switch(g){case sa:case Qy:{a=g===sa?"#document":"#fragment";var y=s.documentElement;f=y?y.namespaceURI:Zy(null,"");break}default:{var x=g===dr?s.parentNode:s,D=x.namespaceURI||null;a=x.tagName,f=Zy(D,a);break}}{var A=a.toLowerCase(),M=Sh(null,A);return{namespace:f,ancestorInfo:M}}}function vG(s,a,f){{var g=s,y=Zy(g.namespace,a),x=Sh(g.ancestorInfo,a);return{namespace:y,ancestorInfo:x}}}function bfe(s){return s}function yG(s){vx=pI(),yx=MH();var a=null;return AA(!1),a}function wG(s){NH(yx),AA(vx),vx=null,yx=null}function xG(s,a,f,g,y){var x;{var D=g;if(Dh(s,null,D.ancestorInfo),typeof a.children=="string"||typeof a.children=="number"){var A=""+a.children,M=Sh(D.ancestorInfo,s);Dh(null,A,M)}x=D.namespace}var j=tG(s,a,f,x);return Bh(y,j),Tx(j,a),j}function bG(s,a){s.appendChild(a)}function CG(s,a,f,g,y){switch(rG(s,a,f,g),a){case"button":case"input":case"select":case"textarea":return!!f.autoFocus;case"img":return!0;default:return!1}}function EG(s,a,f,g,y,x){{var D=x;if(typeof g.children!=typeof f.children&&(typeof g.children=="string"||typeof g.children=="number")){var A=""+g.children,M=Sh(D.ancestorInfo,a);Dh(null,A,M)}}return iG(s,a,f,g)}function wx(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}function DG(s,a,f,g){{var y=f;Dh(null,s,y.ancestorInfo)}var x=nG(s,a);return Bh(g,x),x}function SG(){var s=window.event;return s===void 0?ca:PA(s.type)}var xx=typeof setTimeout=="function"?setTimeout:void 0,TG=typeof clearTimeout=="function"?clearTimeout:void 0,bx=-1,xP=typeof Promise=="function"?Promise:void 0,AG=typeof queueMicrotask=="function"?queueMicrotask:typeof xP<"u"?function(s){return xP.resolve(null).then(s).catch(PG)}:xx;function PG(s){setTimeout(function(){throw s})}function RG(s,a,f,g){switch(a){case"button":case"input":case"select":case"textarea":f.autoFocus&&s.focus();return;case"img":{f.src&&(s.src=f.src);return}}}function BG(s,a,f,g,y,x){oG(s,a,f,g,y),Tx(s,y)}function bP(s){lm(s,"")}function kG(s,a,f){s.nodeValue=f}function MG(s,a){s.appendChild(a)}function NG(s,a){var f;s.nodeType===dr?(f=s.parentNode,f.insertBefore(a,s)):(f=s,f.appendChild(a));var g=s._reactRootContainer;g==null&&f.onclick===null&&Vm(f)}function OG(s,a,f){s.insertBefore(a,f)}function FG(s,a,f){s.nodeType===dr?s.parentNode.insertBefore(a,f):s.insertBefore(a,f)}function LG(s,a){s.removeChild(a)}function IG(s,a){s.nodeType===dr?s.parentNode.removeChild(a):s.removeChild(a)}function Cx(s,a){var f=a,g=0;do{var y=f.nextSibling;if(s.removeChild(f),y&&y.nodeType===dr){var x=y.data;if(x===$m)if(g===0){s.removeChild(y),lh(a);return}else g--;else(x===zm||x===Th||x===Ah)&&g++}f=y}while(f);lh(a)}function HG(s,a){s.nodeType===dr?Cx(s.parentNode,a):s.nodeType===Oi&&Cx(s,a),lh(s)}function GG(s){s=s;var a=s.style;typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"}function _G(s){s.nodeValue=""}function VG(s,a){s=s;var f=a[pG],g=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=Jy("display",g)}function jG(s,a){s.nodeValue=a}function zG(s){s.nodeType===Oi?s.textContent="":s.nodeType===sa&&s.documentElement&&s.removeChild(s.documentElement)}function $G(s,a,f){return s.nodeType!==Oi||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s}function UG(s,a){return a===""||s.nodeType!==oa?null:s}function WG(s){return s.nodeType!==dr?null:s}function CP(s){return s.data===Th}function Ex(s){return s.data===Ah}function XG(s){var a=s.nextSibling&&s.nextSibling.dataset,f,g,y;return a&&(f=a.dgst,g=a.msg,y=a.stck),{message:g,digest:f,stack:y}}function YG(s,a){s._reactRetry=a}function Um(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===Oi||a===oa)break;if(a===dr){var f=s.data;if(f===zm||f===Ah||f===Th)break;if(f===$m)return null}}return s}function Ph(s){return Um(s.nextSibling)}function KG(s){return Um(s.firstChild)}function qG(s){return Um(s.firstChild)}function ZG(s){return Um(s.nextSibling)}function QG(s,a,f,g,y,x,D){Bh(x,s),Tx(s,f);var A;{var M=y;A=M.namespace}var j=(x.mode&Jt)!==wt;return aG(s,a,f,A,g,j,D)}function JG(s,a,f,g){return Bh(f,s),f.mode&Jt,uG(s,a)}function e_(s,a){Bh(a,s)}function t_(s){for(var a=s.nextSibling,f=0;a;){if(a.nodeType===dr){var g=a.data;if(g===$m){if(f===0)return Ph(a);f--}else(g===zm||g===Ah||g===Th)&&f++}a=a.nextSibling}return null}function EP(s){for(var a=s.previousSibling,f=0;a;){if(a.nodeType===dr){var g=a.data;if(g===zm||g===Ah||g===Th){if(f===0)return a;f--}else g===$m&&f++}a=a.previousSibling}return null}function n_(s){lh(s)}function r_(s){lh(s)}function i_(s){return s!=="head"&&s!=="body"}function o_(s,a,f,g){var y=!0;_m(a.nodeValue,f,g,y)}function s_(s,a,f,g,y,x){if(a[jm]!==!0){var D=!0;_m(g.nodeValue,y,x,D)}}function a_(s,a){a.nodeType===Oi?hx(s,a):a.nodeType===dr||gx(s,a)}function u_(s,a){{var f=s.parentNode;f!==null&&(a.nodeType===Oi?hx(f,a):a.nodeType===dr||gx(f,a))}}function l_(s,a,f,g,y){(y||a[jm]!==!0)&&(g.nodeType===Oi?hx(f,g):g.nodeType===dr||gx(f,g))}function c_(s,a,f){px(s,a)}function f_(s,a){mx(s,a)}function d_(s,a,f){{var g=s.parentNode;g!==null&&px(g,a)}}function h_(s,a){{var f=s.parentNode;f!==null&&mx(f,a)}}function g_(s,a,f,g,y,x){(x||a[jm]!==!0)&&px(f,g)}function p_(s,a,f,g,y){(y||a[jm]!==!0)&&mx(f,g)}function m_(s){l("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",s.nodeName.toLowerCase())}function v_(s){xh(s)}var Jc=Math.random().toString(36).slice(2),ef="__reactFiber$"+Jc,Dx="__reactProps$"+Jc,Rh="__reactContainer$"+Jc,Sx="__reactEvents$"+Jc,y_="__reactListeners$"+Jc,w_="__reactHandles$"+Jc;function x_(s){delete s[ef],delete s[Dx],delete s[Sx],delete s[y_],delete s[w_]}function Bh(s,a){a[ef]=s}function Wm(s,a){a[Rh]=s}function DP(s){s[Rh]=null}function kh(s){return!!s[Rh]}function bl(s){var a=s[ef];if(a)return a;for(var f=s.parentNode;f;){if(a=f[Rh]||f[ef],a){var g=a.alternate;if(a.child!==null||g!==null&&g.child!==null)for(var y=EP(s);y!==null;){var x=y[ef];if(x)return x;y=EP(y)}return a}s=f,f=s.parentNode}return null}function ru(s){var a=s[ef]||s[Rh];return a&&(a.tag===w||a.tag===b||a.tag===I||a.tag===m)?a:null}function tf(s){if(s.tag===w||s.tag===b)return s.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function Xm(s){return s[Dx]||null}function Tx(s,a){s[Dx]=a}function b_(s){var a=s[Sx];return a===void 0&&(a=s[Sx]=new Set),a}var SP={},TP=r.ReactDebugCurrentFrame;function Ym(s){if(s){var a=s._owner,f=Od(s.type,s._source,a?a.type:null);TP.setExtraStackFrame(f)}else TP.setExtraStackFrame(null)}function Zo(s,a,f,g,y){{var x=Function.call.bind(Ce);for(var D in s)if(x(s,D)){var A=void 0;try{if(typeof s[D]!="function"){var M=Error((g||"React class")+": "+f+" type `"+D+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[D]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw M.name="Invariant Violation",M}A=s[D](a,D,g,f,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(j){A=j}A&&!(A instanceof Error)&&(Ym(y),l("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",f,D,typeof A),Ym(null)),A instanceof Error&&!(A.message in SP)&&(SP[A.message]=!0,Ym(y),l("Failed %s type: %s",f,A.message),Ym(null))}}}var Ax=[],Km;Km=[];var fa=-1;function iu(s){return{current:s}}function ui(s,a){if(fa<0){l("Unexpected pop.");return}a!==Km[fa]&&l("Unexpected Fiber popped."),s.current=Ax[fa],Ax[fa]=null,Km[fa]=null,fa--}function li(s,a,f){fa++,Ax[fa]=s.current,Km[fa]=f,s.current=a}var Px;Px={};var so={};Object.freeze(so);var da=iu(so),Ts=iu(!1),Rx=so;function nf(s,a,f){return f&&As(a)?Rx:da.current}function AP(s,a,f){{var g=s.stateNode;g.__reactInternalMemoizedUnmaskedChildContext=a,g.__reactInternalMemoizedMaskedChildContext=f}}function rf(s,a){{var f=s.type,g=f.contextTypes;if(!g)return so;var y=s.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===a)return y.__reactInternalMemoizedMaskedChildContext;var x={};for(var D in g)x[D]=a[D];{var A=It(s)||"Unknown";Zo(g,x,"context",A)}return y&&AP(s,a,x),x}}function qm(){return Ts.current}function As(s){{var a=s.childContextTypes;return a!=null}}function Zm(s){ui(Ts,s),ui(da,s)}function Bx(s){ui(Ts,s),ui(da,s)}function PP(s,a,f){{if(da.current!==so)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");li(da,a,s),li(Ts,f,s)}}function RP(s,a,f){{var g=s.stateNode,y=a.childContextTypes;if(typeof g.getChildContext!="function"){{var x=It(s)||"Unknown";Px[x]||(Px[x]=!0,l("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",x,x))}return f}var D=g.getChildContext();for(var A in D)if(!(A in y))throw new Error((It(s)||"Unknown")+'.getChildContext(): key "'+A+'" is not defined in childContextTypes.');{var M=It(s)||"Unknown";Zo(y,D,"child context",M)}return Wt({},f,D)}}function Qm(s){{var a=s.stateNode,f=a&&a.__reactInternalMemoizedMergedChildContext||so;return Rx=da.current,li(da,f,s),li(Ts,Ts.current,s),!0}}function BP(s,a,f){{var g=s.stateNode;if(!g)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(f){var y=RP(s,a,Rx);g.__reactInternalMemoizedMergedChildContext=y,ui(Ts,s),ui(da,s),li(da,y,s),li(Ts,f,s)}else ui(Ts,s),li(Ts,f,s)}}function C_(s){{if(!iL(s)||s.tag!==h)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var a=s;do{switch(a.tag){case m:return a.stateNode.context;case h:{var f=a.type;if(As(f))return a.stateNode.__reactInternalMemoizedMergedChildContext;break}}a=a.return}while(a!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var ou=0,Jm=1,ha=null,kx=!1,Mx=!1;function kP(s){ha===null?ha=[s]:ha.push(s)}function E_(s){kx=!0,kP(s)}function MP(){kx&&su()}function su(){if(!Mx&&ha!==null){Mx=!0;var s=0,a=qo();try{var f=!0,g=ha;for(Fr(ro);s<g.length;s++){var y=g[s];do y=y(f);while(y!==null)}ha=null,kx=!1}catch(x){throw ha!==null&&(ha=ha.slice(s+1)),nA(pm,su),x}finally{Fr(a),Mx=!1}}return null}var of=[],sf=0,e0=null,t0=0,To=[],Ao=0,Cl=null,ga=1,pa="";function D_(s){return Dl(),(s.flags&YT)!==Ct}function S_(s){return Dl(),t0}function T_(){var s=pa,a=ga,f=a&~A_(a);return f.toString(32)+s}function El(s,a){Dl(),of[sf++]=t0,of[sf++]=e0,e0=s,t0=a}function NP(s,a,f){Dl(),To[Ao++]=ga,To[Ao++]=pa,To[Ao++]=Cl,Cl=s;var g=ga,y=pa,x=n0(g)-1,D=g&~(1<<x),A=f+1,M=n0(a)+x;if(M>30){var j=x-x%5,W=(1<<j)-1,se=(D&W).toString(32),oe=D>>j,pe=x-j,we=n0(a)+pe,De=A<<pe,We=De|oe,mt=se+y;ga=1<<we|We,pa=mt}else{var st=A<<x,tn=st|D,Yt=y;ga=1<<M|tn,pa=Yt}}function Nx(s){Dl();var a=s.return;if(a!==null){var f=1,g=0;El(s,f),NP(s,f,g)}}function n0(s){return 32-uA(s)}function A_(s){return 1<<n0(s)-1}function Ox(s){for(;s===e0;)e0=of[--sf],of[sf]=null,t0=of[--sf],of[sf]=null;for(;s===Cl;)Cl=To[--Ao],To[Ao]=null,pa=To[--Ao],To[Ao]=null,ga=To[--Ao],To[Ao]=null}function P_(){return Dl(),Cl!==null?{id:ga,overflow:pa}:null}function R_(s,a){Dl(),To[Ao++]=ga,To[Ao++]=pa,To[Ao++]=Cl,ga=a.id,pa=a.overflow,Cl=s}function Dl(){$r()||l("Expected to be hydrating. This is a bug in React. Please file an issue.")}var zr=null,Po=null,Qo=!1,Sl=!1,au=null;function B_(){Qo&&l("We should not be hydrating here. This is a bug in React. Please file a bug.")}function OP(){Sl=!0}function k_(){return Sl}function M_(s){var a=s.stateNode.containerInfo;return Po=qG(a),zr=s,Qo=!0,au=null,Sl=!1,!0}function N_(s,a,f){return Po=ZG(a),zr=s,Qo=!0,au=null,Sl=!1,f!==null&&R_(s,f),!0}function FP(s,a){switch(s.tag){case m:{a_(s.stateNode.containerInfo,a);break}case w:{var f=(s.mode&Jt)!==wt;l_(s.type,s.memoizedProps,s.stateNode,a,f);break}case I:{var g=s.memoizedState;g.dehydrated!==null&&u_(g.dehydrated,a);break}}}function LP(s,a){FP(s,a);var f=Iz();f.stateNode=a,f.return=s;var g=s.deletions;g===null?(s.deletions=[f],s.flags|=al):g.push(f)}function Fx(s,a){{if(Sl)return;switch(s.tag){case m:{var f=s.stateNode.containerInfo;switch(a.tag){case w:var g=a.type;a.pendingProps,c_(f,g);break;case b:var y=a.pendingProps;f_(f,y);break}break}case w:{var x=s.type,D=s.memoizedProps,A=s.stateNode;switch(a.tag){case w:{var M=a.type,j=a.pendingProps,W=(s.mode&Jt)!==wt;g_(x,D,A,M,j,W);break}case b:{var se=a.pendingProps,oe=(s.mode&Jt)!==wt;p_(x,D,A,se,oe);break}}break}case I:{var pe=s.memoizedState,we=pe.dehydrated;if(we!==null)switch(a.tag){case w:var De=a.type;a.pendingProps,d_(we,De);break;case b:var We=a.pendingProps;h_(we,We);break}break}default:return}}}function IP(s,a){a.flags=a.flags&-4097|kr,Fx(s,a)}function HP(s,a){switch(s.tag){case w:{var f=s.type;s.pendingProps;var g=$G(a,f);return g!==null?(s.stateNode=g,zr=s,Po=KG(g),!0):!1}case b:{var y=s.pendingProps,x=UG(a,y);return x!==null?(s.stateNode=x,zr=s,Po=null,!0):!1}case I:{var D=WG(a);if(D!==null){var A={dehydrated:D,treeContext:P_(),retryLane:So};s.memoizedState=A;var M=Hz(D);return M.return=s,s.child=M,zr=s,Po=null,!0}return!1}default:return!1}}function Lx(s){return(s.mode&Jt)!==wt&&(s.flags&mn)===Ct}function Ix(s){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function Hx(s){if(Qo){var a=Po;if(!a){Lx(s)&&(Fx(zr,s),Ix()),IP(zr,s),Qo=!1,zr=s;return}var f=a;if(!HP(s,a)){Lx(s)&&(Fx(zr,s),Ix()),a=Ph(f);var g=zr;if(!a||!HP(s,a)){IP(zr,s),Qo=!1,zr=s;return}LP(g,f)}}}function O_(s,a,f){var g=s.stateNode,y=!Sl,x=QG(g,s.type,s.memoizedProps,a,f,s,y);return s.updateQueue=x,x!==null}function F_(s){var a=s.stateNode,f=s.memoizedProps,g=JG(a,f,s);if(g){var y=zr;if(y!==null)switch(y.tag){case m:{var x=y.stateNode.containerInfo,D=(y.mode&Jt)!==wt;o_(x,a,f,D);break}case w:{var A=y.type,M=y.memoizedProps,j=y.stateNode,W=(y.mode&Jt)!==wt;s_(A,M,j,a,f,W);break}}}return g}function L_(s){var a=s.memoizedState,f=a!==null?a.dehydrated:null;if(!f)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");e_(f,s)}function I_(s){var a=s.memoizedState,f=a!==null?a.dehydrated:null;if(!f)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return t_(f)}function GP(s){for(var a=s.return;a!==null&&a.tag!==w&&a.tag!==m&&a.tag!==I;)a=a.return;zr=a}function r0(s){if(s!==zr)return!1;if(!Qo)return GP(s),Qo=!0,!1;if(s.tag!==m&&(s.tag!==w||i_(s.type)&&!wx(s.type,s.memoizedProps))){var a=Po;if(a)if(Lx(s))_P(s),Ix();else for(;a;)LP(s,a),a=Ph(a)}return GP(s),s.tag===I?Po=I_(s):Po=zr?Ph(s.stateNode):null,!0}function H_(){return Qo&&Po!==null}function _P(s){for(var a=Po;a;)FP(s,a),a=Ph(a)}function af(){zr=null,Po=null,Qo=!1,Sl=!1}function VP(){au!==null&&(O5(au),au=null)}function $r(){return Qo}function Gx(s){au===null?au=[s]:au.push(s)}var G_=r.ReactCurrentBatchConfig,__=null;function V_(){return G_.transition}var Jo={recordUnsafeLifecycleWarnings:function(s,a){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(s,a){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var j_=function(s){for(var a=null,f=s;f!==null;)f.mode&sr&&(a=f),f=f.return;return a},Tl=function(s){var a=[];return s.forEach(function(f){a.push(f)}),a.sort().join(", ")},Mh=[],Nh=[],Oh=[],Fh=[],Lh=[],Ih=[],Al=new Set;Jo.recordUnsafeLifecycleWarnings=function(s,a){Al.has(s.type)||(typeof a.componentWillMount=="function"&&a.componentWillMount.__suppressDeprecationWarning!==!0&&Mh.push(s),s.mode&sr&&typeof a.UNSAFE_componentWillMount=="function"&&Nh.push(s),typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Oh.push(s),s.mode&sr&&typeof a.UNSAFE_componentWillReceiveProps=="function"&&Fh.push(s),typeof a.componentWillUpdate=="function"&&a.componentWillUpdate.__suppressDeprecationWarning!==!0&&Lh.push(s),s.mode&sr&&typeof a.UNSAFE_componentWillUpdate=="function"&&Ih.push(s))},Jo.flushPendingUnsafeLifecycleWarnings=function(){var s=new Set;Mh.length>0&&(Mh.forEach(function(oe){s.add(It(oe)||"Component"),Al.add(oe.type)}),Mh=[]);var a=new Set;Nh.length>0&&(Nh.forEach(function(oe){a.add(It(oe)||"Component"),Al.add(oe.type)}),Nh=[]);var f=new Set;Oh.length>0&&(Oh.forEach(function(oe){f.add(It(oe)||"Component"),Al.add(oe.type)}),Oh=[]);var g=new Set;Fh.length>0&&(Fh.forEach(function(oe){g.add(It(oe)||"Component"),Al.add(oe.type)}),Fh=[]);var y=new Set;Lh.length>0&&(Lh.forEach(function(oe){y.add(It(oe)||"Component"),Al.add(oe.type)}),Lh=[]);var x=new Set;if(Ih.length>0&&(Ih.forEach(function(oe){x.add(It(oe)||"Component"),Al.add(oe.type)}),Ih=[]),a.size>0){var D=Tl(a);l(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,D)}if(g.size>0){var A=Tl(g);l(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,A)}if(x.size>0){var M=Tl(x);l(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,M)}if(s.size>0){var j=Tl(s);u(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,j)}if(f.size>0){var W=Tl(f);u(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,W)}if(y.size>0){var se=Tl(y);u(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,se)}};var i0=new Map,jP=new Set;Jo.recordLegacyContextWarning=function(s,a){var f=j_(s);if(f===null){l("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!jP.has(s.type)){var g=i0.get(f);(s.type.contextTypes!=null||s.type.childContextTypes!=null||a!==null&&typeof a.getChildContext=="function")&&(g===void 0&&(g=[],i0.set(f,g)),g.push(s))}},Jo.flushLegacyContextWarning=function(){i0.forEach(function(s,a){if(s.length!==0){var f=s[0],g=new Set;s.forEach(function(x){g.add(It(x)||"Component"),jP.add(x.type)});var y=Tl(g);try{Xn(f),l(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,y)}finally{Br()}}})},Jo.discardPendingWarnings=function(){Mh=[],Nh=[],Oh=[],Fh=[],Lh=[],Ih=[],i0=new Map}}var _x,Vx,jx,zx,$x,zP=function(s,a){};_x=!1,Vx=!1,jx={},zx={},$x={},zP=function(s,a){if(!(s===null||typeof s!="object")&&!(!s._store||s._store.validated||s.key!=null)){if(typeof s._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");s._store.validated=!0;var f=It(a)||"Component";zx[f]||(zx[f]=!0,l('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function z_(s){return s.prototype&&s.prototype.isReactComponent}function Hh(s,a,f){var g=f.ref;if(g!==null&&typeof g!="function"&&typeof g!="object"){if((s.mode&sr||ie)&&!(f._owner&&f._self&&f._owner.stateNode!==f._self)&&!(f._owner&&f._owner.tag!==h)&&!(typeof f.type=="function"&&!z_(f.type))&&f._owner){var y=It(s)||"Component";jx[y]||(l('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',y,g),jx[y]=!0)}if(f._owner){var x=f._owner,D;if(x){var A=x;if(A.tag!==h)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");D=A.stateNode}if(!D)throw new Error("Missing owner for string ref "+g+". This error is likely caused by a bug in React. Please file an issue.");var M=D;ht(g,"ref");var j=""+g;if(a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j)return a.ref;var W=function(se){var oe=M.refs;se===null?delete oe[j]:oe[j]=se};return W._stringRef=j,W}else{if(typeof g!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!f._owner)throw new Error("Element ref was specified as a string ("+g+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return g}function o0(s,a){var f=Object.prototype.toString.call(a);throw new Error("Objects are not valid as a React child (found: "+(f==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":f)+"). If you meant to render a collection of children, use an array instead.")}function s0(s){{var a=It(s)||"Component";if($x[a])return;$x[a]=!0,l("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function $P(s){var a=s._payload,f=s._init;return f(a)}function UP(s){function a(he,Se){if(s){var ge=he.deletions;ge===null?(he.deletions=[Se],he.flags|=al):ge.push(Se)}}function f(he,Se){if(!s)return null;for(var ge=Se;ge!==null;)a(he,ge),ge=ge.sibling;return null}function g(he,Se){for(var ge=new Map,Oe=Se;Oe!==null;)Oe.key!==null?ge.set(Oe.key,Oe):ge.set(Oe.index,Oe),Oe=Oe.sibling;return ge}function y(he,Se){var ge=Ll(he,Se);return ge.index=0,ge.sibling=null,ge}function x(he,Se,ge){if(he.index=ge,!s)return he.flags|=YT,Se;var Oe=he.alternate;if(Oe!==null){var Ze=Oe.index;return Ze<Se?(he.flags|=kr,Se):Ze}else return he.flags|=kr,Se}function D(he){return s&&he.alternate===null&&(he.flags|=kr),he}function A(he,Se,ge,Oe){if(Se===null||Se.tag!==b){var Ze=GC(ge,he.mode,Oe);return Ze.return=he,Ze}else{var Ye=y(Se,ge);return Ye.return=he,Ye}}function M(he,Se,ge,Oe){var Ze=ge.type;if(Ze===xs)return W(he,Se,ge.props.children,Oe,ge.key);if(Se!==null&&(Se.elementType===Ze||q5(Se,ge)||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===yt&&$P(Ze)===Se.type)){var Ye=y(Se,ge.props);return Ye.ref=Hh(he,Se,ge),Ye.return=he,Ye._debugSource=ge._source,Ye._debugOwner=ge._owner,Ye}var St=HC(ge,he.mode,Oe);return St.ref=Hh(he,Se,ge),St.return=he,St}function j(he,Se,ge,Oe){if(Se===null||Se.tag!==v||Se.stateNode.containerInfo!==ge.containerInfo||Se.stateNode.implementation!==ge.implementation){var Ze=_C(ge,he.mode,Oe);return Ze.return=he,Ze}else{var Ye=y(Se,ge.children||[]);return Ye.return=he,Ye}}function W(he,Se,ge,Oe,Ze){if(Se===null||Se.tag!==E){var Ye=yu(ge,he.mode,Oe,Ze);return Ye.return=he,Ye}else{var St=y(Se,ge);return St.return=he,St}}function se(he,Se,ge){if(typeof Se=="string"&&Se!==""||typeof Se=="number"){var Oe=GC(""+Se,he.mode,ge);return Oe.return=he,Oe}if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case Eo:{var Ze=HC(Se,he.mode,ge);return Ze.ref=Hh(he,null,Se),Ze.return=he,Ze}case to:{var Ye=_C(Se,he.mode,ge);return Ye.return=he,Ye}case yt:{var St=Se._payload,Ft=Se._init;return se(he,Ft(St),ge)}}if(Xt(Se)||Wo(Se)){var En=yu(Se,he.mode,ge,null);return En.return=he,En}o0(he,Se)}return typeof Se=="function"&&s0(he),null}function oe(he,Se,ge,Oe){var Ze=Se!==null?Se.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Ze!==null?null:A(he,Se,""+ge,Oe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Eo:return ge.key===Ze?M(he,Se,ge,Oe):null;case to:return ge.key===Ze?j(he,Se,ge,Oe):null;case yt:{var Ye=ge._payload,St=ge._init;return oe(he,Se,St(Ye),Oe)}}if(Xt(ge)||Wo(ge))return Ze!==null?null:W(he,Se,ge,Oe,null);o0(he,ge)}return typeof ge=="function"&&s0(he),null}function pe(he,Se,ge,Oe,Ze){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"){var Ye=he.get(ge)||null;return A(Se,Ye,""+Oe,Ze)}if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case Eo:{var St=he.get(Oe.key===null?ge:Oe.key)||null;return M(Se,St,Oe,Ze)}case to:{var Ft=he.get(Oe.key===null?ge:Oe.key)||null;return j(Se,Ft,Oe,Ze)}case yt:var En=Oe._payload,un=Oe._init;return pe(he,Se,ge,un(En),Ze)}if(Xt(Oe)||Wo(Oe)){var cr=he.get(ge)||null;return W(Se,cr,Oe,Ze,null)}o0(Se,Oe)}return typeof Oe=="function"&&s0(Se),null}function we(he,Se,ge){{if(typeof he!="object"||he===null)return Se;switch(he.$$typeof){case Eo:case to:zP(he,ge);var Oe=he.key;if(typeof Oe!="string")break;if(Se===null){Se=new Set,Se.add(Oe);break}if(!Se.has(Oe)){Se.add(Oe);break}l("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",Oe);break;case yt:var Ze=he._payload,Ye=he._init;we(Ye(Ze),Se,ge);break}}return Se}function De(he,Se,ge,Oe){for(var Ze=null,Ye=0;Ye<ge.length;Ye++){var St=ge[Ye];Ze=we(St,Ze,he)}for(var Ft=null,En=null,un=Se,cr=0,ln=0,ar=null;un!==null&&ln<ge.length;ln++){un.index>ln?(ar=un,un=null):ar=un.sibling;var fi=oe(he,un,ge[ln],Oe);if(fi===null){un===null&&(un=ar);break}s&&un&&fi.alternate===null&&a(he,un),cr=x(fi,cr,ln),En===null?Ft=fi:En.sibling=fi,En=fi,un=ar}if(ln===ge.length){if(f(he,un),$r()){var Zr=ln;El(he,Zr)}return Ft}if(un===null){for(;ln<ge.length;ln++){var uo=se(he,ge[ln],Oe);uo!==null&&(cr=x(uo,cr,ln),En===null?Ft=uo:En.sibling=uo,En=uo)}if($r()){var Di=ln;El(he,Di)}return Ft}for(var Si=g(he,un);ln<ge.length;ln++){var di=pe(Si,he,ln,ge[ln],Oe);di!==null&&(s&&di.alternate!==null&&Si.delete(di.key===null?ln:di.key),cr=x(di,cr,ln),En===null?Ft=di:En.sibling=di,En=di)}if(s&&Si.forEach(function(Tf){return a(he,Tf)}),$r()){var Ca=ln;El(he,Ca)}return Ft}function We(he,Se,ge,Oe){var Ze=Wo(ge);if(typeof Ze!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&ge[Symbol.toStringTag]==="Generator"&&(Vx||l("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Vx=!0),ge.entries===Ze&&(_x||l("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),_x=!0);var Ye=Ze.call(ge);if(Ye)for(var St=null,Ft=Ye.next();!Ft.done;Ft=Ye.next()){var En=Ft.value;St=we(En,St,he)}}var un=Ze.call(ge);if(un==null)throw new Error("An iterable object provided no iterator.");for(var cr=null,ln=null,ar=Se,fi=0,Zr=0,uo=null,Di=un.next();ar!==null&&!Di.done;Zr++,Di=un.next()){ar.index>Zr?(uo=ar,ar=null):uo=ar.sibling;var Si=oe(he,ar,Di.value,Oe);if(Si===null){ar===null&&(ar=uo);break}s&&ar&&Si.alternate===null&&a(he,ar),fi=x(Si,fi,Zr),ln===null?cr=Si:ln.sibling=Si,ln=Si,ar=uo}if(Di.done){if(f(he,ar),$r()){var di=Zr;El(he,di)}return cr}if(ar===null){for(;!Di.done;Zr++,Di=un.next()){var Ca=se(he,Di.value,Oe);Ca!==null&&(fi=x(Ca,fi,Zr),ln===null?cr=Ca:ln.sibling=Ca,ln=Ca)}if($r()){var Tf=Zr;El(he,Tf)}return cr}for(var mg=g(he,ar);!Di.done;Zr++,Di=un.next()){var Fs=pe(mg,he,Zr,Di.value,Oe);Fs!==null&&(s&&Fs.alternate!==null&&mg.delete(Fs.key===null?Zr:Fs.key),fi=x(Fs,fi,Zr),ln===null?cr=Fs:ln.sibling=Fs,ln=Fs)}if(s&&mg.forEach(function(p$){return a(he,p$)}),$r()){var g$=Zr;El(he,g$)}return cr}function mt(he,Se,ge,Oe){if(Se!==null&&Se.tag===b){f(he,Se.sibling);var Ze=y(Se,ge);return Ze.return=he,Ze}f(he,Se);var Ye=GC(ge,he.mode,Oe);return Ye.return=he,Ye}function st(he,Se,ge,Oe){for(var Ze=ge.key,Ye=Se;Ye!==null;){if(Ye.key===Ze){var St=ge.type;if(St===xs){if(Ye.tag===E){f(he,Ye.sibling);var Ft=y(Ye,ge.props.children);return Ft.return=he,Ft._debugSource=ge._source,Ft._debugOwner=ge._owner,Ft}}else if(Ye.elementType===St||q5(Ye,ge)||typeof St=="object"&&St!==null&&St.$$typeof===yt&&$P(St)===Ye.type){f(he,Ye.sibling);var En=y(Ye,ge.props);return En.ref=Hh(he,Ye,ge),En.return=he,En._debugSource=ge._source,En._debugOwner=ge._owner,En}f(he,Ye);break}else a(he,Ye);Ye=Ye.sibling}if(ge.type===xs){var un=yu(ge.props.children,he.mode,Oe,ge.key);return un.return=he,un}else{var cr=HC(ge,he.mode,Oe);return cr.ref=Hh(he,Se,ge),cr.return=he,cr}}function tn(he,Se,ge,Oe){for(var Ze=ge.key,Ye=Se;Ye!==null;){if(Ye.key===Ze)if(Ye.tag===v&&Ye.stateNode.containerInfo===ge.containerInfo&&Ye.stateNode.implementation===ge.implementation){f(he,Ye.sibling);var St=y(Ye,ge.children||[]);return St.return=he,St}else{f(he,Ye);break}else a(he,Ye);Ye=Ye.sibling}var Ft=_C(ge,he.mode,Oe);return Ft.return=he,Ft}function Yt(he,Se,ge,Oe){var Ze=typeof ge=="object"&&ge!==null&&ge.type===xs&&ge.key===null;if(Ze&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Eo:return D(st(he,Se,ge,Oe));case to:return D(tn(he,Se,ge,Oe));case yt:var Ye=ge._payload,St=ge._init;return Yt(he,Se,St(Ye),Oe)}if(Xt(ge))return De(he,Se,ge,Oe);if(Wo(ge))return We(he,Se,ge,Oe);o0(he,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?D(mt(he,Se,""+ge,Oe)):(typeof ge=="function"&&s0(he),f(he,Se))}return Yt}var uf=UP(!0),WP=UP(!1);function $_(s,a){if(s!==null&&a.child!==s.child)throw new Error("Resuming work not yet implemented.");if(a.child!==null){var f=a.child,g=Ll(f,f.pendingProps);for(a.child=g,g.return=a;f.sibling!==null;)f=f.sibling,g=g.sibling=Ll(f,f.pendingProps),g.return=a;g.sibling=null}}function U_(s,a){for(var f=s.child;f!==null;)Mz(f,a),f=f.sibling}var Ux=iu(null),Wx;Wx={};var a0=null,lf=null,Xx=null,u0=!1;function l0(){a0=null,lf=null,Xx=null,u0=!1}function XP(){u0=!0}function YP(){u0=!1}function KP(s,a,f){li(Ux,a._currentValue,s),a._currentValue=f,a._currentRenderer!==void 0&&a._currentRenderer!==null&&a._currentRenderer!==Wx&&l("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),a._currentRenderer=Wx}function Yx(s,a){var f=Ux.current;ui(Ux,a),s._currentValue=f}function Kx(s,a,f){for(var g=s;g!==null;){var y=g.alternate;if(Wc(g.childLanes,a)?y!==null&&!Wc(y.childLanes,a)&&(y.childLanes=zt(y.childLanes,a)):(g.childLanes=zt(g.childLanes,a),y!==null&&(y.childLanes=zt(y.childLanes,a))),g===f)break;g=g.return}g!==f&&l("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function W_(s,a,f){X_(s,a,f)}function X_(s,a,f){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=void 0,x=g.dependencies;if(x!==null){y=g.child;for(var D=x.firstContext;D!==null;){if(D.context===a){if(g.tag===h){var A=nh(f),M=ma(Hn,A);M.tag=f0;var j=g.updateQueue;if(j!==null){var W=j.shared,se=W.pending;se===null?M.next=M:(M.next=se.next,se.next=M),W.pending=M}}g.lanes=zt(g.lanes,f);var oe=g.alternate;oe!==null&&(oe.lanes=zt(oe.lanes,f)),Kx(g.return,f,s),x.lanes=zt(x.lanes,f);break}D=D.next}}else if(g.tag===C)y=g.type===s.type?null:g.child;else if(g.tag===ae){var pe=g.return;if(pe===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");pe.lanes=zt(pe.lanes,f);var we=pe.alternate;we!==null&&(we.lanes=zt(we.lanes,f)),Kx(pe,f,s),y=g.sibling}else y=g.child;if(y!==null)y.return=g;else for(y=g;y!==null;){if(y===s){y=null;break}var De=y.sibling;if(De!==null){De.return=y.return,y=De;break}y=y.return}g=y}}function cf(s,a){a0=s,lf=null,Xx=null;var f=s.dependencies;if(f!==null){var g=f.firstContext;g!==null&&(no(f.lanes,a)&&Jh(),f.firstContext=null)}}function hr(s){u0&&l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var a=s._currentValue;if(Xx!==s){var f={context:s,memoizedValue:a,next:null};if(lf===null){if(a0===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");lf=f,a0.dependencies={lanes:Me,firstContext:f}}else lf=lf.next=f}return a}var Pl=null;function qx(s){Pl===null?Pl=[s]:Pl.push(s)}function Y_(){if(Pl!==null){for(var s=0;s<Pl.length;s++){var a=Pl[s],f=a.interleaved;if(f!==null){a.interleaved=null;var g=f.next,y=a.pending;if(y!==null){var x=y.next;y.next=g,f.next=x}a.pending=f}}Pl=null}}function qP(s,a,f,g){var y=a.interleaved;return y===null?(f.next=f,qx(a)):(f.next=y.next,y.next=f),a.interleaved=f,c0(s,g)}function K_(s,a,f,g){var y=a.interleaved;y===null?(f.next=f,qx(a)):(f.next=y.next,y.next=f),a.interleaved=f}function q_(s,a,f,g){var y=a.interleaved;return y===null?(f.next=f,qx(a)):(f.next=y.next,y.next=f),a.interleaved=f,c0(s,g)}function Li(s,a){return c0(s,a)}var Z_=c0;function c0(s,a){s.lanes=zt(s.lanes,a);var f=s.alternate;f!==null&&(f.lanes=zt(f.lanes,a)),f===null&&(s.flags&(kr|cl))!==Ct&&W5(s);for(var g=s,y=s.return;y!==null;)y.childLanes=zt(y.childLanes,a),f=y.alternate,f!==null?f.childLanes=zt(f.childLanes,a):(y.flags&(kr|cl))!==Ct&&W5(s),g=y,y=y.return;if(g.tag===m){var x=g.stateNode;return x}else return null}var ZP=0,QP=1,f0=2,Zx=3,d0=!1,Qx,h0;Qx=!1,h0=null;function Jx(s){var a={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Me},effects:null};s.updateQueue=a}function JP(s,a){var f=a.updateQueue,g=s.updateQueue;if(f===g){var y={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects};a.updateQueue=y}}function ma(s,a){var f={eventTime:s,lane:a,tag:ZP,payload:null,callback:null,next:null};return f}function uu(s,a,f){var g=s.updateQueue;if(g===null)return null;var y=g.shared;if(h0===y&&!Qx&&(l("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),Qx=!0),Kj()){var x=y.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),y.pending=a,Z_(s,f)}else return q_(s,y,a,f)}function g0(s,a,f){var g=a.updateQueue;if(g!==null){var y=g.shared;if(dA(f)){var x=y.lanes;x=gA(x,s.pendingLanes);var D=zt(x,f);y.lanes=D,Uw(s,D)}}}function eb(s,a){var f=s.updateQueue,g=s.alternate;if(g!==null){var y=g.updateQueue;if(f===y){var x=null,D=null,A=f.firstBaseUpdate;if(A!==null){var M=A;do{var j={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};D===null?x=D=j:(D.next=j,D=j),M=M.next}while(M!==null);D===null?x=D=a:(D.next=a,D=a)}else x=D=a;f={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:D,shared:y.shared,effects:y.effects},s.updateQueue=f;return}}var W=f.lastBaseUpdate;W===null?f.firstBaseUpdate=a:W.next=a,f.lastBaseUpdate=a}function Q_(s,a,f,g,y,x){switch(f.tag){case QP:{var D=f.payload;if(typeof D=="function"){XP();var A=D.call(x,g,y);{if(s.mode&sr){Nr(!0);try{D.call(x,g,y)}finally{Nr(!1)}}YP()}return A}return D}case Zx:s.flags=s.flags&-65537|mn;case ZP:{var M=f.payload,j;if(typeof M=="function"){XP(),j=M.call(x,g,y);{if(s.mode&sr){Nr(!0);try{M.call(x,g,y)}finally{Nr(!1)}}YP()}}else j=M;return j==null?g:Wt({},g,j)}case f0:return d0=!0,g}return g}function p0(s,a,f,g){var y=s.updateQueue;d0=!1,h0=y.shared;var x=y.firstBaseUpdate,D=y.lastBaseUpdate,A=y.shared.pending;if(A!==null){y.shared.pending=null;var M=A,j=M.next;M.next=null,D===null?x=j:D.next=j,D=M;var W=s.alternate;if(W!==null){var se=W.updateQueue,oe=se.lastBaseUpdate;oe!==D&&(oe===null?se.firstBaseUpdate=j:oe.next=j,se.lastBaseUpdate=M)}}if(x!==null){var pe=y.baseState,we=Me,De=null,We=null,mt=null,st=x;do{var tn=st.lane,Yt=st.eventTime;if(Wc(g,tn)){if(mt!==null){var Se={eventTime:Yt,lane:Or,tag:st.tag,payload:st.payload,callback:st.callback,next:null};mt=mt.next=Se}pe=Q_(s,y,st,pe,a,f);var ge=st.callback;if(ge!==null&&st.lane!==Or){s.flags|=XT;var Oe=y.effects;Oe===null?y.effects=[st]:Oe.push(st)}}else{var he={eventTime:Yt,lane:tn,tag:st.tag,payload:st.payload,callback:st.callback,next:null};mt===null?(We=mt=he,De=pe):mt=mt.next=he,we=zt(we,tn)}if(st=st.next,st===null){if(A=y.shared.pending,A===null)break;var Ze=A,Ye=Ze.next;Ze.next=null,st=Ye,y.lastBaseUpdate=Ze,y.shared.pending=null}}while(!0);mt===null&&(De=pe),y.baseState=De,y.firstBaseUpdate=We,y.lastBaseUpdate=mt;var St=y.shared.interleaved;if(St!==null){var Ft=St;do we=zt(we,Ft.lane),Ft=Ft.next;while(Ft!==St)}else x===null&&(y.shared.lanes=Me);fg(we),s.lanes=we,s.memoizedState=pe}h0=null}function J_(s,a){if(typeof s!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+s));s.call(a)}function eR(){d0=!1}function m0(){return d0}function tR(s,a,f){var g=a.effects;if(a.effects=null,g!==null)for(var y=0;y<g.length;y++){var x=g[y],D=x.callback;D!==null&&(x.callback=null,J_(D,f))}}var Gh={},lu=iu(Gh),_h=iu(Gh),v0=iu(Gh);function y0(s){if(s===Gh)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return s}function nR(){var s=y0(v0.current);return s}function tb(s,a){li(v0,a,s),li(_h,s,s),li(lu,Gh,s);var f=mG(a);ui(lu,s),li(lu,f,s)}function ff(s){ui(lu,s),ui(_h,s),ui(v0,s)}function nb(){var s=y0(lu.current);return s}function rR(s){y0(v0.current);var a=y0(lu.current),f=vG(a,s.type);a!==f&&(li(_h,s,s),li(lu,f,s))}function rb(s){_h.current===s&&(ui(lu,s),ui(_h,s))}var eV=0,iR=1,oR=1,Vh=2,es=iu(eV);function ib(s,a){return(s&a)!==0}function df(s){return s&iR}function ob(s,a){return s&iR|a}function tV(s,a){return s|a}function cu(s,a){li(es,a,s)}function hf(s){ui(es,s)}function nV(s,a){var f=s.memoizedState;return f!==null?f.dehydrated!==null:(s.memoizedProps,!0)}function w0(s){for(var a=s;a!==null;){if(a.tag===I){var f=a.memoizedState;if(f!==null){var g=f.dehydrated;if(g===null||CP(g)||Ex(g))return a}}else if(a.tag===ce&&a.memoizedProps.revealOrder!==void 0){var y=(a.flags&mn)!==Ct;if(y)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)return null;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ii=0,wr=1,Ps=2,xr=4,Ur=8,sb=[];function ab(){for(var s=0;s<sb.length;s++){var a=sb[s];a._workInProgressVersionPrimary=null}sb.length=0}function rV(s,a){var f=a._getVersion,g=f(a._source);s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,g]:s.mutableSourceEagerHydrationData.push(a,g)}var qe=r.ReactCurrentDispatcher,jh=r.ReactCurrentBatchConfig,ub,gf;ub=new Set;var Rl=Me,Cn=null,br=null,Cr=null,x0=!1,zh=!1,$h=0,iV=0,oV=25,Ae=null,Ro=null,fu=-1,lb=!1;function vn(){{var s=Ae;Ro===null?Ro=[s]:Ro.push(s)}}function ze(){{var s=Ae;Ro!==null&&(fu++,Ro[fu]!==s&&sV(s))}}function pf(s){s!=null&&!Xt(s)&&l("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Ae,typeof s)}function sV(s){{var a=It(Cn);if(!ub.has(a)&&(ub.add(a),Ro!==null)){for(var f="",g=30,y=0;y<=fu;y++){for(var x=Ro[y],D=y===fu?s:x,A=y+1+". "+x;A.length<g;)A+=" ";A+=D+`
`,f+=A}l(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,a,f)}}}function ci(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function cb(s,a){if(lb)return!1;if(a===null)return l("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Ae),!1;s.length!==a.length&&l(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Ae,"["+a.join(", ")+"]","["+s.join(", ")+"]");for(var f=0;f<a.length&&f<s.length;f++)if(!oo(s[f],a[f]))return!1;return!0}function mf(s,a,f,g,y,x){Rl=x,Cn=a,Ro=s!==null?s._debugHookTypes:null,fu=-1,lb=s!==null&&s.type!==a.type,a.memoizedState=null,a.updateQueue=null,a.lanes=Me,s!==null&&s.memoizedState!==null?qe.current=AR:Ro!==null?qe.current=TR:qe.current=SR;var D=f(g,y);if(zh){var A=0;do{if(zh=!1,$h=0,A>=oV)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");A+=1,lb=!1,br=null,Cr=null,a.updateQueue=null,fu=-1,qe.current=PR,D=f(g,y)}while(zh)}qe.current=N0,a._debugHookTypes=Ro;var M=br!==null&&br.next!==null;if(Rl=Me,Cn=null,br=null,Cr=null,Ae=null,Ro=null,fu=-1,s!==null&&(s.flags&aa)!==(a.flags&aa)&&(s.mode&Jt)!==wt&&l("Internal React error: Expected static flag was missing. Please notify the React team."),x0=!1,M)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return D}function vf(){var s=$h!==0;return $h=0,s}function sR(s,a,f){a.updateQueue=s.updateQueue,(a.mode&Ds)!==wt?a.flags&=-50333701:a.flags&=-2053,s.lanes=bm(s.lanes,f)}function aR(){if(qe.current=N0,x0){for(var s=Cn.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}x0=!1}Rl=Me,Cn=null,br=null,Cr=null,Ro=null,fu=-1,Ae=null,xR=!1,zh=!1,$h=0}function Rs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Cn.memoizedState=Cr=s:Cr=Cr.next=s,Cr}function Bo(){var s;if(br===null){var a=Cn.alternate;a!==null?s=a.memoizedState:s=null}else s=br.next;var f;if(Cr===null?f=Cn.memoizedState:f=Cr.next,f!==null)Cr=f,f=Cr.next,br=s;else{if(s===null)throw new Error("Rendered more hooks than during the previous render.");br=s;var g={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null};Cr===null?Cn.memoizedState=Cr=g:Cr=Cr.next=g}return Cr}function uR(){return{lastEffect:null,stores:null}}function fb(s,a){return typeof a=="function"?a(s):a}function db(s,a,f){var g=Rs(),y;f!==void 0?y=f(a):y=a,g.memoizedState=g.baseState=y;var x={pending:null,interleaved:null,lanes:Me,dispatch:null,lastRenderedReducer:s,lastRenderedState:y};g.queue=x;var D=x.dispatch=cV.bind(null,Cn,x);return[g.memoizedState,D]}function hb(s,a,f){var g=Bo(),y=g.queue;if(y===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");y.lastRenderedReducer=s;var x=br,D=x.baseQueue,A=y.pending;if(A!==null){if(D!==null){var M=D.next,j=A.next;D.next=j,A.next=M}x.baseQueue!==D&&l("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),x.baseQueue=D=A,y.pending=null}if(D!==null){var W=D.next,se=x.baseState,oe=null,pe=null,we=null,De=W;do{var We=De.lane;if(Wc(Rl,We)){if(we!==null){var st={lane:Or,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};we=we.next=st}if(De.hasEagerState)se=De.eagerState;else{var tn=De.action;se=s(se,tn)}}else{var mt={lane:We,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};we===null?(pe=we=mt,oe=se):we=we.next=mt,Cn.lanes=zt(Cn.lanes,We),fg(We)}De=De.next}while(De!==null&&De!==W);we===null?oe=se:we.next=pe,oo(se,g.memoizedState)||Jh(),g.memoizedState=se,g.baseState=oe,g.baseQueue=we,y.lastRenderedState=se}var Yt=y.interleaved;if(Yt!==null){var he=Yt;do{var Se=he.lane;Cn.lanes=zt(Cn.lanes,Se),fg(Se),he=he.next}while(he!==Yt)}else D===null&&(y.lanes=Me);var ge=y.dispatch;return[g.memoizedState,ge]}function gb(s,a,f){var g=Bo(),y=g.queue;if(y===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");y.lastRenderedReducer=s;var x=y.dispatch,D=y.pending,A=g.memoizedState;if(D!==null){y.pending=null;var M=D.next,j=M;do{var W=j.action;A=s(A,W),j=j.next}while(j!==M);oo(A,g.memoizedState)||Jh(),g.memoizedState=A,g.baseQueue===null&&(g.baseState=A),y.lastRenderedState=A}return[A,x]}function Cfe(s,a,f){}function Efe(s,a,f){}function pb(s,a,f){var g=Cn,y=Rs(),x,D=$r();if(D){if(f===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");x=f(),gf||x!==f()&&(l("The result of getServerSnapshot should be cached to avoid an infinite loop"),gf=!0)}else{if(x=a(),!gf){var A=a();oo(x,A)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),gf=!0)}var M=Q0();if(M===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");xm(M,Rl)||lR(g,a,x)}y.memoizedState=x;var j={value:x,getSnapshot:a};return y.queue=j,S0(fR.bind(null,g,j,s),[s]),g.flags|=Ka,Uh(wr|Ur,cR.bind(null,g,j,x,a),void 0,null),x}function b0(s,a,f){var g=Cn,y=Bo(),x=a();if(!gf){var D=a();oo(x,D)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),gf=!0)}var A=y.memoizedState,M=!oo(A,x);M&&(y.memoizedState=x,Jh());var j=y.queue;if(Xh(fR.bind(null,g,j,s),[s]),j.getSnapshot!==a||M||Cr!==null&&Cr.memoizedState.tag&wr){g.flags|=Ka,Uh(wr|Ur,cR.bind(null,g,j,x,a),void 0,null);var W=Q0();if(W===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");xm(W,Rl)||lR(g,a,x)}return x}function lR(s,a,f){s.flags|=fw;var g={getSnapshot:a,value:f},y=Cn.updateQueue;if(y===null)y=uR(),Cn.updateQueue=y,y.stores=[g];else{var x=y.stores;x===null?y.stores=[g]:x.push(g)}}function cR(s,a,f,g){a.value=f,a.getSnapshot=g,dR(a)&&hR(s)}function fR(s,a,f){var g=function(){dR(a)&&hR(s)};return f(g)}function dR(s){var a=s.getSnapshot,f=s.value;try{var g=a();return!oo(f,g)}catch{return!0}}function hR(s){var a=Li(s,Mt);a!==null&&Tr(a,s,Mt,Hn)}function C0(s){var a=Rs();typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s;var f={pending:null,interleaved:null,lanes:Me,dispatch:null,lastRenderedReducer:fb,lastRenderedState:s};a.queue=f;var g=f.dispatch=fV.bind(null,Cn,f);return[a.memoizedState,g]}function mb(s){return hb(fb)}function vb(s){return gb(fb)}function Uh(s,a,f,g){var y={tag:s,create:a,destroy:f,deps:g,next:null},x=Cn.updateQueue;if(x===null)x=uR(),Cn.updateQueue=x,x.lastEffect=y.next=y;else{var D=x.lastEffect;if(D===null)x.lastEffect=y.next=y;else{var A=D.next;D.next=y,y.next=A,x.lastEffect=y}}return y}function yb(s){var a=Rs();{var f={current:s};return a.memoizedState=f,f}}function E0(s){var a=Bo();return a.memoizedState}function Wh(s,a,f,g){var y=Rs(),x=g===void 0?null:g;Cn.flags|=s,y.memoizedState=Uh(wr|a,f,void 0,x)}function D0(s,a,f,g){var y=Bo(),x=g===void 0?null:g,D=void 0;if(br!==null){var A=br.memoizedState;if(D=A.destroy,x!==null){var M=A.deps;if(cb(x,M)){y.memoizedState=Uh(a,f,D,x);return}}}Cn.flags|=s,y.memoizedState=Uh(wr|a,f,D,x)}function S0(s,a){return(Cn.mode&Ds)!==wt?Wh(pw|Ka|gw,Ur,s,a):Wh(Ka|gw,Ur,s,a)}function Xh(s,a){return D0(Ka,Ur,s,a)}function wb(s,a){return Wh(hn,Ps,s,a)}function T0(s,a){return D0(hn,Ps,s,a)}function xb(s,a){var f=hn;return f|=dl,(Cn.mode&Ds)!==wt&&(f|=qa),Wh(f,xr,s,a)}function A0(s,a){return D0(hn,xr,s,a)}function gR(s,a){if(typeof a=="function"){var f=a,g=s();return f(g),function(){f(null)}}else if(a!=null){var y=a;y.hasOwnProperty("current")||l("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(y).join(", ")+"}");var x=s();return y.current=x,function(){y.current=null}}}function bb(s,a,f){typeof a!="function"&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null");var g=f!=null?f.concat([s]):null,y=hn;return y|=dl,(Cn.mode&Ds)!==wt&&(y|=qa),Wh(y,xr,gR.bind(null,a,s),g)}function P0(s,a,f){typeof a!="function"&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",a!==null?typeof a:"null");var g=f!=null?f.concat([s]):null;return D0(hn,xr,gR.bind(null,a,s),g)}function aV(s,a){}var R0=aV;function Cb(s,a){var f=Rs(),g=a===void 0?null:a;return f.memoizedState=[s,g],s}function B0(s,a){var f=Bo(),g=a===void 0?null:a,y=f.memoizedState;if(y!==null&&g!==null){var x=y[1];if(cb(g,x))return y[0]}return f.memoizedState=[s,g],s}function Eb(s,a){var f=Rs(),g=a===void 0?null:a,y=s();return f.memoizedState=[y,g],y}function k0(s,a){var f=Bo(),g=a===void 0?null:a,y=f.memoizedState;if(y!==null&&g!==null){var x=y[1];if(cb(g,x))return y[0]}var D=s();return f.memoizedState=[D,g],D}function Db(s){var a=Rs();return a.memoizedState=s,s}function pR(s){var a=Bo(),f=br,g=f.memoizedState;return vR(a,g,s)}function mR(s){var a=Bo();if(br===null)return a.memoizedState=s,s;var f=br.memoizedState;return vR(a,f,s)}function vR(s,a,f){var g=!WL(Rl);if(g){if(!oo(f,a)){var y=hA();Cn.lanes=zt(Cn.lanes,y),fg(y),s.baseState=!0}return a}else return s.baseState&&(s.baseState=!1,Jh()),s.memoizedState=f,f}function uV(s,a,f){var g=qo();Fr(tI(g,la)),s(!0);var y=jh.transition;jh.transition={};var x=jh.transition;jh.transition._updatedFibers=new Set;try{s(!1),a()}finally{if(Fr(g),jh.transition=y,y===null&&x._updatedFibers){var D=x._updatedFibers.size;D>10&&u("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),x._updatedFibers.clear()}}}function Sb(){var s=C0(!1),a=s[0],f=s[1],g=uV.bind(null,f),y=Rs();return y.memoizedState=g,[a,g]}function yR(){var s=mb(),a=s[0],f=Bo(),g=f.memoizedState;return[a,g]}function wR(){var s=vb(),a=s[0],f=Bo(),g=f.memoizedState;return[a,g]}var xR=!1;function lV(){return xR}function Tb(){var s=Rs(),a=Q0(),f=a.identifierPrefix,g;if($r()){var y=T_();g=":"+f+"R"+y;var x=$h++;x>0&&(g+="H"+x.toString(32)),g+=":"}else{var D=iV++;g=":"+f+"r"+D.toString(32)+":"}return s.memoizedState=g,g}function M0(){var s=Bo(),a=s.memoizedState;return a}function cV(s,a,f){typeof arguments[3]=="function"&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var g=mu(s),y={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(bR(s))CR(a,y);else{var x=qP(s,a,y,g);if(x!==null){var D=Ei();Tr(x,s,g,D),ER(x,a,g)}}DR(s,g)}function fV(s,a,f){typeof arguments[3]=="function"&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var g=mu(s),y={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(bR(s))CR(a,y);else{var x=s.alternate;if(s.lanes===Me&&(x===null||x.lanes===Me)){var D=a.lastRenderedReducer;if(D!==null){var A;A=qe.current,qe.current=ts;try{var M=a.lastRenderedState,j=D(M,f);if(y.hasEagerState=!0,y.eagerState=j,oo(j,M)){K_(s,a,y,g);return}}catch{}finally{qe.current=A}}}var W=qP(s,a,y,g);if(W!==null){var se=Ei();Tr(W,s,g,se),ER(W,a,g)}}DR(s,g)}function bR(s){var a=s.alternate;return s===Cn||a!==null&&a===Cn}function CR(s,a){zh=x0=!0;var f=s.pending;f===null?a.next=a:(a.next=f.next,f.next=a),s.pending=a}function ER(s,a,f){if(dA(f)){var g=a.lanes;g=gA(g,s.pendingLanes);var y=zt(g,f);a.lanes=y,Uw(s,y)}}function DR(s,a,f){xw(s,a)}var N0={readContext:hr,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:H},SR=null,TR=null,AR=null,PR=null,Bs=null,ts=null,O0=null;{var Ab=function(){l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Nt=function(){l("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};SR={readContext:function(s){return hr(s)},useCallback:function(s,a){return Ae="useCallback",vn(),pf(a),Cb(s,a)},useContext:function(s){return Ae="useContext",vn(),hr(s)},useEffect:function(s,a){return Ae="useEffect",vn(),pf(a),S0(s,a)},useImperativeHandle:function(s,a,f){return Ae="useImperativeHandle",vn(),pf(f),bb(s,a,f)},useInsertionEffect:function(s,a){return Ae="useInsertionEffect",vn(),pf(a),wb(s,a)},useLayoutEffect:function(s,a){return Ae="useLayoutEffect",vn(),pf(a),xb(s,a)},useMemo:function(s,a){Ae="useMemo",vn(),pf(a);var f=qe.current;qe.current=Bs;try{return Eb(s,a)}finally{qe.current=f}},useReducer:function(s,a,f){Ae="useReducer",vn();var g=qe.current;qe.current=Bs;try{return db(s,a,f)}finally{qe.current=g}},useRef:function(s){return Ae="useRef",vn(),yb(s)},useState:function(s){Ae="useState",vn();var a=qe.current;qe.current=Bs;try{return C0(s)}finally{qe.current=a}},useDebugValue:function(s,a){return Ae="useDebugValue",vn(),void 0},useDeferredValue:function(s){return Ae="useDeferredValue",vn(),Db(s)},useTransition:function(){return Ae="useTransition",vn(),Sb()},useMutableSource:function(s,a,f){return Ae="useMutableSource",vn(),void 0},useSyncExternalStore:function(s,a,f){return Ae="useSyncExternalStore",vn(),pb(s,a,f)},useId:function(){return Ae="useId",vn(),Tb()},unstable_isNewReconciler:H},TR={readContext:function(s){return hr(s)},useCallback:function(s,a){return Ae="useCallback",ze(),Cb(s,a)},useContext:function(s){return Ae="useContext",ze(),hr(s)},useEffect:function(s,a){return Ae="useEffect",ze(),S0(s,a)},useImperativeHandle:function(s,a,f){return Ae="useImperativeHandle",ze(),bb(s,a,f)},useInsertionEffect:function(s,a){return Ae="useInsertionEffect",ze(),wb(s,a)},useLayoutEffect:function(s,a){return Ae="useLayoutEffect",ze(),xb(s,a)},useMemo:function(s,a){Ae="useMemo",ze();var f=qe.current;qe.current=Bs;try{return Eb(s,a)}finally{qe.current=f}},useReducer:function(s,a,f){Ae="useReducer",ze();var g=qe.current;qe.current=Bs;try{return db(s,a,f)}finally{qe.current=g}},useRef:function(s){return Ae="useRef",ze(),yb(s)},useState:function(s){Ae="useState",ze();var a=qe.current;qe.current=Bs;try{return C0(s)}finally{qe.current=a}},useDebugValue:function(s,a){return Ae="useDebugValue",ze(),void 0},useDeferredValue:function(s){return Ae="useDeferredValue",ze(),Db(s)},useTransition:function(){return Ae="useTransition",ze(),Sb()},useMutableSource:function(s,a,f){return Ae="useMutableSource",ze(),void 0},useSyncExternalStore:function(s,a,f){return Ae="useSyncExternalStore",ze(),pb(s,a,f)},useId:function(){return Ae="useId",ze(),Tb()},unstable_isNewReconciler:H},AR={readContext:function(s){return hr(s)},useCallback:function(s,a){return Ae="useCallback",ze(),B0(s,a)},useContext:function(s){return Ae="useContext",ze(),hr(s)},useEffect:function(s,a){return Ae="useEffect",ze(),Xh(s,a)},useImperativeHandle:function(s,a,f){return Ae="useImperativeHandle",ze(),P0(s,a,f)},useInsertionEffect:function(s,a){return Ae="useInsertionEffect",ze(),T0(s,a)},useLayoutEffect:function(s,a){return Ae="useLayoutEffect",ze(),A0(s,a)},useMemo:function(s,a){Ae="useMemo",ze();var f=qe.current;qe.current=ts;try{return k0(s,a)}finally{qe.current=f}},useReducer:function(s,a,f){Ae="useReducer",ze();var g=qe.current;qe.current=ts;try{return hb(s,a,f)}finally{qe.current=g}},useRef:function(s){return Ae="useRef",ze(),E0()},useState:function(s){Ae="useState",ze();var a=qe.current;qe.current=ts;try{return mb(s)}finally{qe.current=a}},useDebugValue:function(s,a){return Ae="useDebugValue",ze(),R0()},useDeferredValue:function(s){return Ae="useDeferredValue",ze(),pR(s)},useTransition:function(){return Ae="useTransition",ze(),yR()},useMutableSource:function(s,a,f){return Ae="useMutableSource",ze(),void 0},useSyncExternalStore:function(s,a,f){return Ae="useSyncExternalStore",ze(),b0(s,a)},useId:function(){return Ae="useId",ze(),M0()},unstable_isNewReconciler:H},PR={readContext:function(s){return hr(s)},useCallback:function(s,a){return Ae="useCallback",ze(),B0(s,a)},useContext:function(s){return Ae="useContext",ze(),hr(s)},useEffect:function(s,a){return Ae="useEffect",ze(),Xh(s,a)},useImperativeHandle:function(s,a,f){return Ae="useImperativeHandle",ze(),P0(s,a,f)},useInsertionEffect:function(s,a){return Ae="useInsertionEffect",ze(),T0(s,a)},useLayoutEffect:function(s,a){return Ae="useLayoutEffect",ze(),A0(s,a)},useMemo:function(s,a){Ae="useMemo",ze();var f=qe.current;qe.current=O0;try{return k0(s,a)}finally{qe.current=f}},useReducer:function(s,a,f){Ae="useReducer",ze();var g=qe.current;qe.current=O0;try{return gb(s,a,f)}finally{qe.current=g}},useRef:function(s){return Ae="useRef",ze(),E0()},useState:function(s){Ae="useState",ze();var a=qe.current;qe.current=O0;try{return vb(s)}finally{qe.current=a}},useDebugValue:function(s,a){return Ae="useDebugValue",ze(),R0()},useDeferredValue:function(s){return Ae="useDeferredValue",ze(),mR(s)},useTransition:function(){return Ae="useTransition",ze(),wR()},useMutableSource:function(s,a,f){return Ae="useMutableSource",ze(),void 0},useSyncExternalStore:function(s,a,f){return Ae="useSyncExternalStore",ze(),b0(s,a)},useId:function(){return Ae="useId",ze(),M0()},unstable_isNewReconciler:H},Bs={readContext:function(s){return Ab(),hr(s)},useCallback:function(s,a){return Ae="useCallback",Nt(),vn(),Cb(s,a)},useContext:function(s){return Ae="useContext",Nt(),vn(),hr(s)},useEffect:function(s,a){return Ae="useEffect",Nt(),vn(),S0(s,a)},useImperativeHandle:function(s,a,f){return Ae="useImperativeHandle",Nt(),vn(),bb(s,a,f)},useInsertionEffect:function(s,a){return Ae="useInsertionEffect",Nt(),vn(),wb(s,a)},useLayoutEffect:function(s,a){return Ae="useLayoutEffect",Nt(),vn(),xb(s,a)},useMemo:function(s,a){Ae="useMemo",Nt(),vn();var f=qe.current;qe.current=Bs;try{return Eb(s,a)}finally{qe.current=f}},useReducer:function(s,a,f){Ae="useReducer",Nt(),vn();var g=qe.current;qe.current=Bs;try{return db(s,a,f)}finally{qe.current=g}},useRef:function(s){return Ae="useRef",Nt(),vn(),yb(s)},useState:function(s){Ae="useState",Nt(),vn();var a=qe.current;qe.current=Bs;try{return C0(s)}finally{qe.current=a}},useDebugValue:function(s,a){return Ae="useDebugValue",Nt(),vn(),void 0},useDeferredValue:function(s){return Ae="useDeferredValue",Nt(),vn(),Db(s)},useTransition:function(){return Ae="useTransition",Nt(),vn(),Sb()},useMutableSource:function(s,a,f){return Ae="useMutableSource",Nt(),vn(),void 0},useSyncExternalStore:function(s,a,f){return Ae="useSyncExternalStore",Nt(),vn(),pb(s,a,f)},useId:function(){return Ae="useId",Nt(),vn(),Tb()},unstable_isNewReconciler:H},ts={readContext:function(s){return Ab(),hr(s)},useCallback:function(s,a){return Ae="useCallback",Nt(),ze(),B0(s,a)},useContext:function(s){return Ae="useContext",Nt(),ze(),hr(s)},useEffect:function(s,a){return Ae="useEffect",Nt(),ze(),Xh(s,a)},useImperativeHandle:function(s,a,f){return Ae="useImperativeHandle",Nt(),ze(),P0(s,a,f)},useInsertionEffect:function(s,a){return Ae="useInsertionEffect",Nt(),ze(),T0(s,a)},useLayoutEffect:function(s,a){return Ae="useLayoutEffect",Nt(),ze(),A0(s,a)},useMemo:function(s,a){Ae="useMemo",Nt(),ze();var f=qe.current;qe.current=ts;try{return k0(s,a)}finally{qe.current=f}},useReducer:function(s,a,f){Ae="useReducer",Nt(),ze();var g=qe.current;qe.current=ts;try{return hb(s,a,f)}finally{qe.current=g}},useRef:function(s){return Ae="useRef",Nt(),ze(),E0()},useState:function(s){Ae="useState",Nt(),ze();var a=qe.current;qe.current=ts;try{return mb(s)}finally{qe.current=a}},useDebugValue:function(s,a){return Ae="useDebugValue",Nt(),ze(),R0()},useDeferredValue:function(s){return Ae="useDeferredValue",Nt(),ze(),pR(s)},useTransition:function(){return Ae="useTransition",Nt(),ze(),yR()},useMutableSource:function(s,a,f){return Ae="useMutableSource",Nt(),ze(),void 0},useSyncExternalStore:function(s,a,f){return Ae="useSyncExternalStore",Nt(),ze(),b0(s,a)},useId:function(){return Ae="useId",Nt(),ze(),M0()},unstable_isNewReconciler:H},O0={readContext:function(s){return Ab(),hr(s)},useCallback:function(s,a){return Ae="useCallback",Nt(),ze(),B0(s,a)},useContext:function(s){return Ae="useContext",Nt(),ze(),hr(s)},useEffect:function(s,a){return Ae="useEffect",Nt(),ze(),Xh(s,a)},useImperativeHandle:function(s,a,f){return Ae="useImperativeHandle",Nt(),ze(),P0(s,a,f)},useInsertionEffect:function(s,a){return Ae="useInsertionEffect",Nt(),ze(),T0(s,a)},useLayoutEffect:function(s,a){return Ae="useLayoutEffect",Nt(),ze(),A0(s,a)},useMemo:function(s,a){Ae="useMemo",Nt(),ze();var f=qe.current;qe.current=ts;try{return k0(s,a)}finally{qe.current=f}},useReducer:function(s,a,f){Ae="useReducer",Nt(),ze();var g=qe.current;qe.current=ts;try{return gb(s,a,f)}finally{qe.current=g}},useRef:function(s){return Ae="useRef",Nt(),ze(),E0()},useState:function(s){Ae="useState",Nt(),ze();var a=qe.current;qe.current=ts;try{return vb(s)}finally{qe.current=a}},useDebugValue:function(s,a){return Ae="useDebugValue",Nt(),ze(),R0()},useDeferredValue:function(s){return Ae="useDeferredValue",Nt(),ze(),mR(s)},useTransition:function(){return Ae="useTransition",Nt(),ze(),wR()},useMutableSource:function(s,a,f){return Ae="useMutableSource",Nt(),ze(),void 0},useSyncExternalStore:function(s,a,f){return Ae="useSyncExternalStore",Nt(),ze(),b0(s,a)},useId:function(){return Ae="useId",Nt(),ze(),M0()},unstable_isNewReconciler:H}}var du=n.unstable_now,RR=0,F0=-1,Yh=-1,L0=-1,Pb=!1,I0=!1;function BR(){return Pb}function dV(){I0=!0}function hV(){Pb=!1,I0=!1}function gV(){Pb=I0,I0=!1}function kR(){return RR}function MR(){RR=du()}function Rb(s){Yh=du(),s.actualStartTime<0&&(s.actualStartTime=du())}function NR(s){Yh=-1}function H0(s,a){if(Yh>=0){var f=du()-Yh;s.actualDuration+=f,a&&(s.selfBaseDuration=f),Yh=-1}}function ks(s){if(F0>=0){var a=du()-F0;F0=-1;for(var f=s.return;f!==null;){switch(f.tag){case m:var g=f.stateNode;g.effectDuration+=a;return;case P:var y=f.stateNode;y.effectDuration+=a;return}f=f.return}}}function Bb(s){if(L0>=0){var a=du()-L0;L0=-1;for(var f=s.return;f!==null;){switch(f.tag){case m:var g=f.stateNode;g!==null&&(g.passiveEffectDuration+=a);return;case P:var y=f.stateNode;y!==null&&(y.passiveEffectDuration+=a);return}f=f.return}}}function Ms(){F0=du()}function kb(){L0=du()}function Mb(s){for(var a=s.child;a;)s.actualDuration+=a.actualDuration,a=a.sibling}function ns(s,a){if(s&&s.defaultProps){var f=Wt({},a),g=s.defaultProps;for(var y in g)f[y]===void 0&&(f[y]=g[y]);return f}return a}var Nb={},Ob,Fb,Lb,Ib,Hb,OR,G0,Gb,_b,Vb,Kh;{Ob=new Set,Fb=new Set,Lb=new Set,Ib=new Set,Gb=new Set,Hb=new Set,_b=new Set,Vb=new Set,Kh=new Set;var FR=new Set;G0=function(s,a){if(!(s===null||typeof s=="function")){var f=a+"_"+s;FR.has(f)||(FR.add(f),l("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",a,s))}},OR=function(s,a){if(a===void 0){var f=dn(s)||"Component";Hb.has(f)||(Hb.add(f),l("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",f))}},Object.defineProperty(Nb,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Nb)}function jb(s,a,f,g){var y=s.memoizedState,x=f(g,y);{if(s.mode&sr){Nr(!0);try{x=f(g,y)}finally{Nr(!1)}}OR(a,x)}var D=x==null?y:Wt({},y,x);if(s.memoizedState=D,s.lanes===Me){var A=s.updateQueue;A.baseState=D}}var zb={isMounted:oL,enqueueSetState:function(s,a,f){var g=Ic(s),y=Ei(),x=mu(g),D=ma(y,x);D.payload=a,f!=null&&(G0(f,"setState"),D.callback=f);var A=uu(g,D,x);A!==null&&(Tr(A,g,x,y),g0(A,g,x)),xw(g,x)},enqueueReplaceState:function(s,a,f){var g=Ic(s),y=Ei(),x=mu(g),D=ma(y,x);D.tag=QP,D.payload=a,f!=null&&(G0(f,"replaceState"),D.callback=f);var A=uu(g,D,x);A!==null&&(Tr(A,g,x,y),g0(A,g,x)),xw(g,x)},enqueueForceUpdate:function(s,a){var f=Ic(s),g=Ei(),y=mu(f),x=ma(g,y);x.tag=f0,a!=null&&(G0(a,"forceUpdate"),x.callback=a);var D=uu(f,x,y);D!==null&&(Tr(D,f,y,g),g0(D,f,y)),LL(f,y)}};function LR(s,a,f,g,y,x,D){var A=s.stateNode;if(typeof A.shouldComponentUpdate=="function"){var M=A.shouldComponentUpdate(g,x,D);{if(s.mode&sr){Nr(!0);try{M=A.shouldComponentUpdate(g,x,D)}finally{Nr(!1)}}M===void 0&&l("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",dn(a)||"Component")}return M}return a.prototype&&a.prototype.isPureReactComponent?!vh(f,g)||!vh(y,x):!0}function pV(s,a,f){var g=s.stateNode;{var y=dn(a)||"Component",x=g.render;x||(a.prototype&&typeof a.prototype.render=="function"?l("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",y):l("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",y)),g.getInitialState&&!g.getInitialState.isReactClassApproved&&!g.state&&l("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",y),g.getDefaultProps&&!g.getDefaultProps.isReactClassApproved&&l("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",y),g.propTypes&&l("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",y),g.contextType&&l("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",y),a.childContextTypes&&!Kh.has(a)&&(s.mode&sr)===wt&&(Kh.add(a),l(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,y)),a.contextTypes&&!Kh.has(a)&&(s.mode&sr)===wt&&(Kh.add(a),l(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,y)),g.contextTypes&&l("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",y),a.contextType&&a.contextTypes&&!_b.has(a)&&(_b.add(a),l("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",y)),typeof g.componentShouldUpdate=="function"&&l("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",y),a.prototype&&a.prototype.isPureReactComponent&&typeof g.shouldComponentUpdate<"u"&&l("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",dn(a)||"A pure component"),typeof g.componentDidUnmount=="function"&&l("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",y),typeof g.componentDidReceiveProps=="function"&&l("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",y),typeof g.componentWillRecieveProps=="function"&&l("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",y),typeof g.UNSAFE_componentWillRecieveProps=="function"&&l("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",y);var D=g.props!==f;g.props!==void 0&&D&&l("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",y,y),g.defaultProps&&l("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",y,y),typeof g.getSnapshotBeforeUpdate=="function"&&typeof g.componentDidUpdate!="function"&&!Lb.has(a)&&(Lb.add(a),l("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",dn(a))),typeof g.getDerivedStateFromProps=="function"&&l("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",y),typeof g.getDerivedStateFromError=="function"&&l("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",y),typeof a.getSnapshotBeforeUpdate=="function"&&l("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",y);var A=g.state;A&&(typeof A!="object"||Xt(A))&&l("%s.state: must be set to an object or null",y),typeof g.getChildContext=="function"&&typeof a.childContextTypes!="object"&&l("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",y)}}function IR(s,a){a.updater=zb,s.stateNode=a,tL(a,s),a._reactInternalInstance=Nb}function HR(s,a,f){var g=!1,y=so,x=so,D=a.contextType;if("contextType"in a){var A=D===null||D!==void 0&&D.$$typeof===Ue&&D._context===void 0;if(!A&&!Vb.has(a)){Vb.add(a);var M="";D===void 0?M=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof D!="object"?M=" However, it is set to a "+typeof D+".":D.$$typeof===Ne?M=" Did you accidentally pass the Context.Provider instead?":D._context!==void 0?M=" Did you accidentally pass the Context.Consumer instead?":M=" However, it is set to an object with keys {"+Object.keys(D).join(", ")+"}.",l("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",dn(a)||"Component",M)}}if(typeof D=="object"&&D!==null)x=hr(D);else{y=nf(s,a,!0);var j=a.contextTypes;g=j!=null,x=g?rf(s,y):so}var W=new a(f,x);if(s.mode&sr){Nr(!0);try{W=new a(f,x)}finally{Nr(!1)}}var se=s.memoizedState=W.state!==null&&W.state!==void 0?W.state:null;IR(s,W);{if(typeof a.getDerivedStateFromProps=="function"&&se===null){var oe=dn(a)||"Component";Fb.has(oe)||(Fb.add(oe),l("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",oe,W.state===null?"null":"undefined",oe))}if(typeof a.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"){var pe=null,we=null,De=null;if(typeof W.componentWillMount=="function"&&W.componentWillMount.__suppressDeprecationWarning!==!0?pe="componentWillMount":typeof W.UNSAFE_componentWillMount=="function"&&(pe="UNSAFE_componentWillMount"),typeof W.componentWillReceiveProps=="function"&&W.componentWillReceiveProps.__suppressDeprecationWarning!==!0?we="componentWillReceiveProps":typeof W.UNSAFE_componentWillReceiveProps=="function"&&(we="UNSAFE_componentWillReceiveProps"),typeof W.componentWillUpdate=="function"&&W.componentWillUpdate.__suppressDeprecationWarning!==!0?De="componentWillUpdate":typeof W.UNSAFE_componentWillUpdate=="function"&&(De="UNSAFE_componentWillUpdate"),pe!==null||we!==null||De!==null){var We=dn(a)||"Component",mt=typeof a.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Ib.has(We)||(Ib.add(We),l(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,We,mt,pe!==null?`
  `+pe:"",we!==null?`
  `+we:"",De!==null?`
  `+De:""))}}}return g&&AP(s,y,x),W}function mV(s,a){var f=a.state;typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),f!==a.state&&(l("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",It(s)||"Component"),zb.enqueueReplaceState(a,a.state,null))}function GR(s,a,f,g){var y=a.state;if(typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,g),a.state!==y){{var x=It(s)||"Component";Ob.has(x)||(Ob.add(x),l("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",x))}zb.enqueueReplaceState(a,a.state,null)}}function $b(s,a,f,g){pV(s,a,f);var y=s.stateNode;y.props=f,y.state=s.memoizedState,y.refs={},Jx(s);var x=a.contextType;if(typeof x=="object"&&x!==null)y.context=hr(x);else{var D=nf(s,a,!0);y.context=rf(s,D)}{if(y.state===f){var A=dn(a)||"Component";Gb.has(A)||(Gb.add(A),l("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",A))}s.mode&sr&&Jo.recordLegacyContextWarning(s,y),Jo.recordUnsafeLifecycleWarnings(s,y)}y.state=s.memoizedState;var M=a.getDerivedStateFromProps;if(typeof M=="function"&&(jb(s,a,M,f),y.state=s.memoizedState),typeof a.getDerivedStateFromProps!="function"&&typeof y.getSnapshotBeforeUpdate!="function"&&(typeof y.UNSAFE_componentWillMount=="function"||typeof y.componentWillMount=="function")&&(mV(s,y),p0(s,f,y,g),y.state=s.memoizedState),typeof y.componentDidMount=="function"){var j=hn;j|=dl,(s.mode&Ds)!==wt&&(j|=qa),s.flags|=j}}function vV(s,a,f,g){var y=s.stateNode,x=s.memoizedProps;y.props=x;var D=y.context,A=a.contextType,M=so;if(typeof A=="object"&&A!==null)M=hr(A);else{var j=nf(s,a,!0);M=rf(s,j)}var W=a.getDerivedStateFromProps,se=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function";!se&&(typeof y.UNSAFE_componentWillReceiveProps=="function"||typeof y.componentWillReceiveProps=="function")&&(x!==f||D!==M)&&GR(s,y,f,M),eR();var oe=s.memoizedState,pe=y.state=oe;if(p0(s,f,y,g),pe=s.memoizedState,x===f&&oe===pe&&!qm()&&!m0()){if(typeof y.componentDidMount=="function"){var we=hn;we|=dl,(s.mode&Ds)!==wt&&(we|=qa),s.flags|=we}return!1}typeof W=="function"&&(jb(s,a,W,f),pe=s.memoizedState);var De=m0()||LR(s,a,x,f,oe,pe,M);if(De){if(!se&&(typeof y.UNSAFE_componentWillMount=="function"||typeof y.componentWillMount=="function")&&(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"){var We=hn;We|=dl,(s.mode&Ds)!==wt&&(We|=qa),s.flags|=We}}else{if(typeof y.componentDidMount=="function"){var mt=hn;mt|=dl,(s.mode&Ds)!==wt&&(mt|=qa),s.flags|=mt}s.memoizedProps=f,s.memoizedState=pe}return y.props=f,y.state=pe,y.context=M,De}function yV(s,a,f,g,y){var x=a.stateNode;JP(s,a);var D=a.memoizedProps,A=a.type===a.elementType?D:ns(a.type,D);x.props=A;var M=a.pendingProps,j=x.context,W=f.contextType,se=so;if(typeof W=="object"&&W!==null)se=hr(W);else{var oe=nf(a,f,!0);se=rf(a,oe)}var pe=f.getDerivedStateFromProps,we=typeof pe=="function"||typeof x.getSnapshotBeforeUpdate=="function";!we&&(typeof x.UNSAFE_componentWillReceiveProps=="function"||typeof x.componentWillReceiveProps=="function")&&(D!==M||j!==se)&&GR(a,x,g,se),eR();var De=a.memoizedState,We=x.state=De;if(p0(a,g,x,y),We=a.memoizedState,D===M&&De===We&&!qm()&&!m0())return typeof x.componentDidUpdate=="function"&&(D!==s.memoizedProps||De!==s.memoizedState)&&(a.flags|=hn),typeof x.getSnapshotBeforeUpdate=="function"&&(D!==s.memoizedProps||De!==s.memoizedState)&&(a.flags|=Gc),!1;typeof pe=="function"&&(jb(a,f,pe,g),We=a.memoizedState);var mt=m0()||LR(a,f,A,g,De,We,se)||_;return mt?(!we&&(typeof x.UNSAFE_componentWillUpdate=="function"||typeof x.componentWillUpdate=="function")&&(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(g,We,se),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(g,We,se)),typeof x.componentDidUpdate=="function"&&(a.flags|=hn),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=Gc)):(typeof x.componentDidUpdate=="function"&&(D!==s.memoizedProps||De!==s.memoizedState)&&(a.flags|=hn),typeof x.getSnapshotBeforeUpdate=="function"&&(D!==s.memoizedProps||De!==s.memoizedState)&&(a.flags|=Gc),a.memoizedProps=g,a.memoizedState=We),x.props=g,x.state=We,x.context=se,mt}function Bl(s,a){return{value:s,source:a,stack:nl(a),digest:null}}function Ub(s,a,f){return{value:s,source:null,stack:f??null,digest:a??null}}function wV(s,a){return!0}function Wb(s,a){try{var f=wV(s,a);if(f===!1)return;var g=a.value,y=a.source,x=a.stack,D=x!==null?x:"";if(g!=null&&g._suppressLogging){if(s.tag===h)return;console.error(g)}var A=y?It(y):null,M=A?"The above error occurred in the <"+A+"> component:":"The above error occurred in one of your React components:",j;if(s.tag===m)j=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var W=It(s)||"Anonymous";j="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+W+".")}var se=M+`
`+D+`

`+(""+j);console.error(se)}catch(oe){setTimeout(function(){throw oe})}}var xV=typeof WeakMap=="function"?WeakMap:Map;function _R(s,a,f){var g=ma(Hn,f);g.tag=Zx,g.payload={element:null};var y=a.value;return g.callback=function(){dz(y),Wb(s,a)},g}function Xb(s,a,f){var g=ma(Hn,f);g.tag=Zx;var y=s.type.getDerivedStateFromError;if(typeof y=="function"){var x=a.value;g.payload=function(){return y(x)},g.callback=function(){Z5(s),Wb(s,a)}}var D=s.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(g.callback=function(){Z5(s),Wb(s,a),typeof y!="function"&&cz(this);var M=a.value,j=a.stack;this.componentDidCatch(M,{componentStack:j!==null?j:""}),typeof y!="function"&&(no(s.lanes,Mt)||l("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",It(s)||"Unknown"))}),g}function VR(s,a,f){var g=s.pingCache,y;if(g===null?(g=s.pingCache=new xV,y=new Set,g.set(a,y)):(y=g.get(a),y===void 0&&(y=new Set,g.set(a,y))),!y.has(f)){y.add(f);var x=hz.bind(null,s,a,f);Ko&&dg(s,f),a.then(x,x)}}function bV(s,a,f,g){var y=s.updateQueue;if(y===null){var x=new Set;x.add(f),s.updateQueue=x}else y.add(f)}function CV(s,a){var f=s.tag;if((s.mode&Jt)===wt&&(f===d||f===B||f===Y)){var g=s.alternate;g?(s.updateQueue=g.updateQueue,s.memoizedState=g.memoizedState,s.lanes=g.lanes):(s.updateQueue=null,s.memoizedState=null)}}function jR(s){var a=s;do{if(a.tag===I&&nV(a))return a;a=a.return}while(a!==null);return null}function zR(s,a,f,g,y){if((s.mode&Jt)===wt){if(s===a)s.flags|=Yo;else{if(s.flags|=mn,f.flags|=dw,f.flags&=-52805,f.tag===h){var x=f.alternate;if(x===null)f.tag=re;else{var D=ma(Hn,Mt);D.tag=f0,uu(f,D,Mt)}}f.lanes=zt(f.lanes,Mt)}return s}return s.flags|=Yo,s.lanes=y,s}function EV(s,a,f,g,y){if(f.flags|=gm,Ko&&dg(s,y),g!==null&&typeof g=="object"&&typeof g.then=="function"){var x=g;CV(f),$r()&&f.mode&Jt&&OP();var D=jR(a);if(D!==null){D.flags&=-257,zR(D,a,f,s,y),D.mode&Jt&&VR(s,x,y),bV(D,s,x);return}else{if(!UL(y)){VR(s,x,y),TC();return}var A=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");g=A}}else if($r()&&f.mode&Jt){OP();var M=jR(a);if(M!==null){(M.flags&Yo)===Ct&&(M.flags|=ul),zR(M,a,f,s,y),Gx(Bl(g,f));return}}g=Bl(g,f),nz(g);var j=a;do{switch(j.tag){case m:{var W=g;j.flags|=Yo;var se=nh(y);j.lanes=zt(j.lanes,se);var oe=_R(j,W,se);eb(j,oe);return}case h:var pe=g,we=j.type,De=j.stateNode;if((j.flags&mn)===Ct&&(typeof we.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&!j5(De))){j.flags|=Yo;var We=nh(y);j.lanes=zt(j.lanes,We);var mt=Xb(j,pe,We);eb(j,mt);return}break}j=j.return}while(j!==null)}function DV(){return null}var qh=r.ReactCurrentOwner,rs=!1,Yb,Zh,Kb,qb,Zb,kl,Qb,_0,Qh;Yb={},Zh={},Kb={},qb={},Zb={},kl=!1,Qb={},_0={},Qh={};function bi(s,a,f,g){s===null?a.child=WP(a,null,f,g):a.child=uf(a,s.child,f,g)}function SV(s,a,f,g){a.child=uf(a,s.child,null,g),a.child=uf(a,null,f,g)}function $R(s,a,f,g,y){if(a.type!==a.elementType){var x=f.propTypes;x&&Zo(x,g,"prop",dn(f))}var D=f.render,A=a.ref,M,j;cf(a,y),qd(a);{if(qh.current=a,Do(!0),M=mf(s,a,D,g,A,y),j=vf(),a.mode&sr){Nr(!0);try{M=mf(s,a,D,g,A,y),j=vf()}finally{Nr(!1)}}Do(!1)}return jc(),s!==null&&!rs?(sR(s,a,y),va(s,a,y)):($r()&&j&&Nx(a),a.flags|=Hc,bi(s,a,M,y),a.child)}function UR(s,a,f,g,y){if(s===null){var x=f.type;if(Bz(x)&&f.compare===null&&f.defaultProps===void 0){var D=x;return D=Sf(x),a.tag=Y,a.type=D,tC(a,x),WR(s,a,D,g,y)}{var A=x.propTypes;if(A&&Zo(A,g,"prop",dn(x)),f.defaultProps!==void 0){var M=dn(x)||"Unknown";Qh[M]||(l("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",M),Qh[M]=!0)}}var j=IC(f.type,null,g,a,a.mode,y);return j.ref=a.ref,j.return=a,a.child=j,j}{var W=f.type,se=W.propTypes;se&&Zo(se,g,"prop",dn(W))}var oe=s.child,pe=aC(s,y);if(!pe){var we=oe.memoizedProps,De=f.compare;if(De=De!==null?De:vh,De(we,g)&&s.ref===a.ref)return va(s,a,y)}a.flags|=Hc;var We=Ll(oe,g);return We.ref=a.ref,We.return=a,a.child=We,We}function WR(s,a,f,g,y){if(a.type!==a.elementType){var x=a.elementType;if(x.$$typeof===yt){var D=x,A=D._payload,M=D._init;try{x=M(A)}catch{x=null}var j=x&&x.propTypes;j&&Zo(j,g,"prop",dn(x))}}if(s!==null){var W=s.memoizedProps;if(vh(W,g)&&s.ref===a.ref&&a.type===s.type)if(rs=!1,a.pendingProps=g=W,aC(s,y))(s.flags&dw)!==Ct&&(rs=!0);else return a.lanes=s.lanes,va(s,a,y)}return Jb(s,a,f,g,y)}function XR(s,a,f){var g=a.pendingProps,y=g.children,x=s!==null?s.memoizedState:null;if(g.mode==="hidden"||X)if((a.mode&Jt)===wt){var D={baseLanes:Me,cachePool:null,transitions:null};a.memoizedState=D,J0(a,f)}else if(no(f,So)){var se={baseLanes:Me,cachePool:null,transitions:null};a.memoizedState=se;var oe=x!==null?x.baseLanes:f;J0(a,oe)}else{var A=null,M;if(x!==null){var j=x.baseLanes;M=zt(j,f)}else M=f;a.lanes=a.childLanes=So;var W={baseLanes:M,cachePool:A,transitions:null};return a.memoizedState=W,a.updateQueue=null,J0(a,M),null}else{var pe;x!==null?(pe=zt(x.baseLanes,f),a.memoizedState=null):pe=f,J0(a,pe)}return bi(s,a,y,f),a.child}function TV(s,a,f){var g=a.pendingProps;return bi(s,a,g,f),a.child}function AV(s,a,f){var g=a.pendingProps.children;return bi(s,a,g,f),a.child}function PV(s,a,f){{a.flags|=hn;{var g=a.stateNode;g.effectDuration=0,g.passiveEffectDuration=0}}var y=a.pendingProps,x=y.children;return bi(s,a,x,f),a.child}function YR(s,a){var f=a.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(a.flags|=ll,a.flags|=hw)}function Jb(s,a,f,g,y){if(a.type!==a.elementType){var x=f.propTypes;x&&Zo(x,g,"prop",dn(f))}var D;{var A=nf(a,f,!0);D=rf(a,A)}var M,j;cf(a,y),qd(a);{if(qh.current=a,Do(!0),M=mf(s,a,f,g,D,y),j=vf(),a.mode&sr){Nr(!0);try{M=mf(s,a,f,g,D,y),j=vf()}finally{Nr(!1)}}Do(!1)}return jc(),s!==null&&!rs?(sR(s,a,y),va(s,a,y)):($r()&&j&&Nx(a),a.flags|=Hc,bi(s,a,M,y),a.child)}function KR(s,a,f,g,y){{switch(Uz(a)){case!1:{var x=a.stateNode,D=a.type,A=new D(a.memoizedProps,x.context),M=A.state;x.updater.enqueueSetState(x,M,null);break}case!0:{a.flags|=mn,a.flags|=Yo;var j=new Error("Simulated error coming from DevTools"),W=nh(y);a.lanes=zt(a.lanes,W);var se=Xb(a,Bl(j,a),W);eb(a,se);break}}if(a.type!==a.elementType){var oe=f.propTypes;oe&&Zo(oe,g,"prop",dn(f))}}var pe;As(f)?(pe=!0,Qm(a)):pe=!1,cf(a,y);var we=a.stateNode,De;we===null?(j0(s,a),HR(a,f,g),$b(a,f,g,y),De=!0):s===null?De=vV(a,f,g,y):De=yV(s,a,f,g,y);var We=eC(s,a,f,De,pe,y);{var mt=a.stateNode;De&&mt.props!==g&&(kl||l("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",It(a)||"a component"),kl=!0)}return We}function eC(s,a,f,g,y,x){YR(s,a);var D=(a.flags&mn)!==Ct;if(!g&&!D)return y&&BP(a,f,!1),va(s,a,x);var A=a.stateNode;qh.current=a;var M;if(D&&typeof f.getDerivedStateFromError!="function")M=null,NR();else{qd(a);{if(Do(!0),M=A.render(),a.mode&sr){Nr(!0);try{A.render()}finally{Nr(!1)}}Do(!1)}jc()}return a.flags|=Hc,s!==null&&D?SV(s,a,M,x):bi(s,a,M,x),a.memoizedState=A.state,y&&BP(a,f,!0),a.child}function qR(s){var a=s.stateNode;a.pendingContext?PP(s,a.pendingContext,a.pendingContext!==a.context):a.context&&PP(s,a.context,!1),tb(s,a.containerInfo)}function RV(s,a,f){if(qR(a),s===null)throw new Error("Should have a current fiber. This is a bug in React.");var g=a.pendingProps,y=a.memoizedState,x=y.element;JP(s,a),p0(a,g,null,f);var D=a.memoizedState;a.stateNode;var A=D.element;if(y.isDehydrated){var M={element:A,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},j=a.updateQueue;if(j.baseState=M,a.memoizedState=M,a.flags&ul){var W=Bl(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),a);return ZR(s,a,A,f,W)}else if(A!==x){var se=Bl(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),a);return ZR(s,a,A,f,se)}else{M_(a);var oe=WP(a,null,A,f);a.child=oe;for(var pe=oe;pe;)pe.flags=pe.flags&-3|cl,pe=pe.sibling}}else{if(af(),A===x)return va(s,a,f);bi(s,a,A,f)}return a.child}function ZR(s,a,f,g,y){return af(),Gx(y),a.flags|=ul,bi(s,a,f,g),a.child}function BV(s,a,f){rR(a),s===null&&Hx(a);var g=a.type,y=a.pendingProps,x=s!==null?s.memoizedProps:null,D=y.children,A=wx(g,y);return A?D=null:x!==null&&wx(g,x)&&(a.flags|=hm),YR(s,a),bi(s,a,D,f),a.child}function kV(s,a){return s===null&&Hx(a),null}function MV(s,a,f,g){j0(s,a);var y=a.pendingProps,x=f,D=x._payload,A=x._init,M=A(D);a.type=M;var j=a.tag=kz(M),W=ns(M,y),se;switch(j){case d:return tC(a,M),a.type=M=Sf(M),se=Jb(null,a,M,W,g),se;case h:return a.type=M=kC(M),se=KR(null,a,M,W,g),se;case B:return a.type=M=MC(M),se=$R(null,a,M,W,g),se;case z:{if(a.type!==a.elementType){var oe=M.propTypes;oe&&Zo(oe,W,"prop",dn(M))}return se=UR(null,a,M,ns(M.type,W),g),se}}var pe="";throw M!==null&&typeof M=="object"&&M.$$typeof===yt&&(pe=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+M+". "+("Lazy element type must resolve to a class or function."+pe))}function NV(s,a,f,g,y){j0(s,a),a.tag=h;var x;return As(f)?(x=!0,Qm(a)):x=!1,cf(a,y),HR(a,f,g),$b(a,f,g,y),eC(null,a,f,!0,x,y)}function OV(s,a,f,g){j0(s,a);var y=a.pendingProps,x;{var D=nf(a,f,!1);x=rf(a,D)}cf(a,g);var A,M;qd(a);{if(f.prototype&&typeof f.prototype.render=="function"){var j=dn(f)||"Unknown";Yb[j]||(l("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",j,j),Yb[j]=!0)}a.mode&sr&&Jo.recordLegacyContextWarning(a,null),Do(!0),qh.current=a,A=mf(null,a,f,y,x,g),M=vf(),Do(!1)}if(jc(),a.flags|=Hc,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0){var W=dn(f)||"Unknown";Zh[W]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",W,W,W),Zh[W]=!0)}if(typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0){{var se=dn(f)||"Unknown";Zh[se]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",se,se,se),Zh[se]=!0)}a.tag=h,a.memoizedState=null,a.updateQueue=null;var oe=!1;return As(f)?(oe=!0,Qm(a)):oe=!1,a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Jx(a),IR(a,A),$b(a,f,y,g),eC(null,a,f,!0,oe,g)}else{if(a.tag=d,a.mode&sr){Nr(!0);try{A=mf(null,a,f,y,x,g),M=vf()}finally{Nr(!1)}}return $r()&&M&&Nx(a),bi(null,a,A,g),tC(a,f),a.child}}function tC(s,a){{if(a&&a.childContextTypes&&l("%s(...): childContextTypes cannot be defined on a function component.",a.displayName||a.name||"Component"),s.ref!==null){var f="",g=Xa();g&&(f+=`

Check the render method of \``+g+"`.");var y=g||"",x=s._debugSource;x&&(y=x.fileName+":"+x.lineNumber),Zb[y]||(Zb[y]=!0,l("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",f))}if(a.defaultProps!==void 0){var D=dn(a)||"Unknown";Qh[D]||(l("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",D),Qh[D]=!0)}if(typeof a.getDerivedStateFromProps=="function"){var A=dn(a)||"Unknown";qb[A]||(l("%s: Function components do not support getDerivedStateFromProps.",A),qb[A]=!0)}if(typeof a.contextType=="object"&&a.contextType!==null){var M=dn(a)||"Unknown";Kb[M]||(l("%s: Function components do not support contextType.",M),Kb[M]=!0)}}}var nC={dehydrated:null,treeContext:null,retryLane:Or};function rC(s){return{baseLanes:s,cachePool:DV(),transitions:null}}function FV(s,a){var f=null;return{baseLanes:zt(s.baseLanes,a),cachePool:f,transitions:s.transitions}}function LV(s,a,f,g){if(a!==null){var y=a.memoizedState;if(y===null)return!1}return ib(s,Vh)}function IV(s,a){return bm(s.childLanes,a)}function QR(s,a,f){var g=a.pendingProps;Wz(a)&&(a.flags|=mn);var y=es.current,x=!1,D=(a.flags&mn)!==Ct;if(D||LV(y,s)?(x=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y=tV(y,oR)),y=df(y),cu(a,y),s===null){Hx(a);var A=a.memoizedState;if(A!==null){var M=A.dehydrated;if(M!==null)return jV(a,M)}var j=g.children,W=g.fallback;if(x){var se=HV(a,j,W,f),oe=a.child;return oe.memoizedState=rC(f),a.memoizedState=nC,se}else return iC(a,j)}else{var pe=s.memoizedState;if(pe!==null){var we=pe.dehydrated;if(we!==null)return zV(s,a,D,g,we,pe,f)}if(x){var De=g.fallback,We=g.children,mt=_V(s,a,We,De,f),st=a.child,tn=s.child.memoizedState;return st.memoizedState=tn===null?rC(f):FV(tn,f),st.childLanes=IV(s,f),a.memoizedState=nC,mt}else{var Yt=g.children,he=GV(s,a,Yt,f);return a.memoizedState=null,he}}}function iC(s,a,f){var g=s.mode,y={mode:"visible",children:a},x=oC(y,g);return x.return=s,s.child=x,x}function HV(s,a,f,g){var y=s.mode,x=s.child,D={mode:"hidden",children:a},A,M;return(y&Jt)===wt&&x!==null?(A=x,A.childLanes=Me,A.pendingProps=D,s.mode&bn&&(A.actualDuration=0,A.actualStartTime=-1,A.selfBaseDuration=0,A.treeBaseDuration=0),M=yu(f,y,g,null)):(A=oC(D,y),M=yu(f,y,g,null)),A.return=s,M.return=s,A.sibling=M,s.child=A,M}function oC(s,a,f){return J5(s,a,Me,null)}function JR(s,a){return Ll(s,a)}function GV(s,a,f,g){var y=s.child,x=y.sibling,D=JR(y,{mode:"visible",children:f});if((a.mode&Jt)===wt&&(D.lanes=g),D.return=a,D.sibling=null,x!==null){var A=a.deletions;A===null?(a.deletions=[x],a.flags|=al):A.push(x)}return a.child=D,D}function _V(s,a,f,g,y){var x=a.mode,D=s.child,A=D.sibling,M={mode:"hidden",children:f},j;if((x&Jt)===wt&&a.child!==D){var W=a.child;j=W,j.childLanes=Me,j.pendingProps=M,a.mode&bn&&(j.actualDuration=0,j.actualStartTime=-1,j.selfBaseDuration=D.selfBaseDuration,j.treeBaseDuration=D.treeBaseDuration),a.deletions=null}else j=JR(D,M),j.subtreeFlags=D.subtreeFlags&aa;var se;return A!==null?se=Ll(A,g):(se=yu(g,x,y,null),se.flags|=kr),se.return=a,j.return=a,j.sibling=se,a.child=j,se}function V0(s,a,f,g){g!==null&&Gx(g),uf(a,s.child,null,f);var y=a.pendingProps,x=y.children,D=iC(a,x);return D.flags|=kr,a.memoizedState=null,D}function VV(s,a,f,g,y){var x=a.mode,D={mode:"visible",children:f},A=oC(D,x),M=yu(g,x,y,null);return M.flags|=kr,A.return=a,M.return=a,A.sibling=M,a.child=A,(a.mode&Jt)!==wt&&uf(a,s.child,null,y),M}function jV(s,a,f){return(s.mode&Jt)===wt?(l("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),s.lanes=Mt):Ex(a)?s.lanes=pl:s.lanes=So,null}function zV(s,a,f,g,y,x,D){if(f)if(a.flags&ul){a.flags&=-257;var he=Ub(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return V0(s,a,D,he)}else{if(a.memoizedState!==null)return a.child=s.child,a.flags|=mn,null;var Se=g.children,ge=g.fallback,Oe=VV(s,a,Se,ge,D),Ze=a.child;return Ze.memoizedState=rC(D),a.memoizedState=nC,Oe}else{if(B_(),(a.mode&Jt)===wt)return V0(s,a,D,null);if(Ex(y)){var A,M,j;{var W=XG(y);A=W.digest,M=W.message,j=W.stack}var se;M?se=new Error(M):se=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var oe=Ub(se,A,j);return V0(s,a,D,oe)}var pe=no(D,s.childLanes);if(rs||pe){var we=Q0();if(we!==null){var De=JL(we,D);if(De!==Or&&De!==x.retryLane){x.retryLane=De;var We=Hn;Li(s,De),Tr(we,s,De,We)}}TC();var mt=Ub(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return V0(s,a,D,mt)}else if(CP(y)){a.flags|=mn,a.child=s.child;var st=gz.bind(null,s);return YG(y,st),null}else{N_(a,y,x.treeContext);var tn=g.children,Yt=iC(a,tn);return Yt.flags|=cl,Yt}}}function e5(s,a,f){s.lanes=zt(s.lanes,a);var g=s.alternate;g!==null&&(g.lanes=zt(g.lanes,a)),Kx(s.return,a,f)}function $V(s,a,f){for(var g=a;g!==null;){if(g.tag===I){var y=g.memoizedState;y!==null&&e5(g,f,s)}else if(g.tag===ce)e5(g,f,s);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)return;for(;g.sibling===null;){if(g.return===null||g.return===s)return;g=g.return}g.sibling.return=g.return,g=g.sibling}}function UV(s){for(var a=s,f=null;a!==null;){var g=a.alternate;g!==null&&w0(g)===null&&(f=a),a=a.sibling}return f}function WV(s){if(s!==void 0&&s!=="forwards"&&s!=="backwards"&&s!=="together"&&!Qb[s])if(Qb[s]=!0,typeof s=="string")switch(s.toLowerCase()){case"together":case"forwards":case"backwards":{l('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',s,s.toLowerCase());break}case"forward":case"backward":{l('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',s,s.toLowerCase());break}default:l('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s);break}else l('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s)}function XV(s,a){s!==void 0&&!_0[s]&&(s!=="collapsed"&&s!=="hidden"?(_0[s]=!0,l('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',s)):a!=="forwards"&&a!=="backwards"&&(_0[s]=!0,l('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',s)))}function t5(s,a){{var f=Xt(s),g=!f&&typeof Wo(s)=="function";if(f||g){var y=f?"array":"iterable";return l("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",y,a,y),!1}}return!0}function YV(s,a){if((a==="forwards"||a==="backwards")&&s!==void 0&&s!==null&&s!==!1)if(Xt(s)){for(var f=0;f<s.length;f++)if(!t5(s[f],f))return}else{var g=Wo(s);if(typeof g=="function"){var y=g.call(s);if(y)for(var x=y.next(),D=0;!x.done;x=y.next()){if(!t5(x.value,D))return;D++}}else l('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',a)}}function sC(s,a,f,g,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:y}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=g,x.tail=f,x.tailMode=y)}function n5(s,a,f){var g=a.pendingProps,y=g.revealOrder,x=g.tail,D=g.children;WV(y),XV(x,y),YV(D,y),bi(s,a,D,f);var A=es.current,M=ib(A,Vh);if(M)A=ob(A,Vh),a.flags|=mn;else{var j=s!==null&&(s.flags&mn)!==Ct;j&&$V(a,a.child,f),A=df(A)}if(cu(a,A),(a.mode&Jt)===wt)a.memoizedState=null;else switch(y){case"forwards":{var W=UV(a.child),se;W===null?(se=a.child,a.child=null):(se=W.sibling,W.sibling=null),sC(a,!1,se,W,x);break}case"backwards":{var oe=null,pe=a.child;for(a.child=null;pe!==null;){var we=pe.alternate;if(we!==null&&w0(we)===null){a.child=pe;break}var De=pe.sibling;pe.sibling=oe,oe=pe,pe=De}sC(a,!0,oe,null,x);break}case"together":{sC(a,!1,null,null,void 0);break}default:a.memoizedState=null}return a.child}function KV(s,a,f){tb(a,a.stateNode.containerInfo);var g=a.pendingProps;return s===null?a.child=uf(a,null,g,f):bi(s,a,g,f),a.child}var r5=!1;function qV(s,a,f){var g=a.type,y=g._context,x=a.pendingProps,D=a.memoizedProps,A=x.value;{"value"in x||r5||(r5=!0,l("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var M=a.type.propTypes;M&&Zo(M,x,"prop","Context.Provider")}if(KP(a,y,A),D!==null){var j=D.value;if(oo(j,A)){if(D.children===x.children&&!qm())return va(s,a,f)}else W_(a,y,f)}var W=x.children;return bi(s,a,W,f),a.child}var i5=!1;function ZV(s,a,f){var g=a.type;g._context===void 0?g!==g.Consumer&&(i5||(i5=!0,l("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):g=g._context;var y=a.pendingProps,x=y.children;typeof x!="function"&&l("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),cf(a,f);var D=hr(g);qd(a);var A;return qh.current=a,Do(!0),A=x(D),Do(!1),jc(),a.flags|=Hc,bi(s,a,A,f),a.child}function Jh(){rs=!0}function j0(s,a){(a.mode&Jt)===wt&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=kr)}function va(s,a,f){return s!==null&&(a.dependencies=s.dependencies),NR(),fg(a.lanes),no(f,a.childLanes)?($_(s,a),a.child):null}function QV(s,a,f){{var g=a.return;if(g===null)throw new Error("Cannot swap the root fiber.");if(s.alternate=null,a.alternate=null,f.index=a.index,f.sibling=a.sibling,f.return=a.return,f.ref=a.ref,a===g.child)g.child=f;else{var y=g.child;if(y===null)throw new Error("Expected parent to have a child.");for(;y.sibling!==a;)if(y=y.sibling,y===null)throw new Error("Expected to find the previous sibling.");y.sibling=f}var x=g.deletions;return x===null?(g.deletions=[s],g.flags|=al):x.push(s),f.flags|=kr,f}}function aC(s,a){var f=s.lanes;return!!no(f,a)}function JV(s,a,f){switch(a.tag){case m:qR(a),a.stateNode,af();break;case w:rR(a);break;case h:{var g=a.type;As(g)&&Qm(a);break}case v:tb(a,a.stateNode.containerInfo);break;case C:{var y=a.memoizedProps.value,x=a.type._context;KP(a,x,y);break}case P:{var D=no(f,a.childLanes);D&&(a.flags|=hn);{var A=a.stateNode;A.effectDuration=0,A.passiveEffectDuration=0}}break;case I:{var M=a.memoizedState;if(M!==null){if(M.dehydrated!==null)return cu(a,df(es.current)),a.flags|=mn,null;var j=a.child,W=j.childLanes;if(no(f,W))return QR(s,a,f);cu(a,df(es.current));var se=va(s,a,f);return se!==null?se.sibling:null}else cu(a,df(es.current));break}case ce:{var oe=(s.flags&mn)!==Ct,pe=no(f,a.childLanes);if(oe){if(pe)return n5(s,a,f);a.flags|=mn}var we=a.memoizedState;if(we!==null&&(we.rendering=null,we.tail=null,we.lastEffect=null),cu(a,es.current),pe)break;return null}case Q:case le:return a.lanes=Me,XR(s,a,f)}return va(s,a,f)}function o5(s,a,f){if(a._debugNeedsRemount&&s!==null)return QV(s,a,IC(a.type,a.key,a.pendingProps,a._debugOwner||null,a.mode,a.lanes));if(s!==null){var g=s.memoizedProps,y=a.pendingProps;if(g!==y||qm()||a.type!==s.type)rs=!0;else{var x=aC(s,f);if(!x&&(a.flags&mn)===Ct)return rs=!1,JV(s,a,f);(s.flags&dw)!==Ct?rs=!0:rs=!1}}else if(rs=!1,$r()&&D_(a)){var D=a.index,A=S_();NP(a,A,D)}switch(a.lanes=Me,a.tag){case p:return OV(s,a,a.type,f);case te:{var M=a.elementType;return MV(s,a,M,f)}case d:{var j=a.type,W=a.pendingProps,se=a.elementType===j?W:ns(j,W);return Jb(s,a,j,se,f)}case h:{var oe=a.type,pe=a.pendingProps,we=a.elementType===oe?pe:ns(oe,pe);return KR(s,a,oe,we,f)}case m:return RV(s,a,f);case w:return BV(s,a,f);case b:return kV(s,a);case I:return QR(s,a,f);case v:return KV(s,a,f);case B:{var De=a.type,We=a.pendingProps,mt=a.elementType===De?We:ns(De,We);return $R(s,a,De,mt,f)}case E:return TV(s,a,f);case S:return AV(s,a,f);case P:return PV(s,a,f);case C:return qV(s,a,f);case T:return ZV(s,a,f);case z:{var st=a.type,tn=a.pendingProps,Yt=ns(st,tn);if(a.type!==a.elementType){var he=st.propTypes;he&&Zo(he,Yt,"prop",dn(st))}return Yt=ns(st.type,Yt),UR(s,a,st,Yt,f)}case Y:return WR(s,a,a.type,a.pendingProps,f);case re:{var Se=a.type,ge=a.pendingProps,Oe=a.elementType===Se?ge:ns(Se,ge);return NV(s,a,Se,Oe,f)}case ce:return n5(s,a,f);case ne:break;case Q:return XR(s,a,f)}throw new Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function yf(s){s.flags|=hn}function s5(s){s.flags|=ll,s.flags|=hw}var a5,uC,u5,l5;a5=function(s,a,f,g){for(var y=a.child;y!==null;){if(y.tag===w||y.tag===b)bG(s,y.stateNode);else if(y.tag!==v){if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===a)return;for(;y.sibling===null;){if(y.return===null||y.return===a)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},uC=function(s,a){},u5=function(s,a,f,g,y){var x=s.memoizedProps;if(x!==g){var D=a.stateNode,A=nb(),M=EG(D,f,x,g,y,A);a.updateQueue=M,M&&yf(a)}},l5=function(s,a,f,g){f!==g&&yf(a)};function eg(s,a){if(!$r())switch(s.tailMode){case"hidden":{for(var f=s.tail,g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s.tail=null:g.sibling=null;break}case"collapsed":{for(var y=s.tail,x=null;y!==null;)y.alternate!==null&&(x=y),y=y.sibling;x===null?!a&&s.tail!==null?s.tail.sibling=null:s.tail=null:x.sibling=null;break}}}function Wr(s){var a=s.alternate!==null&&s.alternate.child===s.child,f=Me,g=Ct;if(a){if((s.mode&bn)!==wt){for(var M=s.selfBaseDuration,j=s.child;j!==null;)f=zt(f,zt(j.lanes,j.childLanes)),g|=j.subtreeFlags&aa,g|=j.flags&aa,M+=j.treeBaseDuration,j=j.sibling;s.treeBaseDuration=M}else for(var W=s.child;W!==null;)f=zt(f,zt(W.lanes,W.childLanes)),g|=W.subtreeFlags&aa,g|=W.flags&aa,W.return=s,W=W.sibling;s.subtreeFlags|=g}else{if((s.mode&bn)!==wt){for(var y=s.actualDuration,x=s.selfBaseDuration,D=s.child;D!==null;)f=zt(f,zt(D.lanes,D.childLanes)),g|=D.subtreeFlags,g|=D.flags,y+=D.actualDuration,x+=D.treeBaseDuration,D=D.sibling;s.actualDuration=y,s.treeBaseDuration=x}else for(var A=s.child;A!==null;)f=zt(f,zt(A.lanes,A.childLanes)),g|=A.subtreeFlags,g|=A.flags,A.return=s,A=A.sibling;s.subtreeFlags|=g}return s.childLanes=f,a}function ej(s,a,f){if(H_()&&(a.mode&Jt)!==wt&&(a.flags&mn)===Ct)return _P(a),af(),a.flags|=ul|gm|Yo,!1;var g=r0(a);if(f!==null&&f.dehydrated!==null)if(s===null){if(!g)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(L_(a),Wr(a),(a.mode&bn)!==wt){var y=f!==null;if(y){var x=a.child;x!==null&&(a.treeBaseDuration-=x.treeBaseDuration)}}return!1}else{if(af(),(a.flags&mn)===Ct&&(a.memoizedState=null),a.flags|=hn,Wr(a),(a.mode&bn)!==wt){var D=f!==null;if(D){var A=a.child;A!==null&&(a.treeBaseDuration-=A.treeBaseDuration)}}return!1}else return VP(),!0}function c5(s,a,f){var g=a.pendingProps;switch(Ox(a),a.tag){case p:case te:case Y:case d:case B:case E:case S:case P:case T:case z:return Wr(a),null;case h:{var y=a.type;return As(y)&&Zm(a),Wr(a),null}case m:{var x=a.stateNode;if(ff(a),Bx(a),ab(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),s===null||s.child===null){var D=r0(a);if(D)yf(a);else if(s!==null){var A=s.memoizedState;(!A.isDehydrated||(a.flags&ul)!==Ct)&&(a.flags|=Gc,VP())}}return uC(s,a),Wr(a),null}case w:{rb(a);var M=nR(),j=a.type;if(s!==null&&a.stateNode!=null)u5(s,a,j,g,M),s.ref!==a.ref&&s5(a);else{if(!g){if(a.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Wr(a),null}var W=nb(),se=r0(a);if(se)O_(a,M,W)&&yf(a);else{var oe=xG(j,g,M,W,a);a5(oe,a,!1,!1),a.stateNode=oe,CG(oe,j,g,M)&&yf(a)}a.ref!==null&&s5(a)}return Wr(a),null}case b:{var pe=g;if(s&&a.stateNode!=null){var we=s.memoizedProps;l5(s,a,we,pe)}else{if(typeof pe!="string"&&a.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var De=nR(),We=nb(),mt=r0(a);mt?F_(a)&&yf(a):a.stateNode=DG(pe,De,We,a)}return Wr(a),null}case I:{hf(a);var st=a.memoizedState;if(s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){var tn=ej(s,a,st);if(!tn)return a.flags&Yo?a:null}if((a.flags&mn)!==Ct)return a.lanes=f,(a.mode&bn)!==wt&&Mb(a),a;var Yt=st!==null,he=s!==null&&s.memoizedState!==null;if(Yt!==he&&Yt){var Se=a.child;if(Se.flags|=fl,(a.mode&Jt)!==wt){var ge=s===null&&(a.memoizedProps.unstable_avoidThisFallback!==!0||!0);ge||ib(es.current,oR)?tz():TC()}}var Oe=a.updateQueue;if(Oe!==null&&(a.flags|=hn),Wr(a),(a.mode&bn)!==wt&&Yt){var Ze=a.child;Ze!==null&&(a.treeBaseDuration-=Ze.treeBaseDuration)}return null}case v:return ff(a),uC(s,a),s===null&&v_(a.stateNode.containerInfo),Wr(a),null;case C:var Ye=a.type._context;return Yx(Ye,a),Wr(a),null;case re:{var St=a.type;return As(St)&&Zm(a),Wr(a),null}case ce:{hf(a);var Ft=a.memoizedState;if(Ft===null)return Wr(a),null;var En=(a.flags&mn)!==Ct,un=Ft.rendering;if(un===null)if(En)eg(Ft,!1);else{var cr=rz()&&(s===null||(s.flags&mn)===Ct);if(!cr)for(var ln=a.child;ln!==null;){var ar=w0(ln);if(ar!==null){En=!0,a.flags|=mn,eg(Ft,!1);var fi=ar.updateQueue;return fi!==null&&(a.updateQueue=fi,a.flags|=hn),a.subtreeFlags=Ct,U_(a,f),cu(a,ob(es.current,Vh)),a.child}ln=ln.sibling}Ft.tail!==null&&Mr()>k5()&&(a.flags|=mn,En=!0,eg(Ft,!1),a.lanes=lA)}else{if(!En){var Zr=w0(un);if(Zr!==null){a.flags|=mn,En=!0;var uo=Zr.updateQueue;if(uo!==null&&(a.updateQueue=uo,a.flags|=hn),eg(Ft,!0),Ft.tail===null&&Ft.tailMode==="hidden"&&!un.alternate&&!$r())return Wr(a),null}else Mr()*2-Ft.renderingStartTime>k5()&&f!==So&&(a.flags|=mn,En=!0,eg(Ft,!1),a.lanes=lA)}if(Ft.isBackwards)un.sibling=a.child,a.child=un;else{var Di=Ft.last;Di!==null?Di.sibling=un:a.child=un,Ft.last=un}}if(Ft.tail!==null){var Si=Ft.tail;Ft.rendering=Si,Ft.tail=Si.sibling,Ft.renderingStartTime=Mr(),Si.sibling=null;var di=es.current;return En?di=ob(di,Vh):di=df(di),cu(a,di),Si}return Wr(a),null}case ne:break;case Q:case le:{SC(a);var Ca=a.memoizedState,Tf=Ca!==null;if(s!==null){var mg=s.memoizedState,Fs=mg!==null;Fs!==Tf&&(a.flags|=fl)}return!Tf||(a.mode&Jt)===wt?Wr(a):no(Os,So)&&(Wr(a),a.subtreeFlags&(kr|hn)&&(a.flags|=fl)),null}case G:return null;case R:return null}throw new Error("Unknown unit of work tag ("+a.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function tj(s,a,f){switch(Ox(a),a.tag){case h:{var g=a.type;As(g)&&Zm(a);var y=a.flags;return y&Yo?(a.flags=y&-65537|mn,(a.mode&bn)!==wt&&Mb(a),a):null}case m:{a.stateNode,ff(a),Bx(a),ab();var x=a.flags;return(x&Yo)!==Ct&&(x&mn)===Ct?(a.flags=x&-65537|mn,a):null}case w:return rb(a),null;case I:{hf(a);var D=a.memoizedState;if(D!==null&&D.dehydrated!==null){if(a.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");af()}var A=a.flags;return A&Yo?(a.flags=A&-65537|mn,(a.mode&bn)!==wt&&Mb(a),a):null}case ce:return hf(a),null;case v:return ff(a),null;case C:var M=a.type._context;return Yx(M,a),null;case Q:case le:return SC(a),null;case G:return null;default:return null}}function f5(s,a,f){switch(Ox(a),a.tag){case h:{var g=a.type.childContextTypes;g!=null&&Zm(a);break}case m:{a.stateNode,ff(a),Bx(a),ab();break}case w:{rb(a);break}case v:ff(a);break;case I:hf(a);break;case ce:hf(a);break;case C:var y=a.type._context;Yx(y,a);break;case Q:case le:SC(a);break}}var d5=null;d5=new Set;var z0=!1,Xr=!1,nj=typeof WeakSet=="function"?WeakSet:Set,nt=null,wf=null,xf=null;function rj(s){lw(null,function(){throw s}),cw()}var ij=function(s,a){if(a.props=s.memoizedProps,a.state=s.memoizedState,s.mode&bn)try{Ms(),a.componentWillUnmount()}finally{ks(s)}else a.componentWillUnmount()};function h5(s,a){try{hu(xr,s)}catch(f){On(s,a,f)}}function lC(s,a,f){try{ij(s,f)}catch(g){On(s,a,g)}}function oj(s,a,f){try{f.componentDidMount()}catch(g){On(s,a,g)}}function g5(s,a){try{m5(s)}catch(f){On(s,a,f)}}function bf(s,a){var f=s.ref;if(f!==null)if(typeof f=="function"){var g;try{if(ue&&xe&&s.mode&bn)try{Ms(),g=f(null)}finally{ks(s)}else g=f(null)}catch(y){On(s,a,y)}typeof g=="function"&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",It(s))}else f.current=null}function $0(s,a,f){try{f()}catch(g){On(s,a,g)}}var p5=!1;function sj(s,a){yG(s.containerInfo),nt=a,aj();var f=p5;return p5=!1,f}function aj(){for(;nt!==null;){var s=nt,a=s.child;(s.subtreeFlags&mw)!==Ct&&a!==null?(a.return=s,nt=a):uj()}}function uj(){for(;nt!==null;){var s=nt;Xn(s);try{lj(s)}catch(f){On(s,s.return,f)}Br();var a=s.sibling;if(a!==null){a.return=s.return,nt=a;return}nt=s.return}}function lj(s){var a=s.alternate,f=s.flags;if((f&Gc)!==Ct){switch(Xn(s),s.tag){case d:case B:case Y:break;case h:{if(a!==null){var g=a.memoizedProps,y=a.memoizedState,x=s.stateNode;s.type===s.elementType&&!kl&&(x.props!==s.memoizedProps&&l("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",It(s)||"instance"),x.state!==s.memoizedState&&l("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",It(s)||"instance"));var D=x.getSnapshotBeforeUpdate(s.elementType===s.type?g:ns(s.type,g),y);{var A=d5;D===void 0&&!A.has(s.type)&&(A.add(s.type),l("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",It(s)))}x.__reactInternalSnapshotBeforeUpdate=D}break}case m:{{var M=s.stateNode;zG(M.containerInfo)}break}case w:case b:case v:case re:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Br()}}function is(s,a,f){var g=a.updateQueue,y=g!==null?g.lastEffect:null;if(y!==null){var x=y.next,D=x;do{if((D.tag&s)===s){var A=D.destroy;D.destroy=void 0,A!==void 0&&((s&Ur)!==Ii?DL(a):(s&xr)!==Ii&&iA(a),(s&Ps)!==Ii&&hg(!0),$0(a,f,A),(s&Ps)!==Ii&&hg(!1),(s&Ur)!==Ii?SL():(s&xr)!==Ii&&oA())}D=D.next}while(D!==x)}}function hu(s,a){var f=a.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var y=g.next,x=y;do{if((x.tag&s)===s){(s&Ur)!==Ii?CL(a):(s&xr)!==Ii&&TL(a);var D=x.create;(s&Ps)!==Ii&&hg(!0),x.destroy=D(),(s&Ps)!==Ii&&hg(!1),(s&Ur)!==Ii?EL():(s&xr)!==Ii&&AL();{var A=x.destroy;if(A!==void 0&&typeof A!="function"){var M=void 0;(x.tag&xr)!==Ct?M="useLayoutEffect":(x.tag&Ps)!==Ct?M="useInsertionEffect":M="useEffect";var j=void 0;A===null?j=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof A.then=="function"?j=`

It looks like you wrote `+M+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+M+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:j=" You returned: "+A,l("%s must not return anything besides a function, which is used for clean-up.%s",M,j)}}}x=x.next}while(x!==y)}}function cj(s,a){if((a.flags&hn)!==Ct)switch(a.tag){case P:{var f=a.stateNode.passiveEffectDuration,g=a.memoizedProps,y=g.id,x=g.onPostCommit,D=kR(),A=a.alternate===null?"mount":"update";BR()&&(A="nested-update"),typeof x=="function"&&x(y,A,f,D);var M=a.return;e:for(;M!==null;){switch(M.tag){case m:var j=M.stateNode;j.passiveEffectDuration+=f;break e;case P:var W=M.stateNode;W.passiveEffectDuration+=f;break e}M=M.return}break}}}function fj(s,a,f,g){if((f.flags&Kd)!==Ct)switch(f.tag){case d:case B:case Y:{if(!Xr)if(f.mode&bn)try{Ms(),hu(xr|wr,f)}finally{ks(f)}else hu(xr|wr,f);break}case h:{var y=f.stateNode;if(f.flags&hn&&!Xr)if(a===null)if(f.type===f.elementType&&!kl&&(y.props!==f.memoizedProps&&l("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",It(f)||"instance"),y.state!==f.memoizedState&&l("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",It(f)||"instance")),f.mode&bn)try{Ms(),y.componentDidMount()}finally{ks(f)}else y.componentDidMount();else{var x=f.elementType===f.type?a.memoizedProps:ns(f.type,a.memoizedProps),D=a.memoizedState;if(f.type===f.elementType&&!kl&&(y.props!==f.memoizedProps&&l("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",It(f)||"instance"),y.state!==f.memoizedState&&l("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",It(f)||"instance")),f.mode&bn)try{Ms(),y.componentDidUpdate(x,D,y.__reactInternalSnapshotBeforeUpdate)}finally{ks(f)}else y.componentDidUpdate(x,D,y.__reactInternalSnapshotBeforeUpdate)}var A=f.updateQueue;A!==null&&(f.type===f.elementType&&!kl&&(y.props!==f.memoizedProps&&l("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",It(f)||"instance"),y.state!==f.memoizedState&&l("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",It(f)||"instance")),tR(f,A,y));break}case m:{var M=f.updateQueue;if(M!==null){var j=null;if(f.child!==null)switch(f.child.tag){case w:j=f.child.stateNode;break;case h:j=f.child.stateNode;break}tR(f,M,j)}break}case w:{var W=f.stateNode;if(a===null&&f.flags&hn){var se=f.type,oe=f.memoizedProps;RG(W,se,oe)}break}case b:break;case v:break;case P:{{var pe=f.memoizedProps,we=pe.onCommit,De=pe.onRender,We=f.stateNode.effectDuration,mt=kR(),st=a===null?"mount":"update";BR()&&(st="nested-update"),typeof De=="function"&&De(f.memoizedProps.id,st,f.actualDuration,f.treeBaseDuration,f.actualStartTime,mt);{typeof we=="function"&&we(f.memoizedProps.id,st,We,mt),uz(f);var tn=f.return;e:for(;tn!==null;){switch(tn.tag){case m:var Yt=tn.stateNode;Yt.effectDuration+=We;break e;case P:var he=tn.stateNode;he.effectDuration+=We;break e}tn=tn.return}}}break}case I:{wj(s,f);break}case ce:case re:case ne:case Q:case le:case R:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Xr||f.flags&ll&&m5(f)}function dj(s){switch(s.tag){case d:case B:case Y:{if(s.mode&bn)try{Ms(),h5(s,s.return)}finally{ks(s)}else h5(s,s.return);break}case h:{var a=s.stateNode;typeof a.componentDidMount=="function"&&oj(s,s.return,a),g5(s,s.return);break}case w:{g5(s,s.return);break}}}function hj(s,a){for(var f=null,g=s;;){if(g.tag===w){if(f===null){f=g;try{var y=g.stateNode;a?GG(y):VG(g.stateNode,g.memoizedProps)}catch(D){On(s,s.return,D)}}}else if(g.tag===b){if(f===null)try{var x=g.stateNode;a?_G(x):jG(x,g.memoizedProps)}catch(D){On(s,s.return,D)}}else if(!((g.tag===Q||g.tag===le)&&g.memoizedState!==null&&g!==s)){if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===s)return;for(;g.sibling===null;){if(g.return===null||g.return===s)return;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}function m5(s){var a=s.ref;if(a!==null){var f=s.stateNode,g;switch(s.tag){case w:g=f;break;default:g=f}if(typeof a=="function"){var y;if(s.mode&bn)try{Ms(),y=a(g)}finally{ks(s)}else y=a(g);typeof y=="function"&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",It(s))}else a.hasOwnProperty("current")||l("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",It(s)),a.current=g}}function gj(s){var a=s.alternate;a!==null&&(a.return=null),s.return=null}function v5(s){var a=s.alternate;a!==null&&(s.alternate=null,v5(a));{if(s.child=null,s.deletions=null,s.sibling=null,s.tag===w){var f=s.stateNode;f!==null&&x_(f)}s.stateNode=null,s._debugOwner=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}}function pj(s){for(var a=s.return;a!==null;){if(y5(a))return a;a=a.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function y5(s){return s.tag===w||s.tag===m||s.tag===v}function w5(s){var a=s;e:for(;;){for(;a.sibling===null;){if(a.return===null||y5(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==w&&a.tag!==b&&a.tag!==ae;){if(a.flags&kr||a.child===null||a.tag===v)continue e;a.child.return=a,a=a.child}if(!(a.flags&kr))return a.stateNode}}function mj(s){var a=pj(s);switch(a.tag){case w:{var f=a.stateNode;a.flags&hm&&(bP(f),a.flags&=-33);var g=w5(s);fC(s,g,f);break}case m:case v:{var y=a.stateNode.containerInfo,x=w5(s);cC(s,x,y);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function cC(s,a,f){var g=s.tag,y=g===w||g===b;if(y){var x=s.stateNode;a?FG(f,x,a):NG(f,x)}else if(g!==v){var D=s.child;if(D!==null){cC(D,a,f);for(var A=D.sibling;A!==null;)cC(A,a,f),A=A.sibling}}}function fC(s,a,f){var g=s.tag,y=g===w||g===b;if(y){var x=s.stateNode;a?OG(f,x,a):MG(f,x)}else if(g!==v){var D=s.child;if(D!==null){fC(D,a,f);for(var A=D.sibling;A!==null;)fC(A,a,f),A=A.sibling}}}var Yr=null,os=!1;function vj(s,a,f){{var g=a;e:for(;g!==null;){switch(g.tag){case w:{Yr=g.stateNode,os=!1;break e}case m:{Yr=g.stateNode.containerInfo,os=!0;break e}case v:{Yr=g.stateNode.containerInfo,os=!0;break e}}g=g.return}if(Yr===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");x5(s,a,f),Yr=null,os=!1}gj(f)}function gu(s,a,f){for(var g=f.child;g!==null;)x5(s,a,g),g=g.sibling}function x5(s,a,f){switch(yL(f),f.tag){case w:Xr||bf(f,a);case b:{{var g=Yr,y=os;Yr=null,gu(s,a,f),Yr=g,os=y,Yr!==null&&(os?IG(Yr,f.stateNode):LG(Yr,f.stateNode))}return}case ae:{Yr!==null&&(os?HG(Yr,f.stateNode):Cx(Yr,f.stateNode));return}case v:{{var x=Yr,D=os;Yr=f.stateNode.containerInfo,os=!0,gu(s,a,f),Yr=x,os=D}return}case d:case B:case z:case Y:{if(!Xr){var A=f.updateQueue;if(A!==null){var M=A.lastEffect;if(M!==null){var j=M.next,W=j;do{var se=W,oe=se.destroy,pe=se.tag;oe!==void 0&&((pe&Ps)!==Ii?$0(f,a,oe):(pe&xr)!==Ii&&(iA(f),f.mode&bn?(Ms(),$0(f,a,oe),ks(f)):$0(f,a,oe),oA())),W=W.next}while(W!==j)}}}gu(s,a,f);return}case h:{if(!Xr){bf(f,a);var we=f.stateNode;typeof we.componentWillUnmount=="function"&&lC(f,a,we)}gu(s,a,f);return}case ne:{gu(s,a,f);return}case Q:{if(f.mode&Jt){var De=Xr;Xr=De||f.memoizedState!==null,gu(s,a,f),Xr=De}else gu(s,a,f);break}default:{gu(s,a,f);return}}}function yj(s){s.memoizedState}function wj(s,a){var f=a.memoizedState;if(f===null){var g=a.alternate;if(g!==null){var y=g.memoizedState;if(y!==null){var x=y.dehydrated;x!==null&&r_(x)}}}}function b5(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new nj),a.forEach(function(g){var y=pz.bind(null,s,g);if(!f.has(g)){if(f.add(g),Ko)if(wf!==null&&xf!==null)dg(xf,wf);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");g.then(y,y)}})}}function xj(s,a,f){wf=f,xf=s,Xn(a),C5(a,s),Xn(a),wf=null,xf=null}function ss(s,a,f){var g=a.deletions;if(g!==null)for(var y=0;y<g.length;y++){var x=g[y];try{vj(s,a,x)}catch(M){On(x,a,M)}}var D=nm();if(a.subtreeFlags&vw)for(var A=a.child;A!==null;)Xn(A),C5(A,s),A=A.sibling;Xn(D)}function C5(s,a,f){var g=s.alternate,y=s.flags;switch(s.tag){case d:case B:case z:case Y:{if(ss(a,s),Ns(s),y&hn){try{is(Ps|wr,s,s.return),hu(Ps|wr,s)}catch(St){On(s,s.return,St)}if(s.mode&bn){try{Ms(),is(xr|wr,s,s.return)}catch(St){On(s,s.return,St)}ks(s)}else try{is(xr|wr,s,s.return)}catch(St){On(s,s.return,St)}}return}case h:{ss(a,s),Ns(s),y&ll&&g!==null&&bf(g,g.return);return}case w:{ss(a,s),Ns(s),y&ll&&g!==null&&bf(g,g.return);{if(s.flags&hm){var x=s.stateNode;try{bP(x)}catch(St){On(s,s.return,St)}}if(y&hn){var D=s.stateNode;if(D!=null){var A=s.memoizedProps,M=g!==null?g.memoizedProps:A,j=s.type,W=s.updateQueue;if(s.updateQueue=null,W!==null)try{BG(D,W,j,M,A,s)}catch(St){On(s,s.return,St)}}}}return}case b:{if(ss(a,s),Ns(s),y&hn){if(s.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var se=s.stateNode,oe=s.memoizedProps,pe=g!==null?g.memoizedProps:oe;try{kG(se,pe,oe)}catch(St){On(s,s.return,St)}}return}case m:{if(ss(a,s),Ns(s),y&hn&&g!==null){var we=g.memoizedState;if(we.isDehydrated)try{n_(a.containerInfo)}catch(St){On(s,s.return,St)}}return}case v:{ss(a,s),Ns(s);return}case I:{ss(a,s),Ns(s);var De=s.child;if(De.flags&fl){var We=De.stateNode,mt=De.memoizedState,st=mt!==null;if(We.isHidden=st,st){var tn=De.alternate!==null&&De.alternate.memoizedState!==null;tn||ez()}}if(y&hn){try{yj(s)}catch(St){On(s,s.return,St)}b5(s)}return}case Q:{var Yt=g!==null&&g.memoizedState!==null;if(s.mode&Jt){var he=Xr;Xr=he||Yt,ss(a,s),Xr=he}else ss(a,s);if(Ns(s),y&fl){var Se=s.stateNode,ge=s.memoizedState,Oe=ge!==null,Ze=s;if(Se.isHidden=Oe,Oe&&!Yt&&(Ze.mode&Jt)!==wt){nt=Ze;for(var Ye=Ze.child;Ye!==null;)nt=Ye,Cj(Ye),Ye=Ye.sibling}hj(Ze,Oe)}return}case ce:{ss(a,s),Ns(s),y&hn&&b5(s);return}case ne:return;default:{ss(a,s),Ns(s);return}}}function Ns(s){var a=s.flags;if(a&kr){try{mj(s)}catch(f){On(s,s.return,f)}s.flags&=-3}a&cl&&(s.flags&=-4097)}function bj(s,a,f){wf=f,xf=a,nt=s,E5(s,a,f),wf=null,xf=null}function E5(s,a,f){for(var g=(s.mode&Jt)!==wt;nt!==null;){var y=nt,x=y.child;if(y.tag===Q&&g){var D=y.memoizedState!==null,A=D||z0;if(A){dC(s,a,f);continue}else{var M=y.alternate,j=M!==null&&M.memoizedState!==null,W=j||Xr,se=z0,oe=Xr;z0=A,Xr=W,Xr&&!oe&&(nt=y,Ej(y));for(var pe=x;pe!==null;)nt=pe,E5(pe,a,f),pe=pe.sibling;nt=y,z0=se,Xr=oe,dC(s,a,f);continue}}(y.subtreeFlags&Kd)!==Ct&&x!==null?(x.return=y,nt=x):dC(s,a,f)}}function dC(s,a,f){for(;nt!==null;){var g=nt;if((g.flags&Kd)!==Ct){var y=g.alternate;Xn(g);try{fj(a,y,g,f)}catch(D){On(g,g.return,D)}Br()}if(g===s){nt=null;return}var x=g.sibling;if(x!==null){x.return=g.return,nt=x;return}nt=g.return}}function Cj(s){for(;nt!==null;){var a=nt,f=a.child;switch(a.tag){case d:case B:case z:case Y:{if(a.mode&bn)try{Ms(),is(xr,a,a.return)}finally{ks(a)}else is(xr,a,a.return);break}case h:{bf(a,a.return);var g=a.stateNode;typeof g.componentWillUnmount=="function"&&lC(a,a.return,g);break}case w:{bf(a,a.return);break}case Q:{var y=a.memoizedState!==null;if(y){D5(s);continue}break}}f!==null?(f.return=a,nt=f):D5(s)}}function D5(s){for(;nt!==null;){var a=nt;if(a===s){nt=null;return}var f=a.sibling;if(f!==null){f.return=a.return,nt=f;return}nt=a.return}}function Ej(s){for(;nt!==null;){var a=nt,f=a.child;if(a.tag===Q){var g=a.memoizedState!==null;if(g){S5(s);continue}}f!==null?(f.return=a,nt=f):S5(s)}}function S5(s){for(;nt!==null;){var a=nt;Xn(a);try{dj(a)}catch(g){On(a,a.return,g)}if(Br(),a===s){nt=null;return}var f=a.sibling;if(f!==null){f.return=a.return,nt=f;return}nt=a.return}}function Dj(s,a,f,g){nt=a,Sj(a,s,f,g)}function Sj(s,a,f,g){for(;nt!==null;){var y=nt,x=y.child;(y.subtreeFlags&_c)!==Ct&&x!==null?(x.return=y,nt=x):Tj(s,a,f,g)}}function Tj(s,a,f,g){for(;nt!==null;){var y=nt;if((y.flags&Ka)!==Ct){Xn(y);try{Aj(a,y,f,g)}catch(D){On(y,y.return,D)}Br()}if(y===s){nt=null;return}var x=y.sibling;if(x!==null){x.return=y.return,nt=x;return}nt=y.return}}function Aj(s,a,f,g){switch(a.tag){case d:case B:case Y:{if(a.mode&bn){kb();try{hu(Ur|wr,a)}finally{Bb(a)}}else hu(Ur|wr,a);break}}}function Pj(s){nt=s,Rj()}function Rj(){for(;nt!==null;){var s=nt,a=s.child;if((nt.flags&al)!==Ct){var f=s.deletions;if(f!==null){for(var g=0;g<f.length;g++){var y=f[g];nt=y,Mj(y,s)}{var x=s.alternate;if(x!==null){var D=x.child;if(D!==null){x.child=null;do{var A=D.sibling;D.sibling=null,D=A}while(D!==null)}}}nt=s}}(s.subtreeFlags&_c)!==Ct&&a!==null?(a.return=s,nt=a):Bj()}}function Bj(){for(;nt!==null;){var s=nt;(s.flags&Ka)!==Ct&&(Xn(s),kj(s),Br());var a=s.sibling;if(a!==null){a.return=s.return,nt=a;return}nt=s.return}}function kj(s){switch(s.tag){case d:case B:case Y:{s.mode&bn?(kb(),is(Ur|wr,s,s.return),Bb(s)):is(Ur|wr,s,s.return);break}}}function Mj(s,a){for(;nt!==null;){var f=nt;Xn(f),Oj(f,a),Br();var g=f.child;g!==null?(g.return=f,nt=g):Nj(s)}}function Nj(s){for(;nt!==null;){var a=nt,f=a.sibling,g=a.return;if(v5(a),a===s){nt=null;return}if(f!==null){f.return=g,nt=f;return}nt=g}}function Oj(s,a){switch(s.tag){case d:case B:case Y:{s.mode&bn?(kb(),is(Ur,s,a),Bb(s)):is(Ur,s,a);break}}}function Fj(s){switch(s.tag){case d:case B:case Y:{try{hu(xr|wr,s)}catch(f){On(s,s.return,f)}break}case h:{var a=s.stateNode;try{a.componentDidMount()}catch(f){On(s,s.return,f)}break}}}function Lj(s){switch(s.tag){case d:case B:case Y:{try{hu(Ur|wr,s)}catch(a){On(s,s.return,a)}break}}}function Ij(s){switch(s.tag){case d:case B:case Y:{try{is(xr|wr,s,s.return)}catch(f){On(s,s.return,f)}break}case h:{var a=s.stateNode;typeof a.componentWillUnmount=="function"&&lC(s,s.return,a);break}}}function Hj(s){switch(s.tag){case d:case B:case Y:try{is(Ur|wr,s,s.return)}catch(a){On(s,s.return,a)}}}if(typeof Symbol=="function"&&Symbol.for){var tg=Symbol.for;tg("selector.component"),tg("selector.has_pseudo_class"),tg("selector.role"),tg("selector.test_id"),tg("selector.text")}var Gj=[];function _j(){Gj.forEach(function(s){return s()})}var Vj=r.ReactCurrentActQueue;function jj(s){{var a=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,f=typeof jest<"u";return f&&a!==!1}}function T5(){{var s=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!s&&Vj.current!==null&&l("The current testing environment is not configured to support act(...)"),s}}var zj=Math.ceil,hC=r.ReactCurrentDispatcher,gC=r.ReactCurrentOwner,Kr=r.ReactCurrentBatchConfig,as=r.ReactCurrentActQueue,Er=0,A5=1,qr=2,ko=4,ya=0,ng=1,Ml=2,U0=3,rg=4,P5=5,pC=6,en=Er,Ci=null,er=null,Dr=Me,Os=Me,mC=iu(Me),Sr=ya,ig=null,W0=Me,og=Me,X0=Me,sg=null,Hi=null,vC=0,R5=500,B5=1/0,$j=500,wa=null;function ag(){B5=Mr()+$j}function k5(){return B5}var Y0=!1,yC=null,Cf=null,Nl=!1,pu=null,ug=Me,wC=[],xC=null,Uj=50,lg=0,bC=null,CC=!1,K0=!1,Wj=50,Ef=0,q0=null,cg=Hn,Z0=Me,M5=!1;function Q0(){return Ci}function Ei(){return(en&(qr|ko))!==Er?Mr():(cg!==Hn||(cg=Mr()),cg)}function mu(s){var a=s.mode;if((a&Jt)===wt)return Mt;if((en&qr)!==Er&&Dr!==Me)return nh(Dr);var f=V_()!==__;if(f){if(Kr.transition!==null){var g=Kr.transition;g._updatedFibers||(g._updatedFibers=new Set),g._updatedFibers.add(s)}return Z0===Or&&(Z0=hA()),Z0}var y=qo();if(y!==Or)return y;var x=SG();return x}function Xj(s){var a=s.mode;return(a&Jt)===wt?Mt:KL()}function Tr(s,a,f,g){vz(),M5&&l("useInsertionEffect must not schedule updates."),CC&&(K0=!0),rh(s,f,g),(en&qr)!==Me&&s===Ci?xz(a):(Ko&&mA(s,a,f),bz(a),s===Ci&&((en&qr)===Er&&(og=zt(og,f)),Sr===rg&&vu(s,Dr)),Gi(s,g),f===Mt&&en===Er&&(a.mode&Jt)===wt&&!as.isBatchingLegacy&&(ag(),MP()))}function Yj(s,a,f){var g=s.current;g.lanes=a,rh(s,a,f),Gi(s,f)}function Kj(s){return(en&qr)!==Er}function Gi(s,a){var f=s.callbackNode;zL(s,a);var g=wm(s,s===Ci?Dr:Me);if(g===Me){f!==null&&Y5(f),s.callbackNode=null,s.callbackPriority=Or;return}var y=vl(g),x=s.callbackPriority;if(x===y&&!(as.current!==null&&f!==RC)){f==null&&x!==Mt&&l("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}f!=null&&Y5(f);var D;if(y===Mt)s.tag===ou?(as.isBatchingLegacy!==null&&(as.didScheduleLegacyUpdate=!0),E_(F5.bind(null,s))):kP(F5.bind(null,s)),as.current!==null?as.current.push(su):AG(function(){(en&(qr|ko))===Er&&su()}),D=null;else{var A;switch(wA(g)){case ro:A=pm;break;case la:A=yw;break;case ca:A=gl;break;case Cm:A=ww;break;default:A=gl;break}D=BC(A,N5.bind(null,s))}s.callbackPriority=y,s.callbackNode=D}function N5(s,a){if(hV(),cg=Hn,Z0=Me,(en&(qr|ko))!==Er)throw new Error("Should not already be working.");var f=s.callbackNode,g=ba();if(g&&s.callbackNode!==f)return null;var y=wm(s,s===Ci?Dr:Me);if(y===Me)return null;var x=!xm(s,y)&&!YL(s,y)&&!a,D=x?oz(s,y):ev(s,y);if(D!==ya){if(D===Ml){var A=Vw(s);A!==Me&&(y=A,D=EC(s,A))}if(D===ng){var M=ig;throw Ol(s,Me),vu(s,y),Gi(s,Mr()),M}if(D===pC)vu(s,y);else{var j=!xm(s,y),W=s.current.alternate;if(j&&!Zj(W)){if(D=ev(s,y),D===Ml){var se=Vw(s);se!==Me&&(y=se,D=EC(s,se))}if(D===ng){var oe=ig;throw Ol(s,Me),vu(s,y),Gi(s,Mr()),oe}}s.finishedWork=W,s.finishedLanes=y,qj(s,D,y)}}return Gi(s,Mr()),s.callbackNode===f?N5.bind(null,s):null}function EC(s,a){var f=sg;if(Em(s)){var g=Ol(s,a);g.flags|=ul,m_(s.containerInfo)}var y=ev(s,a);if(y!==Ml){var x=Hi;Hi=f,x!==null&&O5(x)}return y}function O5(s){Hi===null?Hi=s:Hi.push.apply(Hi,s)}function qj(s,a,f){switch(a){case ya:case ng:throw new Error("Root did not complete. This is a bug in React.");case Ml:{Fl(s,Hi,wa);break}case U0:{if(vu(s,f),fA(f)&&!K5()){var g=vC+R5-Mr();if(g>10){var y=wm(s,Me);if(y!==Me)break;var x=s.suspendedLanes;if(!Wc(x,f)){Ei(),pA(s,x);break}s.timeoutHandle=xx(Fl.bind(null,s,Hi,wa),g);break}}Fl(s,Hi,wa);break}case rg:{if(vu(s,f),XL(f))break;if(!K5()){var D=VL(s,f),A=D,M=Mr()-A,j=mz(M)-M;if(j>10){s.timeoutHandle=xx(Fl.bind(null,s,Hi,wa),j);break}}Fl(s,Hi,wa);break}case P5:{Fl(s,Hi,wa);break}default:throw new Error("Unknown root exit status.")}}function Zj(s){for(var a=s;;){if(a.flags&fw){var f=a.updateQueue;if(f!==null){var g=f.stores;if(g!==null)for(var y=0;y<g.length;y++){var x=g[y],D=x.getSnapshot,A=x.value;try{if(!oo(D(),A))return!1}catch{return!1}}}}var M=a.child;if(a.subtreeFlags&fw&&M!==null){M.return=a,a=M;continue}if(a===s)return!0;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}return!0}function vu(s,a){a=bm(a,X0),a=bm(a,og),ZL(s,a)}function F5(s){if(gV(),(en&(qr|ko))!==Er)throw new Error("Should not already be working.");ba();var a=wm(s,Me);if(!no(a,Mt))return Gi(s,Mr()),null;var f=ev(s,a);if(s.tag!==ou&&f===Ml){var g=Vw(s);g!==Me&&(a=g,f=EC(s,g))}if(f===ng){var y=ig;throw Ol(s,Me),vu(s,a),Gi(s,Mr()),y}if(f===pC)throw new Error("Root did not complete. This is a bug in React.");var x=s.current.alternate;return s.finishedWork=x,s.finishedLanes=a,Fl(s,Hi,wa),Gi(s,Mr()),null}function Qj(s,a){a!==Me&&(Uw(s,zt(a,Mt)),Gi(s,Mr()),(en&(qr|ko))===Er&&(ag(),su()))}function DC(s,a){var f=en;en|=A5;try{return s(a)}finally{en=f,en===Er&&!as.isBatchingLegacy&&(ag(),MP())}}function Jj(s,a,f,g,y){var x=qo(),D=Kr.transition;try{return Kr.transition=null,Fr(ro),s(a,f,g,y)}finally{Fr(x),Kr.transition=D,en===Er&&ag()}}function xa(s){pu!==null&&pu.tag===ou&&(en&(qr|ko))===Er&&ba();var a=en;en|=A5;var f=Kr.transition,g=qo();try{return Kr.transition=null,Fr(ro),s?s():void 0}finally{Fr(g),Kr.transition=f,en=a,(en&(qr|ko))===Er&&su()}}function L5(){return(en&(qr|ko))!==Er}function J0(s,a){li(mC,Os,s),Os=zt(Os,a)}function SC(s){Os=mC.current,ui(mC,s)}function Ol(s,a){s.finishedWork=null,s.finishedLanes=Me;var f=s.timeoutHandle;if(f!==bx&&(s.timeoutHandle=bx,TG(f)),er!==null)for(var g=er.return;g!==null;){var y=g.alternate;f5(y,g),g=g.return}Ci=s;var x=Ll(s.current,null);return er=x,Dr=Os=a,Sr=ya,ig=null,W0=Me,og=Me,X0=Me,sg=null,Hi=null,Y_(),Jo.discardPendingWarnings(),x}function I5(s,a){do{var f=er;try{if(l0(),aR(),Br(),gC.current=null,f===null||f.return===null){Sr=ng,ig=a,er=null;return}if(ue&&f.mode&bn&&H0(f,!0),q)if(jc(),a!==null&&typeof a=="object"&&typeof a.then=="function"){var g=a;RL(f,g,Dr)}else PL(f,a,Dr);EV(s,f.return,f,a,Dr),V5(f)}catch(y){a=y,er===f&&f!==null?(f=f.return,er=f):f=er;continue}return}while(!0)}function H5(){var s=hC.current;return hC.current=N0,s===null?N0:s}function G5(s){hC.current=s}function ez(){vC=Mr()}function fg(s){W0=zt(s,W0)}function tz(){Sr===ya&&(Sr=U0)}function TC(){(Sr===ya||Sr===U0||Sr===Ml)&&(Sr=rg),Ci!==null&&(jw(W0)||jw(og))&&vu(Ci,Dr)}function nz(s){Sr!==rg&&(Sr=Ml),sg===null?sg=[s]:sg.push(s)}function rz(){return Sr===ya}function ev(s,a){var f=en;en|=qr;var g=H5();if(Ci!==s||Dr!==a){if(Ko){var y=s.memoizedUpdaters;y.size>0&&(dg(s,Dr),y.clear()),vA(s,a)}wa=yA(),Ol(s,a)}sA(a);do try{iz();break}catch(x){I5(s,x)}while(!0);if(l0(),en=f,G5(g),er!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return aA(),Ci=null,Dr=Me,Sr}function iz(){for(;er!==null;)_5(er)}function oz(s,a){var f=en;en|=qr;var g=H5();if(Ci!==s||Dr!==a){if(Ko){var y=s.memoizedUpdaters;y.size>0&&(dg(s,Dr),y.clear()),vA(s,a)}wa=yA(),ag(),Ol(s,a)}sA(a);do try{sz();break}catch(x){I5(s,x)}while(!0);return l0(),G5(g),en=f,er!==null?(OL(),ya):(aA(),Ci=null,Dr=Me,Sr)}function sz(){for(;er!==null&&!uL();)_5(er)}function _5(s){var a=s.alternate;Xn(s);var f;(s.mode&bn)!==wt?(Rb(s),f=AC(a,s,Os),H0(s,!0)):f=AC(a,s,Os),Br(),s.memoizedProps=s.pendingProps,f===null?V5(s):er=f,gC.current=null}function V5(s){var a=s;do{var f=a.alternate,g=a.return;if((a.flags&gm)===Ct){Xn(a);var y=void 0;if((a.mode&bn)===wt?y=c5(f,a,Os):(Rb(a),y=c5(f,a,Os),H0(a,!1)),Br(),y!==null){er=y;return}}else{var x=tj(f,a);if(x!==null){x.flags&=nL,er=x;return}if((a.mode&bn)!==wt){H0(a,!1);for(var D=a.actualDuration,A=a.child;A!==null;)D+=A.actualDuration,A=A.sibling;a.actualDuration=D}if(g!==null)g.flags|=gm,g.subtreeFlags=Ct,g.deletions=null;else{Sr=pC,er=null;return}}var M=a.sibling;if(M!==null){er=M;return}a=g,er=a}while(a!==null);Sr===ya&&(Sr=P5)}function Fl(s,a,f){var g=qo(),y=Kr.transition;try{Kr.transition=null,Fr(ro),az(s,a,f,g)}finally{Kr.transition=y,Fr(g)}return null}function az(s,a,f,g){do ba();while(pu!==null);if(yz(),(en&(qr|ko))!==Er)throw new Error("Should not already be working.");var y=s.finishedWork,x=s.finishedLanes;if(bL(x),y===null)return rA(),null;if(x===Me&&l("root.finishedLanes should not be empty during a commit. This is a bug in React."),s.finishedWork=null,s.finishedLanes=Me,y===s.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");s.callbackNode=null,s.callbackPriority=Or;var D=zt(y.lanes,y.childLanes);QL(s,D),s===Ci&&(Ci=null,er=null,Dr=Me),((y.subtreeFlags&_c)!==Ct||(y.flags&_c)!==Ct)&&(Nl||(Nl=!0,xC=f,BC(gl,function(){return ba(),null})));var A=(y.subtreeFlags&(mw|vw|Kd|_c))!==Ct,M=(y.flags&(mw|vw|Kd|_c))!==Ct;if(A||M){var j=Kr.transition;Kr.transition=null;var W=qo();Fr(ro);var se=en;en|=ko,gC.current=null,sj(s,y),MR(),xj(s,y,x),wG(s.containerInfo),s.current=y,BL(x),bj(y,s,x),kL(),lL(),en=se,Fr(W),Kr.transition=j}else s.current=y,MR();var oe=Nl;if(Nl?(Nl=!1,pu=s,ug=x):(Ef=0,q0=null),D=s.pendingLanes,D===Me&&(Cf=null),oe||U5(s.current,!1),mL(y.stateNode,g),Ko&&s.memoizedUpdaters.clear(),_j(),Gi(s,Mr()),a!==null)for(var pe=s.onRecoverableError,we=0;we<a.length;we++){var De=a[we],We=De.stack,mt=De.digest;pe(De.value,{componentStack:We,digest:mt})}if(Y0){Y0=!1;var st=yC;throw yC=null,st}return no(ug,Mt)&&s.tag!==ou&&ba(),D=s.pendingLanes,no(D,Mt)?(dV(),s===bC?lg++:(lg=0,bC=s)):lg=0,su(),rA(),null}function ba(){if(pu!==null){var s=wA(ug),a=nI(ca,s),f=Kr.transition,g=qo();try{return Kr.transition=null,Fr(a),lz()}finally{Fr(g),Kr.transition=f}}return!1}function uz(s){wC.push(s),Nl||(Nl=!0,BC(gl,function(){return ba(),null}))}function lz(){if(pu===null)return!1;var s=xC;xC=null;var a=pu,f=ug;if(pu=null,ug=Me,(en&(qr|ko))!==Er)throw new Error("Cannot flush passive effects while already rendering.");CC=!0,K0=!1,ML(f);var g=en;en|=ko,Pj(a.current),Dj(a,a.current,f,s);{var y=wC;wC=[];for(var x=0;x<y.length;x++){var D=y[x];cj(a,D)}}NL(),U5(a.current,!0),en=g,su(),K0?a===q0?Ef++:(Ef=0,q0=a):Ef=0,CC=!1,K0=!1,vL(a);{var A=a.current.stateNode;A.effectDuration=0,A.passiveEffectDuration=0}return!0}function j5(s){return Cf!==null&&Cf.has(s)}function cz(s){Cf===null?Cf=new Set([s]):Cf.add(s)}function fz(s){Y0||(Y0=!0,yC=s)}var dz=fz;function z5(s,a,f){var g=Bl(f,a),y=_R(s,g,Mt),x=uu(s,y,Mt),D=Ei();x!==null&&(rh(x,Mt,D),Gi(x,D))}function On(s,a,f){if(rj(f),hg(!1),s.tag===m){z5(s,s,f);return}var g=null;for(g=a;g!==null;){if(g.tag===m){z5(g,s,f);return}else if(g.tag===h){var y=g.type,x=g.stateNode;if(typeof y.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&!j5(x)){var D=Bl(f,s),A=Xb(g,D,Mt),M=uu(g,A,Mt),j=Ei();M!==null&&(rh(M,Mt,j),Gi(M,j));return}}g=g.return}l(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,f)}function hz(s,a,f){var g=s.pingCache;g!==null&&g.delete(a);var y=Ei();pA(s,f),Cz(s),Ci===s&&Wc(Dr,f)&&(Sr===rg||Sr===U0&&fA(Dr)&&Mr()-vC<R5?Ol(s,Me):X0=zt(X0,f)),Gi(s,y)}function $5(s,a){a===Or&&(a=Xj(s));var f=Ei(),g=Li(s,a);g!==null&&(rh(g,a,f),Gi(g,f))}function gz(s){var a=s.memoizedState,f=Or;a!==null&&(f=a.retryLane),$5(s,f)}function pz(s,a){var f=Or,g;switch(s.tag){case I:g=s.stateNode;var y=s.memoizedState;y!==null&&(f=y.retryLane);break;case ce:g=s.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}g!==null&&g.delete(a),$5(s,f)}function mz(s){return s<120?120:s<480?480:s<1080?1080:s<1920?1920:s<3e3?3e3:s<4320?4320:zj(s/1960)*1960}function vz(){if(lg>Uj)throw lg=0,bC=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Ef>Wj&&(Ef=0,q0=null,l("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function yz(){Jo.flushLegacyContextWarning(),Jo.flushPendingUnsafeLifecycleWarnings()}function U5(s,a){Xn(s),tv(s,qa,Ij),a&&tv(s,pw,Hj),tv(s,qa,Fj),a&&tv(s,pw,Lj),Br()}function tv(s,a,f){for(var g=s,y=null;g!==null;){var x=g.subtreeFlags&a;g!==y&&g.child!==null&&x!==Ct?g=g.child:((g.flags&a)!==Ct&&f(g),g.sibling!==null?g=g.sibling:g=y=g.return)}}var nv=null;function W5(s){{if((en&qr)!==Er||!(s.mode&Jt))return;var a=s.tag;if(a!==p&&a!==m&&a!==h&&a!==d&&a!==B&&a!==z&&a!==Y)return;var f=It(s)||"ReactComponent";if(nv!==null){if(nv.has(f))return;nv.add(f)}else nv=new Set([f]);var g=yi;try{Xn(s),l("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{g?Xn(s):Br()}}}var AC;{var wz=null;AC=function(s,a,f){var g=e2(wz,a);try{return o5(s,a,f)}catch(x){if(k_()||x!==null&&typeof x=="object"&&typeof x.then=="function")throw x;if(l0(),aR(),f5(s,a),e2(a,g),a.mode&bn&&Rb(a),lw(null,o5,null,s,a,f),JF()){var y=cw();typeof y=="object"&&y!==null&&y._suppressLogging&&typeof x=="object"&&x!==null&&!x._suppressLogging&&(x._suppressLogging=!0)}throw x}}}var X5=!1,PC;PC=new Set;function xz(s){if(rl&&!lV())switch(s.tag){case d:case B:case Y:{var a=er&&It(er)||"Unknown",f=a;if(!PC.has(f)){PC.add(f);var g=It(s)||"Unknown";l("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",g,a,a)}break}case h:{X5||(l("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),X5=!0);break}}}function dg(s,a){if(Ko){var f=s.memoizedUpdaters;f.forEach(function(g){mA(s,g,a)})}}var RC={};function BC(s,a){{var f=as.current;return f!==null?(f.push(a),RC):nA(s,a)}}function Y5(s){if(s!==RC)return aL(s)}function K5(){return as.current!==null}function bz(s){{if(s.mode&Jt){if(!T5())return}else if(!jj()||en!==Er||s.tag!==d&&s.tag!==B&&s.tag!==Y)return;if(as.current===null){var a=yi;try{Xn(s),l(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,It(s))}finally{a?Xn(s):Br()}}}}function Cz(s){s.tag!==ou&&T5()&&as.current===null&&l(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function hg(s){M5=s}var Mo=null,Df=null,Ez=function(s){Mo=s};function Sf(s){{if(Mo===null)return s;var a=Mo(s);return a===void 0?s:a.current}}function kC(s){return Sf(s)}function MC(s){{if(Mo===null)return s;var a=Mo(s);if(a===void 0){if(s!=null&&typeof s.render=="function"){var f=Sf(s.render);if(s.render!==f){var g={$$typeof:pt,render:f};return s.displayName!==void 0&&(g.displayName=s.displayName),g}}return s}return a.current}}function q5(s,a){{if(Mo===null)return!1;var f=s.elementType,g=a.type,y=!1,x=typeof g=="object"&&g!==null?g.$$typeof:null;switch(s.tag){case h:{typeof g=="function"&&(y=!0);break}case d:{(typeof g=="function"||x===yt)&&(y=!0);break}case B:{(x===pt||x===yt)&&(y=!0);break}case z:case Y:{(x===jt||x===yt)&&(y=!0);break}default:return!1}if(y){var D=Mo(f);if(D!==void 0&&D===Mo(g))return!0}return!1}}function Z5(s){{if(Mo===null||typeof WeakSet!="function")return;Df===null&&(Df=new WeakSet),Df.add(s)}}var Dz=function(s,a){{if(Mo===null)return;var f=a.staleFamilies,g=a.updatedFamilies;ba(),xa(function(){NC(s.current,g,f)})}},Sz=function(s,a){{if(s.context!==so)return;ba(),xa(function(){gg(a,s,null,null)})}};function NC(s,a,f){{var g=s.alternate,y=s.child,x=s.sibling,D=s.tag,A=s.type,M=null;switch(D){case d:case Y:case h:M=A;break;case B:M=A.render;break}if(Mo===null)throw new Error("Expected resolveFamily to be set during hot reload.");var j=!1,W=!1;if(M!==null){var se=Mo(M);se!==void 0&&(f.has(se)?W=!0:a.has(se)&&(D===h?W=!0:j=!0))}if(Df!==null&&(Df.has(s)||g!==null&&Df.has(g))&&(W=!0),W&&(s._debugNeedsRemount=!0),W||j){var oe=Li(s,Mt);oe!==null&&Tr(oe,s,Mt,Hn)}y!==null&&!W&&NC(y,a,f),x!==null&&NC(x,a,f)}}var Tz=function(s,a){{var f=new Set,g=new Set(a.map(function(y){return y.current}));return OC(s.current,g,f),f}};function OC(s,a,f){{var g=s.child,y=s.sibling,x=s.tag,D=s.type,A=null;switch(x){case d:case Y:case h:A=D;break;case B:A=D.render;break}var M=!1;A!==null&&a.has(A)&&(M=!0),M?Az(s,f):g!==null&&OC(g,a,f),y!==null&&OC(y,a,f)}}function Az(s,a){{var f=Pz(s,a);if(f)return;for(var g=s;;){switch(g.tag){case w:a.add(g.stateNode);return;case v:a.add(g.stateNode.containerInfo);return;case m:a.add(g.stateNode.containerInfo);return}if(g.return===null)throw new Error("Expected to reach root first.");g=g.return}}}function Pz(s,a){for(var f=s,g=!1;;){if(f.tag===w)g=!0,a.add(f.stateNode);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)return g;for(;f.sibling===null;){if(f.return===null||f.return===s)return g;f=f.return}f.sibling.return=f.return,f=f.sibling}return!1}var FC;{FC=!1;try{var Q5=Object.preventExtensions({})}catch{FC=!0}}function Rz(s,a,f,g){this.tag=s,this.key=f,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=a,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=g,this.flags=Ct,this.subtreeFlags=Ct,this.deletions=null,this.lanes=Me,this.childLanes=Me,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!FC&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var ao=function(s,a,f,g){return new Rz(s,a,f,g)};function LC(s){var a=s.prototype;return!!(a&&a.isReactComponent)}function Bz(s){return typeof s=="function"&&!LC(s)&&s.defaultProps===void 0}function kz(s){if(typeof s=="function")return LC(s)?h:d;if(s!=null){var a=s.$$typeof;if(a===pt)return B;if(a===jt)return z}return p}function Ll(s,a){var f=s.alternate;f===null?(f=ao(s.tag,a,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f._debugSource=s._debugSource,f._debugOwner=s._debugOwner,f._debugHookTypes=s._debugHookTypes,f.alternate=s,s.alternate=f):(f.pendingProps=a,f.type=s.type,f.flags=Ct,f.subtreeFlags=Ct,f.deletions=null,f.actualDuration=0,f.actualStartTime=-1),f.flags=s.flags&aa,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue;var g=s.dependencies;switch(f.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.selfBaseDuration=s.selfBaseDuration,f.treeBaseDuration=s.treeBaseDuration,f._debugNeedsRemount=s._debugNeedsRemount,f.tag){case p:case d:case Y:f.type=Sf(s.type);break;case h:f.type=kC(s.type);break;case B:f.type=MC(s.type);break}return f}function Mz(s,a){s.flags&=aa|kr;var f=s.alternate;if(f===null)s.childLanes=Me,s.lanes=a,s.child=null,s.subtreeFlags=Ct,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null,s.selfBaseDuration=0,s.treeBaseDuration=0;else{s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=Ct,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type;var g=f.dependencies;s.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},s.selfBaseDuration=f.selfBaseDuration,s.treeBaseDuration=f.treeBaseDuration}return s}function Nz(s,a,f){var g;return s===Jm?(g=Jt,a===!0&&(g|=sr,g|=Ds)):g=wt,Ko&&(g|=bn),ao(m,null,null,g)}function IC(s,a,f,g,y,x){var D=p,A=s;if(typeof s=="function")LC(s)?(D=h,A=kC(A)):A=Sf(A);else if(typeof s=="string")D=w;else e:switch(s){case xs:return yu(f.children,y,x,a);case Zu:D=S,y|=sr,(y&Jt)!==wt&&(y|=Ds);break;case ee:return Oz(f,y,x,a);case Zt:return Fz(f,y,x,a);case kt:return Lz(f,y,x,a);case Vn:return J5(f,y,x,a);case si:case vr:case bs:case Uo:case _n:default:{if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ne:D=C;break e;case Ue:D=T;break e;case pt:D=B,A=MC(A);break e;case jt:D=z;break e;case yt:D=te,A=null;break e}var M="";{(s===void 0||typeof s=="object"&&s!==null&&Object.keys(s).length===0)&&(M+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var j=g?It(g):null;j&&(M+=`

Check the render method of \``+j+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(s==null?s:typeof s)+"."+M))}}var W=ao(D,f,a,y);return W.elementType=s,W.type=A,W.lanes=x,W._debugOwner=g,W}function HC(s,a,f){var g=null;g=s._owner;var y=s.type,x=s.key,D=s.props,A=IC(y,x,D,g,a,f);return A._debugSource=s._source,A._debugOwner=s._owner,A}function yu(s,a,f,g){var y=ao(E,s,g,a);return y.lanes=f,y}function Oz(s,a,f,g){typeof s.id!="string"&&l('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof s.id);var y=ao(P,s,g,a|bn);return y.elementType=ee,y.lanes=f,y.stateNode={effectDuration:0,passiveEffectDuration:0},y}function Fz(s,a,f,g){var y=ao(I,s,g,a);return y.elementType=Zt,y.lanes=f,y}function Lz(s,a,f,g){var y=ao(ce,s,g,a);return y.elementType=kt,y.lanes=f,y}function J5(s,a,f,g){var y=ao(Q,s,g,a);y.elementType=Vn,y.lanes=f;var x={isHidden:!1};return y.stateNode=x,y}function GC(s,a,f){var g=ao(b,s,null,a);return g.lanes=f,g}function Iz(){var s=ao(w,null,null,wt);return s.elementType="DELETED",s}function Hz(s){var a=ao(ae,null,null,wt);return a.stateNode=s,a}function _C(s,a,f){var g=s.children!==null?s.children:[],y=ao(v,g,s.key,a);return y.lanes=f,y.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},y}function e2(s,a){return s===null&&(s=ao(p,null,null,wt)),s.tag=a.tag,s.key=a.key,s.elementType=a.elementType,s.type=a.type,s.stateNode=a.stateNode,s.return=a.return,s.child=a.child,s.sibling=a.sibling,s.index=a.index,s.ref=a.ref,s.pendingProps=a.pendingProps,s.memoizedProps=a.memoizedProps,s.updateQueue=a.updateQueue,s.memoizedState=a.memoizedState,s.dependencies=a.dependencies,s.mode=a.mode,s.flags=a.flags,s.subtreeFlags=a.subtreeFlags,s.deletions=a.deletions,s.lanes=a.lanes,s.childLanes=a.childLanes,s.alternate=a.alternate,s.actualDuration=a.actualDuration,s.actualStartTime=a.actualStartTime,s.selfBaseDuration=a.selfBaseDuration,s.treeBaseDuration=a.treeBaseDuration,s._debugSource=a._debugSource,s._debugOwner=a._debugOwner,s._debugNeedsRemount=a._debugNeedsRemount,s._debugHookTypes=a._debugHookTypes,s}function Gz(s,a,f,g,y){this.tag=a,this.containerInfo=s,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=bx,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Or,this.eventTimes=$w(Me),this.expirationTimes=$w(Hn),this.pendingLanes=Me,this.suspendedLanes=Me,this.pingedLanes=Me,this.expiredLanes=Me,this.mutableReadLanes=Me,this.finishedLanes=Me,this.entangledLanes=Me,this.entanglements=$w(Me),this.identifierPrefix=g,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var x=this.pendingUpdatersLaneMap=[],D=0;D<bw;D++)x.push(new Set)}switch(a){case Jm:this._debugRootType=f?"hydrateRoot()":"createRoot()";break;case ou:this._debugRootType=f?"hydrate()":"render()";break}}function t2(s,a,f,g,y,x,D,A,M,j){var W=new Gz(s,a,f,A,M),se=Nz(a,x);W.current=se,se.stateNode=W;{var oe={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null};se.memoizedState=oe}return Jx(se),W}var VC="18.3.1";function _z(s,a,f){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Ie(g),{$$typeof:to,key:g==null?null:""+g,children:s,containerInfo:a,implementation:f}}var jC,zC;jC=!1,zC={};function n2(s){if(!s)return so;var a=Ic(s),f=C_(a);if(a.tag===h){var g=a.type;if(As(g))return RP(a,g,f)}return f}function Vz(s,a){{var f=Ic(s);if(f===void 0){if(typeof s.render=="function")throw new Error("Unable to find node on an unmounted component.");var g=Object.keys(s).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+g)}var y=JT(f);if(y===null)return null;if(y.mode&sr){var x=It(f)||"Component";if(!zC[x]){zC[x]=!0;var D=yi;try{Xn(y),f.mode&sr?l("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",a,a,x):l("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",a,a,x)}finally{D?Xn(D):Br()}}}return y.stateNode}}function r2(s,a,f,g,y,x,D,A){var M=!1,j=null;return t2(s,a,M,j,f,g,y,x,D)}function i2(s,a,f,g,y,x,D,A,M,j){var W=!0,se=t2(f,g,W,s,y,x,D,A,M);se.context=n2(null);var oe=se.current,pe=Ei(),we=mu(oe),De=ma(pe,we);return De.callback=a??null,uu(oe,De,we),Yj(se,we,pe),se}function gg(s,a,f,g){pL(a,s);var y=a.current,x=Ei(),D=mu(y);FL(D);var A=n2(f);a.context===null?a.context=A:a.pendingContext=A,rl&&yi!==null&&!jC&&(jC=!0,l(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,It(yi)||"Unknown"));var M=ma(x,D);M.payload={element:s},g=g===void 0?null:g,g!==null&&(typeof g!="function"&&l("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",g),M.callback=g);var j=uu(y,M,D);return j!==null&&(Tr(j,y,D,x),g0(j,y,D)),D}function rv(s){var a=s.current;if(!a.child)return null;switch(a.child.tag){case w:return a.child.stateNode;default:return a.child.stateNode}}function jz(s){switch(s.tag){case m:{var a=s.stateNode;if(Em(a)){var f=$L(a);Qj(a,f)}break}case I:{xa(function(){var y=Li(s,Mt);if(y!==null){var x=Ei();Tr(y,s,Mt,x)}});var g=Mt;$C(s,g);break}}}function o2(s,a){var f=s.memoizedState;f!==null&&f.dehydrated!==null&&(f.retryLane=qL(f.retryLane,a))}function $C(s,a){o2(s,a);var f=s.alternate;f&&o2(f,a)}function zz(s){if(s.tag===I){var a=Jd,f=Li(s,a);if(f!==null){var g=Ei();Tr(f,s,a,g)}$C(s,a)}}function $z(s){if(s.tag===I){var a=mu(s),f=Li(s,a);if(f!==null){var g=Ei();Tr(f,s,a,g)}$C(s,a)}}function s2(s){var a=sL(s);return a===null?null:a.stateNode}var a2=function(s){return null};function Uz(s){return a2(s)}var u2=function(s){return!1};function Wz(s){return u2(s)}var l2=null,c2=null,f2=null,d2=null,h2=null,g2=null,p2=null,m2=null,v2=null;{var y2=function(s,a,f){var g=a[f],y=Xt(s)?s.slice():Wt({},s);return f+1===a.length?(Xt(y)?y.splice(g,1):delete y[g],y):(y[g]=y2(s[g],a,f+1),y)},w2=function(s,a){return y2(s,a,0)},x2=function(s,a,f,g){var y=a[g],x=Xt(s)?s.slice():Wt({},s);if(g+1===a.length){var D=f[g];x[D]=x[y],Xt(x)?x.splice(y,1):delete x[y]}else x[y]=x2(s[y],a,f,g+1);return x},b2=function(s,a,f){if(a.length!==f.length){u("copyWithRename() expects paths of the same length");return}else for(var g=0;g<f.length-1;g++)if(a[g]!==f[g]){u("copyWithRename() expects paths to be the same except for the deepest key");return}return x2(s,a,f,0)},C2=function(s,a,f,g){if(f>=a.length)return g;var y=a[f],x=Xt(s)?s.slice():Wt({},s);return x[y]=C2(s[y],a,f+1,g),x},E2=function(s,a,f){return C2(s,a,0,f)},UC=function(s,a){for(var f=s.memoizedState;f!==null&&a>0;)f=f.next,a--;return f};l2=function(s,a,f,g){var y=UC(s,a);if(y!==null){var x=E2(y.memoizedState,f,g);y.memoizedState=x,y.baseState=x,s.memoizedProps=Wt({},s.memoizedProps);var D=Li(s,Mt);D!==null&&Tr(D,s,Mt,Hn)}},c2=function(s,a,f){var g=UC(s,a);if(g!==null){var y=w2(g.memoizedState,f);g.memoizedState=y,g.baseState=y,s.memoizedProps=Wt({},s.memoizedProps);var x=Li(s,Mt);x!==null&&Tr(x,s,Mt,Hn)}},f2=function(s,a,f,g){var y=UC(s,a);if(y!==null){var x=b2(y.memoizedState,f,g);y.memoizedState=x,y.baseState=x,s.memoizedProps=Wt({},s.memoizedProps);var D=Li(s,Mt);D!==null&&Tr(D,s,Mt,Hn)}},d2=function(s,a,f){s.pendingProps=E2(s.memoizedProps,a,f),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var g=Li(s,Mt);g!==null&&Tr(g,s,Mt,Hn)},h2=function(s,a){s.pendingProps=w2(s.memoizedProps,a),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var f=Li(s,Mt);f!==null&&Tr(f,s,Mt,Hn)},g2=function(s,a,f){s.pendingProps=b2(s.memoizedProps,a,f),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var g=Li(s,Mt);g!==null&&Tr(g,s,Mt,Hn)},p2=function(s){var a=Li(s,Mt);a!==null&&Tr(a,s,Mt,Hn)},m2=function(s){a2=s},v2=function(s){u2=s}}function Xz(s){var a=JT(s);return a===null?null:a.stateNode}function Yz(s){return null}function Kz(){return yi}function qz(s){var a=s.findFiberByHostInstance,f=r.ReactCurrentDispatcher;return gL({bundleType:s.bundleType,version:s.version,rendererPackageName:s.rendererPackageName,rendererConfig:s.rendererConfig,overrideHookState:l2,overrideHookStateDeletePath:c2,overrideHookStateRenamePath:f2,overrideProps:d2,overridePropsDeletePath:h2,overridePropsRenamePath:g2,setErrorHandler:m2,setSuspenseHandler:v2,scheduleUpdate:p2,currentDispatcherRef:f,findHostInstanceByFiber:Xz,findFiberByHostInstance:a||Yz,findHostInstancesForRefresh:Tz,scheduleRefresh:Dz,scheduleRoot:Sz,setRefreshHandler:Ez,getCurrentFiber:Kz,reconcilerVersion:VC})}var D2=typeof reportError=="function"?reportError:function(s){console.error(s)};function WC(s){this._internalRoot=s}iv.prototype.render=WC.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?l("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):ov(arguments[1])?l("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&l("You passed a second argument to root.render(...) but it only accepts one argument.");var f=a.containerInfo;if(f.nodeType!==dr){var g=s2(a.current);g&&g.parentNode!==f&&l("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}gg(s,a,null,null)},iv.prototype.unmount=WC.prototype.unmount=function(){typeof arguments[0]=="function"&&l("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;L5()&&l("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),xa(function(){gg(null,s,null,null)}),DP(a)}};function Zz(s,a){if(!ov(s))throw new Error("createRoot(...): Target container is not a DOM element.");S2(s);var f=!1,g=!1,y="",x=D2;a!=null&&(a.hydrate?u("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof a=="object"&&a!==null&&a.$$typeof===Eo&&l(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.transitionCallbacks!==void 0&&a.transitionCallbacks);var D=r2(s,Jm,null,f,g,y,x);Wm(D.current,s);var A=s.nodeType===dr?s.parentNode:s;return xh(A),new WC(D)}function iv(s){this._internalRoot=s}function Qz(s){s&&hI(s)}iv.prototype.unstable_scheduleHydration=Qz;function Jz(s,a,f){if(!ov(s))throw new Error("hydrateRoot(...): Target container is not a DOM element.");S2(s),a===void 0&&l("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var g=f??null,y=f!=null&&f.hydratedSources||null,x=!1,D=!1,A="",M=D2;f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onRecoverableError!==void 0&&(M=f.onRecoverableError));var j=i2(a,null,s,Jm,g,x,D,A,M);if(Wm(j.current,s),xh(s),y)for(var W=0;W<y.length;W++){var se=y[W];rV(j,se)}return new iv(j)}function ov(s){return!!(s&&(s.nodeType===Oi||s.nodeType===sa||s.nodeType===Qy))}function pg(s){return!!(s&&(s.nodeType===Oi||s.nodeType===sa||s.nodeType===Qy||s.nodeType===dr&&s.nodeValue===" react-mount-point-unstable "))}function S2(s){s.nodeType===Oi&&s.tagName&&s.tagName.toUpperCase()==="BODY"&&l("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),kh(s)&&(s._reactRootContainer?l("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):l("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var e$=r.ReactCurrentOwner,T2;T2=function(s){if(s._reactRootContainer&&s.nodeType!==dr){var a=s2(s._reactRootContainer.current);a&&a.parentNode!==s&&l("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var f=!!s._reactRootContainer,g=XC(s),y=!!(g&&ru(g));y&&!f&&l("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),s.nodeType===Oi&&s.tagName&&s.tagName.toUpperCase()==="BODY"&&l("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function XC(s){return s?s.nodeType===sa?s.documentElement:s.firstChild:null}function A2(){}function t$(s,a,f,g,y){if(y){if(typeof g=="function"){var x=g;g=function(){var oe=rv(D);x.call(oe)}}var D=i2(a,g,s,ou,null,!1,!1,"",A2);s._reactRootContainer=D,Wm(D.current,s);var A=s.nodeType===dr?s.parentNode:s;return xh(A),xa(),D}else{for(var M;M=s.lastChild;)s.removeChild(M);if(typeof g=="function"){var j=g;g=function(){var oe=rv(W);j.call(oe)}}var W=r2(s,ou,null,!1,!1,"",A2);s._reactRootContainer=W,Wm(W.current,s);var se=s.nodeType===dr?s.parentNode:s;return xh(se),xa(function(){gg(a,W,f,g)}),W}}function n$(s,a){s!==null&&typeof s!="function"&&l("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",a,s)}function sv(s,a,f,g,y){T2(f),n$(y===void 0?null:y,"render");var x=f._reactRootContainer,D;if(!x)D=t$(f,a,s,y,g);else{if(D=x,typeof y=="function"){var A=y;y=function(){var M=rv(D);A.call(M)}}gg(a,D,s,y)}return rv(D)}var P2=!1;function r$(s){{P2||(P2=!0,l("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var a=e$.current;if(a!==null&&a.stateNode!==null){var f=a.stateNode._warnedAboutRefsInRender;f||l("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",dn(a.type)||"A component"),a.stateNode._warnedAboutRefsInRender=!0}}return s==null?null:s.nodeType===Oi?s:Vz(s,"findDOMNode")}function i$(s,a,f){if(l("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!pg(a))throw new Error("Target container is not a DOM element.");{var g=kh(a)&&a._reactRootContainer===void 0;g&&l("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return sv(null,s,a,!0,f)}function o$(s,a,f){if(l("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!pg(a))throw new Error("Target container is not a DOM element.");{var g=kh(a)&&a._reactRootContainer===void 0;g&&l("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return sv(null,s,a,!1,f)}function s$(s,a,f,g){if(l("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!pg(f))throw new Error("Target container is not a DOM element.");if(s==null||!eL(s))throw new Error("parentComponent must be a valid React Component");return sv(s,a,f,!1,g)}var R2=!1;function a$(s){if(R2||(R2=!0,l("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!pg(s))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var a=kh(s)&&s._reactRootContainer===void 0;a&&l("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(s._reactRootContainer){{var f=XC(s),g=f&&!ru(f);g&&l("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return xa(function(){sv(null,null,s,!1,function(){s._reactRootContainer=null,DP(s)})}),!0}else{{var y=XC(s),x=!!(y&&ru(y)),D=s.nodeType===Oi&&pg(s.parentNode)&&!!s.parentNode._reactRootContainer;x&&l("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",D?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}rI(jz),oI(zz),sI($z),aI(qo),uI(eI),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&l("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),zF(lG),WF(DC,Jj,xa);function u$(s,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ov(a))throw new Error("Target container is not a DOM element.");return _z(s,a,null,f)}function l$(s,a,f,g){return s$(s,a,f,g)}var YC={usingClientEntryPoint:!1,Events:[ru,tf,Xm,_T,VT,DC]};function c$(s,a){return YC.usingClientEntryPoint||l('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),Zz(s,a)}function f$(s,a,f){return YC.usingClientEntryPoint||l('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),Jz(s,a,f)}function d$(s){return L5()&&l("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),xa(s)}var h$=qz({findFiberByHostInstance:bl,bundleType:1,version:VC,rendererPackageName:"react-dom"});if(!h$&&me&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var B2=window.location.protocol;/^(https?|file):$/.test(B2)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(B2==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YC,_i.createPortal=u$,_i.createRoot=c$,_i.findDOMNode=r$,_i.flushSync=d$,_i.hydrate=i$,_i.hydrateRoot=f$,_i.render=o$,_i.unmountComponentAtNode=a$,_i.unstable_batchedUpdates=DC,_i.unstable_renderSubtreeIntoContainer=l$,_i.version=VC,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}(),_i}var H2;function i8(){return H2||(H2=1,ZC.exports=E$()),ZC.exports}var G2;function D$(){if(G2)return lv;G2=1;var e=i8();{var n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;lv.createRoot=function(r,i){n.usingClientEntryPoint=!0;try{return e.createRoot(r,i)}finally{n.usingClientEntryPoint=!1}},lv.hydrateRoot=function(r,i,o){n.usingClientEntryPoint=!0;try{return e.hydrateRoot(r,i,o)}finally{n.usingClientEntryPoint=!1}}}return lv}var q1=D$();function oD(e,n,r){if(e&&e.length){const[i,o]=n,u=Math.PI/180*r,l=Math.cos(u),c=Math.sin(u);for(const d of e){const[h,p]=d;d[0]=(h-i)*l-(p-o)*c+i,d[1]=(h-i)*c+(p-o)*l+o}}}function S$(e,n,r){const i=[];e.forEach(o=>i.push(...o)),oD(i,n,r)}function T$(e,n){return e[0]===n[0]&&e[1]===n[1]}function A$(e,n,r,i=1){const o=r,u=Math.max(n,.1),l=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,c=[0,0];if(o)for(const h of l)oD(h,c,o);const d=P$(l,u,i);if(o){for(const h of l)oD(h,c,-o);S$(d,c,-o)}return d}function P$(e,n,r){const i=[];for(const h of e){const p=[...h];T$(p[0],p[p.length-1])||p.push([p[0][0],p[0][1]]),p.length>2&&i.push(p)}const o=[];n=Math.max(n,.1);const u=[];for(const h of i)for(let p=0;p<h.length-1;p++){const m=h[p],v=h[p+1];if(m[1]!==v[1]){const w=Math.min(m[1],v[1]);u.push({ymin:w,ymax:Math.max(m[1],v[1]),x:w===m[1]?m[0]:v[0],islope:(v[0]-m[0])/(v[1]-m[1])})}}if(u.sort((h,p)=>h.ymin<p.ymin?-1:h.ymin>p.ymin?1:h.x<p.x?-1:h.x>p.x?1:h.ymax===p.ymax?0:(h.ymax-p.ymax)/Math.abs(h.ymax-p.ymax)),!u.length)return o;let l=[],c=u[0].ymin,d=0;for(;l.length||u.length;){if(u.length){let h=-1;for(let m=0;m<u.length&&!(u[m].ymin>c);m++)h=m;u.splice(0,h+1).forEach(m=>{l.push({s:c,edge:m})})}if(l=l.filter(h=>!(h.edge.ymax<=c)),l.sort((h,p)=>h.edge.x===p.edge.x?0:(h.edge.x-p.edge.x)/Math.abs(h.edge.x-p.edge.x)),(r!==1||d%n===0)&&l.length>1)for(let h=0;h<l.length;h=h+2){const p=h+1;if(p>=l.length)break;const m=l[h].edge,v=l[p].edge;o.push([[Math.round(m.x),c],[Math.round(v.x),c]])}c+=r,l.forEach(h=>{h.edge.x=h.edge.x+r*h.edge.islope}),d++}return o}function Pp(e,n){var r;const i=n.hachureAngle+90;let o=n.hachureGap;o<0&&(o=n.strokeWidth*4),o=Math.round(Math.max(o,.1));let u=1;return n.roughness>=1&&(((r=n.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(u=o),A$(e,o,i,u||1)}class P3{constructor(n){this.helper=n}fillPolygons(n,r){return this._fillPolygons(n,r)}_fillPolygons(n,r){const i=Pp(n,r);return{type:"fillSketch",ops:this.renderLines(i,r)}}renderLines(n,r){const i=[];for(const o of n)i.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],r));return i}}function Z1(e){const n=e[0],r=e[1];return Math.sqrt(Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2))}class R$ extends P3{fillPolygons(n,r){let i=r.hachureGap;i<0&&(i=r.strokeWidth*4),i=Math.max(i,.1);const o=Object.assign({},r,{hachureGap:i}),u=Pp(n,o),l=Math.PI/180*r.hachureAngle,c=[],d=i*.5*Math.cos(l),h=i*.5*Math.sin(l);for(const[m,v]of u)Z1([m,v])&&c.push([[m[0]-d,m[1]+h],[...v]],[[m[0]+d,m[1]-h],[...v]]);return{type:"fillSketch",ops:this.renderLines(c,r)}}}class B$ extends P3{fillPolygons(n,r){const i=this._fillPolygons(n,r),o=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),u=this._fillPolygons(n,o);return i.ops=i.ops.concat(u.ops),i}}class k${constructor(n){this.helper=n}fillPolygons(n,r){r=Object.assign({},r,{hachureAngle:0});const i=Pp(n,r);return this.dotsOnLines(i,r)}dotsOnLines(n,r){const i=[];let o=r.hachureGap;o<0&&(o=r.strokeWidth*4),o=Math.max(o,.1);let u=r.fillWeight;u<0&&(u=r.strokeWidth/2);const l=o/4;for(const c of n){const d=Z1(c),h=d/o,p=Math.ceil(h)-1,m=d-p*o,v=(c[0][0]+c[1][0])/2-o/4,w=Math.min(c[0][1],c[1][1]);for(let b=0;b<p;b++){const E=w+m+b*o,S=v-l+Math.random()*2*l,T=E-l+Math.random()*2*l,C=this.helper.ellipse(S,T,u,u,r);i.push(...C.ops)}}return{type:"fillSketch",ops:i}}}class M${constructor(n){this.helper=n}fillPolygons(n,r){const i=Pp(n,r);return{type:"fillSketch",ops:this.dashedLine(i,r)}}dashedLine(n,r){const i=r.dashOffset<0?r.hachureGap<0?r.strokeWidth*4:r.hachureGap:r.dashOffset,o=r.dashGap<0?r.hachureGap<0?r.strokeWidth*4:r.hachureGap:r.dashGap,u=[];return n.forEach(l=>{const c=Z1(l),d=Math.floor(c/(i+o)),h=(c+o-d*(i+o))/2;let p=l[0],m=l[1];p[0]>m[0]&&(p=l[1],m=l[0]);const v=Math.atan((m[1]-p[1])/(m[0]-p[0]));for(let w=0;w<d;w++){const b=w*(i+o),E=b+i,S=[p[0]+b*Math.cos(v)+h*Math.cos(v),p[1]+b*Math.sin(v)+h*Math.sin(v)],T=[p[0]+E*Math.cos(v)+h*Math.cos(v),p[1]+E*Math.sin(v)+h*Math.sin(v)];u.push(...this.helper.doubleLineOps(S[0],S[1],T[0],T[1],r))}}),u}}class N${constructor(n){this.helper=n}fillPolygons(n,r){const i=r.hachureGap<0?r.strokeWidth*4:r.hachureGap,o=r.zigzagOffset<0?i:r.zigzagOffset;r=Object.assign({},r,{hachureGap:i+o});const u=Pp(n,r);return{type:"fillSketch",ops:this.zigzagLines(u,o,r)}}zigzagLines(n,r,i){const o=[];return n.forEach(u=>{const l=Z1(u),c=Math.round(l/(2*r));let d=u[0],h=u[1];d[0]>h[0]&&(d=u[1],h=u[0]);const p=Math.atan((h[1]-d[1])/(h[0]-d[0]));for(let m=0;m<c;m++){const v=m*2*r,w=(m+1)*2*r,b=Math.sqrt(2*Math.pow(r,2)),E=[d[0]+v*Math.cos(p),d[1]+v*Math.sin(p)],S=[d[0]+w*Math.cos(p),d[1]+w*Math.sin(p)],T=[E[0]+b*Math.cos(p+Math.PI/4),E[1]+b*Math.sin(p+Math.PI/4)];o.push(...this.helper.doubleLineOps(E[0],E[1],T[0],T[1],i),...this.helper.doubleLineOps(T[0],T[1],S[0],S[1],i))}}),o}}const Vi={};function O$(e,n){let r=e.fillStyle||"hachure";if(!Vi[r])switch(r){case"zigzag":Vi[r]||(Vi[r]=new R$(n));break;case"cross-hatch":Vi[r]||(Vi[r]=new B$(n));break;case"dots":Vi[r]||(Vi[r]=new k$(n));break;case"dashed":Vi[r]||(Vi[r]=new M$(n));break;case"zigzag-line":Vi[r]||(Vi[r]=new N$(n));break;case"hachure":default:r="hachure",Vi[r]||(Vi[r]=new P3(n));break}return Vi[r]}function F$(){return Math.floor(Math.random()*2**31)}class L${constructor(n){this.seed=n}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const I$=0,sD=1,o8=2,cv={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function H$(e){const n=new Array;for(;e!=="";)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))n[n.length]={type:I$,text:RegExp.$1},e=e.substr(RegExp.$1.length);else if(e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))n[n.length]={type:sD,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length);else return[];return n[n.length]={type:o8,text:""},n}function eE(e,n){return e.type===n}function R3(e){const n=[],r=H$(e);let i="BOD",o=0,u=r[o];for(;!eE(u,o8);){let l=0;const c=[];if(i==="BOD")if(u.text==="M"||u.text==="m")o++,l=cv[u.text],i=u.text;else return R3("M0,0"+e);else eE(u,sD)?l=cv[i]:(o++,l=cv[u.text],i=u.text);if(o+l<r.length){for(let d=o;d<o+l;d++){const h=r[d];if(eE(h,sD))c[c.length]=+h.text;else throw new Error("Param not a number: "+i+","+h.text)}if(typeof cv[i]=="number"){const d={key:i,data:c};n.push(d),o+=l,u=r[o],i==="M"&&(i="L"),i==="m"&&(i="l")}else throw new Error("Bad segment: "+i)}else throw new Error("Path data ended short")}return n}function s8(e){let n=0,r=0,i=0,o=0;const u=[];for(const{key:l,data:c}of e)switch(l){case"M":u.push({key:"M",data:[...c]}),[n,r]=c,[i,o]=c;break;case"m":n+=c[0],r+=c[1],u.push({key:"M",data:[n,r]}),i=n,o=r;break;case"L":u.push({key:"L",data:[...c]}),[n,r]=c;break;case"l":n+=c[0],r+=c[1],u.push({key:"L",data:[n,r]});break;case"C":u.push({key:"C",data:[...c]}),n=c[4],r=c[5];break;case"c":{const d=c.map((h,p)=>p%2?h+r:h+n);u.push({key:"C",data:d}),n=d[4],r=d[5];break}case"Q":u.push({key:"Q",data:[...c]}),n=c[2],r=c[3];break;case"q":{const d=c.map((h,p)=>p%2?h+r:h+n);u.push({key:"Q",data:d}),n=d[2],r=d[3];break}case"A":u.push({key:"A",data:[...c]}),n=c[5],r=c[6];break;case"a":n+=c[5],r+=c[6],u.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],n,r]});break;case"H":u.push({key:"H",data:[...c]}),n=c[0];break;case"h":n+=c[0],u.push({key:"H",data:[n]});break;case"V":u.push({key:"V",data:[...c]}),r=c[0];break;case"v":r+=c[0],u.push({key:"V",data:[r]});break;case"S":u.push({key:"S",data:[...c]}),n=c[2],r=c[3];break;case"s":{const d=c.map((h,p)=>p%2?h+r:h+n);u.push({key:"S",data:d}),n=d[2],r=d[3];break}case"T":u.push({key:"T",data:[...c]}),n=c[0],r=c[1];break;case"t":n+=c[0],r+=c[1],u.push({key:"T",data:[n,r]});break;case"Z":case"z":u.push({key:"Z",data:[]}),n=i,r=o;break}return u}function a8(e){const n=[];let r="",i=0,o=0,u=0,l=0,c=0,d=0;for(const{key:h,data:p}of e){switch(h){case"M":n.push({key:"M",data:[...p]}),[i,o]=p,[u,l]=p;break;case"C":n.push({key:"C",data:[...p]}),i=p[4],o=p[5],c=p[2],d=p[3];break;case"L":n.push({key:"L",data:[...p]}),[i,o]=p;break;case"H":i=p[0],n.push({key:"L",data:[i,o]});break;case"V":o=p[0],n.push({key:"L",data:[i,o]});break;case"S":{let m=0,v=0;r==="C"||r==="S"?(m=i+(i-c),v=o+(o-d)):(m=i,v=o),n.push({key:"C",data:[m,v,...p]}),c=p[0],d=p[1],i=p[2],o=p[3];break}case"T":{const[m,v]=p;let w=0,b=0;r==="Q"||r==="T"?(w=i+(i-c),b=o+(o-d)):(w=i,b=o);const E=i+2*(w-i)/3,S=o+2*(b-o)/3,T=m+2*(w-m)/3,C=v+2*(b-v)/3;n.push({key:"C",data:[E,S,T,C,m,v]}),c=w,d=b,i=m,o=v;break}case"Q":{const[m,v,w,b]=p,E=i+2*(m-i)/3,S=o+2*(v-o)/3,T=w+2*(m-w)/3,C=b+2*(v-b)/3;n.push({key:"C",data:[E,S,T,C,w,b]}),c=m,d=v,i=w,o=b;break}case"A":{const m=Math.abs(p[0]),v=Math.abs(p[1]),w=p[2],b=p[3],E=p[4],S=p[5],T=p[6];m===0||v===0?(n.push({key:"C",data:[i,o,S,T,S,T]}),i=S,o=T):(i!==S||o!==T)&&(u8(i,o,S,T,m,v,w,b,E).forEach(function(B){n.push({key:"C",data:B})}),i=S,o=T);break}case"Z":n.push({key:"Z",data:[]}),i=u,o=l;break}r=h}return n}function G$(e){return Math.PI*e/180}function vg(e,n,r){const i=e*Math.cos(r)-n*Math.sin(r),o=e*Math.sin(r)+n*Math.cos(r);return[i,o]}function u8(e,n,r,i,o,u,l,c,d,h){const p=G$(l);let m=[],v=0,w=0,b=0,E=0;if(h)[v,w,b,E]=h;else{[e,n]=vg(e,n,-p),[r,i]=vg(r,i,-p);const ne=(e-r)/2,Q=(n-i)/2;let le=ne*ne/(o*o)+Q*Q/(u*u);le>1&&(le=Math.sqrt(le),o=le*o,u=le*u);const G=c===d?-1:1,R=o*o,k=u*u,H=R*k-R*Q*Q-k*ne*ne,_=R*Q*Q+k*ne*ne,X=G*Math.sqrt(Math.abs(H/_));b=X*o*Q/u+(e+r)/2,E=X*-u*ne/o+(n+i)/2,v=Math.asin(parseFloat(((n-E)/u).toFixed(9))),w=Math.asin(parseFloat(((i-E)/u).toFixed(9))),e<b&&(v=Math.PI-v),r<b&&(w=Math.PI-w),v<0&&(v=Math.PI*2+v),w<0&&(w=Math.PI*2+w),d&&v>w&&(v=v-Math.PI*2),!d&&w>v&&(w=w-Math.PI*2)}let S=w-v;if(Math.abs(S)>Math.PI*120/180){const ne=w,Q=r,le=i;d&&w>v?w=v+Math.PI*120/180*1:w=v+Math.PI*120/180*-1,r=b+o*Math.cos(w),i=E+u*Math.sin(w),m=u8(r,i,Q,le,o,u,l,0,d,[w,ne,b,E])}S=w-v;const T=Math.cos(v),C=Math.sin(v),B=Math.cos(w),P=Math.sin(w),I=Math.tan(S/4),z=4/3*o*I,Y=4/3*u*I,te=[e,n],re=[e+z*C,n-Y*T],ae=[r+z*P,i-Y*B],ce=[r,i];if(re[0]=2*te[0]-re[0],re[1]=2*te[1]-re[1],h)return[re,ae,ce].concat(m);{m=[re,ae,ce].concat(m);const ne=[];for(let Q=0;Q<m.length;Q+=3){const le=vg(m[Q][0],m[Q][1],p),G=vg(m[Q+1][0],m[Q+1][1],p),R=vg(m[Q+2][0],m[Q+2][1],p);ne.push([le[0],le[1],G[0],G[1],R[0],R[1]])}return ne}}const _$={randOffset:U$,randOffsetWithRange:W$,ellipse:z$,doubleLineOps:X$};function l8(e,n,r,i,o){return{type:"path",ops:Ou(e,n,r,i,o)}}function Gv(e,n,r){const i=(e||[]).length;if(i>2){const o=[];for(let u=0;u<i-1;u++)o.push(...Ou(e[u][0],e[u][1],e[u+1][0],e[u+1][1],r));return n&&o.push(...Ou(e[i-1][0],e[i-1][1],e[0][0],e[0][1],r)),{type:"path",ops:o}}else if(i===2)return l8(e[0][0],e[0][1],e[1][0],e[1][1],r);return{type:"path",ops:[]}}function V$(e,n){return Gv(e,!0,n)}function j$(e,n,r,i,o){const u=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];return V$(u,o)}function _2(e,n){if(e.length){const i=typeof e[0][0]=="number"?[e]:e,o=fv(i[0],1*(1+n.roughness*.2),n),u=n.disableMultiStroke?[]:fv(i[0],1.5*(1+n.roughness*.22),z2(n));for(let l=1;l<i.length;l++){const c=i[l];if(c.length){const d=fv(c,1*(1+n.roughness*.2),n),h=n.disableMultiStroke?[]:fv(c,1.5*(1+n.roughness*.22),z2(n));for(const p of d)p.op!=="move"&&o.push(p);for(const p of h)p.op!=="move"&&u.push(p)}}return{type:"path",ops:o.concat(u)}}return{type:"path",ops:[]}}function z$(e,n,r,i,o){const u=c8(r,i,o);return aD(e,n,o,u).opset}function c8(e,n,r){const i=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(e/2,2)+Math.pow(n/2,2))/2)),o=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),u=Math.PI*2/o;let l=Math.abs(e/2),c=Math.abs(n/2);const d=1-r.curveFitting;return l+=Bt(l*d,r),c+=Bt(c*d,r),{increment:u,rx:l,ry:c}}function aD(e,n,r,i){const[o,u]=$2(i.increment,e,n,i.rx,i.ry,1,i.increment*o1(.1,o1(.4,1,r),r),r);let l=s1(o,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[c]=$2(i.increment,e,n,i.rx,i.ry,1.5,0,r),d=s1(c,null,r);l=l.concat(d)}return{estimatedPoints:u,opset:{type:"path",ops:l}}}function V2(e,n,r,i,o,u,l,c,d){const h=e,p=n;let m=Math.abs(r/2),v=Math.abs(i/2);m+=Bt(m*.01,d),v+=Bt(v*.01,d);let w=o,b=u;for(;w<0;)w+=Math.PI*2,b+=Math.PI*2;b-w>Math.PI*2&&(w=0,b=Math.PI*2);const E=Math.PI*2/d.curveStepCount,S=Math.min(E/2,(b-w)/2),T=U2(S,h,p,m,v,w,b,1,d);if(!d.disableMultiStroke){const C=U2(S,h,p,m,v,w,b,1.5,d);T.push(...C)}return l&&(c?T.push(...Ou(h,p,h+m*Math.cos(w),p+v*Math.sin(w),d),...Ou(h,p,h+m*Math.cos(b),p+v*Math.sin(b),d)):T.push({op:"lineTo",data:[h,p]},{op:"lineTo",data:[h+m*Math.cos(w),p+v*Math.sin(w)]})),{type:"path",ops:T}}function j2(e,n){const r=a8(s8(R3(e))),i=[];let o=[0,0],u=[0,0];for(const{key:l,data:c}of r)switch(l){case"M":{u=[c[0],c[1]],o=[c[0],c[1]];break}case"L":i.push(...Ou(u[0],u[1],c[0],c[1],n)),u=[c[0],c[1]];break;case"C":{const[d,h,p,m,v,w]=c;i.push(...Y$(d,h,p,m,v,w,u,n)),u=[v,w];break}case"Z":i.push(...Ou(u[0],u[1],o[0],o[1],n)),u=[o[0],o[1]];break}return{type:"path",ops:i}}function tE(e,n){const r=[];for(const i of e)if(i.length){const o=n.maxRandomnessOffset||0,u=i.length;if(u>2){r.push({op:"move",data:[i[0][0]+Bt(o,n),i[0][1]+Bt(o,n)]});for(let l=1;l<u;l++)r.push({op:"lineTo",data:[i[l][0]+Bt(o,n),i[l][1]+Bt(o,n)]})}}return{type:"fillPath",ops:r}}function Ff(e,n){return O$(n,_$).fillPolygons(e,n)}function $$(e,n,r,i,o,u,l){const c=e,d=n;let h=Math.abs(r/2),p=Math.abs(i/2);h+=Bt(h*.01,l),p+=Bt(p*.01,l);let m=o,v=u;for(;m<0;)m+=Math.PI*2,v+=Math.PI*2;v-m>Math.PI*2&&(m=0,v=Math.PI*2);const w=(v-m)/l.curveStepCount,b=[];for(let E=m;E<=v;E=E+w)b.push([c+h*Math.cos(E),d+p*Math.sin(E)]);return b.push([c+h*Math.cos(v),d+p*Math.sin(v)]),b.push([c,d]),Ff([b],l)}function U$(e,n){return Bt(e,n)}function W$(e,n,r){return o1(e,n,r)}function X$(e,n,r,i,o){return Ou(e,n,r,i,o,!0)}function z2(e){const n=Object.assign({},e);return n.randomizer=void 0,e.seed&&(n.seed=e.seed+1),n}function f8(e){return e.randomizer||(e.randomizer=new L$(e.seed||0)),e.randomizer.next()}function o1(e,n,r,i=1){return r.roughness*i*(f8(r)*(n-e)+e)}function Bt(e,n,r=1){return o1(-e,e,n,r)}function Ou(e,n,r,i,o,u=!1){const l=u?o.disableMultiStrokeFill:o.disableMultiStroke,c=uD(e,n,r,i,o,!0,!1);if(l)return c;const d=uD(e,n,r,i,o,!0,!0);return c.concat(d)}function uD(e,n,r,i,o,u,l){const c=Math.pow(e-r,2)+Math.pow(n-i,2),d=Math.sqrt(c);let h=1;d<200?h=1:d>500?h=.4:h=-.0016668*d+1.233334;let p=o.maxRandomnessOffset||0;p*p*100>c&&(p=d/10);const m=p/2,v=.2+f8(o)*.2;let w=o.bowing*o.maxRandomnessOffset*(i-n)/200,b=o.bowing*o.maxRandomnessOffset*(e-r)/200;w=Bt(w,o,h),b=Bt(b,o,h);const E=[],S=()=>Bt(m,o,h),T=()=>Bt(p,o,h),C=o.preserveVertices;return l?E.push({op:"move",data:[e+(C?0:S()),n+(C?0:S())]}):E.push({op:"move",data:[e+(C?0:Bt(p,o,h)),n+(C?0:Bt(p,o,h))]}),l?E.push({op:"bcurveTo",data:[w+e+(r-e)*v+S(),b+n+(i-n)*v+S(),w+e+2*(r-e)*v+S(),b+n+2*(i-n)*v+S(),r+(C?0:S()),i+(C?0:S())]}):E.push({op:"bcurveTo",data:[w+e+(r-e)*v+T(),b+n+(i-n)*v+T(),w+e+2*(r-e)*v+T(),b+n+2*(i-n)*v+T(),r+(C?0:T()),i+(C?0:T())]}),E}function fv(e,n,r){if(!e.length)return[];const i=[];i.push([e[0][0]+Bt(n,r),e[0][1]+Bt(n,r)]),i.push([e[0][0]+Bt(n,r),e[0][1]+Bt(n,r)]);for(let o=1;o<e.length;o++)i.push([e[o][0]+Bt(n,r),e[o][1]+Bt(n,r)]),o===e.length-1&&i.push([e[o][0]+Bt(n,r),e[o][1]+Bt(n,r)]);return s1(i,null,r)}function s1(e,n,r){const i=e.length,o=[];if(i>3){const u=[],l=1-r.curveTightness;o.push({op:"move",data:[e[1][0],e[1][1]]});for(let c=1;c+2<i;c++){const d=e[c];u[0]=[d[0],d[1]],u[1]=[d[0]+(l*e[c+1][0]-l*e[c-1][0])/6,d[1]+(l*e[c+1][1]-l*e[c-1][1])/6],u[2]=[e[c+1][0]+(l*e[c][0]-l*e[c+2][0])/6,e[c+1][1]+(l*e[c][1]-l*e[c+2][1])/6],u[3]=[e[c+1][0],e[c+1][1]],o.push({op:"bcurveTo",data:[u[1][0],u[1][1],u[2][0],u[2][1],u[3][0],u[3][1]]})}}else i===3?(o.push({op:"move",data:[e[1][0],e[1][1]]}),o.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&o.push(...uD(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return o}function $2(e,n,r,i,o,u,l,c){const d=c.roughness===0,h=[],p=[];if(d){e=e/4,p.push([n+i*Math.cos(-e),r+o*Math.sin(-e)]);for(let m=0;m<=Math.PI*2;m=m+e){const v=[n+i*Math.cos(m),r+o*Math.sin(m)];h.push(v),p.push(v)}p.push([n+i*Math.cos(0),r+o*Math.sin(0)]),p.push([n+i*Math.cos(e),r+o*Math.sin(e)])}else{const m=Bt(.5,c)-Math.PI/2;p.push([Bt(u,c)+n+.9*i*Math.cos(m-e),Bt(u,c)+r+.9*o*Math.sin(m-e)]);const v=Math.PI*2+m-.01;for(let w=m;w<v;w=w+e){const b=[Bt(u,c)+n+i*Math.cos(w),Bt(u,c)+r+o*Math.sin(w)];h.push(b),p.push(b)}p.push([Bt(u,c)+n+i*Math.cos(m+Math.PI*2+l*.5),Bt(u,c)+r+o*Math.sin(m+Math.PI*2+l*.5)]),p.push([Bt(u,c)+n+.98*i*Math.cos(m+l),Bt(u,c)+r+.98*o*Math.sin(m+l)]),p.push([Bt(u,c)+n+.9*i*Math.cos(m+l*.5),Bt(u,c)+r+.9*o*Math.sin(m+l*.5)])}return[p,h]}function U2(e,n,r,i,o,u,l,c,d){const h=u+Bt(.1,d),p=[];p.push([Bt(c,d)+n+.9*i*Math.cos(h-e),Bt(c,d)+r+.9*o*Math.sin(h-e)]);for(let m=h;m<=l;m=m+e)p.push([Bt(c,d)+n+i*Math.cos(m),Bt(c,d)+r+o*Math.sin(m)]);return p.push([n+i*Math.cos(l),r+o*Math.sin(l)]),p.push([n+i*Math.cos(l),r+o*Math.sin(l)]),s1(p,null,d)}function Y$(e,n,r,i,o,u,l,c){const d=[],h=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3];let p=[0,0];const m=c.disableMultiStroke?1:2,v=c.preserveVertices;for(let w=0;w<m;w++)w===0?d.push({op:"move",data:[l[0],l[1]]}):d.push({op:"move",data:[l[0]+(v?0:Bt(h[0],c)),l[1]+(v?0:Bt(h[0],c))]}),p=v?[o,u]:[o+Bt(h[w],c),u+Bt(h[w],c)],d.push({op:"bcurveTo",data:[e+Bt(h[w],c),n+Bt(h[w],c),r+Bt(h[w],c),i+Bt(h[w],c),p[0],p[1]]});return d}function yg(e){return[...e]}function W2(e,n=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const i=[];if(r===3)i.push(yg(e[0]),yg(e[1]),yg(e[2]),yg(e[2]));else{const o=[];o.push(e[0],e[0]);for(let c=1;c<e.length;c++)o.push(e[c]),c===e.length-1&&o.push(e[c]);const u=[],l=1-n;i.push(yg(o[0]));for(let c=1;c+2<o.length;c++){const d=o[c];u[0]=[d[0],d[1]],u[1]=[d[0]+(l*o[c+1][0]-l*o[c-1][0])/6,d[1]+(l*o[c+1][1]-l*o[c-1][1])/6],u[2]=[o[c+1][0]+(l*o[c][0]-l*o[c+2][0])/6,o[c+1][1]+(l*o[c][1]-l*o[c+2][1])/6],u[3]=[o[c+1][0],o[c+1][1]],i.push(u[1],u[2],u[3])}}return i}function K$(e,n){return Math.sqrt(_v(e,n))}function _v(e,n){return Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)}function q$(e,n,r){const i=_v(n,r);if(i===0)return _v(e,n);let o=((e[0]-n[0])*(r[0]-n[0])+(e[1]-n[1])*(r[1]-n[1]))/i;return o=Math.max(0,Math.min(1,o)),_v(e,_l(n,r,o))}function _l(e,n,r){return[e[0]+(n[0]-e[0])*r,e[1]+(n[1]-e[1])*r]}function Z$(e,n){const r=e[n+0],i=e[n+1],o=e[n+2],u=e[n+3];let l=3*i[0]-2*r[0]-u[0];l*=l;let c=3*i[1]-2*r[1]-u[1];c*=c;let d=3*o[0]-2*u[0]-r[0];d*=d;let h=3*o[1]-2*u[1]-r[1];return h*=h,l<d&&(l=d),c<h&&(c=h),l+c}function lD(e,n,r,i){const o=i||[];if(Z$(e,n)<r){const u=e[n+0];o.length?K$(o[o.length-1],u)>1&&o.push(u):o.push(u),o.push(e[n+3])}else{const l=e[n+0],c=e[n+1],d=e[n+2],h=e[n+3],p=_l(l,c,.5),m=_l(c,d,.5),v=_l(d,h,.5),w=_l(p,m,.5),b=_l(m,v,.5),E=_l(w,b,.5);lD([l,p,w,E],0,r,o),lD([E,b,v,h],0,r,o)}return o}function cD(e,n,r,i,o){const u=o||[],l=e[n],c=e[r-1];let d=0,h=1;for(let p=n+1;p<r-1;++p){const m=q$(e[p],l,c);m>d&&(d=m,h=p)}return Math.sqrt(d)>i?(cD(e,n,h+1,i,u),cD(e,h,r,i,u)):(u.length||u.push(l),u.push(c)),u}function X2(e,n=.15,r){const i=[],o=(e.length-1)/3;for(let u=0;u<o;u++){const l=u*3;lD(e,l,n,i)}return r&&r>0?cD(i,0,i.length,r):i}function Q$(e,n){return Math.sqrt(Vv(e,n))}function Vv(e,n){return Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)}function J$(e,n,r){const i=Vv(n,r);if(i===0)return Vv(e,n);let o=((e[0]-n[0])*(r[0]-n[0])+(e[1]-n[1])*(r[1]-n[1]))/i;return o=Math.max(0,Math.min(1,o)),Vv(e,Vl(n,r,o))}function Vl(e,n,r){return[e[0]+(n[0]-e[0])*r,e[1]+(n[1]-e[1])*r]}function eU(e,n){const r=e[n+0],i=e[n+1],o=e[n+2],u=e[n+3];let l=3*i[0]-2*r[0]-u[0];l*=l;let c=3*i[1]-2*r[1]-u[1];c*=c;let d=3*o[0]-2*u[0]-r[0];d*=d;let h=3*o[1]-2*u[1]-r[1];return h*=h,l<d&&(l=d),c<h&&(c=h),l+c}function fD(e,n,r,i){const o=i||[];if(eU(e,n)<r){const u=e[n+0];o.length?Q$(o[o.length-1],u)>1&&o.push(u):o.push(u),o.push(e[n+3])}else{const l=e[n+0],c=e[n+1],d=e[n+2],h=e[n+3],p=Vl(l,c,.5),m=Vl(c,d,.5),v=Vl(d,h,.5),w=Vl(p,m,.5),b=Vl(m,v,.5),E=Vl(w,b,.5);fD([l,p,w,E],0,r,o),fD([E,b,v,h],0,r,o)}return o}function tU(e,n){return dD(e,0,e.length,n)}function dD(e,n,r,i,o){const u=o||[],l=e[n],c=e[r-1];let d=0,h=1;for(let p=n+1;p<r-1;++p){const m=J$(e[p],l,c);m>d&&(d=m,h=p)}return Math.sqrt(d)>i?(dD(e,n,h+1,i,u),dD(e,h,r,i,u)):(u.length||u.push(l),u.push(c)),u}function nU(e,n=.15,r){const i=[],o=(e.length-1)/3;for(let u=0;u<o;u++){const l=u*3;fD(e,l,n,i)}return i}function rU(e,n,r){const i=R3(e),o=a8(s8(i)),u=[];let l=[],c=[0,0],d=[];const h=()=>{d.length>=4&&l.push(...nU(d,n)),d=[]},p=()=>{h(),l.length&&(u.push(l),l=[])};for(const{key:v,data:w}of o)switch(v){case"M":p(),c=[w[0],w[1]],l.push(c);break;case"L":h(),l.push([w[0],w[1]]);break;case"C":if(!d.length){const b=l.length?l[l.length-1]:c;d.push([b[0],b[1]])}d.push([w[0],w[1]]),d.push([w[2],w[3]]),d.push([w[4],w[5]]);break;case"Z":h(),l.push([c[0],c[1]]);break}if(p(),!r)return u;const m=[];for(const v of u){const w=tU(v,r);w.length&&m.push(w)}return m}const lo="none";class a1{constructor(n){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=n||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return F$()}_o(n){return n?Object.assign({},this.defaultOptions,n):this.defaultOptions}_d(n,r,i){return{shape:n,sets:r||[],options:i||this.defaultOptions}}line(n,r,i,o,u){const l=this._o(u);return this._d("line",[l8(n,r,i,o,l)],l)}rectangle(n,r,i,o,u){const l=this._o(u),c=[],d=j$(n,r,i,o,l);if(l.fill){const h=[[n,r],[n+i,r],[n+i,r+o],[n,r+o]];l.fillStyle==="solid"?c.push(tE([h],l)):c.push(Ff([h],l))}return l.stroke!==lo&&c.push(d),this._d("rectangle",c,l)}ellipse(n,r,i,o,u){const l=this._o(u),c=[],d=c8(i,o,l),h=aD(n,r,l,d);if(l.fill)if(l.fillStyle==="solid"){const p=aD(n,r,l,d).opset;p.type="fillPath",c.push(p)}else c.push(Ff([h.estimatedPoints],l));return l.stroke!==lo&&c.push(h.opset),this._d("ellipse",c,l)}circle(n,r,i,o){const u=this.ellipse(n,r,i,i,o);return u.shape="circle",u}linearPath(n,r){const i=this._o(r);return this._d("linearPath",[Gv(n,!1,i)],i)}arc(n,r,i,o,u,l,c=!1,d){const h=this._o(d),p=[],m=V2(n,r,i,o,u,l,c,!0,h);if(c&&h.fill)if(h.fillStyle==="solid"){const v=Object.assign({},h);v.disableMultiStroke=!0;const w=V2(n,r,i,o,u,l,!0,!1,v);w.type="fillPath",p.push(w)}else p.push($$(n,r,i,o,u,l,h));return h.stroke!==lo&&p.push(m),this._d("arc",p,h)}curve(n,r){const i=this._o(r),o=[],u=_2(n,i);if(i.fill&&i.fill!==lo)if(i.fillStyle==="solid"){const l=_2(n,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],c=n;if(c.length){const h=typeof c[0][0]=="number"?[c]:c;for(const p of h)p.length<3?l.push(...p):p.length===3?l.push(...X2(W2([p[0],p[0],p[1],p[2]]),10,(1+i.roughness)/2)):l.push(...X2(W2(p),10,(1+i.roughness)/2))}l.length&&o.push(Ff([l],i))}return i.stroke!==lo&&o.push(u),this._d("curve",o,i)}polygon(n,r){const i=this._o(r),o=[],u=Gv(n,!0,i);return i.fill&&(i.fillStyle==="solid"?o.push(tE([n],i)):o.push(Ff([n],i))),i.stroke!==lo&&o.push(u),this._d("polygon",o,i)}path(n,r){const i=this._o(r),o=[];if(!n)return this._d("path",o,i);n=(n||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const u=i.fill&&i.fill!=="transparent"&&i.fill!==lo,l=i.stroke!==lo,c=!!(i.simplification&&i.simplification<1),d=c?4-4*(i.simplification||1):(1+i.roughness)/2,h=rU(n,1,d),p=j2(n,i);if(u)if(i.fillStyle==="solid")if(h.length===1){const m=j2(n,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(m.ops)})}else o.push(tE(h,i));else o.push(Ff(h,i));return l&&(c?h.forEach(m=>{o.push(Gv(m,!1,i))}):o.push(p)),this._d("path",o,i)}opsToPath(n,r){let i="";for(const o of n.ops){const u=typeof r=="number"&&r>=0?o.data.map(l=>+l.toFixed(r)):o.data;switch(o.op){case"move":i+=`M${u[0]} ${u[1]} `;break;case"bcurveTo":i+=`C${u[0]} ${u[1]}, ${u[2]} ${u[3]}, ${u[4]} ${u[5]} `;break;case"lineTo":i+=`L${u[0]} ${u[1]} `;break}}return i.trim()}toPaths(n){const r=n.sets||[],i=n.options||this.defaultOptions,o=[];for(const u of r){let l=null;switch(u.type){case"path":l={d:this.opsToPath(u),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:lo};break;case"fillPath":l={d:this.opsToPath(u),stroke:lo,strokeWidth:0,fill:i.fill||lo};break;case"fillSketch":l=this.fillSketch(u,i);break}l&&o.push(l)}return o}fillSketch(n,r){let i=r.fillWeight;return i<0&&(i=r.strokeWidth/2),{d:this.opsToPath(n),stroke:r.fill||lo,strokeWidth:i,fill:lo}}_mergedShape(n){return n.filter((r,i)=>i===0?!0:r.op!=="move")}}class iU{constructor(n,r){this.canvas=n,this.ctx=this.canvas.getContext("2d"),this.gen=new a1(r)}draw(n){const r=n.sets||[],i=n.options||this.getDefaultOptions(),o=this.ctx,u=n.options.fixedDecimalPlaceDigits;for(const l of r)switch(l.type){case"path":o.save(),o.strokeStyle=i.stroke==="none"?"transparent":i.stroke,o.lineWidth=i.strokeWidth,i.strokeLineDash&&o.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(o.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(o,l,u),o.restore();break;case"fillPath":{o.save(),o.fillStyle=i.fill||"";const c=n.shape==="curve"||n.shape==="polygon"||n.shape==="path"?"evenodd":"nonzero";this._drawToContext(o,l,u,c),o.restore();break}case"fillSketch":this.fillSketch(o,l,i);break}}fillSketch(n,r,i){let o=i.fillWeight;o<0&&(o=i.strokeWidth/2),n.save(),i.fillLineDash&&n.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(n.lineDashOffset=i.fillLineDashOffset),n.strokeStyle=i.fill||"",n.lineWidth=o,this._drawToContext(n,r,i.fixedDecimalPlaceDigits),n.restore()}_drawToContext(n,r,i,o="nonzero"){n.beginPath();for(const u of r.ops){const l=typeof i=="number"&&i>=0?u.data.map(c=>+c.toFixed(i)):u.data;switch(u.op){case"move":n.moveTo(l[0],l[1]);break;case"bcurveTo":n.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":n.lineTo(l[0],l[1]);break}}r.type==="fillPath"?n.fill(o):n.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(n,r,i,o,u){const l=this.gen.line(n,r,i,o,u);return this.draw(l),l}rectangle(n,r,i,o,u){const l=this.gen.rectangle(n,r,i,o,u);return this.draw(l),l}ellipse(n,r,i,o,u){const l=this.gen.ellipse(n,r,i,o,u);return this.draw(l),l}circle(n,r,i,o){const u=this.gen.circle(n,r,i,o);return this.draw(u),u}linearPath(n,r){const i=this.gen.linearPath(n,r);return this.draw(i),i}polygon(n,r){const i=this.gen.polygon(n,r);return this.draw(i),i}arc(n,r,i,o,u,l,c=!1,d){const h=this.gen.arc(n,r,i,o,u,l,c,d);return this.draw(h),h}curve(n,r){const i=this.gen.curve(n,r);return this.draw(i),i}path(n,r){const i=this.gen.path(n,r);return this.draw(i),i}}const dv="http://www.w3.org/2000/svg";class oU{constructor(n,r){this.svg=n,this.gen=new a1(r)}draw(n){const r=n.sets||[],i=n.options||this.getDefaultOptions(),o=this.svg.ownerDocument||window.document,u=o.createElementNS(dv,"g"),l=n.options.fixedDecimalPlaceDigits;for(const c of r){let d=null;switch(c.type){case"path":{d=o.createElementNS(dv,"path"),d.setAttribute("d",this.opsToPath(c,l)),d.setAttribute("stroke",i.stroke),d.setAttribute("stroke-width",i.strokeWidth+""),d.setAttribute("fill","none"),i.strokeLineDash&&d.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&d.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break}case"fillPath":{d=o.createElementNS(dv,"path"),d.setAttribute("d",this.opsToPath(c,l)),d.setAttribute("stroke","none"),d.setAttribute("stroke-width","0"),d.setAttribute("fill",i.fill||""),(n.shape==="curve"||n.shape==="polygon")&&d.setAttribute("fill-rule","evenodd");break}case"fillSketch":{d=this.fillSketch(o,c,i);break}}d&&u.appendChild(d)}return u}fillSketch(n,r,i){let o=i.fillWeight;o<0&&(o=i.strokeWidth/2);const u=n.createElementNS(dv,"path");return u.setAttribute("d",this.opsToPath(r,i.fixedDecimalPlaceDigits)),u.setAttribute("stroke",i.fill||""),u.setAttribute("stroke-width",o+""),u.setAttribute("fill","none"),i.fillLineDash&&u.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&u.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),u}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(n,r){return this.gen.opsToPath(n,r)}line(n,r,i,o,u){const l=this.gen.line(n,r,i,o,u);return this.draw(l)}rectangle(n,r,i,o,u){const l=this.gen.rectangle(n,r,i,o,u);return this.draw(l)}ellipse(n,r,i,o,u){const l=this.gen.ellipse(n,r,i,o,u);return this.draw(l)}circle(n,r,i,o){const u=this.gen.circle(n,r,i,o);return this.draw(u)}linearPath(n,r){const i=this.gen.linearPath(n,r);return this.draw(i)}polygon(n,r){const i=this.gen.polygon(n,r);return this.draw(i)}arc(n,r,i,o,u,l,c=!1,d){const h=this.gen.arc(n,r,i,o,u,l,c,d);return this.draw(h)}curve(n,r){const i=this.gen.curve(n,r);return this.draw(i)}path(n,r){const i=this.gen.path(n,r);return this.draw(i)}}const sU={canvas(e,n){return new iU(e,n)},svg(e,n){return new oU(e,n)},generator(e){return new a1(e)},newSeed(){return a1.newSeed()}};var d8=Symbol.for("immer-nothing"),Y2=Symbol.for("immer-draftable"),yo=Symbol.for("immer-state"),aU=[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return`'current' expects a draft, got: ${e}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return`'original' expects a draft, got: ${e}`}];function Wi(e,...n){{const r=aU[e],i=typeof r=="function"?r.apply(null,n):r;throw new Error(`[Immer] ${i}`)}}var Qf=Object.getPrototypeOf;function ka(e){return!!e&&!!e[yo]}function nc(e){var n;return e?h8(e)||Array.isArray(e)||!!e[Y2]||!!((n=e.constructor)!=null&&n[Y2])||J1(e)||ey(e):!1}var uU=Object.prototype.constructor.toString();function h8(e){if(!e||typeof e!="object")return!1;const n=Qf(e);if(n===null)return!0;const r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===uU}function u1(e,n){Q1(e)===0?Reflect.ownKeys(e).forEach(r=>{n(r,e[r],e)}):e.forEach((r,i)=>n(i,r,e))}function Q1(e){const n=e[yo];return n?n.type_:Array.isArray(e)?1:J1(e)?2:ey(e)?3:0}function hD(e,n){return Q1(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function g8(e,n,r){const i=Q1(e);i===2?e.set(n,r):i===3?e.add(r):e[n]=r}function lU(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}function J1(e){return e instanceof Map}function ey(e){return e instanceof Set}function jl(e){return e.copy_||e.base_}function gD(e,n){if(J1(e))return new Map(e);if(ey(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=h8(e);if(n===!0||n==="class_only"&&!r){const i=Object.getOwnPropertyDescriptors(e);delete i[yo];let o=Reflect.ownKeys(i);for(let u=0;u<o.length;u++){const l=o[u],c=i[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(Qf(e),i)}else{const i=Qf(e);if(i!==null&&r)return{...e};const o=Object.create(i);return Object.assign(o,e)}}function B3(e,n=!1){return ty(e)||ka(e)||!nc(e)||(Q1(e)>1&&(e.set=e.add=e.clear=e.delete=cU),Object.freeze(e),n&&Object.entries(e).forEach(([r,i])=>B3(i,!0))),e}function cU(){Wi(2)}function ty(e){return Object.isFrozen(e)}var fU={};function rc(e){const n=fU[e];return n||Wi(0,e),n}var Yg;function p8(){return Yg}function dU(e,n){return{drafts_:[],parent_:e,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function K2(e,n){n&&(rc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function pD(e){mD(e),e.drafts_.forEach(hU),e.drafts_=null}function mD(e){e===Yg&&(Yg=e.parent_)}function q2(e){return Yg=dU(Yg,e)}function hU(e){const n=e[yo];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function Z2(e,n){n.unfinalizedDrafts_=n.drafts_.length;const r=n.drafts_[0];return e!==void 0&&e!==r?(r[yo].modified_&&(pD(n),Wi(4)),nc(e)&&(e=l1(n,e),n.parent_||c1(n,e)),n.patches_&&rc("Patches").generateReplacementPatches_(r[yo].base_,e,n.patches_,n.inversePatches_)):e=l1(n,r,[]),pD(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==d8?e:void 0}function l1(e,n,r){if(ty(n))return n;const i=n[yo];if(!i)return u1(n,(o,u)=>Q2(e,i,n,o,u,r)),n;if(i.scope_!==e)return n;if(!i.modified_)return c1(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let u=o,l=!1;i.type_===3&&(u=new Set(o),o.clear(),l=!0),u1(u,(c,d)=>Q2(e,i,o,c,d,r,l)),c1(e,o,!1),r&&e.patches_&&rc("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function Q2(e,n,r,i,o,u,l){if(o===r&&Wi(5),ka(o)){const c=u&&n&&n.type_!==3&&!hD(n.assigned_,i)?u.concat(i):void 0,d=l1(e,o,c);if(g8(r,i,d),ka(d))e.canAutoFreeze_=!1;else return}else l&&r.add(o);if(nc(o)&&!ty(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;l1(e,o),(!n||!n.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,i)&&c1(e,o)}}function c1(e,n,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&B3(n,r)}function gU(e,n){const r=Array.isArray(e),i={type_:r?1:0,scope_:n?n.scope_:p8(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,u=k3;r&&(o=[i],u=Kg);const{revoke:l,proxy:c}=Proxy.revocable(o,u);return i.draft_=c,i.revoke_=l,c}var k3={get(e,n){if(n===yo)return e;const r=jl(e);if(!hD(r,n))return pU(e,r,n);const i=r[n];return e.finalized_||!nc(i)?i:i===nE(e.base_,n)?(rE(e),e.copy_[n]=yD(i,e)):i},has(e,n){return n in jl(e)},ownKeys(e){return Reflect.ownKeys(jl(e))},set(e,n,r){const i=m8(jl(e),n);if(i!=null&&i.set)return i.set.call(e.draft_,r),!0;if(!e.modified_){const o=nE(jl(e),n),u=o==null?void 0:o[yo];if(u&&u.base_===r)return e.copy_[n]=r,e.assigned_[n]=!1,!0;if(lU(r,o)&&(r!==void 0||hD(e.base_,n)))return!0;rE(e),vD(e)}return e.copy_[n]===r&&(r!==void 0||n in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=r,e.assigned_[n]=!0),!0},deleteProperty(e,n){return nE(e.base_,n)!==void 0||n in e.base_?(e.assigned_[n]=!1,rE(e),vD(e)):delete e.assigned_[n],e.copy_&&delete e.copy_[n],!0},getOwnPropertyDescriptor(e,n){const r=jl(e),i=Reflect.getOwnPropertyDescriptor(r,n);return i&&{writable:!0,configurable:e.type_!==1||n!=="length",enumerable:i.enumerable,value:r[n]}},defineProperty(){Wi(11)},getPrototypeOf(e){return Qf(e.base_)},setPrototypeOf(){Wi(12)}},Kg={};u1(k3,(e,n)=>{Kg[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});Kg.deleteProperty=function(e,n){return isNaN(parseInt(n))&&Wi(13),Kg.set.call(this,e,n,void 0)};Kg.set=function(e,n,r){return n!=="length"&&isNaN(parseInt(n))&&Wi(14),k3.set.call(this,e[0],n,r,e[0])};function nE(e,n){const r=e[yo];return(r?jl(r):e)[n]}function pU(e,n,r){var o;const i=m8(n,r);return i?"value"in i?i.value:(o=i.get)==null?void 0:o.call(e.draft_):void 0}function m8(e,n){if(!(n in e))return;let r=Qf(e);for(;r;){const i=Object.getOwnPropertyDescriptor(r,n);if(i)return i;r=Qf(r)}}function vD(e){e.modified_||(e.modified_=!0,e.parent_&&vD(e.parent_))}function rE(e){e.copy_||(e.copy_=gD(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const u=r;r=n;const l=this;return function(d=u,...h){return l.produce(d,p=>r.call(this,p,...h))}}typeof r!="function"&&Wi(6),i!==void 0&&typeof i!="function"&&Wi(7);let o;if(nc(n)){const u=q2(this),l=yD(n,void 0);let c=!0;try{o=r(l),c=!1}finally{c?pD(u):mD(u)}return K2(u,i),Z2(o,u)}else if(!n||typeof n!="object"){if(o=r(n),o===void 0&&(o=n),o===d8&&(o=void 0),this.autoFreeze_&&B3(o,!0),i){const u=[],l=[];rc("Patches").generateReplacementPatches_(n,o,u,l),i(u,l)}return o}else Wi(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(l,...c)=>this.produceWithPatches(l,d=>n(d,...c));let i,o;return[this.produce(n,r,(l,c)=>{i=l,o=c}),i,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){nc(e)||Wi(8),ka(e)&&(e=vU(e));const n=q2(this),r=yD(e,void 0);return r[yo].isManual_=!0,mD(n),r}finishDraft(e,n){const r=e&&e[yo];(!r||!r.isManual_)&&Wi(9);const{scope_:i}=r;return K2(i,n),Z2(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=rc("Patches").applyPatches_;return ka(e)?i(e,n):this.produce(e,o=>i(o,n))}};function yD(e,n){const r=J1(e)?rc("MapSet").proxyMap_(e,n):ey(e)?rc("MapSet").proxySet_(e,n):gU(e,n);return(n?n.scope_:p8()).drafts_.push(r),r}function vU(e){return ka(e)||Wi(10,e),v8(e)}function v8(e){if(!nc(e)||ty(e))return e;const n=e[yo];let r;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=gD(e,n.scope_.immer_.useStrictShallowCopy_)}else r=gD(e,!0);return u1(r,(i,o)=>{g8(r,i,v8(o))}),n&&(n.finalized_=!1),r}var wo=new mU,yU=wo.produce;wo.produceWithPatches.bind(wo);wo.setAutoFreeze.bind(wo);wo.setUseStrictShallowCopy.bind(wo);wo.applyPatches.bind(wo);var hv=wo.createDraft.bind(wo),gv=wo.finishDraft.bind(wo),us={},J2;function wU(){if(J2)return us;J2=1,Object.defineProperty(us,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),n={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},r={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=1;o<20;o++)i["f"+o]=111+o;function u(v,w,b){w&&!("byKey"in w)&&(b=w,w=null),Array.isArray(v)||(v=[v]);var E=v.map(function(C){return d(C,w)}),S=function(B){return E.some(function(P){return h(P,B)})},T=b==null?S:S(b);return T}function l(v,w){return u(v,w)}function c(v,w){return u(v,{byKey:!0},w)}function d(v,w){var b=w&&w.byKey,E={};v=v.replace("++","+add");var S=v.split("+"),T=S.length;for(var C in n)E[n[C]]=!1;var B=!0,P=!1,I=void 0;try{for(var z=S[Symbol.iterator](),Y;!(B=(Y=z.next()).done);B=!0){var te=Y.value,re=te.endsWith("?")&&te.length>1;re&&(te=te.slice(0,-1));var ae=m(te),ce=n[ae];if(te.length>1&&!ce&&!r[te]&&!i[ae])throw new TypeError('Unknown modifier: "'+te+'"');(T===1||!ce)&&(b?E.key=ae:E.which=p(te)),ce&&(E[ce]=re?null:!0)}}catch(ne){P=!0,I=ne}finally{try{!B&&z.return&&z.return()}finally{if(P)throw I}}return E}function h(v,w){for(var b in v){var E=v[b],S=void 0;if(E!=null&&(b==="key"&&w.key!=null?S=w.key.toLowerCase():b==="which"?S=E===91&&w.which===93?91:w.which:S=w[b],!(S==null&&E===!1)&&S!==E))return!1}return!0}function p(v){v=m(v);var w=i[v]||v.toUpperCase().charCodeAt(0);return w}function m(v){return v=v.toLowerCase(),v=r[v]||v,v}return us.default=u,us.isHotkey=u,us.isCodeHotkey=l,us.isKeyHotkey=c,us.parseHotkey=d,us.compareHotkey=h,us.toKeyCode=p,us.toKeyName=m,us}var Kt=wU(),ds;(function(e){e.ew="ew-resize",e.ns="ns-resize",e.nesw="nesw-resize",e.nwse="nwse-resize"})(ds||(ds={}));var Mg;(function(e){e.crosshair="crosshair"})(Mg||(Mg={}));const iE=[ds.ns,ds.nesw,ds.ew,ds.nwse],M3="plait-board-attached",lr=1,wD=2,Rp="selection-rectangle",xU="selection-rectangle-bounding",bU=.1,y8=.1,w8=4,CU="plait-board-container",x8="active-with-moving",e7="rotate-handle",EU="resize-handle",DU=20,b8={MAIN:0,WHEEL:1},N3=3,C8=10,O3=5;function SU(e){return!!e.beforeContextChange}function TU(e){return!!e.onContextChanged}const t7=new WeakMap,jv=new WeakMap,Uf=new WeakMap,Kl=new WeakMap,xD=new WeakMap,Tg=new WeakMap,Ag=new WeakMap,bD=new WeakMap,f1=new WeakMap,d1=new WeakMap,CD=new WeakMap,ED=new WeakMap,DD=new WeakMap,SD=new WeakMap,Da=new WeakMap,E8=new WeakMap,TD=new WeakMap,D8=new WeakMap,F3=new WeakMap,L3=new WeakMap,ny=new WeakMap,ry=new WeakMap,n7=new WeakMap,Pg=new WeakMap;function h1(e){return e==null}const qg=(e,n)=>e+Math.floor(n*255).toString(16);function AU(e){return e.button===2}function I3(e){const n=new Map;return e.forEach(r=>{n.has(r.id)||n.set(r.id,r)}),Array.from(n.values())}const PU=(e,n,r=e.length-1)=>{r<0&&(r=e.length+r),r=Math.min(e.length-1,Math.max(r,0));let i=r+1;for(;--i>-1;)if(n(e[i],i,e))return i;return-1},RU=(e,n,r=0)=>{r<0&&(r=e.length+r),r=Math.min(e.length,Math.max(r,0));let i=r-1;for(;++i<e.length;)if(n(e[i],i,e))return i;return-1},BU=e=>{e.sort((n,r)=>n-r);for(let n=1;n<e.length;n++)if(e[n]!==e[n-1]+1)return!1;return!0},kU={isViewport:e=>!h1(e.zoom)&&!h1(e.viewBackgroundColor)},gt={ancestors(e,n={}){const{reverse:r=!1}=n;let i=gt.levels(e,n);return r?i=i.slice(1):i=i.slice(0,-1),i},levels(e,n={}){const{reverse:r=!1}=n,i=[];for(let o=0;o<=e.length;o++)i.push(e.slice(0,o));return r&&i.reverse(),i},parent(e){if(e.length===0)throw new Error(`Cannot get the parent path of the root path [${e}].`);return e.slice(0,-1)},next(e){if(e.length===0)throw new Error(`Cannot get the next path of a root path [${e}], because it has no next index.`);const n=e[e.length-1];return e.slice(0,-1).concat(n+1)},hasPrevious(e){return e[e.length-1]>0},previous(e){if(e.length===0)throw new Error(`Cannot get the previous path of a root path [${e}], because it has no previous index.`);const n=e[e.length-1];if(n<=0)throw new Error(`Cannot get the previous path of a first child path [${e}] because it would result in a negative index.`);return e.slice(0,-1).concat(n-1)},isAncestor(e,n){return e.length<n.length&&gt.compare(e,n)===0},compare(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){if(e[i]<n[i])return-1;if(e[i]>n[i])return 1}return 0},equals(e,n){return e.length===n.length&&e.every((r,i)=>r===n[i])},endsBefore(e,n){const r=e.length-1,i=e.slice(0,r),o=n.slice(0,r),u=e[r],l=n[r];return gt.equals(i,o)&&u<l},isSibling(e,n){if(e.length!==n.length)return!1;const r=e.slice(0,-1),i=n.slice(0,-1),o=e[e.length-1],u=n[n.length-1];return o!==u&&gt.equals(r,i)},transform(e,n){if(!e)return null;const r=[...e];if(e.length===0)return r;switch(n.type){case"insert_node":{const{path:i}=n;(gt.equals(i,r)||gt.endsBefore(i,r)||gt.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{const{path:i}=n;if(gt.equals(i,r)||gt.isAncestor(i,r))return null;gt.endsBefore(i,r)&&(r[i.length-1]-=1);break}case"move_node":{const{path:i,newPath:o}=n;if(gt.equals(i,o))return r;if(gt.isAncestor(i,r)||gt.equals(i,r)){const u=o.slice();return gt.endsBefore(i,o)&&i.length<o.length&&(u[i.length-1]-=1),u.concat(r.slice(i.length))}else gt.isSibling(i,o)&&(gt.isAncestor(o,r)||gt.equals(o,r))?gt.endsBefore(i,r)?r[i.length-1]-=1:r[i.length-1]+=1:gt.endsBefore(o,r)||gt.equals(o,r)||gt.isAncestor(o,r)?(gt.endsBefore(i,r)&&(r[i.length-1]-=1),r[o.length-1]+=1):gt.endsBefore(i,r)&&(gt.equals(o,r)&&(r[o.length-1]+=1),r[i.length-1]-=1);break}}return r}},Ut={parent:(e,n)=>{const r=gt.parent(n);return Ut.get(e,r)},*parents(e,n,r={}){for(const i of gt.ancestors(n,r))yield Ut.get(e,i)},get(e,n){let r=e;for(let i=0;i<n.length;i++){const o=n[i];if(!r||!r.children||!r.children[o])throw new Error(`Cannot find a descendant at path [${n}]`);r=r.children[o]}return r},last(e,n){let r=Ut.get(e,n);for(;r&&r.children&&r.children.length>0;){const i=r.children.length-1;r=r.children[i]}return r},first(e,n){const r=n.slice();let i=Ut.get(e,r);if(!i.children||!e.isExpanded(i))return i;for(;i&&i.children&&i.children.length>0&&e.isExpanded(i)&&i.children.length!==0;)i=i.children[0],r.push(0);return i}},MU=(e,n,r,i,o)=>{var u,l;switch(o.type){case"insert_node":{const{path:c,node:d}=o,h=Ut.parent(e,c),p=c[c.length-1];if(!h.children||p>h.children.length)throw new Error(`Cannot apply an "insert_node" operation at path [${c}] because the destination is past the end of the node.`);h.children.splice(p,0,d);break}case"remove_node":{const{path:c}=o,d=Ut.parent(e,c),h=c[c.length-1];if(!d.children||h>d.children.length)throw new Error(`Cannot apply an "insert_node" operation at path [${c}] because the destination is past the end of the node.`);d.children.splice(h,1);break}case"move_node":{const{path:c,newPath:d}=o;if(gt.isAncestor(c,d))throw new Error(`Cannot move a path [${c}] to new path [${d}] because the destination is inside itself.`);const h=Ut.get(e,c),p=Ut.parent(e,c),m=c[c.length-1];(u=p.children)==null||u.splice(m,1);const v=gt.transform(c,o),w=Ut.get(e,gt.parent(v)),b=v[v.length-1];(l=w.children)==null||l.splice(b,0,h);break}case"set_node":{const{path:c,properties:d,newProperties:h}=o;if(c.length===0)throw new Error("Cannot set properties on the root node!");const p=Ut.get(e,c);for(const m in h){const v=h[m];v==null?delete p[m]:p[m]=v}for(const m in d)h.hasOwnProperty(m)||delete p[m];break}case"set_viewport":{const{newProperties:c}=o;if(c==null)r=c;else{if(r==null){if(!kU.isViewport(c))throw new Error(`Cannot apply an incomplete "set_viewport" operation properties ${JSON.stringify(c)} when there is no current viewport.`);r={...c}}for(const d in c){const h=c[d];h==null?delete r[d]:r[d]=h}}break}case"set_selection":{const{newProperties:c}=o;c==null?n=c:n===null?n=o.newProperties:n=c;break}case"set_theme":{const{newProperties:c}=o;i=c;break}}return{selection:n,viewport:r,theme:i}},NU={transform(e,n){e.children=hv(e.children);let r=e.viewport&&hv(e.viewport),i=e.selection&&hv(e.selection),o=e.theme&&hv(e.theme);try{const u=MU(e,i,r,o,n);r=u.viewport,i=u.selection,o=u.theme}finally{e.children=gv(e.children),i?e.selection=ka(i)?gv(i):i:e.selection=null,e.viewport=ka(r)?gv(r):r,e.theme=ka(o)?gv(o):o}}},N={isHit:(e,n)=>N.isHitX(e,n)&&N.isHitY(e,n),isHitX:(e,n)=>{const r=e.x<n.x?e.x:n.x,i=e.x+e.width>n.x+n.width?e.x+e.width:n.x+n.width;return Math.floor(i-r-e.width-n.width)<=0},isHitY:(e,n)=>{const r=e.y<n.y?e.y:n.y,i=e.y+e.height>n.y+n.height?e.y+e.height:n.y+n.height;return Math.floor(i-r-e.height-n.height)<=0},getPoints(e){return[[e.x,e.y],[e.x+e.width,e.y+e.height]]},getRectangleByCenterPoint(e,n,r){return N.getRectangleByPoint([e[0]-n/2,e[1]-r/2],n,r)},getRectangleByPoint(e,n,r){return{x:e[0],y:e[1],width:n,height:r}},getRectangleByPoints(e){OU(e)&&(e=[e]);let n=1/0,r=1/0,i=-1/0,o=-1/0;for(const l of e){const c=l.map(h=>h[0]),d=l.map(h=>h[1]);n=Math.min(n,...c),r=Math.min(r,...d),i=Math.max(i,...c),r=Math.min(r,...d),o=Math.max(o,...d)}return{x:n,y:r,width:i-n,height:o-r}},getCornerPointsByPoints(e){const n=e.map(c=>c[0]),r=e.map(c=>c[1]),i=Math.min(...n),o=Math.max(...n),u=Math.min(...r),l=Math.max(...r);return[[i,u],[o,u],[o,l],[i,l]]},getOutlineRectangle:(e,n)=>({x:e.x+n,y:e.y+n,width:e.width-n*2,height:e.height-n*2}),inflate:(e,n)=>{const r=n/2;return{x:e.x-r,y:e.y-r,width:e.width+r*2,height:e.height+r*2}},isEqual:(e,n)=>e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height,getCornerPoints:e=>[[e.x,e.y],[e.x+e.width,e.y],[e.x+e.width,e.y+e.height],[e.x,e.y+e.height]],getCenterPoint:e=>[e.x+e.width/2,e.y+e.height/2],getCenterPointByPoints:e=>N.getCenterPoint(N.getRectangleByPoints(e)),getEdgeCenterPoints:e=>[[e.x+e.width/2,e.y],[e.x+e.width,e.y+e.height/2],[e.x+e.width/2,e.y+e.height],[e.x,e.y+e.height/2]],getConnectionPoint:(e,n)=>[e.x+e.width*n[0],e.y+e.height*n[1]],expand(e,n,r=n,i=n,o=r){return{x:e.x-n,y:e.y-r,width:e.width+n+i,height:e.height+r+o}},getGapCenter(e,n,r){const i=r?"x":"y",o=r?"width":"height",l=[e[i],e[i]+e[o],n[i],n[i]+n[o]].sort((c,d)=>c-d);return(l[1]+l[2])/2},isPointInRectangle(e,n){const r=n[0],i=n[1];return r>e.x&&r<e.x+e.width&&i>e.y&&i<e.y+e.height},getBoundingRectangle(e){if(e.length===0)throw new Error("rectangles can not be empty array");let n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.forEach(u=>{n=Math.min(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.x+u.width),o=Math.max(o,u.y+u.height)}),{x:n,y:r,width:i-n,height:o-r}}};function OU(e){return Array.isArray(e)&&e.every(n=>Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number")}function S8(e,n,r,i,o,u){const l=e-r,c=n-i,d=o-r,h=u-i,p=l*d+c*h,m=d*d+h*h;let v=-1;m!==0&&(v=p/m);let w,b;v<0?(w=r,b=i):v>1?(w=o,b=u):(w=r+v*d,b=i+v*h);const E=e-w,S=n-b;return Math.hypot(E,S)}function iy(e,n){const r=e[0],i=e[1],o=n[0][0],u=n[0][1],l=n[1][0],c=n[1][1],d=r-o,h=i-u,p=l-o,m=c-u,v=d*p+h*m,w=p*p+m*m;let b=-1;w!==0&&(b=v/w);let E,S;return b<0?(E=o,S=u):b>1?(E=l,S=c):(E=o+b*p,S=u+b*m),[E,S]}function T8(e,n){const r=n.length;let i=1/0;if(n.length===1)return bt(...n[0],...e);for(let o=0;o<r-1;o++){const u=n[o],l=n[o+1],c=S8(e[0],e[1],u[0],u[1],l[0],l[1]);c<i&&(i=c)}return i}function Bn(e,n,r=!0){const i=n.length;let o=1/0,u=e;for(let l=0;l<i;l++){const c=n[l];if(l===i-1&&!r)continue;const d=l===i-1?n[0]:n[l+1],h=S8(e[0],e[1],c[0],c[1],d[0],d[1]);h<o&&(o=h,u=iy(e,[c,d]))}return u}function H3(e,n){let r=1/0,i=e;for(const o of n){const u=iy(e,o),l=bt(e[0],e[1],u[0],u[1]);l<r&&(r=l,i=u)}return i}function pi(e,n,r,i){const o={x:n[0]-r,y:n[1]-i,height:i*2,width:r*2},u=Math.abs(e[0]-o.x-o.width/2),l=Math.abs(e[1]-o.y-o.height/2);let c=.707,d=.707;const h=Math.abs(o.width)/2,p=Math.abs(o.height)/2;[0,1,2,3].forEach(w=>{const b=h*c,E=p*d,S=(h*h-p*p)*c**3/h,T=(p*p-h*h)*d**3/p,C=b-S,B=E-T,P=u-S,I=l-T,z=Math.hypot(B,C),Y=Math.hypot(I,P);c=Math.min(1,Math.max(0,(P*z/Y+S)/h)),d=Math.min(1,Math.max(0,(I*z/Y+T)/p));const te=Math.hypot(d,c);c/=te,d/=te});const m=e[0]>n[0]?1:-1,v=e[1]>n[1]?1:-1;return[n[0]+h*c*m,n[1]+p*d*v]}function Jf(e,n,r,i,o){return[(e-r)*Math.cos(o)-(n-i)*Math.sin(o)+r,(e-r)*Math.sin(o)+(n-i)*Math.cos(o)+i]}function bt(e,n,r,i){const o=e-r,u=n-i;return Math.hypot(o,u)}function Bp(e,n,r){var i=Math.max(r.x-e,0,e-(r.x+r.width)),o=Math.max(r.y-n,0,n-(r.y+r.height));return Math.sqrt(i*i+o*o)}const pv=(e,n,r,i)=>{if(ct.isEquals(e,n)&&ct.isEquals(r,i)&&!ct.isEquals(e,r))return!1;const o=(m,v)=>m[0]*v[1]-m[1]*v[0],u=[n[0]-e[0],n[1]-e[1]],l=[r[0]-e[0],r[1]-e[1]],c=[i[0]-e[0],i[1]-e[1]],d=[e[0]-r[0],e[1]-r[1]],h=[n[0]-r[0],n[1]-r[1]],p=[i[0]-r[0],i[1]-r[1]];return o(u,l)*o(u,c)<=0&&o(p,d)*o(p,h)<=0},g1=(e,n)=>{if(e.length===1)return N.isPointInRectangle(n,e[0]);const r=N.getCornerPoints(n),i=e.length;for(let o=0;o<i;o++){const u=e[o],l=e[(o+1)%i];if(o===i-1&&ct.isEquals(u,l))continue;if(FU(u,l,n)||Fu(u,r)||Fu(l,r))return!0}return!1},FU=(e,n,r)=>{const i=N.getCornerPoints(r);return pv(e,n,i[0],i[1])||pv(e,n,i[1],i[2])||pv(e,n,i[2],i[3])||pv(e,n,i[3],i[0])},Fu=(e,n)=>{const r=e[0],i=e[1];let o=!1;for(var u=0,l=n.length-1;u<n.length;l=u++){let c=n[u][0],d=n[u][1],h=n[l][0],p=n[l][1];d>i!=p>i&&r<(h-c)*(i-d)/(p-d)+c&&(o=!o)}return o},Oa=(e,n,r,i,o=0)=>{const u=Math.cos(o),l=Math.sin(o),c=(e[0]-n[0])*u+(e[1]-n[1])*l,d=(e[1]-n[1])*u-(e[0]-n[0])*l;return c*c/(r*r)+d*d/(i*i)<=1},G3=(e,n,r,i=0)=>{const{x:o,y:u,width:l,height:c}=n,d=e[0]>=o&&e[0]<=o+l&&e[1]>=u&&e[1]<=u+c,h=e[0]>=o&&e[0]<=o+r&&e[1]>=u&&e[1]<=u+r&&Math.hypot(e[0]-(o+r),e[1]-(u+r))>r,p=e[0]>=o&&e[0]<=o+r&&e[1]>=u+c&&e[1]<=u+c-r&&Math.hypot(e[0]-(o+r),e[1]-(u+c-r))>r,m=e[0]>=o+l-r&&e[0]<=o+l&&e[1]>=u&&e[1]<=u+r&&Math.hypot(e[0]-(o+l-r),e[1]-(u+r))>r,v=e[0]>=o+l-r&&e[0]<=o+l&&e[1]>=u+c-r&&e[1]<=u+c&&Math.hypot(e[0]-(o+l-r),e[1]-(u+c-r))>r;return d&&!(h||p||m||v)},kp=function(e){let r,i,o,u,l,c,d,h,p,m,v,w,b;var E,S,T,C,B,P;const I=[];I.push([Math.round(e[0][0]),Math.round(e[0][1])]);for(var z=e.length,Y=0;Y<z-1;Y++)r=Y==0?e[0]:e[Y-1],i=e[Y],o=e[Y+1],u=Y+2<z?e[Y+2]:o,d=Math.sqrt(Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2)),h=Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)),p=Math.sqrt(Math.pow(o[0]-u[0],2)+Math.pow(o[1]-u[1],2)),E=Math.pow(p,.5),T=Math.pow(p,2*.5),S=Math.pow(h,.5),C=Math.pow(h,2*.5),P=Math.pow(d,.5),B=Math.pow(d,2*.5),m=2*B+3*P*S+C,v=2*T+3*E*S+C,w=3*P*(P+S),w>0&&(w=1/w),b=3*E*(E+S),b>0&&(b=1/b),l=[(-C*r[0]+m*i[0]+B*o[0])*w,(-C*r[1]+m*i[1]+B*o[1])*w],c=[(T*i[0]+v*o[0]-C*u[0])*b,(T*i[1]+v*o[1]-C*u[1])*b],l[0]==0&&l[1]==0&&(l=i),c[0]==0&&c[1]==0&&(c=o),I.push(l,c,o);return I};function Ks(e,n,r,i){return Math.abs(n)===0?e>0?-1/0:1/0:-i*i*e/(r*r*n)}function qs(e,n,r){if(r===1/0)return[0,-1];if(r===-1/0)return[0,1];let i=[1,-r];return n<0&&(i=[-i[0],-i[1]]),i}function _3(e,n){const r=Math.pow(10,n);return Math.ceil(e*r)/r}function AD(e,n,r=1e-6){return Math.abs(e-n)<=r}function r7(e,n,r,i,o,u,l=!0){if(o===0||u===0||e[0]===n[0]&&e[1]===n[1])return[];o=o<0?o:-o,u=u<0?u:-u,e[0]-=r,e[1]-=i,n[0]-=r,n[1]-=i;var c=(n[0]-e[0])*(n[0]-e[0])/o/o+(n[1]-e[1])*(n[1]-e[1])/u/u,d=2*e[0]*(n[0]-e[0])/o/o+2*e[1]*(n[1]-e[1])/u/u,h=e[0]*e[0]/o/o+e[1]*e[1]/u/u-1,p=[],m=d*d-4*c*h;return m===0?p.push(-d/2/c):m>0&&(p.push((-d+Math.sqrt(m))/2/c),p.push((-d-Math.sqrt(m))/2/c)),p.filter(v=>!l||v>=0&&v<=1).map(v=>[e[0]+(n[0]-e[0])*v+r,e[1]+(n[1]-e[1])*v+i])}function i7(e,n,r,i,o=.5){return[e+(r-e)*o,n+(i-n)*o]}function A8(e,n){const r=(n.endX-e[0])/2,i=(n.endY-e[1])/2,o=Math.cos(n.xAxisRotation),u=Math.sin(n.xAxisRotation),l=o*r+u*i,c=-u*r+o*i,d=Math.abs(n.rx),h=Math.abs(n.ry),p=l*l/(d*d)+c*c/(h*h),m=p>1?Math.sqrt(p):1,v=d*m,w=h*m,b=n.largeArcFlag===n.sweepFlag?-1:1,E=(v*v*w*w-v*v*c*c-w*w*l*l)/(v*v*c*c+w*w*l*l),S=b*Math.sqrt(Math.max(0,E)),T=S*(v*c/w),C=S*(-(w*l)/v),B=o*T-u*C+(e[0]+n.endX)/2,P=u*T+o*C+(e[1]+n.endY)/2;return{center:[B,P],rx:v,ry:w}}function oy(e,n,r){const{center:i,rx:o,ry:u}=A8(n,r),l=pi(e,i,o,u),c=Math.atan2(n[1]-i[1],n[0]-i[0]),d=Math.atan2(r.endY-i[1],r.endX-i[0]),h=Math.atan2(l[1]-i[1],l[0]-i[0]);if(LU(h,c,d,r.sweepFlag===1))return l;const m=bt(e[0],e[1],n[0],n[1]),v=bt(e[0],e[1],r.endX,r.endY);return m<v?n:[r.endX,r.endY]}function LU(e,n,r,i){const o=d=>(d%(2*Math.PI)+2*Math.PI)%(2*Math.PI),u=o(e),l=o(n),c=o(r);return i?l<=c?u>=l&&u<=c:u>=l||u<=c:l>=c?u<=l&&u>=c:u<=l||u>=c}function IU(e,n,r){const o=L.getBoardContainer(e).getBoundingClientRect();return Bp(n,r,o)===0}function V3(e){const{hideScrollbar:n}=e.options;let r=0;if(!n){const i=L.getViewportContainer(e);r=i.offsetWidth-i.clientWidth}return r}const hd="http://www.w3.org/2000/svg";function Lt(){return document.createElementNS(hd,"g")}function j3(){return document.createElementNS(hd,"path")}function oE(e,n){const r=document.createElementNS(hd,"rect");r.setAttribute("x",`${e.x}`),r.setAttribute("y",`${e.y}`),r.setAttribute("width",`${e.width}`),r.setAttribute("height",`${e.height}`);for(let i in n){const o=i;r.setAttribute(i,`${n[o]}`)}return r}const Vt=(e,n)=>{e.setAttribute("stroke-linecap",n)},HU=(e,n)=>{e.querySelectorAll("path").forEach(r=>{r.setAttribute("stroke-linecap",n)})};function GU(){return document.createElementNS(hd,"mask")}function _U(e,n,r,i){var o=document.createElementNS(hd,"text");return o.setAttribute("x",`${e}`),o.setAttribute("y",`${n}`),o.setAttribute("fill",r),o.textContent=i,o}const VU=e=>jU(e)&&e.nodeType===1,jU=e=>e instanceof window.Node,zU=e=>!!(VU(e)&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA")),Us=e=>e.button===b8.MAIN,$U=e=>e.button===b8.WHEEL;function z3(e,n,r,i){var o=document.createElementNS(hd,"foreignObject");return o.setAttribute("x",`${e}`),o.setAttribute("y",`${n}`),o.setAttribute("width",`${_3(r,0)}`),o.setAttribute("height",`${i}`),o}function Ng(e,n,r,i,o){const u=e instanceof SVGForeignObjectElement?e:e.querySelector("foreignObject");u&&(u.setAttribute("width",`${_3(n,0)}`),u.setAttribute("height",`${r}`),u.setAttribute("x",`${i}`),u.setAttribute("y",`${o}`))}function UU(e,n){const r=e instanceof SVGForeignObjectElement?e:e.querySelector("foreignObject");r&&r.setAttribute("width",`${_3(n,0)}`)}const WU=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),XU=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,p1=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),YU=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),KU=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),qU=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),ZU=(e,n)=>e.type==="set_viewport"&&e.type===(n==null?void 0:n.type),QU=(e,n)=>!(e.type==="set_selection"||e.type==="set_viewport"),JU=e=>e.type!=="set_selection",fs={isSaving(e){return sE.get(e)},isMerging(e){return Jr.get(e)},isSplittingOnce(e){return vv.get(e)},setSplittingOnce(e,n){vv.set(e,n)},withMerging(e,n){const r=fs.isMerging(e);Jr.set(e,!0),n(),Jr.set(e,r)},withNewBatch(e,n){const r=fs.isMerging(e);Jr.set(e,!0),vv.set(e,!0),n(),Jr.set(e,r),vv.delete(e)},withoutMerging(e,n){const r=fs.isMerging(e);Jr.set(e,!1),n(),Jr.set(e,r)},withoutSaving(e,n){const r=fs.isSaving(e);sE.set(e,!1),n(),sE.set(e,r)}},eW={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],arrow:["down","left","right","up"],extendArrow:["shift+down","shift+left","shift+right","shift+up"],moveBackward:"left",moveForward:"right",moveUp:"up",moveDown:"down",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",extendUp:"shift+up",extendDown:"shift+down",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z",shift:"shift"},tW={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},nW={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Dn=e=>{const n=eW[e],r=tW[e],i=nW[e],o=n&&Kt.isKeyHotkey(n),u=r&&Kt.isKeyHotkey(r),l=i&&Kt.isKeyHotkey(i);return c=>!!(o&&o(c)||p1&&u&&u(c)||!p1&&l&&l(c))},hi={isBold:Dn("bold"),isCompose:Dn("compose"),isArrow:Dn("arrow"),isMoveBackward:Dn("moveBackward"),isMoveForward:Dn("moveForward"),isMoveUp:Dn("moveUp"),isMoveDown:Dn("moveDown"),isDeleteBackward:Dn("deleteBackward"),isDeleteForward:Dn("deleteForward"),isDeleteLineBackward:Dn("deleteLineBackward"),isDeleteLineForward:Dn("deleteLineForward"),isDeleteWordBackward:Dn("deleteWordBackward"),isDeleteWordForward:Dn("deleteWordForward"),isExtendBackward:Dn("extendBackward"),isExtendForward:Dn("extendForward"),isExtendUp:Dn("extendUp"),isExtendDown:Dn("extendDown"),isExtendArrow:Dn("extendArrow"),isExtendLineBackward:Dn("extendLineBackward"),isExtendLineForward:Dn("extendLineForward"),isItalic:Dn("italic"),isMoveLineBackward:Dn("moveLineBackward"),isMoveLineForward:Dn("moveLineForward"),isMoveWordBackward:Dn("moveWordBackward"),isMoveWordForward:Dn("moveWordForward"),isRedo:Dn("redo"),isSplitBlock:Dn("splitBlock"),isTransposeCharacter:Dn("transposeCharacter"),isUndo:Dn("undo"),isShift:Dn("shift")};function yn(e=5){const n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz",r=n.length;let i="";for(let o=0;o<e;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}function ii(e,n,r,i){if(e.children&&(!r||r(e))){let o=[...e.children];o=i?o.reverse():o,o.forEach(u=>{ii(u,n,r)})}n(e)}const pc=e=>n=>!!(L.isBoard(n)||e.isRecursion(n)),qi="#6698FF",$3="#6698FF25",ed={isCollapsed(e){return e.anchor[0]==e.focus[0]&&e.anchor[1]===e.focus[1]}},sn={isRootElement(e){const n=Kl.get(e);return!!(n&&L.isBoard(n))},getElementRef(e){return Pg.get(e)},getElementG(e){const n=Tg.get(e);if(!n)throw new Error(`can not resolve element g: ${JSON.stringify(e)}`);return n},hasMounted(e){return!!sn.getContainerG(e,{suppressThrow:!0})},getContainerG(e,n){const r=Ag.get(e)||null;if(!r){if(n.suppressThrow)return null;throw new Error("can not resolve container g")}return r}},sy=(e,n,r=!0)=>[...n].sort((i,o)=>{const u=L.findPath(e,i),l=L.findPath(e,o);return r?u[0]-l[0]:l[0]-u[0]}),P8=new Map,wg=e=>P8.get(e)||[],xg=(e,n)=>{P8.set(e,n)};class rW{constructor(n){this.debugKey=n}isDebug(){return Su(this.debugKey)}clear(){if(!this.isDebug())return;const n=wg(this.debugKey);xg(this.debugKey,[]),n.forEach(r=>r.remove())}drawPolygon(n,r,i){if(!Su(this.debugKey))return;const o=L.getRoughSVG(n).polygon(r,i||{stroke:"red"});o.classList.add(this.debugKey),L.getElementTopHost(n).append(o);const u=wg(this.debugKey);return u.push(o),xg(this.debugKey,u),o}drawLine(n,r,i){if(!Su(this.debugKey))return;const o=L.getRoughSVG(n).linearPath(r,i||{stroke:"red"});o.classList.add(this.debugKey),L.getElementTopHost(n).append(o);const u=wg(this.debugKey);return u.push(o),xg(this.debugKey,u),o}drawRectangle(n,r,i){if(!Su(this.debugKey))return;let o;r instanceof Array?o=N.getRectangleByPoints(r):o=r;const u=L.getRoughSVG(n).rectangle(o.x,o.y,o.width,o.height,i||{stroke:"red"});u.classList.add(this.debugKey),L.getElementTopHost(n).append(u);const l=wg(this.debugKey);return l.push(u),xg(this.debugKey,l),u}drawCircles(n,r,i=0,o=!1,u){if(!Su(this.debugKey))return;const l=[];return r.forEach((c,d)=>{const h=L.getRoughSVG(n).circle(c[0],c[1],o?i*(d+1):i,Object.assign({},{stroke:"red",fill:"red",fillStyle:"solid"},u||{}));h.classList.add(this.debugKey),L.getElementTopHost(n).append(h);const p=wg(this.debugKey);p.push(h),l.push(h),xg(this.debugKey,p)}),l}}const gd=e=>new rW(e),Su=e=>localStorage.getItem(e||"debug:plait")==="true";var zs;(function(e){e.withSelection="withSelection",e.withHand="withHand"})(zs||(zs={}));const R8=(e,n,r=()=>!0)=>{const i=n||e.selection,o=[];if(!i)return[];if(ed.isCollapsed(i)){const l=B8(e,i.anchor,r);return l!=null&&l.length?l:[]}return ii(e,l=>{if(!L.isBoard(l)&&r(l)){let c=!1;try{c=e.isRectangleHit(l,i)}catch(d){Su()&&console.error("isRectangleHit",d,"node",l)}c&&o.push(l)}},pc(e),!0),o},B8=(e,n,r=()=>!0,i=!0)=>{let o=[];return ii(e,u=>{if(L.isBoard(u)||!r(u)||!sn.hasMounted(u))return;let l=!1;try{l=e.isHit(u,n,i)}catch(c){Su()&&console.error("isHit",c,"node",u)}if(l){o.push(u);return}},pc(e),!0),o},Zs=(e,n,r=()=>!0,i=!0)=>{const o=B8(e,n,r,i);return e.getOneHitElement(o)},iW=(e,n)=>{const r=Xe(e),i=r.length>0&&an(e,r,!1);return i&&N.isPointInRectangle(i,n)?r:[]},Vs=(e,n)=>{const r=sy(e,n);E8.set(e,r)},Xe=e=>E8.get(e)||[],mc=(e,n)=>{let r=[];Array.isArray(n)?r.push(...n):r.push(n);const i=Xe(e);Vs(e,[...i,...r])},ay=(e,n,r=!1)=>{const i=Xe(e);if(i.includes(n)){const o=[];e.isRecursion(n)&&r?ii(n,l=>{o.push(l)},l=>e.isRecursion(l)):o.push(n);const u=i.filter(l=>!o.includes(l));Vs(e,u)}},oW=(e,n,r)=>{const i=Xe(e);i.splice(i.indexOf(n),1,r)},pd=e=>{Vs(e,[])},ql=(e,n)=>!!Xe(e).find(i=>i===n),PD=e=>{const n=e.getPluginOptions(zs.withSelection);e.setPluginOptions(zs.withSelection,{isDisabledSelection:!0}),setTimeout(()=>{e.setPluginOptions(zs.withSelection,{...n})},0)},sW=(e,n)=>iW(e,n).length>0,k8=(e,n)=>!!Zs(e,n)||sW(e,n);function md(e,n,r,i,o,u,l=!1,c){let d=c||0;const h=[n+d,r],p=[i-d,r],m=[i,r+d],v=[i,o-d],w=[i-d,o],b=[n+d,o],E=[n,o-d],S=[n,r+d],T=e.path(`M${p[0]} ${p[1]} A ${d} ${d}, 0, 0, 1, ${m[0]} ${m[1]} L ${v[0]} ${v[1]} A ${d} ${d}, 0, 0, 1, ${w[0]} ${w[1]} L ${b[0]} ${b[1]} A ${d} ${d}, 0, 0, 1, ${E[0]} ${E[1]} L ${S[0]} ${S[1]} A ${d} ${d}, 0, 0, 1, ${h[0]} ${h[1]} Z`,u);return Vt(T,"round"),T}const ws=(e,n,r)=>{const o=L.getRoughSVG(e).rectangle(n.x,n.y,n.width,n.height,r);return Vt(o,"round"),o};function vd(e,n,r=40){const i=Math.abs(e[0]-n[0]),o=Math.abs(e[1]-n[1]);let u=Math.hypot(i,o);const l=u/2,c=l/u*i,d=l/u*o,h=[n[0]>e[0]?n[0]-c:n[0]+c,n[1]>e[1]?n[1]-d:n[1]+d],p=Jf(h[0],h[1],n[0],n[1],r*Math.PI/180);return{pointLeft:Jf(h[0],h[1],n[0],n[1],-r*Math.PI/180),pointRight:p}}function vc(e,n,r,i){return e.circle(n[0],n[1],r,i)}function mv(e,n,r,i){return e.linearPath([n,r],i)}function Ho(e,n,r){const i=Lt(),o=j3();let u="";return e.forEach((l,c)=>{c===0?u+=`M ${l[0]} ${l[1]} `:u+=`L ${l[0]} ${l[1]} `}),r&&(u+="Z"),o.setAttribute("d",u),o.setAttribute("stroke",`${n==null?void 0:n.stroke}`),o.setAttribute("stroke-width",`${n==null?void 0:n.strokeWidth}`),o.setAttribute("fill",`${(n==null?void 0:n.fill)||"none"}`),n!=null&&n.strokeLineDash&&o.setAttribute("stroke-dasharray",`${n.strokeLineDash}`),i.appendChild(o),i}function aW(e,n){const r=Lt(),i=j3();let o="";for(let u=0;u<e.length-3;u+=3)u===0?o+=`M ${e[0][0]} ${e[0][1]} `:o+=`C ${e[u+1][0]} ${e[u+1][1]}, ${e[u+2][0]} ${e[u+2][1]}, ${e[u+3][0]} ${e[u+3][1]}`;return i.setAttribute("d",o),i.setAttribute("stroke",`${n==null?void 0:n.stroke}`),i.setAttribute("stroke-width",`${n==null?void 0:n.strokeWidth}`),i.setAttribute("fill","none"),r.appendChild(i),r}function U3(e,n){const r={type:"set_viewport",properties:e.viewport,newProperties:n};e.apply(r)}const uW={setViewport:U3};function lW(e,n){const r={type:"set_theme",properties:e.theme,newProperties:n};e.apply(r)}function uy(e,n,r){r=r??e.viewport.zoom,U3(e,{...e.viewport,zoom:r,origination:n}),j8(e)}function cW(e,n,r){n=xW(n);const o=L.getBoardContainer(e).getBoundingClientRect(),u=L.getBoardContainer(e).getBoundingClientRect();let l=[u.width/2,u.height/2];r&&Bp(r[0],r[1],o)===0&&(l=[r[0]-o.x,r[1]-o.y]);const c=e.viewport.zoom,d=yd(e),h=d[0]+l[0]/c,p=d[1]+l[1]/c,m=[h-l[0]/n,p-l[1]/n];uy(e,m,n)}function fW(e){let n=V3(e);const r=L.getBoardContainer(e).getBoundingClientRect(),i=an(e,e.children,!0),o=e.viewport.zoom,u=16,l=r.width-2*u,c=r.height-2*u;let d=o;l<i.width||c<i.height?d=Math.min(l/i.width,c/i.height):d=1;const h=H8(e),p=[h[0]-r.width/2/d+n/2/o,h[1]-r.height/2/d+n/2/o];uy(e,p,d)}function dW(e,n){let r=V3(e);const i=L.getBoardContainer(e),o=i.getBoundingClientRect();let u=0;n.maxWidth?u=n.maxWidth:u=o.width;const l=an(e,e.children,!0),c=u-2*n.autoFitPadding;let d=0;c<l.width?d=Math.min(c/l.width):d=1;let h=l.height*d+2*n.autoFitPadding;if(h>n.limitHeight){const w=i.closest(`.${n.containerClass}`);w.style.height=`${h}px`,X3(e)}else h=n.limitHeight;const p=l.x+l.width/2,m=l.y+l.height/2,v=[p-u/2/d+r/2/d,m-h/2/d+r/2/d];uy(e,v,d)}function hW(e,n){n=n??e.theme.themeColorMode,lW(e,{themeColorMode:n}),ii(e,r=>{e.applyTheme(r)})}const gW=(e,n)=>{e.pointer!==n&&(e.pointer=n)};function pW(e,n){var i;if((i=Xe(e))==null?void 0:i[0]){const o=L.getBoardContainer(e).getBoundingClientRect(),u=V3(e),l=H8(e),c=n[0]-l[0],d=n[1]-l[1],h=e.viewport.zoom,p=[c-o.width/2/h+u/2/h,d-o.height/2/h+u/2/h];U3(e,{...e.viewport,origination:p}),j8(e)}}const gn={updatePointerType:gW,updateViewport:uy,fitViewport:fW,updateZoom:cW,updateThemeColor:hW,fitViewportWidth:dW,moveToCenter:pW},W3=e=>L.getHost(e).viewBox.baseVal;function At(e,n,r){const o=L.getHost(e).getBoundingClientRect();return[n-o.x,r-o.y]}function gi(e,n){const r=[n.x,n.y],i=[n.x+n.width,n.y+n.height],o=Zg(e,r),u=Zg(e,i);return N.getRectangleByPoints([o,u])}function Zg(e,n){const r=vW(e,M8(e,n));return ic(e,r[0],r[1])}function ic(e,n,r){const o=L.getBoardContainer(e).getBoundingClientRect();return[n-o.x,r-o.y]}function mW(e,n){const i=L.getBoardContainer(e).getBoundingClientRect();return[i.x+n[0],i.y+n[1]]}function Et(e,n){const r=W3(e),{zoom:i}=e.viewport,o=n[0]/i+r.x,u=n[1]/i+r.y;return[o,u]}function vW(e,n){const i=L.getHost(e).getBoundingClientRect();return[n[0]+i.x,n[1]+i.y]}function M8(e,n){const{zoom:r}=e.viewport,i=W3(e),o=(n[0]-i.x)*r,u=(n[1]-i.y)*r;return[o,u]}const N8=.75,O8=new WeakMap,F8=new WeakMap;function yW(e){const{hideScrollbar:n}=e.options,r=n?DU:0,i=L.getBoardContainer(e).getBoundingClientRect();return{width:i.width+r,height:i.height+r}}function wW(e,n){const r=an(e,e.children,!0);let i,o,u,l;return i=r.x,o=r.x+r.width,u=r.y,l=r.y+r.height,{left:i,right:o,top:u,bottom:l}}function xW(e,n=y8,r=w8){return e<n?n:e>r?r:e}function L8(e,n){const r=L.getBoardContainer(e).getBoundingClientRect(),i=wW(e),o=r.width,u=r.height;let l=i.right-i.left,c=i.bottom-i.top;const d=o/2,h=u/2;if(l<d/n){const p=i.left+l/2;i.left=p-d/2/n,i.right=p+d/2/n,l=d/n}if(c<h/n){const p=i.top+c/2;i.top=p-h/2/n,i.bottom=p+h/2/n,c=h/n}return{elementHostBBox:i,containerWidth:o,containerHeight:u,width:l,height:c}}function RD(e,n,r,i,o,u,l=N8){const c=n*l/u,d=r*l/u;return[e.left-c,e.top-d,i+c*2,o+d*2]}function I8(e,n){const{elementHostBBox:r,containerWidth:i,containerHeight:o,width:u,height:l}=L8(e,n);return RD(r,i,o,u,l,n)}function H8(e){const n=an(e,e.children,!0);return[n.x+n.width/2,n.y+n.height/2]}function G8(e,n){const r=e.viewport.zoom,i=L.getHost(e);i.style.display="block",i.style.width=`${n[2]*r}px`,i.style.height=`${n[3]*r}px`,n&&n[2]>0&&n[3]>0&&i.setAttribute("viewBox",n.join(" "))}function m1(e){const n=yd(e);if(!n)return;const[r,i]=M8(e,n);_8(e,r,i)}function _8(e,n,r,i=!0){const o=L.getViewportContainer(e),u=o.scrollLeft,l=o.scrollTop;if(!AD(o.scrollLeft,n,1)||!AD(o.scrollTop,r,1)){o.scrollLeft=n,o.scrollTop=r;const c=o.offsetWidth,d=o.offsetHeight;if(u===o.scrollLeft&&l===o.scrollTop)V8(e,u,l);else{const h=n>0&&r>0&&n<o.scrollWidth-c&&r<o.scrollHeight-d;i&&h&&$8(e,!0)}}}function V8(e,n,r){const i=Et(e,[n,r]);ct.isEquals(i,yd(e))||(gn.updateViewport(e,i),z8(e,!0))}function X3(e){const{width:n,height:r}=yW(e),i=L.getViewportContainer(e);i.style.width=`${n}px`,i.style.height=`${r}px`}function Y3(e){const n=e.viewport.zoom,r=I8(e,n);G8(e,r)}function bW(e){const n=e.viewport.zoom,{elementHostBBox:r,containerWidth:i,containerHeight:o,width:u,height:l}=L8(e,n),c=RD(r,i,o,u,l,n,.5),d=W3(e);if(c[0]<d.x||c[1]<d.y||c[0]+c[2]>d.x+d.width||c[1]+c[3]>d.y+d.height){const h=RD(r,i,o,u,l,n,N8);G8(e,h)}}function CW(e){var n;if(!((n=e.viewport)!=null&&n.origination)){const r=e.viewport.zoom,i=L.getBoardContainer(e).getBoundingClientRect(),o=I8(e,r),u=o[0]+o[2]/2,l=o[1]+o[3]/2,c=[u-i.width/2/r,l-i.height/2/r];EW(e,c),m1(e);return}m1(e)}const EW=(e,n)=>{F3.set(e,n)},j8=e=>{F3.delete(e)},yd=e=>{const n=F3.get(e);return n||e.viewport.origination},DW=e=>!!O8.get(e),z8=(e,n)=>{O8.set(e,n)},SW=e=>!!F8.get(e),$8=(e,n)=>{F8.set(e,n)};function TW(e,n,r){const i={type:"insert_node",node:n,path:r};e.apply(i)}function AW(e,n,r){const i={},o={},u=Ut.get(e,r);for(const c in n)u[c]!==n[c]&&(u.hasOwnProperty(c)&&(i[c]=u[c]),n[c]!=null&&(o[c]=n[c]));const l={type:"set_node",properties:i,newProperties:o,path:r};e.apply(l)}function U8(e,n){const r=Ut.get(e,n),i={type:"remove_node",path:n,node:r};e.apply(i)}function PW(e,n,r){const i={type:"move_node",path:n,newPath:r};e.apply(i)}const Zl={insertNode:TW,setNode:AW,removeNode:U8,moveNode:PW},zv=new WeakMap,RW=(e,n)=>W8(e)[n]||null,W8=e=>zv.get(e)||{},ys=(e,n,r)=>{const i=()=>{let u=requestAnimationFrame(()=>{const c=zv.get(e)||{};c[n]=null,zv.set(e,c),L.isAlive(e)&&r()});const l=W8(e);l[n]=u,zv.set(e,l)};let o=RW(e,n);o!==null&&cancelAnimationFrame(o),i()},ly=(e,n)=>(sy(e,n),n.map(r=>e.children.map(i=>i.id).indexOf(r.id)).filter(r=>r>=0)),BW=(e,n)=>{const r=ly(e,n);return r[r.length-1]},Mp=(e,n)=>{n.map(r=>{const i=L.findPath(e,r.element),o=e.pathRef(i);return()=>{o.current&&Zl.moveNode(e,o.current,r.newPath),o.unref()}}).forEach(r=>{r()})},X8=new WeakMap,wd=e=>!!X8.get(e),$a=(e,n)=>{X8.set(e,n)},kW=e=>ry.get(e)||[],td=e=>(ry.get(e)||[]).length>0,MW=e=>{ry.delete(e),$a(e,!1)},o7=(e,n)=>{ry.set(e,n),$a(e,!0)},BD="foreignObject[class^='foreign-object']";function s7(e){return e.nodeType===Node.ELEMENT_NODE}function NW(e){return new Promise((n,r)=>{const i=new Image;i.crossOrigin="Anonymous",i.onload=()=>n(i),i.onerror=()=>r(new Error("Failed to load image")),i.src=e})}function OW(e,n,r="transparent"){const i=document.createElement("canvas"),o=i.getContext("2d");return i.width=e,i.height=n,i.style.width=`${e}px`,i.style.height=`${n}px`,o.strokeStyle="#ffffff",o.fillStyle=r,o.fillRect(0,0,e,n),{canvas:i,ctx:o}}async function FW(e){const r=await(await fetch(e)).blob();return new Promise((i,o)=>{const u=new FileReader;u.onloadend=()=>i(u.result),u.onerror=o,u.readAsDataURL(r)})}function LW(e,n){const r=n==null?void 0:n.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):Array.from(i).forEach(o=>{let u=i.getPropertyValue(o);r.setProperty(o,u,i.getPropertyPriority(o))})}function IW(e,n,r){if(r){const i=r+`, ${BD}`,o=Array.from(e.querySelectorAll(i)),u=Array.from(n.querySelectorAll(i));o.forEach((l,c)=>{const d=Array.from(l.querySelectorAll("*")).filter(s7),h=Array.from(u[c].querySelectorAll("*")).filter(s7);o.push(...d),u.push(...h)}),o.map((l,c)=>{LW(l,u[c])})}}async function HW(e,n){const r=Array.from(e.querySelectorAll(`${BD}`)),i=Array.from(n.querySelectorAll(`${BD}`));await Promise.all(r.map((o,u)=>new Promise(l=>{const d=i[u].querySelector("img"),h=d==null?void 0:d.getAttribute("src");if(!h)return l(!0);FW(h).then(p=>{d==null||d.setAttribute("src",p),l(!0)})})))}async function GW(e,n,r,i){const{width:o,height:u,x:l,y:c}=r,{padding:d=4,inlineStyleClassNames:h}=i,p=L.getHost(e),m=n.map(E=>sn.getElementG(E)),v=p.cloneNode(),w=L.getElementHost(e).cloneNode();v.style.width=`${o}px`,v.style.height=`${u}px`,v.style.backgroundColor="",v.setAttribute("width",`${o}`),v.setAttribute("height",`${u}`),v.setAttribute("viewBox",[l-d,c-d,o+2*d,u+2*d].join(","));const b=new Array(m.length);return await Promise.all(m.map(async(E,S)=>{const T=E.cloneNode(!0);IW(E,T,h),await HW(E,T),b[S]=T})),w.append(...b),v.appendChild(w),v}async function _W(e,n){if(!e)return;const r=n.elements||xd(e,{match:()=>!0,recursion:()=>!0,isReverse:!1}),i=an(e,r,!1),{ratio:o=2,fillStyle:u="transparent"}=n,{width:l,height:c}=i,d=l*o,h=c*o,p=await GW(e,r,i,n),{canvas:m,ctx:v}=OW(d,h,u),w=new XMLSerializer().serializeToString(p),b=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(w)}`;try{const E=await NW(b);return v.drawImage(E,0,0,d,h),m.toDataURL("image/png")}catch(E){console.error("Error converting SVG to image:",E);return}}var Fa;(function(e){e.medias="medias",e.elements="elements"})(Fa||(Fa={}));var vs;(function(e){e.copy="copy",e.cut="cut",e.duplicate="duplicate",e.paste="paste"})(vs||(vs={}));const K3=(e,n)=>`<plait>${$W(JSON.stringify({type:e,data:n}))}</plait>`,q3=e=>{var r;let n=(r=e==null?void 0:e.match(/<plait[^>]*>(.*)<\/plait>/))==null?void 0:r[1];if(n){n=UW(n);try{const i=JSON.parse(n);if(i){if(i.type===Fa.elements)return{elements:i.data};if(i.type===Fa.medias)return{medias:i.data}}}catch(i){return console.error(i),null}}return null},a7=e=>{const n=document.implementation.createHTMLDocument("");return n.documentElement.innerHTML=e.trim(),n.body.textContent||n.body.innerText||""},Y8=()=>"clipboard"in navigator&&"write"in navigator.clipboard,VW=()=>"clipboard"in navigator&&"writeText"in navigator.clipboard,K8=()=>"clipboard"in navigator&&"read"in navigator.clipboard,jW=(e,n,r)=>({type:e,elements:n,text:r}),zW=(e,n)=>{const{type:r,elements:i,text:o}=e;return r===n.type?{type:r,elements:i.concat(n.elements),text:o+" "+n.text}:e},cy=(e,n)=>e?zW(e,n):n,$W=e=>e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),UW=e=>e.replace(/&lt;/g,"<").replace(/&gt;/g,">"),WW=(e,n,r)=>{e==null||e.setData("text/html",K3(n,r))},XW=(e,n)=>{e==null||e.setData("text/plain",n)},YW=e=>{const n=e==null?void 0:e.getData("text/html");if(n){const r=q3(n);if(r)return r}return{}},KW=e=>{if(!e)return{};const n=e==null?void 0:e.getData("text/plain");if(n){const r=q3(n);if(r)return r}return{text:n}},qW=async(e,n,r="")=>{let i=r;Y8()&&await navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([K3(e,n)],{type:"text/html"}),"text/plain":new Blob([i??JSON.stringify(n)],{type:"text/plain"})})])},ZW=async()=>{if(!K8())return{};const e=await navigator.clipboard.read();let n={};if(Array.isArray(e)&&e[0]instanceof ClipboardItem)for(const r of e){if(QW(r)){const i=r.types.filter(c=>c.match(/^image\//)),u=(await Promise.all(i.map(c=>r.getType(c)))).filter(Boolean).map(c=>URL.createObjectURL(c));return{files:await Promise.all(u.map(async c=>{const d=await(await fetch(c)).blob();return new File([d],"plait-file",{type:d.type})}))}}if(r.types.includes("text/html")){const i=await u7(await r.getType("text/html")),o=q3(i);if(o)return o;i&&i.trim()&&(n={text:a7(i)})}if(r.types.includes("text/plain")){const i=await u7(await r.getType("text/plain"));n={text:a7(i)}}}return n},QW=e=>e.types.find(n=>n.match(/^image\//)),u7=e=>new Promise((n,r)=>{const i=new FileReader;i.addEventListener("loadend",()=>{const o=i.result;n(o)}),i.addEventListener("error",()=>{r(i.error)}),i.readAsText(e)}),JW=async e=>{let n={};return e?e.files.length?{files:Array.from(e.files)}:(n=YW(e),Object.keys(n).length===0&&(n=KW(e)),n):K8()?await ZW():n},eX=async(e,n)=>{if(!n)return;const{type:r,elements:i,text:o}=n;if(Y8())return await qW(r,i,o);if(e){WW(e,r,i),XW(e,o);return}if(VW())return await navigator.clipboard.writeText(K3(r,i))};function mi(e){return!!L3.get(e)}function tX(e){L.getBoardContainer(e).classList.add("selection-moving"),L3.set(e,!0),$a(e,!0)}function nX(e){L.getBoardContainer(e).classList.remove("selection-moving"),L3.delete(e),$a(e,!1)}function l7(e){const n=$v(e);return e.pointer!==qt.hand&&!n.isDisabledSelection&&!L.isReadonly(e)}function c7(e){return!!e.operations.find(n=>Cu.isSetSelectionOperation(n))}function rX(e){const n=ny.get(e);if(n)return n.elements}function iX(e){return ny.get(e)}function oX(e){ny.delete(e)}function sX(e){const n=Xe(e),r=an(e,n,!1),i=gi(e,r);if(i.width>0&&i.height>0&&n.length>1){const o=ws(e,N.inflate(i,lr),{stroke:qi,strokeWidth:lr,fillStyle:"solid"});o.classList.add(Rp,xU);const u=Xi(n);return u&&Io(o,N.getCenterPoint(i),u),o}return null}function aX(e,n,r){if(!e.selection)return;const i=Xe(e);if(!ed.isCollapsed(e.selection)){let o=[...i];n.forEach(u=>{u.groupId?o.push(...Q3(e,u)):o.push(u)}),Vs(e,I3(o));return}if(ed.isCollapsed(e.selection)){const o=n[0],u=Vu(e,o,!0);if(u.length>0){const l=_o(e,u[u.length-1],!0)||[],c=i.some(d=>l.map(h=>h.id).includes(d.id));r?uX(e,n,c,l):lX(e,n,c,u)}}}function uX(e,n,r,i){const o=Xe(e);let u=[...o];const l=n[0];let c=[];if(!r)c=i;else{const d=o.some(p=>p.id===l.id),h=i.filter(p=>o.includes(p));d?c=h.filter(p=>p.id!==l.id):c.push(...h,...n)}i.forEach(d=>{u.includes(d)&&u.splice(u.indexOf(d),1)}),c.length&&u.push(...c),Vs(e,I3(u))}function lX(e,n,r,i){let o=[...n];const u=q8(e,i);if(u.length>0)if(u.length>1)o=v1(e,u[u.length-2],!0);else{const l=e.getOneHitElement(n);l&&(o=[l])}else{const l=v1(e,i[i.length-1],!0);if(!r)o=l;else{const c=e.getOneHitElement(n);c&&(o=[c])}}Vs(e,I3(o))}const $v=e=>e.getPluginOptions(zs.withSelection),kD=(e,n)=>{e.setPluginOptions(zs.withSelection,n)},_o=(e,n,r,i)=>{let o=[];const u=e.children.filter(l=>l.groupId===n.id);return r?u.forEach(l=>{Ri.isGroup(l)?(i&&o.push(l),o.push(..._o(e,l,r,i))):o.push(l)}):o=i?u:u.filter(l=>!Ri.isGroup(l)),o},v1=(e,n,r,i)=>{const o=_o(e,n,r,i),u=[];return o.forEach(l=>{ii(l,c=>{u.push(c)},()=>!0)}),u},Z3=(e,n,r)=>{const i=v1(e,n,r);return an(e,i,!1)},Vu=(e,n,r,i)=>{const o=(i||e.children).find(u=>u.id===(n==null?void 0:n.groupId));if(!o)return[];{const u=[o],l=Vu(e,o,r,i);return l.length&&u.push(...l),u}},MD=(e,n)=>{const r=Vu(e,n,!0);return r.length?r[r.length-1]:null},Q3=(e,n)=>{const r=MD(e,n);return r?v1(e,r,!0):[n]},cX=e=>e.children.filter(r=>Ri.isGroup(r)),ND=(e,n,r)=>{const i=r!=null&&r.length?r:Xe(e);return Ri.isGroup(n)?y1(e,n,r):i.map(o=>o.id).includes(n.id)},y1=(e,n,r)=>{const i=r!=null&&r.length?r:Xe(e);return _o(e,n,!0).every(u=>i.map(l=>l.id).includes(u.id))},q8=(e,n,r)=>{const i=[];return n.forEach(o=>{ND(e,o,r)&&i.push(o)}),i},fX=(e,n,r)=>{const i=ju(e,n,r),o=[];return i.forEach(u=>{o.push(u);const l=_o(e,u,!0,!0);o.push(...l.filter(c=>Ri.isGroup(c)))}),o},Z8=(e,n,r,i)=>{const o=Vu(e,n,!0,i),u=q8(e,o,r);return u.length?u[u.length-1]:null},ju=(e,n,r)=>{let i=[];return(n!=null&&n.length?n:Xe(e)).forEach(u=>{if(u.groupId){const l=Z8(e,u,n,r);l&&!i.includes(l)&&i.push(l)}}),i},J3=(e,n)=>{let r=[];return(n!=null&&n.length?n:Xe(e)).filter(o=>!Ri.isGroup(o)).forEach(o=>{o.groupId&&Z8(e,o,n)||r.push(o)}),r},eS=(e,n)=>J3(e,n).filter(i=>e.canAddToGroup(i)),dX=(e,n)=>[...ju(e,n),...J3(e,n)],hX=(e,n)=>{const r=Xe(e).map(u=>u.id);let i=null;const o=mi(e);return n.forEach(u=>{const l=!r.includes(u.id)&&!o||o;if(u.groupId&&l){i||(i=Lt());const c=Q3(e,u),d=an(e,c,!1),h=ws(e,d,{stroke:qi,strokeWidth:lr,strokeLineDash:[5]}),p=Xi(c);p&&Io(h,N.getCenterPoint(d),p),i.append(h)}}),i},gX=e=>({id:yn(),type:"group"}),pX=e=>e.every(n=>!n.groupId),Q8=e=>e.every(n=>n.groupId&&n.groupId===e[0].groupId),mX=(e,n)=>{const i=dX(e,n).filter(o=>e.canAddToGroup(o));return i.length>1?pX(i)||Q8(i):!1},vX=(e,n,r)=>{const i=ju(e,n,r);return Xe(e).length>0&&i.length>0},J8=(e,n)=>{const r=Vu(e,n,!0);let i=null;if(r!=null&&r.length){for(let o=0;o<(r==null?void 0:r.length);o++)if(!y1(e,r[o])){i=r[o];break}}return i},yX=(e,n,r)=>{const i=[...n];sy(e,i),i.pop(),Mp(e,i.map(o=>({element:o,newPath:r})))},tS=e=>{const n=e.getDeletedFragment([]);e.deleteFragment(n)},f7=(e,n,r)=>{const i=Xe(e),o=an(e,i,!1),u=e.buildFragment(null,o,n);u&&eX(r,u)},nS=(e,n,r)=>{const i=n!=null&&n.length?n:Xe(e),o=an(e,i,!1),u=e.buildFragment(null,o,vs.duplicate,i),l=u&&JSON.stringify(u),c=l&&JSON.parse(l);c&&e.insertFragment({...c,text:void 0},r||[o.x+o.width/2,o.y+o.height/2],vs.duplicate)},Ma=2,wX=24;function e4(e,n){return xd(e,{match:i=>e.isAlign(i)&&!n.some(o=>o.id===i.id),recursion:()=>!0,isReverse:!1}).map(i=>{const o=e.getRectangle(i);return Np(o,i.angle||0)})}function xX(e,n){return n?[[e[0],e[1]-4],[e[0],e[1]+4]]:[[e[0]-4,e[1]],[e[0]+4,e[1]]]}function Og(e,n,r){let i=Ma;return e.forEach(o=>{const u=bX(n,o,r);Math.abs(u)<Math.abs(i)&&(i=u)}),i}const bX=(e,n,r)=>{const o=oc(n,r).map(c=>c-e),u=o.map(c=>Math.abs(c)),l=u.indexOf(Math.min(...u));return o[l]},oc=(e,n)=>{const r=n?"x":"y",i=n?"width":"height";return[e[r],e[r]+e[i]/2,e[r]+e[i]]};function Af(e,n){let r=1/0,i=e[0];return e.forEach(o=>{const u=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2));u<r&&(r=u,i=o)}),i}const Pf=(e,n,r)=>oc(n,r).includes(e);function t4(e,n,r,i=!0,o=!0,u=!1){let l=[];const c=oc(n,!0),d=oc(n,!1),h=[{axis:c[0],isHorizontal:!0,pointRectangles:[]},{axis:c[1],isHorizontal:!0,pointRectangles:[]},{axis:c[2],isHorizontal:!0,pointRectangles:[]},{axis:d[0],isHorizontal:!1,pointRectangles:[]},{axis:d[1],isHorizontal:!1,pointRectangles:[]},{axis:d[2],isHorizontal:!1,pointRectangles:[]}];for(let m=0;m<r.length;m++){const v=r[m];Pf(h[0].axis,v,h[0].isHorizontal)&&h[0].pointRectangles.push(v),Pf(h[1].axis,v,h[1].isHorizontal)&&h[1].pointRectangles.push(v),Pf(h[2].axis,v,h[2].isHorizontal)&&h[2].pointRectangles.push(v),Pf(h[3].axis,v,h[3].isHorizontal)&&h[3].pointRectangles.push(v),Pf(h[4].axis,v,h[4].isHorizontal)&&h[4].pointRectangles.push(v),Pf(h[5].axis,v,h[5].isHorizontal)&&h[5].pointRectangles.push(v)}const p=(m,v,w)=>{const b=N.inflate(N.getBoundingRectangle([n,v]),wX);if(w){const E=[m,b.y],S=[m,b.y+b.height];l.push([E,S])}else{const E=[b.x,m],S=[b.x+b.width,m];l.push([E,S])}};if(i&&h[0].pointRectangles.length){const m=h[0].pointRectangles.length===1?h[0].pointRectangles[0]:Af(h[0].pointRectangles,n);p(h[0].axis,m,h[0].isHorizontal)}if(i&&u&&h[1].pointRectangles.length){const m=h[1].pointRectangles.length===1?h[1].pointRectangles[0]:Af(h[1].pointRectangles,n);p(h[1].axis,m,h[1].isHorizontal)}if(i&&h[2].pointRectangles.length){const m=h[2].pointRectangles.length===1?h[2].pointRectangles[0]:Af(h[2].pointRectangles,n);p(h[2].axis,m,h[2].isHorizontal)}if(o&&h[3].pointRectangles.length){const m=h[3].pointRectangles.length===1?h[3].pointRectangles[0]:Af(h[3].pointRectangles,n);p(h[3].axis,m,h[3].isHorizontal)}if(o&&u&&h[4].pointRectangles.length){const m=h[4].pointRectangles.length===1?h[4].pointRectangles[0]:Af(h[4].pointRectangles,n);p(h[4].axis,m,h[4].isHorizontal)}if(o&&h[5].pointRectangles.length){const m=h[5].pointRectangles.length===1?h[5].pointRectangles[0]:Af(h[5].pointRectangles,n);p(h[5].axis,m,h[5].isHorizontal)}return CX(e,l)}function CX(e,n){const r=Lt();return n.forEach(i=>{if(!i.length)return;const o=L.getRoughSVG(e).line(i[0][0],i[0][1],i[1][0],i[1][1],{stroke:qi,strokeWidth:1,strokeLineDash:[4,4]});r.appendChild(o)}),r}function n4(e,n){const r=Lt();return n.forEach(i=>{if(!i.length)return;let o=i[0][1]===i[1][1];const u=L.getRoughSVG(e).line(i[0][0],i[0][1],i[1][0],i[1][1],{stroke:qi,strokeWidth:1});r.appendChild(u),i.forEach(l=>{const c=xX(l,o),d=L.getRoughSVG(e).line(c[0][0],c[0][1],c[1][0],c[1][1],{stroke:qi,strokeWidth:1});r.appendChild(d)})}),r}const r4=(e,n)=>{const r=ly(e,Xe(e));let i=o4(e,r);n==="up"&&(i=i.reverse());let o=[];return i.forEach((u,l)=>{const c=u[0],d=u[u.length-1],h=n==="down"?c:d,p=EX(e,h,n);p===-1||h===p||(n==="down"&&(u=u.reverse()),o.push(...u.map(m=>({element:e.children[m],newPath:[p]}))))}),o},i4=(e,n)=>{const r=ly(e,Xe(e));let i=o4(e,r),o=[];return n==="down"&&(i=i.reverse()),i.forEach(u=>{const l=u[0],c=u[u.length-1],d=n==="down"?l:c,h=e.children[d],p=J8(e,h);let m=n==="down"?0:e.children.length-1;if(p){const v=sy(e,_o(e,p,!0,!0));m=n==="down"?e.children.indexOf(v[0]):e.children.indexOf(v[v.length-1])}n==="down"&&(u=u.reverse()),o.push(...u.map(v=>({element:e.children[v],newPath:[m]})))}),o},o4=(e,n)=>{let r=0;return n.reduce((i,o,u)=>{if(u>0){const l=e.children[o],c=e.children[n[u-1]],d=o-1===n[u-1]?!0:e.children.every((p,m)=>m>n[u-1]&&m<=o-1?Ri.isGroup(p):!0);let h=!1;if(c!=null&&c.groupId||l!=null&&l.groupId&&(c==null?void 0:c.groupId)!==(l==null?void 0:l.groupId)){let p=!1,m=!1;if(c.groupId){const v=MD(e,c);p=!y1(e,v)}if(l.groupId){const v=MD(e,l);m=!y1(e,v)}h=p||m}(!d||h)&&(r=++r)}return(i[r]||(i[r]=[])).push(o),i},[])},EX=(e,n,r)=>{if(n===0&&r==="down"||n===e.children.length-1&&r==="up")return-1;const i=m=>!(m.isDeleted||Ri.isGroup(m)),o=r==="down"?PU(e.children,m=>i(m),Math.max(0,n-1)):RU(e.children,m=>i(m),n+1),u=e.children[o];if(!u)return-1;const l=[...e.children],c=l[n],d=J8(e,c),h=Vu(e,u,!0)||[];if(d&&(c==null?void 0:c.groupId)!==(u==null?void 0:u.groupId)&&!h.find(m=>m.id===d.id))return-1;if(!u.groupId)return o;let p;if(d?p=h[h.indexOf(d)-1]:p=h[h.length-1],p){let m=_o(e,p,!0,!1);if(m.length)return m.sort((v,w)=>{const b=e.children.findIndex(S=>S.id===v.id),E=e.children.findIndex(S=>S.id===w.id);return b-E}),r==="down"?l.indexOf(m[0]):l.indexOf(m[m.length-1])}return o},s4=e=>OD(e)||DX(e),OD=e=>e.pointerType==="pen",DX=e=>e.pointerType==="touch",SX=(e,n)=>{const r=ju(e,n),i=eS(e),o=[...r,...i],u=gX();if(mX(e)){o.forEach(p=>{const m=L.findPath(e,p);Zl.setNode(e,{groupId:u.id},m)});const l=Xe(e),c=BW(e,l),d=ly(e,o);if(BU(d)||yX(e,l,[c-1]),Q8(o)){const p=i[0].groupId;Zl.insertNode(e,{...u,groupId:p},[e.children.length])}else Zl.insertNode(e,u,[e.children.length])}},TX=(e,n)=>{const r=ju(e,n);vX(e)&&(r.forEach(i=>{xd(e,{match:u=>u.groupId===i.id,recursion:()=>!1}).forEach(u=>{const l=L.findPath(e,u);Zl.setNode(e,{groupId:i.groupId||void 0},l)})}),r.map(i=>{const o=L.findPath(e,i),u=e.pathRef(o);return()=>{u.current&&Zl.removeNode(e,u.current),u.unref()}}).forEach(i=>{i()}))},AX={addGroup:SX,removeGroup:TX};function a4(e,n){const r={type:"set_selection",properties:e.selection,newProperties:n};e.apply(r)}const PX={setSelection:a4,addSelectionWithTemporaryElements:u4};function u4(e,n){const r=setTimeout(()=>{a4(e,{anchor:[0,0],focus:[0,0]})},0);let i=iX(e);if(i){clearTimeout(i.timeoutId);const o=i.elements;i.elements.push(...n.filter(u=>!o.includes(u))),i.timeoutId=r}else ny.set(e,{timeoutId:r,elements:n})}const RX=e=>{const n=i4(e,"up");Mp(e,n)},BX=e=>{const n=i4(e,"down");Mp(e,n)},kX=e=>{const n=r4(e,"up");Mp(e,n)},MX=e=>{const n=r4(e,"down");Mp(e,n)},NX={moveUp:kX,moveDown:MX,moveToTop:RX,moveToBottom:BX},OX=(e,n)=>{n.map(r=>{const i=L.findPath(e,r),o=e.pathRef(i);return()=>{o.current&&U8(e,o.current),o.unref(),ay(e,r,!0)}}).forEach(r=>{r()})},rS={removeElements:OX},Ge={...NU,...uW,...PX,...Zl,...AX,...NX},Ar=(e,n,r)=>(r||(r=0),Array.isArray(e)&&typeof e[0]=="number"?Jf(e[0],e[1],n[0],n[1],r):e.map(i=>Jf(i[0],i[1],n[0],n[1],r||0))),Xi=e=>{var r;let n=((r=e[0])==null?void 0:r.angle)||0;return e.forEach(i=>{i.angle!==n&&!AD((i.angle||0)%(Math.PI/2)-n%(Math.PI/2),0)&&(n=0)}),n},FX=e=>{if(!e.length)return!1;const n=e[0].angle;return n===void 0?!1:!e.some(r=>r.angle!==n)},LX=(e,n)=>{let r=[];for(let c=0;c<e.length;c++){const d=e[c],h=Ar(d,[0,0],-n);r.push(N.getRectangleByPoints(h))}const i=N.getBoundingRectangle(r),o=N.getCornerPoints(i),u=Ar(o,[0,0],n),l=N.getCenterPoint(N.getRectangleByPoints(u));return N.getRectangleByPoints(Ar(u,l,-n))},IX=(e,n,r)=>{const i=N.getCenterPoint(e),[o]=Ar([i],n,r),u=o[0]-i[0],l=o[1]-i[1];return{offsetX:u,offsetY:l}},FD=(e,n,r)=>{const{offsetX:i,offsetY:o}=IX(N.getRectangleByPoints(e),n,r);return e.map(u=>[u[0]+i,u[1]+o])},Ws=e=>l4(e.angle),l4=e=>e&&e!==0,Xs=(e,n)=>{if(Ws(n)){let r=N.getRectangleByPoints(n.points);const i=N.getCenterPoint(r);return Ar(e,i,n.angle)}else return null},HX=(e,n)=>{if(l4(n)){let r=N.getRectangleByPoints(e);const i=N.getCenterPoint(r);return Ar(e,i,n)}else return null},Lu=(e,n,r,i=!1)=>{if(Ws(r)){let o=N.getRectangleByPoints(r.points);const u=i?gi(e,o):o,l=N.getCenterPoint(u);return Ar(n,l,r.angle?-r.angle:0)}else return null},Np=(e,n)=>{if(n){const r=N.getCornerPoints(e),i=N.getCenterPoint(e);return N.getRectangleByPoints(Ar(r,i,n))}return e},GX=e=>{const n=Math.abs(e)%Math.PI;return n>=1/4*Math.PI&&n<=3/4*Math.PI};function LD(e){return e/180*Math.PI}function _X(e,n,r){const i=an(e,n,!1),o=N.getCenterPoint(i);n.forEach(u=>{const l=u.angle,c=FD(u.points,o,Qg(r)),d=L.findPath(e,u);Ge.setNode(e,{points:c,angle:Qg((l||0)+r)},d)})}const Qg=e=>e<0?e+2*Math.PI:e>=2*Math.PI?e-2*Math.PI:e,VX=(e,n,r)=>{const i=5*Math.PI/2+Math.atan2(e[1]-r[1],e[0]-r[0]),o=5*Math.PI/2+Math.atan2(n[1]-r[1],n[0]-r[0]);return Qg(o-i)},jX=e=>e==null?void 0:e.angle,Io=(e,n,r)=>{if(r===0){e.removeAttribute("transform");return}var i=n[0],o=n[1];let u=Math.cos(r),l=Math.sin(r),d="matrix("+[u,l,-l,u,i*(1-u)+o*l,o*(1-u)-i*l].join(",")+")";e.setAttribute("transform",`${d}`)};function an(e,n,r){const i=[],o=u=>{const l=e.getRectangle(u);if(l){const c=N.getCornerPoints(l),d=Xs(c,u)||c;i.push(d)}else console.error("can not get rectangle of element:",u)};if(n.forEach(u=>{r?ii(u,l=>o(l),l=>e.isRecursion(l)):o(u)}),i.length>0)if(FX(n)){const u=Xi(n);return LX(i,u)}else{const u=i.reduce((l,c)=>l.concat(c),[]);return N.getRectangleByPoints(u)}else return{x:0,y:0,width:0,height:0}}function Fo(e,n,r){const i=!r&&Uv(e).get(n);return i||(r||(r=xd(e,{match:u=>!0,recursion:u=>!0})),r.find(u=>u.id===n))}function Uv(e){const n=xD.get(e);if(!n)throw new Error("can not resolve element map");return n}function xd(e,n){let r=[];const i=n.isReverse??!0;return ii(e,o=>{!L.isBoard(o)&&n.match(o)&&r.push(o)},o=>L.isBoard(o)?!0:pc(e)(o)&&n.recursion(o),i),r}var ur;(function(e){e.default="default",e.colorful="colorful",e.soft="soft",e.retro="retro",e.dark="dark",e.starry="starry"})(ur||(ur={}));const Mi="#333333",c4={mode:ur.default,boardBackground:"#ffffff",textColor:Mi},f4={mode:ur.colorful,boardBackground:"#ffffff",textColor:Mi},d4={mode:ur.soft,boardBackground:"#f5f5f5",textColor:Mi},h4={mode:ur.retro,boardBackground:"#f9f8ed",textColor:Mi},g4={mode:ur.dark,boardBackground:"#141414",textColor:"#FFFFFF"},p4={mode:ur.starry,boardBackground:"#0d2537",textColor:"#FFFFFF"},zX=[c4,f4,d4,h4,g4,p4],L={isBoard(e){const n=t7.get(e);if(n!==void 0)return n;const r=typeof e.onChange=="function"&&typeof e.apply=="function";return t7.set(e,r),r},isAlive(e){return!!SD.get(e)},findPath(e,n){const r=[];let i=n;for(;;){const o=Kl.get(i);if(o==null){if(L.isBoard(i))return r;break}const u=Uf.get(i);if(u==null)break;r.unshift(u),i=o}throw new Error(`Unable to find the path for Plait node: ${JSON.stringify(n)}`)},getHost(e){return ED.get(e)},getElementLowerHost(e){var n;return(n=Da.get(e))==null?void 0:n.lowerHost},getElementHost(e){var n;return(n=Da.get(e))==null?void 0:n.host},getElementUpperHost(e){var n;return(n=Da.get(e))==null?void 0:n.upperHost},getElementTopHost(e){var n;return(n=Da.get(e))==null?void 0:n.topHost},getActiveHost(e){var n;return(n=Da.get(e))==null?void 0:n.activeHost},getRoughSVG(e){return CD.get(e)},getBoardContainer(e){var n;return(n=Da.get(e))==null?void 0:n.container},getBoardContext(e){return DD.get(e)},getRectangle(e){return an(e,e.children,!0)},getViewportContainer(e){var n;return(n=Da.get(e))==null?void 0:n.viewportContainer},isFocus(e){return!!e.selection},isReadonly(e){return e.options.readonly},hasBeenTextEditing(e){return!!bD.get(e)},getPointer(e){return e.pointer},isPointer(e,n){return e.pointer===n},isInPointer(e,n){const r=e.pointer;return n.includes(r)},getMovingPointInBoard(e){return TD.get(e)},isMovingPointInBoard(e){const n=D8.get(e),r=L.getBoardContainer(e).getBoundingClientRect();return!!(n&&Bp(n[0],n[1],r)===0)},getThemeColors(e){return e.options.themeColors||zX}};var qt;(function(e){e.hand="hand",e.selection="selection"})(qt||(qt={}));const $X=e=>e.type==="set_viewport",UX=e=>e.type==="set_selection",WX=e=>e.type==="set_theme",XX=e=>{switch(e.type){case"insert_node":return{...e,type:"remove_node"};case"remove_node":return{...e,type:"insert_node"};case"move_node":{const{newPath:n,path:r}=e;if(gt.equals(n,r))return e;const i=gt.transform(r,e),o=gt.transform(gt.next(r),e);return{...e,path:i,newPath:o}}case"set_node":{const{properties:n,newProperties:r}=e;return{...e,properties:r,newProperties:n}}case"set_selection":{const{properties:n,newProperties:r}=e;return n==null?{...e,properties:r,newProperties:null}:r==null?{...e,properties:null,newProperties:n}:{...e,properties:r,newProperties:n}}case"set_viewport":{const{properties:n,newProperties:r}=e;return n==null?{...e,properties:r,newProperties:r}:r==null?{...e,properties:n,newProperties:n}:{...e,properties:r,newProperties:n}}case"set_theme":{const{properties:n,newProperties:r}=e;return{...e,properties:r,newProperties:n}}}},Cu={isSetViewportOperation:$X,isSetSelectionOperation:UX,isSetThemeOperation:WX,inverse:XX},ct={isEquals(e,n){return e&&n&&e[0]===n[0]&&e[1]===n[1]},isHorizontal(e,n,r=0){return e&&n&&ct.isOverHorizontal([e,n],r)},isOverHorizontal(e,n=0){return e.every(r=>Math.abs(r[1]-e[0][1])<=n)},isVertical(e,n,r=0){return e&&n&&ct.isOverVertical([e,n],r)},isOverVertical(e,n=0){return e.every(r=>Math.abs(r[0]-e[0][0])<=n)},isAlign(e,n=0){return ct.isOverHorizontal(e,n)||ct.isOverVertical(e,n)},getOffsetX(e,n){return n[0]-e[0]},getOffsetY(e,n){return n[1]-e[1]}},sE=new WeakMap,Jr=new WeakMap,vv=new WeakMap;var Pt;(function(e){e.left="left",e.top="top",e.right="right",e.bottom="bottom"})(Pt||(Pt={}));const YX=e=>e===Pt.left||e===Pt.right,Ri={isGroup:e=>e.type==="group"};/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function KX(e){return qX(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function qX(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function ZX(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let i;for(;!(i=r.next()).done;)n(i.value)}}/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const QX=(e,n)=>n;class JX{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||QX}forEachItem(n){let r;for(r=this._itHead;r!==null;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,i=this._removalsHead,o=0,u=null;for(;r||i;){const l=!i||r&&r.currentIndex<h7(i,o,u)?r:i,c=h7(l,o,u),d=l.currentIndex;if(l===i)o--,i=i._nextRemoved;else if(r=r._next,l.previousIndex==null)o++;else{u||(u=[]);const h=c-o,p=d-o;if(h!=p){for(let v=0;v<h;v++){const w=v<u.length?u[v]:u[v]=0,b=w+v;p<=b&&b<h&&(u[v]=w+1)}const m=l.previousIndex;u[m]=p-h}}c!==d&&n(l,c,d)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)n(r)}diff(n){if(n==null&&(n=[]),!KX(n))throw new Error("Exception: Error trying to diff. Only arrays and iterables are allowed");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._itHead,i=!1,o,u,l;if(Array.isArray(n)){this.length=n.length;for(let c=0;c<this.length;c++)u=n[c],l=this._trackByFn(c,u),r===null||!Object.is(r.trackById,l)?(r=this._mismatch(r,u,l,c),i=!0):(i&&(r=this._verifyReinsertion(r,u,l,c)),Object.is(r.item,u)||this._addIdentityChange(r,u)),r=r._next}else o=0,ZX(n,c=>{l=this._trackByFn(o,c),r===null||!Object.is(r.trackById,l)?(r=this._mismatch(r,c,l,o),i=!0):(i&&(r=this._verifyReinsertion(r,c,l,o)),Object.is(r.item,c)||this._addIdentityChange(r,c)),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,i,o){let u;return n===null?u=this._itTail:(u=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,u,o)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,o),n!==null?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,u,o)):n=this._addAfter(new eY(r,i),u,o)),n}_verifyReinsertion(n,r,i,o){let u=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return u!==null?n=this._reinsertAfter(u,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;n!==null;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,u=n._nextRemoved;return o===null?this._removalsHead=u:o._nextRemoved=u,u===null?this._removalsTail=o:u._prevRemoved=o,this._insertAfter(n,r,i),this._addToMoves(n,i),n}_moveAfter(n,r,i){return this._unlink(n),this._insertAfter(n,r,i),this._addToMoves(n,i),n}_addAfter(n,r,i){return this._insertAfter(n,r,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,r,i){const o=r===null?this._itHead:r._next;return n._next=o,n._prev=r,o===null?this._itTail=n:o._prev=n,r===null?this._itHead=n:r._next=n,this._linkedRecords===null&&(this._linkedRecords=new d7),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);const r=n._prev,i=n._next;return r===null?this._itHead=i:r._next=i,i===null?this._itTail=r:i._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new d7),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}}class eY{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tY{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let i;for(i=this._head;i!==null;i=i._nextDup)if((r===null||r<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const r=n._prevDup,i=n._nextDup;return r===null?this._head=i:r._nextDup=i,i===null?this._tail=r:i._prevDup=r,this._head===null}}class d7{constructor(){this.map=new Map}put(n){const r=n.trackById;let i=this.map.get(r);i||(i=new tY,this.map.set(r,i)),i.add(n)}get(n,r){const i=n,o=this.map.get(i);return o?o.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}}function h7(e,n,r){const i=e.previousIndex;if(i===null)return i;let o=0;return r&&i<r.length&&(o=r[i]),i+n+o}class m4{constructor(n){this.board=n,this.children=[],this.instances=[],this.contexts=[],this.differ=null,this.initialized=!1}initialize(n,r){this.initialized=!0,this.children=n,n.forEach((i,o)=>{Uf.set(i,o),Kl.set(i,r.parent);const u=aE(this.board,i,o,r.parent),l=p7(this.board,u),c=g7(this.board,l,u,r);this.instances.push(c),this.contexts.push(u)}),this.differ=new JX(nY),this.differ.diff(n)}update(n,r){if(!this.initialized){this.initialize(n,r);return}if(!this.differ)throw new Error("Exception: Can not find differ ");const{board:i,parent:o}=r,u=this.differ.diff(n);if(u){const l=[],c=[];let d=null;u.forEachItem(h=>{var v;Uf.set(h.item,h.currentIndex),Kl.set(h.item,r.parent);const p=h.previousIndex===null?void 0:this.contexts[h.previousIndex],m=aE(i,h.item,h.currentIndex,o,p);if(h.previousIndex===null){const w=p7(i,m),b=g7(i,w,m,r);l.push(m),c.push(b)}else{const w=this.instances[h.previousIndex];w.context=m,c.push(w),l.push(m)}(h.item===this.children[0]||h.item.id===((v=this.children[0])==null?void 0:v.id))&&(d=h.currentIndex)}),u.forEachOperation(h=>{if(h.currentIndex===null){const p=this.instances[h.previousIndex];p==null||p.destroy()}h.previousIndex!==null&&h.currentIndex!==null&&y4(h.item,h.currentIndex,r,d)}),this.instances=c,this.contexts=l,this.children=n}else{const l=[];this.children.forEach((c,d)=>{Uf.set(c,d),Kl.set(c,r.parent);const h=this.contexts[d],p=this.instances[d],m=aE(i,c,d,o,h);p.context=m,l.push(m)}),this.contexts=l}}destroy(){this.children.forEach((n,r)=>{this.instances[r]&&this.instances[r].destroy()}),this.instances=[],this.children=[],this.contexts=[],this.initialized=!1,this.differ=null}}const nY=(e,n)=>n.id,g7=(e,n,r,i)=>{const o=new n;o.context=r,e.normalizeElement(r);try{o.initialize()}catch(l){Su()&&console.error("list-render-initialize",l,"context",r)}const u=o.getContainerG();return v4(r.index,u,i),o.initializeListRender(),o},p7=(e,n)=>e.drawElement(n),aE=(e,n,r,i,o)=>{var d;let u=ql(e,n);const l=o&&o.element;return l&&l!==n&&ql(e,l)&&(u=!0,oW(e,l,n)),{element:n,parent:i,board:e,selected:u,index:r,hasThemeChanged:!!((d=e.operations)!=null&&d.find(h=>h.type==="set_theme"))}},v4=(e,n,r,i=null)=>{const{parent:o,parentG:u}=r;if(L.isBoard(o))if(e>0){const l=o.children[e-1];sn.getContainerG(l,{suppressThrow:!1}).insertAdjacentElement("afterend",n)}else if(i!==null){const l=o.children[i],c=l&&sn.getContainerG(l,{suppressThrow:!0});if(l&&c)u.insertBefore(n,c);else throw new Error("fail to mount container on moving")}else u.append(n);else if(e>0){const l=o.children[e-1];sn.getElementG(l).insertAdjacentElement("afterend",n)}else if(i){const l=o.children[i],c=l&&L.findPath(r.board,l),d=c&&Ut.first(r.board,c),h=d&&sn.getContainerG(d,{suppressThrow:!1});if(h)u.insertBefore(n,h);else throw new Error("fail to mount container on moving")}else{let l=sn.getElementG(o);u.insertBefore(n,l)}},y4=(e,n,r,i)=>{const o=sn.getContainerG(e,{suppressThrow:!1});v4(n,o,r,i),e.children&&!sn.isRootElement(e)&&r.board.isExpanded(e)&&e.children.forEach((u,l)=>{y4(u,l,{...r,parent:e},null)})};class rY{get hasChildren(){return!!this.element.children}set context(n){SU(this)&&this.beforeContextChange(n);const r=this._context;if(this._context=n,this.initialized){const i=this.getElementG(),o=this.getContainerG();Tg.set(this.element,i),Ag.set(this.element,o),Uv(this.board).set(this.element.id,this.element),Pg.set(this.element,this.ref),this.updateListRender(),TU(this)&&this.onContextChanged(n,r)}else sn.isRootElement(this.element)&&this.hasChildren?(this._g=Lt(),this._containerG=Lt(),this._containerG.append(this._g)):(this._g=Lt(),this._containerG=this._g),Tg.set(this.element,this._g),Ag.set(this.element,this._containerG),Pg.set(this.element,this.ref),Uv(this.board).set(this.element.id,this.element)}get context(){return this._context}get element(){return this.context&&this.context.element}get board(){return this.context&&this.context.board}get selected(){return this.context&&this.context.selected}getContainerG(){return this._containerG}getElementG(){return this._g}constructor(n){this.ref=n,this.initialized=!1}initialize(){if(this.element.type&&this.getContainerG().setAttribute(`plait-${this.element.type}`,"true"),this.hasChildren)if(sn.isRootElement(this.element))this._rootContainerG=this._containerG;else{const n=L.findPath(this.board,this.element),r=Ut.get(this.board,n.slice(0,1));this._rootContainerG=sn.getContainerG(r,{suppressThrow:!1})}this.getContainerG().setAttribute("plait-data-id",this.element.id),this.initialized=!0}initializeListRender(){this.hasChildren&&(this.listRender=new m4(this.board),this.board.isExpanded(this.element)&&this.listRender.initialize(this.element.children,this.initializeChildrenContext()))}getRef(){return this.ref}updateListRender(){if(this.hasChildren){if(!this.listRender)throw new Error("incorrectly initialize list render");this.board.isExpanded(this.element)?this.listRender.update(this.element.children,this.initializeChildrenContext()):this.listRender.initialized&&this.listRender.destroy()}}initializeChildrenContext(){if(!this._rootContainerG)throw new Error("can not resolve root container g");return{board:this.board,parent:this.element,parentG:this._rootContainerG}}destroy(){var n;Tg.get(this.element)===this._g&&Tg.delete(this.element),Uv(this.board).delete(this.element.id),Ag.get(this.element)===this._containerG&&Ag.delete(this.element),Pg.get(this.element)===this.ref&&Pg.set(this.element,this.ref),ay(this.board,this.element),this.getContainerG().remove(),(n=this.listRender)==null||n.destroy()}}class iY{constructor(){this.uploadingFiles=[]}getUploadingFile(n){return this.uploadingFiles.find(r=>r.url===n)}setUploadingFile(n){return this.uploadingFiles.push(n)}removeUploadingFile(n){this.uploadingFiles=this.uploadingFiles.filter(r=>r.url!==n.url)}}const oY={transform(e,n){const{current:r}=e;if(r==null)return;const i=gt.transform(r,n);e.current=i,i==null&&e.unref()}};function sY(e,n){const r={viewport:{zoom:1},children:e,theme:{themeColorMode:ur.default},operations:[],history:{redos:[],undos:[]},selection:null,options:n||{readonly:!1,hideScrollbar:!1,disabledScrollOnNonFocus:!1},pointer:n!=null&&n.readonly?qt.hand:qt.selection,undo:()=>{},redo:()=>{},apply:i=>{for(const o of r.pathRefs())oY.transform(o,i);r.operations.push(i),Ge.transform(r,i),jv.get(r)||(jv.set(r,!0),Promise.resolve().then(()=>{jv.set(r,!1),r.onChange(),r.afterChange(),r.operations=[]}))},pathRef:(i,o)=>{const u=(o==null?void 0:o.affinity)||"forward",l={current:i,affinity:u,unref(){const{current:d}=l;return r.pathRefs().delete(l),l.current=null,d}};return r.pathRefs().add(l),l},pathRefs:()=>{let i=n7.get(r);return i||(i=new Set,n7.set(r,i)),i},onChange:()=>{},afterChange:()=>{},drawSelectionRectangle:()=>sX(r),mousedown:i=>{},mousemove:i=>{},mouseleave:i=>{},globalMousemove:i=>{},mouseup:i=>{},globalMouseup:i=>{},keyDown:i=>{},globalKeyDown:i=>{},keyUp:i=>{},dblClick:i=>{},buildFragment:(i,o,u,l)=>i,insertFragment:(i,o,u)=>{},deleteFragment:i=>{rS.removeElements(r,i)},getDeletedFragment:i=>i,getRelatedFragment:(i,o)=>i,normalizeElement:i=>{},drawElement:i=>{throw new Error(`can not resolve plugin element component type: ${i.element.type}`)},isWithinSelection:i=>!1,isRectangleHit:i=>!1,isHit:i=>!1,isInsidePoint:i=>!1,getOneHitElement:i=>i[0],isRecursion:i=>!0,isMovable:i=>!1,getRectangle:i=>null,applyTheme:i=>{},isAlign:i=>!1,pointerDown:i=>{},pointerMove:i=>{},pointerUp:i=>{},pointerCancel:i=>{},pointerOut:i=>{},pointerLeave:i=>{},globalPointerMove:i=>{},globalPointerUp:i=>{},drop:i=>!1,isImageBindingAllowed:i=>!1,canAddToGroup:i=>!0,canSetZIndex:i=>!0,isExpanded:i=>!0};return r}function aY(e){const{onChange:n,afterChange:r}=e;return e.onChange=()=>{const i=f1.get(e);i&&i(),n()},e.afterChange=()=>{const i=d1.get(e);i&&i(),r()},e}const m7=(e,n)=>L.isPointer(e,qt.selection)&&s4(n),v7="Space";function uY(e){const{pointerDown:n,pointerMove:r,globalPointerUp:i,keyDown:o,keyUp:u,pointerUp:l}=e;let c=!1,d=null,h=null,p=!1,m=!1;return e.pointerDown=v=>{const w=e.getPluginOptions(zs.withHand),b=Et(e,At(e,v.x,v.y)),E=k8(e,b);((w==null?void 0:w.isHandMode(e,v))||L.isPointer(e,qt.hand)||m7(e,v)&&!E||m)&&Us(v)?(d={x:v.x,y:v.y},L.isPointer(e,qt.hand)||L.getBoardContainer(e).classList.add("viewport-moving")):$U(v)&&(p=!0,v.preventDefault(),d={x:v.x,y:v.y},c=!0,L.getBoardContainer(e).classList.add("viewport-moving")),h=v,n(v)},e.pointerMove=v=>{const w=e.getPluginOptions(zs.withHand),b=C8+4;if(d&&!c&&!mi(e)&&h&&bt(h.x,h.y,v.x,v.y)>b&&!td(e)&&(c=!0,L.getBoardContainer(e).classList.add("viewport-moving")),((w==null?void 0:w.isHandMode(e,v))||L.isPointer(e,qt.hand)||m7(e,v)||p||m)&&c&&d&&!mi(e)&&!td(e)){const S=L.getViewportContainer(e),T=S.scrollLeft-(v.x-d.x),C=S.scrollTop-(v.y-d.y);_8(e,T,C,!1),d.x=v.x,d.y=v.y}r(v)},e.pointerUp=v=>{c||l(v)},e.globalPointerUp=v=>{d&&(d=null),c=!1,L.getBoardContainer(e).classList.remove("viewport-moving"),p=!1,i(v)},e.keyDown=v=>{v.code===v7&&(!e.options.readonly&&!L.isPointer(e,qt.hand)&&(m=!0,kD(e,{isDisabledSelection:!0}),L.getBoardContainer(e).classList.add("viewport-moving")),v.preventDefault()),o(v)},e.keyUp=v=>{!e.options.readonly&&v.code===v7&&(m=!1,kD(e,{isDisabledSelection:!1}),L.getBoardContainer(e).classList.remove("viewport-moving")),u(v)},e}function lY(e){const{apply:n,keyDown:r}=e;return e.history={undos:[],redos:[]},e.redo=()=>{const{history:i}=e,{redos:o}=i;if(o.length>0){const u=o[o.length-1];fs.withoutSaving(e,()=>{for(const l of u)e.apply(l)}),i.redos.pop(),i.undos.push(u)}},e.undo=()=>{const{history:i}=e,{undos:o}=i;if(o.length>0){const u=o[o.length-1];fs.withoutSaving(e,()=>{const l=u.map(Cu.inverse).reverse();for(const c of l)e.apply(c)}),i.redos.push(u),i.undos.pop()}},e.apply=i=>{const{operations:o,history:u}=e,{undos:l}=u,c=l[l.length-1],d=c&&c[c.length-1];let h=fs.isSaving(e),p=fs.isMerging(e);if(h==null&&(h=QU(i)),h){if(p||(c==null?p=!1:o.length!==0?p=!0:p=ZU(i,d)),fs.isSplittingOnce(e)&&(p=!1,fs.setSplittingOnce(e,void 0)),c&&p)c.push(i);else{const m=[i];l.push(m)}for(;l.length>100;)l.shift();JU(i)&&(u.redos=[])}n(i)},e.keyDown=i=>{if(Kt.isHotkey("mod+z",i)){e.undo();return}if(Kt.isHotkey("mod+shift+z",i)){e.redo();return}r(i)},e}const cY=e=>{const{keyDown:n,keyUp:r,globalKeyDown:i}=e;return e.keyDown=o=>{const u=e.getPluginOptions(zs.withSelection);if(!L.isReadonly(e)&&u.isMultipleSelection&&Kt.isHotkey("mod+a",o)){o.preventDefault();let c=[];ii(e,d=>{L.isBoard(d)||c.push(d)},d=>!!(L.isBoard(d)||e.isRecursion(d)),!0),Ge.addSelectionWithTemporaryElements(e,c);return}if(!L.isReadonly(e)){if(Kt.isKeyHotkey("mod+]",o)){o.preventDefault(),Ge.moveUp(e);return}if(Kt.isKeyHotkey("mod+[",o)){o.preventDefault(),Ge.moveDown(e);return}if(Kt.isKeyHotkey("mod+option+‘",o)){o.preventDefault(),Ge.moveToTop(e);return}if(Kt.isKeyHotkey("mod+option+“",o)){o.preventDefault(),Ge.moveToBottom(e);return}}const l=Xe(e);if(!L.isReadonly(e)&&l.length>0&&Kt.isKeyHotkey("mod+d",o)){o.preventDefault(),nS(e);return}!L.isReadonly(e)&&l.length>0&&(hi.isDeleteBackward(o)||hi.isDeleteForward(o))&&(o.preventDefault(),tS(e)),n(o)},e.keyUp=o=>{r(o)},e.globalKeyDown=o=>{if(L.getMovingPointInBoard(e)||L.isMovingPointInBoard(e)){if(Kt.isHotkey(["mod+=","mod++"],{byKey:!0})(o)){o.preventDefault(),gn.updateZoom(e,e.viewport.zoom+.1);return}if(Kt.isHotkey(["mod+shift+=","mod+shift++"],{byKey:!0})(o)){o.preventDefault(),gn.fitViewport(e);return}if(Kt.isHotkey(["mod+-","mod+shift+-"])(o)){o.preventDefault(),gn.updateZoom(e,e.viewport.zoom-.1);return}if(Kt.isHotkey(["mod+0","mod+shift+0"],{byKey:!0})(o)){o.preventDefault(),gn.updateZoom(e,1);return}}i(o)},e};function fY(e,n,r){const i=e4(e,r),o=Lt();let u=hY(n,i);const l=pY(e,u,n,i);o.append(l);const c=mY(e,u,n,i);return u=c.snapDelta,o.append(c.snapG),{...u,snapG:o}}function dY(e,n,r){const i=oc(e,r),o=Og(n,i[0],r),u=Og(n,i[1],r),l=Og(n,i[2],r);return[o,u,l]}function hY(e,n){let r={deltaX:0,deltaY:0};function i(o){let u=0;const l=dY(e,n,o);for(let c=0;c<l.length;c++)if(Math.abs(l[c])<Ma){u=l[c];break}return u}return r.deltaX=i(!0),r.deltaY=i(!1),r}function gY(e,n){const{deltaX:r,deltaY:i}=e,{x:o,y:u,width:l,height:c}=n;return{x:o+r,y:u+i,width:l,height:c}}function pY(e,n,r,i){const o=gY(n,r);return t4(e,o,i,!0,!0,!0)}function mY(e,n,r,i){let o=n.deltaX,u=n.deltaY;const l=y7(r,i,!0),c=y7(r,i,!1),d=[...l.lines,...c.lines];return l.delta&&(o=l.delta),c.delta&&(u=c.delta),{snapDelta:{deltaX:o,deltaY:u},snapG:n4(e,d)}}function y7(e,n,r){var C,B;let i=[],o=0,u=[];const l=r?"x":"y",c=r?"width":"height",d=e[l]+e[c]/2;n.forEach(P=>{(r?vY(P,e):yY(P,e))&&!N.isHit(P,e)&&u.push(P)}),u=[...u,e].sort((P,I)=>P[l]-I[l]);const h=[];let p=0,m,v;for(let P=0;P<u.length;P++)for(let I=P+1;I<u.length;I++){const z=u[P],Y=u[I],te=Y[l]-(z[l]+z[c]);let re=1/0;(C=h[P])!=null&&C.after?h[P].after.push({distance:te,index:I}):h[P]={...h[P],after:[{distance:te,index:I}]},(B=h[I])!=null&&B.before?h[I].before.push({distance:te,index:P}):h[I]={...h[I],before:[{distance:te,index:P}]};let ae=(z[l]+z[c]+Y[l])/2;re=Math.abs(ae-d),re<Ma&&(p=(Y[l]-(z[l]+z[c])-e[c])/2,o=ae-d,m=P,v=I);const ce=Y[l]-(z[l]+z[c]);ae=Y[l]+Y[c]+ce+e[c]/2,re=Math.abs(ae-d),(!p||p!==ce)&&re<Ma&&(p=ce,m=I,o=ae-d);const ne=Y[l]-(z[l]+z[c]);ae=z[l]-ne-e[c]/2,re=Math.abs(ae-d),!p&&re<Ma&&(p=ne,v=P,o=ae-d)}const w=u.indexOf(e);let b=[],E=[];if(m!==void 0&&(b.push(m),S(p,h[m],"before",b)),v!==void 0&&(E.push(v),S(p,h[v],"after",E)),b.length||E.length){const P=[...b.reverse(),w,...E];e[l]+=o;for(let I=1;I<P.length;I++)i.push(T(u[P[I-1]],u[P[I]]))}function S(P,I,z,Y){const te=I[z],re=h.indexOf(I);if(!(re===0&&z==="before"||re===h.length-1&&z==="after")){for(let ae=0;ae<te.length;ae++)if(Math.abs(te[ae].distance-P)<.1){Y.push(te[ae].index),S(P,h[te[ae].index],z,Y);return}}}function T(P,I){const z=l==="x"?"y":"x",Y=c==="width"?"height":"width",re=[P[z],P[z]+P[Y],I[z],I[z]+I[Y]].sort((ne,Q)=>ne-Q),ae=(re[1]+re[2])/2,ce=3;return r?[[P.x+P.width+ce,ae],[I.x-ce,ae]]:[[ae,P.y+P.height+ce],[ae,I.y-ce]]}return{delta:o,lines:i}}function vY(e,n){return!(e.y+e.height<n.y||e.y>n.y+n.height)}function yY(e,n){return!(e.x+e.width<n.x||e.x>n.x+n.width)}function wY(e){const{pointerDown:n,pointerMove:r,globalPointerUp:i,globalPointerMove:o,globalKeyDown:u,keyUp:l}=e;let c=0,d=0,h=!1,p,m=[],v=null,w=null,b=null,E,S,T=null;e.globalKeyDown=B=>{L.isReadonly(e)||Kt.isKeyHotkey("option",B)&&(B.preventDefault(),p&&m.length&&!L.hasBeenTextEditing(e)&&(T=w7(e,m,c,d),T&&L.getElementTopHost(e).append(T))),u(B)},e.keyUp=B=>{if(!L.isReadonly(e)&&T&&p&&m.length&&!L.hasBeenTextEditing(e)){B.preventDefault();const P=ID(e,m,c,d);L.getBoardContainer(e).classList.add("element-moving"),o7(e,P)}T==null||T.remove(),l(B)},e.pointerDown=B=>{if(L.isReadonly(e)||!L.isPointer(e,qt.selection)||!Us(B)){n(B);return}const P=Et(e,At(e,B.x,B.y));if(E=Zs(e,P,I=>e.isMovable(I)),b=w4(e),S=E&&b.includes(E),E&&S)p=P,m=b,w=an(e,m,!0);else if(E){p=P;const I=e.getRelatedFragment([],[E]);m=[...Q3(e,E),...I],w=an(e,m,!0)}else{const I=b.length>0&&an(e,b,!1);I&&N.isPointInRectangle(I,P)&&(p=P,m=b,w=I)}n(B)},e.pointerMove=B=>{if(p&&m.length&&!L.hasBeenTextEditing(e)){h||(h=!0),v==null||v.remove(),T==null||T.remove();const P=Et(e,At(e,B.x,B.y));c=P[0]-p[0],d=P[1]-p[1],(bt(...P,...p)>N3||kW(e).length>0)&&(E&&!S&&b&&b.length>0&&(u4(e,[]),E=void 0,b=null,S=void 0),ys(e,"with-moving",()=>{if(!w)return;const z={...w,x:w.x+c,y:w.y+d},Y=Np(z,Xi(m)),te=fY(e,Y,m);if(c+=te.deltaX,d+=te.deltaY,v=te.snapG,v.classList.add(x8),L.getElementTopHost(e).append(v),B.altKey)T=w7(e,m,c,d),T&&L.getElementTopHost(e).append(T);else{const re=ID(e,m,c,d);L.getBoardContainer(e).classList.add("element-moving"),o7(e,re)}}))}h&&B.preventDefault(),r(B)},e.globalPointerMove=B=>{p&&(IU(e,B.x,B.y)||C(e)),o(B)},e.globalPointerUp=B=>{if(B.altKey&&m.length){const P=iS(e,m),I=an(e,P,!1);nS(e,P,[I.x+c,I.y+d])}h=!1,E=void 0,b=null,S=void 0,p&&C(e),i(B)};function C(B){v==null||v.remove(),T==null||T.remove(),p=null,w=null,c=0,d=0,m=[],td(B)&&MW(B),Jr.set(B,!1),L.getBoardContainer(B).classList.remove("element-moving")}return xY(e)}function xY(e){const{keyDown:n,keyUp:r}=e;return e.keyDown=i=>{const o=Xe(e);if(!L.isReadonly(e)&&o.length>0&&(hi.isArrow(i)||hi.isExtendArrow(i))){i.preventDefault();const u=!!i.shiftKey,l=[0,0],c=u?10:1;switch(!0){case(hi.isMoveUp(i)||hi.isExtendUp(i)):{l[1]=-c;break}case(hi.isMoveDown(i)||hi.isExtendDown(i)):{l[1]=c;break}case(hi.isMoveBackward(i)||hi.isExtendBackward(i)):{l[0]=-c;break}case(hi.isMoveForward(i)||hi.isExtendForward(i)):{l[0]=c;break}}const d=w4(e);ys(e,"with-arrow-moving",()=>{ID(e,d,l[0],l[1])})}n(i)},e.keyUp=i=>{Jr.set(e,!1),r(i)},e}function w4(e){const n=Xe(e),r=e.children.filter(u=>e.isMovable(u)),i=n.filter(u=>r.includes(u)),o=e.getRelatedFragment([]);return i.push(...o),i}function iS(e,n){return[...n].filter(i=>!Ri.isGroup(i)&&sn.isRootElement(i))}function ID(e,n,r,i){return iS(e,n).map(l=>{const d=(l.points||[]).map(p=>[p[0]+r,p[1]+i]),h=Uf.get(l);return Ge.setNode(e,{points:d},[h]),Jr.set(e,!0),Ut.get(e,[h])})}function w7(e,n,r,i){let o=null;const u=[];return iS(e,n).forEach(c=>{ii(c,d=>{u.push(d)},()=>!0)}),u.forEach(c=>{let d=e.getRectangle(c);if(d){d={x:d.x+r,y:d.y+i,width:d.width,height:d.height};const h=ws(e,d,{stroke:qi,strokeWidth:1,fill:$3,fillStyle:"solid"});o||(o=Lt(),o.classList.add(x8));const p=jX(c);p&&Io(h,N.getCenterPoint(d),p),o.append(h)}}),o}const bY=e=>{const n=new Map,r=e;return r.getPluginOptions=i=>n.get(i),r.setPluginOptions=(i,o)=>{const u=r.getPluginOptions(i)||{};n.set(i,{...u,...o})},r};function CY(e){const{buildFragment:n}=e;return e.buildFragment=(r,i,o,u)=>{let l=e.getRelatedFragment(u||[]);if(l&&(u!=null&&u.length&&(l=l.filter(c=>!u.map(d=>d.id).includes(c.id))),l.length)){const c={text:"",type:Fa.elements,elements:l};r=cy(r,c)}return n(r,i,o,u)},e}function EY(e){const{pointerDown:n,pointerUp:r,pointerMove:i,globalPointerUp:o,onChange:u,afterChange:l,drawSelectionRectangle:c}=e;let d=null,h=null,p,m,v=!1,w=null,b=null;return e.pointerDown=E=>{!v&&E.shiftKey&&(v=!0),v&&!E.shiftKey&&(v=!1);const S=Et(e,At(e,E.x,E.y)),T=k8(e,S),C=$v(e);L.isPointer(e,qt.selection)&&Us(E)&&!T&&C.isMultipleSelection&&!C.isDisabledSelection&&(s4(E)?w=setTimeout(()=>{d=[E.x,E.y],w=null},120):d=[E.x,E.y]),b=E,n(E)},e.pointerMove=E=>{if(w&&b&&bt(b.x,b.y,E.x,E.y)>C8&&(clearTimeout(w),w=null),L.isPointer(e,qt.selection)&&d){E.preventDefault(),h=[E.x,E.y];const S=N.getRectangleByPoints([ic(e,...d),ic(e,...h)]);p==null||p.remove(),ys(e,"with-selection",()=>{d&&h&&Ge.setSelection(e,{anchor:Et(e,At(e,d[0],d[1])),focus:Et(e,At(e,h[0],h[1]))})}),tX(e),p=ws(e,S,{stroke:qi,strokeWidth:1,fill:$3,fillStyle:"solid"}),L.getActiveHost(e).append(p)}i(E)},e.pointerUp=E=>{const S=L.isPointer(e,qt.selection)||L.isPointer(e,qt.hand);if(!Us(E)||wd(e)||!S){r(E);return}const C=Et(e,At(e,E.x,E.y)),B={anchor:C,focus:C};Ge.setSelection(e,B),r(E)},e.globalPointerUp=E=>{d&&h&&(p==null||p.remove(),nX(e),Ge.setSelection(e,{anchor:Et(e,At(e,d[0],d[1])),focus:Et(e,At(e,h[0],h[1]))}));const S=$v(e);if(L.isFocus(e)&&!S.isPreventClearSelection){const T=E.target instanceof Node&&L.getBoardContainer(e).contains(E.target),C=E.target instanceof Node&&document.contains(E.target),B=E.target instanceof Element&&E.target.closest(`.${M3}`);!T&&!d&&!B&&C&&Ge.setSelection(e,null)}d=null,h=null,w&&(clearTimeout(w),w=null),b=null,o(E)},e.onChange=()=>{const E=$v(e);if(E.isDisabledSelection&&pd(e),e.operations.forEach(S=>{S.type==="remove_node"&&ay(e,S.node,!0)}),l7(e)&&c7(e))try{v||m==null||m.remove();const S=rX(e);if(S)Vs(e,[...S]);else{let C=R8(e);!E.isMultipleSelection&&C.length>1&&(C=[C[0]]);const B=C.some(I=>I.groupId),P=Xe(e);if(B)aX(e,C,v);else{if(e.selection&&ed.isCollapsed(e.selection)){const I=e.getOneHitElement(C);I&&(C=[I])}if(v){const I=[...P];e.selection&&ed.isCollapsed(e.selection)?(C.forEach(z=>{I.includes(z)?I.splice(I.indexOf(z),1):I.push(z)}),Vs(e,I)):(C.forEach(z=>{I.includes(z)||I.push(z)}),Vs(e,[...I]))}else Vs(e,[...C])}}const T=Xe(e);oX(e),mi(e)||(m==null||m.remove(),T.length>1&&(m=e.drawSelectionRectangle(),L.getActiveHost(e).append(m)))}catch(S){console.error(S)}u()},e.afterChange=()=>{if(l7(e)&&!c7(e))try{const E=Xe(e);E.length&&E.length>1?(m==null||m.remove(),m=e.drawSelectionRectangle(),L.getActiveHost(e).append(m)):m==null||m.remove()}catch(E){console.error(E)}l()},kD(e,{isMultipleSelection:!0,isDisabledSelection:!1,isPreventClearSelection:!1}),e}const DY=e=>{const n=e;return n.getI18nValue=r=>(console.warn(`I18n key "${r}" is not found.`),null),n},fy=(e,n,r="")=>e.getI18nValue(n)||r;var uE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var x7;function SY(){return x7||(x7=1,function(e){(function(){var n={}.hasOwnProperty;function r(){for(var u="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(u=o(u,i(c)))}return u}function i(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return r.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var l="";for(var c in u)n.call(u,c)&&u[c]&&(l=o(l,c));return l}function o(u,l){return l?u?u+" "+l:u+l:u}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(uE)),uE.exports}var TY=SY();const vi=gc(TY);var x4=function(e){return typeof e=="function"};function b7(e,n){if(e===n)return!0;for(var r=0;r<e.length;r++)if(!Object.is(e[r],n[r]))return!1;return!0}function b4(e){var n=$.useRef(e);return n.current=e,n}var AY=function(e){x4(e)||console.error("useUnmount expected parameter is a function, got ".concat(typeof e));var n=b4(e);$.useEffect(function(){return function(){n.current()}},[])},lE,C7;function oS(){if(C7)return lE;C7=1;function e(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}return lE=e,lE}var cE,E7;function PY(){if(E7)return cE;E7=1;var e=typeof av=="object"&&av&&av.Object===Object&&av;return cE=e,cE}var fE,D7;function C4(){if(D7)return fE;D7=1;var e=PY(),n=typeof self=="object"&&self&&self.Object===Object&&self,r=e||n||Function("return this")();return fE=r,fE}var dE,S7;function RY(){if(S7)return dE;S7=1;var e=C4(),n=function(){return e.Date.now()};return dE=n,dE}var hE,T7;function BY(){if(T7)return hE;T7=1;var e=/\s/;function n(r){for(var i=r.length;i--&&e.test(r.charAt(i)););return i}return hE=n,hE}var gE,A7;function kY(){if(A7)return gE;A7=1;var e=BY(),n=/^\s+/;function r(i){return i&&i.slice(0,e(i)+1).replace(n,"")}return gE=r,gE}var pE,P7;function E4(){if(P7)return pE;P7=1;var e=C4(),n=e.Symbol;return pE=n,pE}var mE,R7;function MY(){if(R7)return mE;R7=1;var e=E4(),n=Object.prototype,r=n.hasOwnProperty,i=n.toString,o=e?e.toStringTag:void 0;function u(l){var c=r.call(l,o),d=l[o];try{l[o]=void 0;var h=!0}catch{}var p=i.call(l);return h&&(c?l[o]=d:delete l[o]),p}return mE=u,mE}var vE,B7;function NY(){if(B7)return vE;B7=1;var e=Object.prototype,n=e.toString;function r(i){return n.call(i)}return vE=r,vE}var yE,k7;function OY(){if(k7)return yE;k7=1;var e=E4(),n=MY(),r=NY(),i="[object Null]",o="[object Undefined]",u=e?e.toStringTag:void 0;function l(c){return c==null?c===void 0?o:i:u&&u in Object(c)?n(c):r(c)}return yE=l,yE}var wE,M7;function FY(){if(M7)return wE;M7=1;function e(n){return n!=null&&typeof n=="object"}return wE=e,wE}var xE,N7;function LY(){if(N7)return xE;N7=1;var e=OY(),n=FY(),r="[object Symbol]";function i(o){return typeof o=="symbol"||n(o)&&e(o)==r}return xE=i,xE}var bE,O7;function IY(){if(O7)return bE;O7=1;var e=kY(),n=oS(),r=LY(),i=NaN,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return i;if(n(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=n(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=e(h);var m=u.test(h);return m||l.test(h)?c(h.slice(2),m?2:8):o.test(h)?i:+h}return bE=d,bE}var CE,F7;function D4(){if(F7)return CE;F7=1;var e=oS(),n=RY(),r=IY(),i="Expected a function",o=Math.max,u=Math.min;function l(c,d,h){var p,m,v,w,b,E,S=0,T=!1,C=!1,B=!0;if(typeof c!="function")throw new TypeError(i);d=r(d)||0,e(h)&&(T=!!h.leading,C="maxWait"in h,v=C?o(r(h.maxWait)||0,d):v,B="trailing"in h?!!h.trailing:B);function P(Q){var le=p,G=m;return p=m=void 0,S=Q,w=c.apply(G,le),w}function I(Q){return S=Q,b=setTimeout(te,d),T?P(Q):w}function z(Q){var le=Q-E,G=Q-S,R=d-le;return C?u(R,v-G):R}function Y(Q){var le=Q-E,G=Q-S;return E===void 0||le>=d||le<0||C&&G>=v}function te(){var Q=n();if(Y(Q))return re(Q);b=setTimeout(te,z(Q))}function re(Q){return b=void 0,B&&p?P(Q):(p=m=void 0,w)}function ae(){b!==void 0&&clearTimeout(b),S=0,p=E=m=b=void 0}function ce(){return b===void 0?w:re(n())}function ne(){var Q=n(),le=Y(Q);if(p=arguments,m=this,E=Q,le){if(b===void 0)return I(E);if(C)return clearTimeout(b),b=setTimeout(te,d),P(E)}return b===void 0&&(b=setTimeout(te,d)),w}return ne.cancel=ae,ne.flush=ce,ne}return CE=l,CE}var HY=D4();const GY=gc(HY);var _Y=!!(typeof window<"u"&&window.document&&window.document.createElement),EE,L7;function VY(){if(L7)return EE;L7=1;var e=D4(),n=oS(),r="Expected a function";function i(o,u,l){var c=!0,d=!0;if(typeof o!="function")throw new TypeError(r);return n(l)&&(c="leading"in l?!!l.leading:c,d="trailing"in l?!!l.trailing:d),e(o,u,{leading:c,maxWait:u,trailing:d})}return EE=i,EE}var jY=VY();const zY=gc(jY);function S4(e,n){if(_Y){if(!e)return n;var r;return x4(e)?r=e():"current"in e?r=e.current:r=e,r}}var $Y=function(e){var n=function(r,i,o){var u=$.useRef(!1),l=$.useRef([]),c=$.useRef([]),d=$.useRef();e(function(){var h,p=Array.isArray(o)?o:[o],m=p.map(function(v){return S4(v)});if(!u.current){u.current=!0,l.current=m,c.current=i,d.current=r();return}(m.length!==l.current.length||!b7(l.current,m)||!b7(c.current,i))&&((h=d.current)===null||h===void 0||h.call(d),l.current=m,c.current=i,d.current=r())}),AY(function(){var h;(h=d.current)===null||h===void 0||h.call(d),u.current=!1})};return n},UY=$Y($.useEffect);function Qr(e,n,r){r===void 0&&(r={});var i=r.enable,o=i===void 0?!0:i,u=b4(n);UY(function(){if(o){var l=S4(r.target,window);if(l!=null&&l.addEventListener){var c=function(h){return u.current(h)},d=Array.isArray(e)?e:[e];return d.forEach(function(h){l.addEventListener(h,c,{capture:r.capture,once:r.once,passive:r.passive})}),function(){d.forEach(function(h){l.removeEventListener(h,c,{capture:r.capture})})}}}},[e,r.capture,r.once,r.passive,o],r.target)}const WY=(e,n,r)=>{Qr("pointerdown",i=>{e.pointerDown(i)},{target:r}),Qr("pointermove",i=>{TD.set(e,[i.x,i.y]),e.pointerMove(i)},{target:n}),Qr("pointerleave",i=>{TD.delete(e),e.pointerLeave(i)},{target:n}),Qr("pointerup",i=>{e.pointerUp(i)},{target:n}),Qr("dblclick",i=>{L.isFocus(e)&&!L.hasBeenTextEditing(e)&&e.dblClick(i)},{target:r}),Qr("pointermove",i=>{D8.set(e,[i.x,i.y]),e.globalPointerMove(i)}),Qr("pointerup",i=>{e.globalPointerUp(i)}),Qr("keydown",i=>{e.globalKeyDown(i),L.isFocus(e)&&!L.hasBeenTextEditing(e)&&!zU(i.target)&&e.keyDown(i)}),Qr("keyup",i=>{L.isFocus(e)&&!L.hasBeenTextEditing(e)&&(e==null||e.keyUp(i))}),Qr("copy",i=>{L.isFocus(e)&&!L.hasBeenTextEditing(e)&&(i.preventDefault(),f7(e,vs.copy,i.clipboardData))}),Qr("paste",async i=>{if(L.isFocus(e)&&!L.isReadonly(e)&&!L.hasBeenTextEditing(e)){const o=L.getMovingPointInBoard(e);if(o){const u=Et(e,At(e,o[0],o[1])),l=await JW(i.clipboardData);e.insertFragment(l,u,vs.paste)}}}),Qr("cut",i=>{L.isFocus(e)&&!L.isReadonly(e)&&!L.hasBeenTextEditing(e)&&(i.preventDefault(),f7(e,vs.cut,i.clipboardData),tS(e))}),Qr("drop",i=>{L.isReadonly(e)||(i.preventDefault(),e.drop(i))},{target:n}),Qr("dragover",i=>{i.preventDefault()},{target:n})},XY=(e,n)=>{Qr("scroll",i=>{if(SW(e))$8(e,!1);else{const{scrollLeft:o,scrollTop:u}=i.target;V8(e,o,u)}},{target:n}),Qr("touchstart",i=>{i.preventDefault()},{target:n,passive:!1}),Qr("wheel",i=>{if(i.metaKey||i.ctrlKey){i.preventDefault();const{deltaX:o,deltaY:u}=i,l=e.viewport.zoom,c=Math.sign(u),d=bU*100,h=Math.abs(u);let p=u;h>d&&(p=d*c);let m=l-p/100;m+=Math.log10(Math.max(1,l))*-c*Math.min(1,h/20),gn.updateZoom(e,m,L.getMovingPointInBoard(e))}},{target:n,passive:!1});const r=$.useRef(!1);$.useEffect(()=>{const i=new ResizeObserver(()=>{if(!r.current){r.current=!0;return}X3(e),Y3(e),m1(e)});return i.observe(L.getBoardContainer(e)),()=>{i&&i.disconnect()}},[])},sS=$.createContext(null),Vo=()=>{const e=$.useContext(sS);if(!e)throw new Error("The `useBoard` hook must be used inside the <Plait> component's context.");const{board:n}=e;return n},T4=()=>{const e=$.useContext(sS);if(!e)throw new Error("The `useBoard` hook must be used inside the <Plait> component's context.");const{listRender:n}=e;return n},A4=({style:e,className:n,children:r,afterInit:i})=>{var b,E;const o=$.useRef(null),u=$.useRef(null),l=$.useRef(null),c=$.useRef(null),d=$.useRef(null),h=$.useRef(null),p=$.useRef(null),m=$.useRef(null),v=Vo(),w=T4();return $.useEffect(()=>{const S=sU.svg(o.current,{options:{roughness:.25,strokeWidth:1}});CD.set(v,S),ED.set(v,o.current),SD.set(v,!0),Da.set(v,{lowerHost:u.current,host:l.current,upperHost:c.current,topHost:d.current,activeHost:h.current,container:m.current,viewportContainer:p.current});const T=new iY;return DD.set(v,T),xD.set(v,new Map),w.initialized||(w.initialize(v.children,{board:v,parent:v,parentG:L.getElementHost(v)}),i&&i(v)),X3(v),Y3(v),CW(v),()=>{DD.delete(v),d1.delete(v),f1.delete(v),Da.delete(v),SD.delete(v),ED.delete(v),CD.delete(v),xD.delete(v)}},[]),WY(v,p,o),XY(v,p),V.jsxDEV("div",{className:vi(n,CU,`${YY()}`,`theme-${(b=v.theme)==null?void 0:b.themeColorMode}`,`pointer-${v.pointer}`,{focused:L.isFocus(v),readonly:L.isReadonly(v),"disabled-scroll":((E=v.options)==null?void 0:E.disabledScrollOnNonFocus)&&!L.isFocus(v)}),ref:m,style:e,children:V.jsxDEV("div",{className:"viewport-container",ref:p,style:{width:"100%",height:"100%",overflow:"auto"},children:[V.jsxDEV("svg",{ref:o,width:"100%",height:"100%",style:{position:"relative"},className:"board-host-svg",children:[V.jsxDEV("g",{className:"element-lower-host",ref:u},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/board.tsx",lineNumber:136,columnNumber:11},void 0),V.jsxDEV("g",{className:"element-host",ref:l},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/board.tsx",lineNumber:137,columnNumber:11},void 0),V.jsxDEV("g",{className:"element-upper-host",ref:c},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/board.tsx",lineNumber:138,columnNumber:11},void 0),V.jsxDEV("g",{className:"element-top-host",ref:d},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/board.tsx",lineNumber:139,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/board.tsx",lineNumber:129,columnNumber:9},void 0),V.jsxDEV("svg",{width:"100%",height:"100%",className:"board-active-svg",children:V.jsxDEV("g",{className:"active-host-g",ref:h},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/board.tsx",lineNumber:142,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/board.tsx",lineNumber:141,columnNumber:9},void 0),r]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/board.tsx",lineNumber:124,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/board.tsx",lineNumber:106,columnNumber:5},void 0)},YY=()=>KU?"safari":qU?"chrome":YU?"firefox":"";var KY={transform(e,n){var{current:r,affinity:i}=e;if(r!=null){var o=J.transform(r,n,{affinity:i});e.current=o,o==null&&e.unref()}}},qY={transform(e,n){var{current:r,affinity:i}=e;if(r!=null){var o=cn.transform(r,n,{affinity:i});e.current=o,o==null&&e.unref()}}},ZY={transform(e,n){var{current:r,affinity:i}=e;if(r!=null){var o=be.transform(r,n,{affinity:i});e.current=o,o==null&&e.unref()}}},w1=new WeakMap,x1=new WeakMap,Fg=new WeakMap,P4=new WeakMap,I7=new WeakMap,H7=new WeakMap,G7=new WeakMap,J={ancestors(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=n,i=J.levels(e,n);return r?i=i.slice(1):i=i.slice(0,-1),i},common(e,n){for(var r=[],i=0;i<e.length&&i<n.length;i++){var o=e[i],u=n[i];if(o!==u)break;r.push(o)}return r},compare(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){if(e[i]<n[i])return-1;if(e[i]>n[i])return 1}return 0},endsAfter(e,n){var r=e.length-1,i=e.slice(0,r),o=n.slice(0,r),u=e[r],l=n[r];return J.equals(i,o)&&u>l},endsAt(e,n){var r=e.length,i=e.slice(0,r),o=n.slice(0,r);return J.equals(i,o)},endsBefore(e,n){var r=e.length-1,i=e.slice(0,r),o=n.slice(0,r),u=e[r],l=n[r];return J.equals(i,o)&&u<l},equals(e,n){return e.length===n.length&&e.every((r,i)=>r===n[i])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,n){return J.compare(e,n)===1},isAncestor(e,n){return e.length<n.length&&J.compare(e,n)===0},isBefore(e,n){return J.compare(e,n)===-1},isChild(e,n){return e.length===n.length+1&&J.compare(e,n)===0},isCommon(e,n){return e.length<=n.length&&J.compare(e,n)===0},isDescendant(e,n){return e.length>n.length&&J.compare(e,n)===0},isParent(e,n){return e.length+1===n.length&&J.compare(e,n)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,n){if(e.length!==n.length)return!1;var r=e.slice(0,-1),i=n.slice(0,-1),o=e[e.length-1],u=n[n.length-1];return o!==u&&J.equals(r,i)},levels(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=n,i=[],o=0;o<=e.length;o++)i.push(e.slice(0,o));return r&&i.reverse(),i},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var n=e[e.length-1];return e.slice(0,-1).concat(n+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var n=e[e.length-1];if(n<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(n-1)},relative(e,n){if(!J.isAncestor(n,e)&&!J.equals(e,n))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(n,"], because it is not above or equal to the path."));return e.slice(n.length)},transform(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var i=[...e],{affinity:o="forward"}=r;if(e.length===0)return i;switch(n.type){case"insert_node":{var{path:u}=n;(J.equals(u,i)||J.endsBefore(u,i)||J.isAncestor(u,i))&&(i[u.length-1]+=1);break}case"remove_node":{var{path:l}=n;if(J.equals(l,i)||J.isAncestor(l,i))return null;J.endsBefore(l,i)&&(i[l.length-1]-=1);break}case"merge_node":{var{path:c,position:d}=n;J.equals(c,i)||J.endsBefore(c,i)?i[c.length-1]-=1:J.isAncestor(c,i)&&(i[c.length-1]-=1,i[c.length]+=d);break}case"split_node":{var{path:h,position:p}=n;if(J.equals(h,i)){if(o==="forward")i[i.length-1]+=1;else if(o!=="backward")return null}else J.endsBefore(h,i)?i[h.length-1]+=1:J.isAncestor(h,i)&&e[h.length]>=p&&(i[h.length-1]+=1,i[h.length]-=p);break}case"move_node":{var{path:m,newPath:v}=n;if(J.equals(m,v))return i;if(J.isAncestor(m,i)||J.equals(m,i)){var w=v.slice();return J.endsBefore(m,v)&&m.length<v.length&&(w[m.length-1]-=1),w.concat(i.slice(m.length))}else J.isSibling(m,v)&&(J.isAncestor(v,i)||J.equals(v,i))?J.endsBefore(m,i)?i[m.length-1]-=1:i[m.length-1]+=1:J.endsBefore(v,i)||J.equals(v,i)||J.isAncestor(v,i)?(J.endsBefore(m,i)&&(i[m.length-1]-=1),i[v.length-1]+=1):J.endsBefore(m,i)&&(J.equals(v,i)&&(i[v.length-1]+=1),i[m.length-1]-=1);break}}return i}};function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jg(e)}function QY(e,n){if(Jg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(Jg(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function JY(e){var n=QY(e,"string");return Jg(n)==="symbol"?n:String(n)}function Ni(e,n,r){return n=JY(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function _7(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function zn(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?_7(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_7(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var V7=function(n,r){for(var i=arguments.length,o=new Array(i>2?i-2:0),u=2;u<i;u++)o[u-2]=arguments[u];return[...n.slice(0,r),...o,...n.slice(r)]},ep=function(n,r,i){for(var o=arguments.length,u=new Array(o>3?o-3:0),l=3;l<o;l++)u[l-3]=arguments[l];return[...n.slice(0,r),...u,...n.slice(r+i)]},j7=ep,aS=(e,n,r)=>{if(n.length===0)throw new Error("Cannot modify the editor");for(var i=Le.get(e,n),o=n.slice(),u=r(i);o.length>1;){var l=o.pop(),c=Le.get(e,o);u=zn(zn({},c),{},{children:ep(c.children,l,1,u)})}var d=o.pop();e.children=ep(e.children,d,1,u)},Rf=(e,n,r)=>{n.length===0?e.children=r(e.children):aS(e,n,i=>{if(Qe.isText(i))throw new Error("Cannot get the element at path [".concat(n,"] because it refers to a leaf node: ").concat(gr.stringify(i)));return zn(zn({},i),{},{children:r(i.children)})})},z7=(e,n,r)=>aS(e,n,i=>{if(!Qe.isText(i))throw new Error("Cannot get the leaf node at path [".concat(n,"] because it refers to a non-leaf node: ").concat(gr.stringify(i)));return r(i)}),eK={transform(e,n){var r=!1;switch(n.type){case"insert_node":{var{path:i,node:o}=n;Rf(e,J.parent(i),de=>{var me=i[i.length-1];if(me>de.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(i,"] because the destination is past the end of the node."));return V7(de,me,o)}),r=!0;break}case"insert_text":{var{path:u,offset:l,text:c}=n;if(c.length===0)break;z7(e,u,de=>{var me=de.text.slice(0,l),Ce=de.text.slice(l);return zn(zn({},de),{},{text:me+c+Ce})}),r=!0;break}case"merge_node":{var{path:d}=n,h=d[d.length-1],p=J.previous(d),m=p[p.length-1];Rf(e,J.parent(d),de=>{var me=de[h],Ce=de[m],$e;if(Qe.isText(me)&&Qe.isText(Ce))$e=zn(zn({},Ce),{},{text:Ce.text+me.text});else if(!Qe.isText(me)&&!Qe.isText(Ce))$e=zn(zn({},Ce),{},{children:Ce.children.concat(me.children)});else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(d,"] to nodes of different interfaces: ").concat(gr.stringify(me)," ").concat(gr.stringify(Ce)));return ep(de,m,2,$e)}),r=!0;break}case"move_node":{var{path:v,newPath:w}=n,b=v[v.length-1];if(J.isAncestor(v,w))throw new Error("Cannot move a path [".concat(v,"] to new path [").concat(w,"] because the destination is inside itself."));var E=Le.get(e,v);Rf(e,J.parent(v),de=>j7(de,b,1));var S=J.transform(v,n),T=S[S.length-1];Rf(e,J.parent(S),de=>V7(de,T,E)),r=!0;break}case"remove_node":{var{path:C}=n,B=C[C.length-1];if(Rf(e,J.parent(C),de=>j7(de,B,1)),e.selection){var P=zn({},e.selection);for(var[I,z]of be.points(P)){var Y=cn.transform(I,n);if(P!=null&&Y!=null)P[z]=Y;else{var te=void 0,re=void 0;for(var[ae,ce]of Le.texts(e))if(J.compare(ce,C)===-1)te=[ae,ce];else{re=[ae,ce];break}var ne=!1;te&&re&&(J.equals(re[1],C)?ne=!J.hasPrevious(re[1]):ne=J.common(te[1],C).length<J.common(re[1],C).length),te&&!ne?P[z]={path:te[1],offset:te[0].text.length}:re?P[z]={path:re[1],offset:0}:P=null}}e.selection=P}break}case"remove_text":{var{path:Q,offset:le,text:G}=n;if(G.length===0)break;z7(e,Q,de=>{var me=de.text.slice(0,le),Ce=de.text.slice(le+G.length);return zn(zn({},de),{},{text:me+Ce})}),r=!0;break}case"set_node":{var{path:R,properties:k,newProperties:H}=n;if(R.length===0)throw new Error("Cannot set properties on the root node!");aS(e,R,de=>{var me=zn({},de);for(var Ce in H){if(Ce==="children"||Ce==="text")throw new Error('Cannot set the "'.concat(Ce,'" property of nodes!'));var $e=H[Ce];$e==null?delete me[Ce]:me[Ce]=$e}for(var Pe in k)H.hasOwnProperty(Pe)||delete me[Pe];return me});break}case"set_selection":{var{newProperties:_}=n;if(_==null){e.selection=null;break}if(e.selection==null){if(!be.isRange(_))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(gr.stringify(_)," when there is no current selection."));e.selection=zn({},_);break}var X=zn({},e.selection);for(var U in _){var ie=_[U];if(ie==null){if(U==="anchor"||U==="focus")throw new Error('Cannot remove the "'.concat(U,'" selection property'));delete X[U]}else X[U]=ie}e.selection=X;break}case"split_node":{var{path:q,position:ue,properties:xe}=n,fe=q[q.length-1];if(q.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(q,"] because the root node cannot be split."));Rf(e,J.parent(q),de=>{var me=de[fe],Ce,$e;if(Qe.isText(me)){var Pe=me.text.slice(0,ue),ot=me.text.slice(ue);Ce=zn(zn({},me),{},{text:Pe}),$e=zn(zn({},xe),{},{text:ot})}else{var je=me.children.slice(0,ue),Ie=me.children.slice(ue);Ce=zn(zn({},me),{},{children:je}),$e=zn(zn({},xe),{},{children:Ie})}return ep(de,fe,1,Ce,$e)}),r=!0;break}}if(r&&e.selection){var Te=zn({},e.selection);for(var[ke,Z]of be.points(Te))Te[Z]=cn.transform(ke,n);e.selection=Te}}},tK={insertNodes(e,n,r){e.insertNodes(n,r)},liftNodes(e,n){e.liftNodes(n)},mergeNodes(e,n){e.mergeNodes(n)},moveNodes(e,n){e.moveNodes(n)},removeNodes(e,n){e.removeNodes(n)},setNodes(e,n,r){e.setNodes(n,r)},splitNodes(e,n){e.splitNodes(n)},unsetNodes(e,n,r){e.unsetNodes(n,r)},unwrapNodes(e,n){e.unwrapNodes(n)},wrapNodes(e,n,r){e.wrapNodes(n,r)}},nK={collapse(e,n){e.collapse(n)},deselect(e){e.deselect()},move(e,n){e.move(n)},select(e,n){e.select(n)},setPoint(e,n,r){e.setPoint(n,r)},setSelection(e,n){e.setSelection(n)}},ei=e=>typeof e=="object"&&e!==null,R4=(e,n)=>{for(var r in e){var i=e[r],o=n[r];if(Array.isArray(i)&&Array.isArray(o)){if(i.length!==o.length)return!1;for(var u=0;u<i.length;u++)if(i[u]!==o[u])return!1}else if(ei(i)&&ei(o)){if(!R4(i,o))return!1}else if(i!==o)return!1}for(var l in n)if(e[l]===void 0&&n[l]!==void 0)return!1;return!0};function rK(e,n){if(e==null)return{};var r={},i=Object.keys(e),o,u;for(u=0;u<i.length;u++)o=i[u],!(n.indexOf(o)>=0)&&(r[o]=e[o]);return r}function La(e,n){if(e==null)return{};var r=rK(e,n),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)i=u[o],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var iK=["anchor","focus"];function $7(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function oK(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?$7(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$7(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var be={edges(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=n,{anchor:i,focus:o}=e;return be.isBackward(e)===r?[i,o]:[o,i]},end(e){var[,n]=be.edges(e);return n},equals(e,n){return cn.equals(e.anchor,n.anchor)&&cn.equals(e.focus,n.focus)},surrounds(e,n){var r=be.intersection(e,n);return r?be.equals(r,n):!1},includes(e,n){if(be.isRange(n)){if(be.includes(e,n.anchor)||be.includes(e,n.focus))return!0;var[r,i]=be.edges(e),[o,u]=be.edges(n);return cn.isBefore(r,o)&&cn.isAfter(i,u)}var[l,c]=be.edges(e),d=!1,h=!1;return cn.isPoint(n)?(d=cn.compare(n,l)>=0,h=cn.compare(n,c)<=0):(d=J.compare(n,l.path)>=0,h=J.compare(n,c.path)<=0),d&&h},intersection(e,n){var r=La(e,iK),[i,o]=be.edges(e),[u,l]=be.edges(n),c=cn.isBefore(i,u)?u:i,d=cn.isBefore(o,l)?o:l;return cn.isBefore(d,c)?null:oK({anchor:c,focus:d},r)},isBackward(e){var{anchor:n,focus:r}=e;return cn.isAfter(n,r)},isCollapsed(e){var{anchor:n,focus:r}=e;return cn.equals(n,r)},isExpanded(e){return!be.isCollapsed(e)},isForward(e){return!be.isBackward(e)},isRange(e){return ei(e)&&cn.isPoint(e.anchor)&&cn.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[n]=be.edges(e);return n},transform(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===null)return null;var{affinity:i="inward"}=r,o,u;if(i==="inward"){var l=be.isCollapsed(e);be.isForward(e)?(o="forward",u=l?o:"backward"):(o="backward",u=l?o:"forward")}else i==="outward"?be.isForward(e)?(o="backward",u="forward"):(o="forward",u="backward"):(o=i,u=i);var c=cn.transform(e.anchor,n,{affinity:o}),d=cn.transform(e.focus,n,{affinity:u});return!c||!d?null:{anchor:c,focus:d}}},U7=function(n){var{deep:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ei(n))return!1;var i=typeof n.apply=="function";if(i)return!1;var o=r?Le.isNodeList(n.children):Array.isArray(n.children);return o},et={isAncestor(e){var{deep:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ei(e)&&Le.isNodeList(e.children,{deep:n})},isElement:U7,isElementList(e){var{deep:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(e)&&e.every(r=>et.isElement(r,{deep:n}))},isElementProps(e){return e.children!==void 0},isElementType:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return U7(n)&&n[i]===r},matches(e,n){for(var r in n)if(r!=="children"&&e[r]!==n[r])return!1;return!0}},sK=["children"],aK=["text"],Le={ancestor(e,n){var r=Le.get(e,n);if(Qe.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(n,"] because it refers to a text node instead: ").concat(gr.stringify(r)));return r},ancestors(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var i of J.ancestors(n,r)){var o=Le.ancestor(e,i),u=[o,i];yield u}}()},child(e,n){if(Qe.isText(e))throw new Error("Cannot get the child of a text node: ".concat(gr.stringify(e)));var r=e.children[n];if(r==null)throw new Error("Cannot get child at index `".concat(n,"` in node: ").concat(gr.stringify(e)));return r},children(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:i=!1}=r,o=Le.ancestor(e,n),{children:u}=o,l=i?u.length-1:0;i?l>=0:l<u.length;){var c=Le.child(o,l),d=n.concat(l);yield[c,d],l=i?l-1:l+1}}()},common(e,n,r){var i=J.common(n,r),o=Le.get(e,i);return[o,i]},descendant(e,n){var r=Le.get(e,n);if(F.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(n,"] because it refers to the root editor node instead: ").concat(gr.stringify(r)));return r},descendants(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,i]of Le.nodes(e,n))i.length!==0&&(yield[r,i])}()},elements(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,i]of Le.nodes(e,n))et.isElement(r)&&(yield[r,i])}()},extractProps(e){if(et.isAncestor(e)){var n=La(e,sK);return n}else{var n=La(e,aK);return n}},first(e,n){for(var r=n.slice(),i=Le.get(e,r);i&&!(Qe.isText(i)||i.children.length===0);)i=i.children[0],r.push(0);return[i,r]},fragment(e,n){if(Qe.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(gr.stringify(e)));var r=yU({children:e.children},i=>{var[o,u]=be.edges(n),l=Le.nodes(i,{reverse:!0,pass:v=>{var[,w]=v;return!be.includes(n,w)}});for(var[,c]of l){if(!be.includes(n,c)){var d=Le.parent(i,c),h=c[c.length-1];d.children.splice(h,1)}if(J.equals(c,u.path)){var p=Le.leaf(i,c);p.text=p.text.slice(0,u.offset)}if(J.equals(c,o.path)){var m=Le.leaf(i,c);m.text=m.text.slice(o.offset)}}F.isEditor(i)&&(i.selection=null)});return r.children},get(e,n){var r=Le.getIf(e,n);if(r===void 0)throw new Error("Cannot find a descendant at path [".concat(n,"] in node: ").concat(gr.stringify(e)));return r},getIf(e,n){for(var r=e,i=0;i<n.length;i++){var o=n[i];if(Qe.isText(r)||!r.children[o])return;r=r.children[o]}return r},has(e,n){for(var r=e,i=0;i<n.length;i++){var o=n[i];if(Qe.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode(e){var{deep:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Qe.isText(e)||et.isElement(e,{deep:n})||F.isEditor(e,{deep:n})},isNodeList(e){var{deep:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(e)&&e.every(r=>Le.isNode(r,{deep:n}))},last(e,n){for(var r=n.slice(),i=Le.get(e,r);i&&!(Qe.isText(i)||i.children.length===0);){var o=i.children.length-1;i=i.children[o],r.push(o)}return[i,r]},leaf(e,n){var r=Le.get(e,n);if(!Qe.isText(r))throw new Error("Cannot get the leaf node at path [".concat(n,"] because it refers to a non-leaf node: ").concat(gr.stringify(r)));return r},levels(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var i of J.levels(n,r)){var o=Le.get(e,i);yield[o,i]}}()},matches(e,n){return et.isElement(e)&&et.isElementProps(n)&&et.matches(e,n)||Qe.isText(e)&&Qe.isTextProps(n)&&Qe.matches(e,n)},nodes(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:i=!1}=n,{from:o=[],to:u}=n,l=new Set,c=[],d=e;!(u&&(i?J.isBefore(c,u):J.isAfter(c,u)));){if(l.has(d)||(yield[d,c]),!l.has(d)&&!Qe.isText(d)&&d.children.length!==0&&(r==null||r([d,c])===!1)){l.add(d);var h=i?d.children.length-1:0;J.isAncestor(c,o)&&(h=o[c.length]),c=c.concat(h),d=Le.get(e,c);continue}if(c.length===0)break;if(!i){var p=J.next(c);if(Le.has(e,p)){c=p,d=Le.get(e,c);continue}}if(i&&c[c.length-1]!==0){var m=J.previous(c);c=m,d=Le.get(e,c);continue}c=J.parent(c),d=Le.get(e,c),l.add(d)}}()},parent(e,n){var r=J.parent(n),i=Le.get(e,r);if(Qe.isText(i))throw new Error("Cannot get the parent of path [".concat(n,"] because it does not exist in the root."));return i},string(e){return Qe.isText(e)?e.text:e.children.map(Le.string).join("")},texts(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,i]of Le.nodes(e,n))Qe.isText(r)&&(yield[r,i])}()}};function W7(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Kn(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?W7(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W7(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var Ta={isNodeOperation(e){return Ta.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!ei(e))return!1;switch(e.type){case"insert_node":return J.isPath(e.path)&&Le.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"merge_node":return typeof e.position=="number"&&J.isPath(e.path)&&ei(e.properties);case"move_node":return J.isPath(e.path)&&J.isPath(e.newPath);case"remove_node":return J.isPath(e.path)&&Le.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"set_node":return J.isPath(e.path)&&ei(e.properties)&&ei(e.newProperties);case"set_selection":return e.properties===null&&be.isRange(e.newProperties)||e.newProperties===null&&be.isRange(e.properties)||ei(e.properties)&&ei(e.newProperties);case"split_node":return J.isPath(e.path)&&typeof e.position=="number"&&ei(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(n=>Ta.isOperation(n))},isSelectionOperation(e){return Ta.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Ta.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return Kn(Kn({},e),{},{type:"remove_node"});case"insert_text":return Kn(Kn({},e),{},{type:"remove_text"});case"merge_node":return Kn(Kn({},e),{},{type:"split_node",path:J.previous(e.path)});case"move_node":{var{newPath:n,path:r}=e;if(J.equals(n,r))return e;if(J.isSibling(r,n))return Kn(Kn({},e),{},{path:n,newPath:r});var i=J.transform(r,e),o=J.transform(J.next(r),e);return Kn(Kn({},e),{},{path:i,newPath:o})}case"remove_node":return Kn(Kn({},e),{},{type:"insert_node"});case"remove_text":return Kn(Kn({},e),{},{type:"insert_text"});case"set_node":{var{properties:u,newProperties:l}=e;return Kn(Kn({},e),{},{properties:l,newProperties:u})}case"set_selection":{var{properties:c,newProperties:d}=e;return c==null?Kn(Kn({},e),{},{properties:d,newProperties:null}):d==null?Kn(Kn({},e),{},{properties:null,newProperties:c}):Kn(Kn({},e),{},{properties:d,newProperties:c})}case"split_node":return Kn(Kn({},e),{},{type:"merge_node",path:J.next(e.path)})}}},uK=function(n){var{deep:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ei(n))return!1;var i=typeof n.addMark=="function"&&typeof n.apply=="function"&&typeof n.deleteFragment=="function"&&typeof n.insertBreak=="function"&&typeof n.insertSoftBreak=="function"&&typeof n.insertFragment=="function"&&typeof n.insertNode=="function"&&typeof n.insertText=="function"&&typeof n.isElementReadOnly=="function"&&typeof n.isInline=="function"&&typeof n.isSelectable=="function"&&typeof n.isVoid=="function"&&typeof n.normalizeNode=="function"&&typeof n.onChange=="function"&&typeof n.removeMark=="function"&&typeof n.getDirtyPaths=="function"&&(n.marks===null||ei(n.marks))&&(n.selection===null||be.isRange(n.selection))&&(!r||Le.isNodeList(n.children))&&Ta.isOperationList(n.operations);return i},F={above(e,n){return e.above(n)},addMark(e,n,r){e.addMark(n,r)},after(e,n,r){return e.after(n,r)},before(e,n,r){return e.before(n,r)},deleteBackward(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=n;e.deleteBackward(r)},deleteForward(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=n;e.deleteForward(r)},deleteFragment(e,n){e.deleteFragment(n)},edges(e,n){return e.edges(n)},elementReadOnly(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(n)},end(e,n){return e.end(n)},first(e,n){return e.first(n)},fragment(e,n){return e.fragment(n)},hasBlocks(e,n){return e.hasBlocks(n)},hasInlines(e,n){return e.hasInlines(n)},hasPath(e,n){return e.hasPath(n)},hasTexts(e,n){return e.hasTexts(n)},insertBreak(e){e.insertBreak()},insertFragment(e,n,r){e.insertFragment(n,r)},insertNode(e,n){e.insertNode(n)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,n){e.insertText(n)},isBlock(e,n){return e.isBlock(n)},isEdge(e,n,r){return e.isEdge(n,r)},isEditor(e){return uK(e)},isElementReadOnly(e,n){return e.isElementReadOnly(n)},isEmpty(e,n){return e.isEmpty(n)},isEnd(e,n,r){return e.isEnd(n,r)},isInline(e,n){return e.isInline(n)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,n){return e.isSelectable(n)},isStart(e,n,r){return e.isStart(n,r)},isVoid(e,n){return e.isVoid(n)},last(e,n){return e.last(n)},leaf(e,n,r){return e.leaf(n,r)},levels(e,n){return e.levels(n)},marks(e){return e.getMarks()},next(e,n){return e.next(n)},node(e,n,r){return e.node(n,r)},nodes(e,n){return e.nodes(n)},normalize(e,n){e.normalize(n)},parent(e,n,r){return e.parent(n,r)},path(e,n,r){return e.path(n,r)},pathRef(e,n,r){return e.pathRef(n,r)},pathRefs(e){return e.pathRefs()},point(e,n,r){return e.point(n,r)},pointRef(e,n,r){return e.pointRef(n,r)},pointRefs(e){return e.pointRefs()},positions(e,n){return e.positions(n)},previous(e,n){return e.previous(n)},range(e,n,r){return e.range(n,r)},rangeRef(e,n,r){return e.rangeRef(n,r)},rangeRefs(e){return e.rangeRefs()},removeMark(e,n){e.removeMark(n)},setNormalizing(e,n){e.setNormalizing(n)},start(e,n){return e.start(n)},string(e,n,r){return e.string(n,r)},unhangRange(e,n,r){return e.unhangRange(n,r)},void(e,n){return e.void(n)},withoutNormalizing(e,n){e.withoutNormalizing(n)},shouldMergeNodesRemovePrevNode:(e,n,r)=>e.shouldMergeNodesRemovePrevNode(n,r)},lK={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(J.isPath)}};function X7(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Y7(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?X7(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X7(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var cn={compare(e,n){var r=J.compare(e.path,n.path);return r===0?e.offset<n.offset?-1:e.offset>n.offset?1:0:r},isAfter(e,n){return cn.compare(e,n)===1},isBefore(e,n){return cn.compare(e,n)===-1},equals(e,n){return e.offset===n.offset&&J.equals(e.path,n.path)},isPoint(e){return ei(e)&&typeof e.offset=="number"&&J.isPath(e.path)},transform(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===null)return null;var{affinity:i="forward"}=r,{path:o,offset:u}=e;switch(n.type){case"insert_node":case"move_node":{o=J.transform(o,n,r);break}case"insert_text":{J.equals(n.path,o)&&(n.offset<u||n.offset===u&&i==="forward")&&(u+=n.text.length);break}case"merge_node":{J.equals(n.path,o)&&(u+=n.position),o=J.transform(o,n,r);break}case"remove_text":{J.equals(n.path,o)&&n.offset<=u&&(u-=Math.min(u-n.offset,n.text.length));break}case"remove_node":{if(J.equals(n.path,o)||J.isAncestor(n.path,o))return null;o=J.transform(o,n,r);break}case"split_node":{if(J.equals(n.path,o)){if(n.position===u&&i==null)return null;(n.position<u||n.position===u&&i==="forward")&&(u-=n.position,o=J.transform(o,n,Y7(Y7({},r),{},{affinity:"forward"})))}else o=J.transform(o,n,r);break}default:return e}return{path:o,offset:u}}},K7=void 0,gr={setScrubber(e){K7=e},stringify(e){return JSON.stringify(e,K7)}},cK=["text"],fK=["anchor","focus","merge"];function q7(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Ea(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?q7(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var Qe={equals(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:i=!1}=r;function o(u){var l=La(u,cK);return l}return R4(i?o(e):e,i?o(n):n)},isText(e){return ei(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(n=>Qe.isText(n))},isTextProps(e){return e.text!==void 0},matches(e,n){for(var r in n)if(r!=="text"&&(!e.hasOwnProperty(r)||e[r]!==n[r]))return!1;return!0},decorations(e,n){var r=[{leaf:Ea({},e)}];for(var i of n){var{anchor:o,focus:u,merge:l}=i,c=La(i,fK),[d,h]=be.edges(i),p=[],m=0,v=d.offset,w=h.offset,b=l??Object.assign;for(var{leaf:E}of r){var{length:S}=E.text,T=m;if(m+=S,v<=T&&m<=w){b(E,c),p.push({leaf:E});continue}if(v!==w&&(v===m||w===T)||v>m||w<T||w===T&&T!==0){p.push({leaf:E});continue}var C=E,B=void 0,P=void 0;if(w<m){var I=w-T;P={leaf:Ea(Ea({},C),{},{text:C.text.slice(I)})},C=Ea(Ea({},C),{},{text:C.text.slice(0,I)})}if(v>T){var z=v-T;B={leaf:Ea(Ea({},C),{},{text:C.text.slice(0,z)})},C=Ea(Ea({},C),{},{text:C.text.slice(z)})}b(C,c),B&&p.push(B),p.push({leaf:C}),P&&p.push(P)}r=p}if(r.length>1){var Y=0;for(var[te,re]of r.entries()){var ae=Y,ce=ae+re.leaf.text.length,ne={start:ae,end:ce};te===0&&(ne.isFirst=!0),te===r.length-1&&(ne.isLast=!0),re.position=ne,Y=ce}}return r}},uS=e=>e.selection?e.selection:e.children.length>0?F.end(e,[]):[0],bd=(e,n)=>{var[r]=F.node(e,n);return i=>i===r},lS=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=!r,o=r?vK(n):n,u=Ht.None,l=Ht.None,c=0,d=null,h=null;for(var p of o){var m=p.codePointAt(0);if(!m)break;var v=RK(p,m);if([u,l]=i?[l,v]:[v,u],Hf(u,Ht.ZWJ)&&Hf(l,Ht.ExtPict)&&(i?d=Z7(n.substring(0,c)):d=Z7(n.substring(0,n.length-c)),!d)||Hf(u,Ht.RI)&&Hf(l,Ht.RI)&&(h!==null?h=!h:i?h=!0:h=OK(n.substring(0,n.length-c)),!h)||u!==Ht.None&&l!==Ht.None&&kK(u,l))break;c+=p.length}return c||1},dK=/\s/,hK=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,gK=/['\u2018\u2019]/,pK=function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=0,o=!1;n.length>0;){var u=lS(n,r),[l,c]=cS(n,u,r);if(mK(l,c,r))o=!0,i+=u;else if(!o)i+=u;else break;n=c}return i},cS=(e,n,r)=>{if(r){var i=e.length-n;return[e.slice(i,e.length),e.slice(0,i)]}return[e.slice(0,n),e.slice(n)]},mK=function e(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(dK.test(n))return!1;if(gK.test(n)){var o=lS(r,i),[u,l]=cS(r,o,i);if(e(u,l,i))return!0}return!hK.test(n)},vK=function*(n){for(var r=n.length-1,i=0;i<n.length;i++){var o=n.charAt(r-i);if(wK(o.charCodeAt(0))){var u=n.charAt(r-i-1);if(yK(u.charCodeAt(0))){yield u+o,i++;continue}}yield o}},yK=e=>e>=55296&&e<=56319,wK=e=>e>=56320&&e<=57343,Ht;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Ht||(Ht={}));var xK=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,bK=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,CK=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,EK=/^[\u1100-\u115F\uA960-\uA97C]$/,DK=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,SK=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,TK=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,AK=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,PK=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,RK=(e,n)=>{var r=Ht.Any;return e.search(xK)!==-1&&(r|=Ht.Extend),n===8205&&(r|=Ht.ZWJ),n>=127462&&n<=127487&&(r|=Ht.RI),e.search(bK)!==-1&&(r|=Ht.Prepend),e.search(CK)!==-1&&(r|=Ht.SpacingMark),e.search(EK)!==-1&&(r|=Ht.L),e.search(DK)!==-1&&(r|=Ht.V),e.search(SK)!==-1&&(r|=Ht.T),e.search(TK)!==-1&&(r|=Ht.LV),e.search(AK)!==-1&&(r|=Ht.LVT),e.search(PK)!==-1&&(r|=Ht.ExtPict),r};function Hf(e,n){return(e&n)!==0}var BK=[[Ht.L,Ht.L|Ht.V|Ht.LV|Ht.LVT],[Ht.LV|Ht.V,Ht.V|Ht.T],[Ht.LVT|Ht.T,Ht.T],[Ht.Any,Ht.Extend|Ht.ZWJ],[Ht.Any,Ht.SpacingMark],[Ht.Prepend,Ht.Any],[Ht.ZWJ,Ht.ExtPict],[Ht.RI,Ht.RI]];function kK(e,n){return BK.findIndex(r=>Hf(e,r[0])&&Hf(n,r[1]))===-1}var MK=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Z7=e=>e.search(MK)!==-1,NK=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,OK=e=>{var n=e.match(NK);if(n===null)return!1;var r=n[0].length/2;return r%2===1},FK={delete(e,n){e.delete(n)},insertFragment(e,n,r){e.insertFragment(n,r)},insertText(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{voids:i=!1}=r,{at:o=uS(e)}=r;if(J.isPath(o)&&(o=F.range(e,o)),be.isRange(o))if(be.isCollapsed(o))o=o.anchor;else{var u=be.end(o);if(!i&&F.void(e,{at:u}))return;var l=be.start(o),c=F.pointRef(e,l),d=F.pointRef(e,u);Re.delete(e,{at:o,voids:i});var h=c.unref(),p=d.unref();o=h||p,Re.setSelection(e,{anchor:o,focus:o})}if(!(!i&&F.void(e,{at:o})||F.elementReadOnly(e,{at:o}))){var{path:m,offset:v}=o;n.length>0&&e.apply({type:"insert_text",path:m,offset:v,text:n})}})}};function Q7(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function yv(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Q7(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q7(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var Re=yv(yv(yv(yv({},eK),tK),nK),FK),Wv=new WeakMap,LK=e=>Wv.get(e)||!1,IK=(e,n,r)=>{var i=Wv.get(e)||!1;Wv.set(e,!0);try{n(),r()}finally{Wv.set(e,i)}};function B4(e,n,r){var i=w1.get(e)||[],o=x1.get(e)||new Set,u,l,c=m=>{if(m){var v=m.join(",");l.has(v)||(l.add(v),u.push(m))}};if(r){u=[],l=new Set;for(var d of i){var h=r(d);c(h)}}else u=i,l=o;for(var p of n)c(p);w1.set(e,u),x1.set(e,l)}var HK=(e,n)=>{for(var r of F.pathRefs(e))KY.transform(r,n);for(var i of F.pointRefs(e))qY.transform(i,n);for(var o of F.rangeRefs(e))ZY.transform(o,n);if(!LK(e)){var u=J.operationCanTransformPath(n)?l=>J.transform(l,n):void 0;B4(e,e.getDirtyPaths(n),u)}Re.transform(e,n),e.operations.push(n),F.normalize(e,{operation:n}),n.type==="set_selection"&&(e.marks=null),Fg.get(e)||(Fg.set(e,!0),Promise.resolve().then(()=>{Fg.set(e,!1),e.onChange({operation:n}),e.operations=[]}))},GK=(e,n)=>{switch(n.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=n;return J.levels(r)}case"insert_node":{var{node:i,path:o}=n,u=J.levels(o),l=Qe.isText(i)?[]:Array.from(Le.nodes(i),ae=>{var[,ce]=ae;return o.concat(ce)});return[...u,...l]}case"merge_node":{var{path:c}=n,d=J.ancestors(c),h=J.previous(c);return[...d,h]}case"move_node":{var{path:p,newPath:m}=n;if(J.equals(p,m))return[];var v=[],w=[];for(var b of J.ancestors(p)){var E=J.transform(b,n);v.push(E)}for(var S of J.ancestors(m)){var T=J.transform(S,n);w.push(T)}var C=w[w.length-1],B=m[m.length-1],P=C.concat(B);return[...v,...w,P]}case"remove_node":{var{path:I}=n,z=J.ancestors(I);return[...z]}case"split_node":{var{path:Y}=n,te=J.levels(Y),re=J.next(Y);return[...te,re]}default:return[]}},_K=e=>{var{selection:n}=e;return n?Le.fragment(e,n):[]},VK=(e,n,r)=>{var[i,o]=n;if(!Qe.isText(i)){if(et.isElement(i)&&i.children.length===0){var u={text:""};Re.insertNodes(e,u,{at:o.concat(0),voids:!0});return}for(var l=F.isEditor(i)?!1:et.isElement(i)&&(e.isInline(i)||i.children.length===0||Qe.isText(i.children[0])||e.isInline(i.children[0])),c=0,d=0;d<i.children.length;d++,c++){var h=Le.get(e,o);if(!Qe.isText(h)){var p=h.children[c],m=h.children[c-1],v=d===i.children.length-1,w=Qe.isText(p)||et.isElement(p)&&e.isInline(p);if(w!==l)w?r!=null&&r.fallbackElement?Re.wrapNodes(e,r.fallbackElement(),{at:o.concat(c),voids:!0}):Re.removeNodes(e,{at:o.concat(c),voids:!0}):Re.unwrapNodes(e,{at:o.concat(c),voids:!0}),c--;else if(et.isElement(p)){if(e.isInline(p)){if(m==null||!Qe.isText(m)){var b={text:""};Re.insertNodes(e,b,{at:o.concat(c),voids:!0}),c++}else if(v){var E={text:""};Re.insertNodes(e,E,{at:o.concat(c+1),voids:!0}),c++}}}else{if(!Qe.isText(p)&&!("children"in p)){var S=p;S.children=[]}m!=null&&Qe.isText(m)&&(Qe.equals(p,m,{loose:!0})?(Re.mergeNodes(e,{at:o.concat(c),voids:!0}),c--):m.text===""?(Re.removeNodes(e,{at:o.concat(c-1),voids:!0}),c--):p.text===""&&(Re.removeNodes(e,{at:o.concat(c),voids:!0}),c--))}}}}},jK=(e,n)=>{var{iteration:r,initialDirtyPathsLength:i}=n,o=i*42;if(r>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},zK=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:i=!1,mode:o="lowest",at:u=n.selection,match:l}=r;if(u){var c=F.path(n,u);if(!be.isRange(u)||J.equals(u.focus.path,u.anchor.path)){if(c.length===0)return;c=J.parent(c)}var d=o==="lowest",[h]=F.levels(n,{at:c,voids:i,match:l,reverse:d});return h}};function J7(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function eB(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?J7(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J7(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var $K=(e,n,r)=>{var{selection:i}=e;if(i){var o=(m,v)=>{if(!Qe.isText(m))return!1;var[w,b]=F.parent(e,v);return!e.isVoid(w)||e.markableVoid(w)},u=be.isExpanded(i),l=!1;if(!u){var[c,d]=F.node(e,i);if(c&&o(c,d)){var[h]=F.parent(e,d);l=h&&e.markableVoid(h)}}if(u||l)Re.setNodes(e,{[n]:r},{match:o,split:!0,voids:!0});else{var p=eB(eB({},F.marks(e)||{}),{},{[n]:r});e.marks=p,Fg.get(e)||e.onChange()}}};function tB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function nB(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?tB(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var UK=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.point(n,r,{edge:"end"}),u=F.end(n,[]),l={anchor:o,focus:u},{distance:c=1}=i,d=0,h;for(var p of F.positions(n,nB(nB({},i),{},{at:l}))){if(d>c)break;d!==0&&(h=p),d++}return h};function rB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function iB(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?rB(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var WK=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.start(n,[]),u=F.point(n,r,{edge:"start"}),l={anchor:o,focus:u},{distance:c=1}=i,d=0,h;for(var p of F.positions(n,iB(iB({},i),{},{at:l,reverse:!0}))){if(d>c)break;d!==0&&(h=p),d++}return h},XK=(e,n)=>{var{selection:r}=e;r&&be.isCollapsed(r)&&Re.delete(e,{unit:n,reverse:!0})},YK=(e,n)=>{var{selection:r}=e;r&&be.isCollapsed(r)&&Re.delete(e,{unit:n})},KK=function(n){var{direction:r="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:i}=n;i&&be.isExpanded(i)&&Re.delete(n,{reverse:r==="backward"})},qK=(e,n)=>[F.start(e,n),F.end(e,n)];function oB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function sB(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?oB(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var ZK=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(n,sB(sB({},r),{},{match:i=>et.isElement(i)&&F.isElementReadOnly(n,i)}))},QK=(e,n)=>F.point(e,n,{edge:"end"}),JK=(e,n)=>{var r=F.path(e,n,{edge:"start"});return F.node(e,r)},eq=(e,n)=>{var r=F.range(e,n);return Le.fragment(e,r)};function aB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function uB(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?aB(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var tq=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(n,uB(uB({},r),{},{match:i=>et.isElement(i)&&F.isVoid(n,i)}))},nq=(e,n)=>n.children.some(r=>et.isElement(r)&&F.isBlock(e,r)),rq=(e,n)=>n.children.some(r=>Qe.isText(r)||F.isInline(e,r)),iq=(e,n)=>Le.has(e,n),oq=(e,n)=>n.children.every(r=>Qe.isText(r)),sq=e=>{Re.splitNodes(e,{always:!0})},aq=(e,n,r)=>{Re.insertNodes(e,n,r)},uq=e=>{Re.splitNodes(e,{always:!0})};function lB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function lq(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?lB(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var cq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:u}=n;if(o){if(u){var l=lq({text:r},u);Re.insertNodes(n,l,{at:i.at,voids:i.voids})}else Re.insertText(n,r,i);n.marks=null}},fq=(e,n)=>!e.isInline(n),dq=(e,n,r)=>F.isStart(e,n,r)||F.isEnd(e,n,r),hq=(e,n)=>{var{children:r}=n,[i]=r;return r.length===0||r.length===1&&Qe.isText(i)&&i.text===""&&!e.isVoid(n)},gq=(e,n,r)=>{var i=F.end(e,r);return cn.equals(n,i)},pq=e=>{var n=P4.get(e);return n===void 0?!0:n},mq=(e,n,r)=>{if(n.offset!==0)return!1;var i=F.start(e,r);return cn.equals(n,i)},vq=(e,n)=>{var r=F.path(e,n,{edge:"end"});return F.node(e,r)},yq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(n,r,i),u=Le.leaf(n,o);return[u,o]};function wq(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=e.selection,reverse:i=!1,voids:o=!1}=n,{match:u}=n;if(u==null&&(u=()=>!0),!!r){var l=[],c=F.path(e,r);for(var[d,h]of Le.levels(e,c))if(u(d,h)&&(l.push([d,h]),!o&&et.isElement(d)&&F.isVoid(e,d)))break;i&&l.reverse(),yield*l}}()}var xq=["text"],bq=["text"],Cq=function(n){var{marks:r,selection:i}=n;if(!i)return null;var{anchor:o,focus:u}=i;if(r)return r;if(be.isExpanded(i)){var l=be.isBackward(i);l&&([u,o]=[o,u]);var c=F.isEnd(n,o,o.path);if(c){var d=F.after(n,o);d&&(o=d)}var[h]=F.nodes(n,{match:Qe.isText,at:{anchor:o,focus:u}});if(h){var[p]=h,m=La(p,xq);return m}else return{}}var{path:v}=o,[w]=F.leaf(n,v);if(o.offset===0){var b=F.previous(n,{at:v,match:Qe.isText}),E=F.above(n,{match:I=>et.isElement(I)&&F.isVoid(n,I)&&n.markableVoid(I)});if(!E){var S=F.above(n,{match:I=>et.isElement(I)&&F.isBlock(n,I)});if(b&&S){var[T,C]=b,[,B]=S;J.isAncestor(B,C)&&(w=T)}}}var P=La(w,bq);return P},Eq=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:i="lowest",voids:o=!1}=r,{match:u,at:l=n.selection}=r;if(l){var c=F.after(n,l,{voids:o});if(c){var[,d]=F.last(n,[]),h=[c.path,d];if(J.isPath(l)&&l.length===0)throw new Error("Cannot get the next node from the root node!");if(u==null)if(J.isPath(l)){var[p]=F.parent(n,l);u=v=>p.children.includes(v)}else u=()=>!0;var[m]=F.nodes(n,{at:h,match:u,mode:i,voids:o});return m}}},Dq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(n,r,i),u=Le.get(n,o);return[u,o]};function Sq(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=e.selection,mode:i="all",universal:o=!1,reverse:u=!1,voids:l=!1,pass:c,ignoreNonSelectable:d=!1}=n,{match:h}=n;if(h||(h=()=>!0),!!r){var p,m;if(lK.isSpan(r))p=r[0],m=r[1];else{var v=F.path(e,r,{edge:"start"}),w=F.path(e,r,{edge:"end"});p=u?w:v,m=u?v:w}var b=Le.nodes(e,{reverse:u,from:p,to:m,pass:I=>{var[z,Y]=I;return c&&c([z,Y])?!0:et.isElement(z)?!!(!l&&(F.isVoid(e,z)||F.isElementReadOnly(e,z))||d&&!F.isSelectable(e,z)):!1}}),E=[],S;for(var[T,C]of b)if(!(d&&et.isElement(T)&&!F.isSelectable(e,T))){var B=S&&J.compare(C,S[1])===0;if(!(i==="highest"&&B)){if(!h(T,C)){if(o&&!B&&Qe.isText(T))return;continue}if(i==="lowest"&&B){S=[T,C];continue}var P=i==="lowest"?S:[T,C];P&&(o?E.push(P):yield P),S=[T,C]}}i==="lowest"&&S&&(o?E.push(S):yield S),o&&(yield*E)}}()}var Tq=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:i=!1,operation:o}=r,u=p=>w1.get(p)||[],l=p=>x1.get(p)||new Set,c=p=>{var m=u(p).pop(),v=m.join(",");return l(p).delete(v),m};if(F.isNormalizing(n)){if(i){var d=Array.from(Le.nodes(n),p=>{var[,m]=p;return m}),h=new Set(d.map(p=>p.join(",")));w1.set(n,d),x1.set(n,h)}u(n).length!==0&&F.withoutNormalizing(n,()=>{for(var p of u(n))if(Le.has(n,p)){var m=F.node(n,p),[v,w]=m;et.isElement(v)&&v.children.length===0&&n.normalizeNode(m,{operation:o})}for(var b=u(n),E=b.length,S=0;b.length!==0;){if(!n.shouldNormalize({dirtyPaths:b,iteration:S,initialDirtyPathsLength:E,operation:o}))return;var T=c(n);if(Le.has(n,T)){var C=F.node(n,T);n.normalizeNode(C,{operation:o})}S++,b=u(n)}})}},Aq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(n,r,i),u=J.parent(o),l=F.node(n,u);return l},Pq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=i,u={current:r,affinity:o,unref(){var{current:c}=u,d=F.pathRefs(n);return d.delete(u),u.current=null,c}},l=F.pathRefs(n);return l.add(u),u},Rq=e=>{var n=I7.get(e);return n||(n=new Set,I7.set(e,n)),n},Bq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:u}=i;if(J.isPath(r)){if(u==="start"){var[,l]=Le.first(n,r);r=l}else if(u==="end"){var[,c]=Le.last(n,r);r=c}}return be.isRange(r)&&(u==="start"?r=be.start(r):u==="end"?r=be.end(r):r=J.common(r.anchor.path,r.focus.path)),cn.isPoint(r)&&(r=r.path),o!=null&&(r=r.slice(0,o)),r},kq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=i,u={current:r,affinity:o,unref(){var{current:c}=u,d=F.pointRefs(n);return d.delete(u),u.current=null,c}},l=F.pointRefs(n);return l.add(u),u},Mq=e=>{var n=H7.get(e);return n||(n=new Set,H7.set(e,n)),n},Nq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=i;if(J.isPath(r)){var u;if(o==="end"){var[,l]=Le.last(n,r);u=l}else{var[,c]=Le.first(n,r);u=c}var d=Le.get(n,u);if(!Qe.isText(d))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(r,"] because it has no ").concat(o," text node."));return{path:u,offset:o==="end"?d.text.length:0}}if(be.isRange(r)){var[h,p]=be.edges(r);return o==="start"?h:p}return r};function Oq(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=e.selection,unit:i="offset",reverse:o=!1,voids:u=!1,ignoreNonSelectable:l=!1}=n;if(!r)return;var c=F.range(e,r),[d,h]=be.edges(c),p=o?h:d,m=!1,v="",w=0,b=0,E=0;for(var[S,T]of F.nodes(e,{at:r,reverse:o,voids:u,ignoreNonSelectable:l})){if(et.isElement(S)){if(!u&&(e.isVoid(S)||e.isElementReadOnly(S))){yield F.start(e,T);continue}if(e.isInline(S))continue;if(F.hasInlines(e,S)){var C=J.isAncestor(T,h.path)?h:F.end(e,T),B=J.isAncestor(T,d.path)?d:F.start(e,T);v=F.string(e,{anchor:B,focus:C},{voids:u}),m=!0}}if(Qe.isText(S)){var P=J.equals(T,p.path);for(P?(b=o?p.offset:S.text.length-p.offset,E=p.offset):(b=S.text.length,E=o?b:0),(P||m||i==="offset")&&(yield{path:T,offset:E},m=!1);;){if(w===0){if(v==="")break;w=I(v,i,o),v=cS(v,w,o)[1]}if(E=o?E-w:E+w,b=b-w,b<0){w=-b;break}w=0,yield{path:T,offset:E}}}}function I(z,Y,te){return Y==="character"?lS(z,te):Y==="word"?pK(z,te):Y==="line"||Y==="block"?z.length:1}}()}var Fq=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:i="lowest",voids:o=!1}=r,{match:u,at:l=n.selection}=r;if(l){var c=F.before(n,l,{voids:o});if(c){var[,d]=F.first(n,[]),h=[c.path,d];if(J.isPath(l)&&l.length===0)throw new Error("Cannot get the previous node from the root node!");if(u==null)if(J.isPath(l)){var[p]=F.parent(n,l);u=v=>p.children.includes(v)}else u=()=>!0;var[m]=F.nodes(n,{reverse:!0,at:h,match:u,mode:i,voids:o});return m}}},Lq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=i,u={current:r,affinity:o,unref(){var{current:c}=u,d=F.rangeRefs(n);return d.delete(u),u.current=null,c}},l=F.rangeRefs(n);return l.add(u),u},Iq=e=>{var n=G7.get(e);return n||(n=new Set,G7.set(e,n)),n},Hq=(e,n,r)=>{if(be.isRange(n)&&!r)return n;var i=F.start(e,n),o=F.end(e,r||n);return{anchor:i,focus:o}};function cB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Gq(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?cB(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var _q=(e,n)=>{var{selection:r}=e;if(r){var i=(p,m)=>{if(!Qe.isText(p))return!1;var[v,w]=F.parent(e,m);return!e.isVoid(v)||e.markableVoid(v)},o=be.isExpanded(r),u=!1;if(!o){var[l,c]=F.node(e,r);if(l&&i(l,c)){var[d]=F.parent(e,c);u=d&&e.markableVoid(d)}}if(o||u)Re.unsetNodes(e,n,{match:i,split:!0,voids:!0});else{var h=Gq({},F.marks(e)||{});delete h[n],e.marks=h,Fg.get(e)||e.onChange()}}},Vq=(e,n)=>{P4.set(e,n)},jq=(e,n)=>F.point(e,n,{edge:"start"}),zq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=i,u=F.range(n,r),[l,c]=be.edges(u),d="";for(var[h,p]of F.nodes(n,{at:u,match:Qe.isText,voids:o})){var m=h.text;J.equals(p,c.path)&&(m=m.slice(0,c.offset)),J.equals(p,l.path)&&(m=m.slice(l.offset)),d+=m}return d},$q=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=i,[u,l]=be.edges(r);if(u.offset!==0||l.offset!==0||be.isCollapsed(r)||J.hasPrevious(l.path))return r;var c=F.above(n,{at:l,match:b=>et.isElement(b)&&F.isBlock(n,b),voids:o}),d=c?c[1]:[],h=F.start(n,u),p={anchor:h,focus:l},m=!0;for(var[v,w]of F.nodes(n,{at:p,match:Qe.isText,reverse:!0,voids:o})){if(m){m=!1;continue}if(v.text!==""||J.isBefore(w,d)){l={path:w,offset:v.text.length};break}}return{anchor:u,focus:l}},Uq=(e,n)=>{var r=F.isNormalizing(e);F.setNormalizing(e,!1);try{n()}finally{F.setNormalizing(e,r)}F.normalize(e)},Wq=(e,n,r)=>{var[i,o]=n;return et.isElement(i)&&F.isEmpty(e,i)||Qe.isText(i)&&i.text===""&&o[o.length-1]!==0},Xq=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(n,()=>{var i,o,{reverse:u=!1,unit:l="character",distance:c=1,voids:d=!1}=r,{at:h=n.selection,hanging:p=!1}=r;if(h){var m=!1;if(be.isRange(h)&&be.isCollapsed(h)&&(m=!0,h=h.anchor),cn.isPoint(h)){var v=F.void(n,{at:h,mode:"highest"});if(!d&&v){var[,w]=v;h=w}else{var b={unit:l,distance:c},E=u?F.before(n,h,b)||F.start(n,[]):F.after(n,h,b)||F.end(n,[]);h={anchor:h,focus:E},p=!0}}if(J.isPath(h)){Re.removeNodes(n,{at:h,voids:d});return}if(!be.isCollapsed(h)){if(!p){var[,S]=be.edges(h),T=F.end(n,[]);cn.equals(S,T)||(h=F.unhangRange(n,h,{voids:d}))}var[C,B]=be.edges(h),P=F.above(n,{match:Pe=>et.isElement(Pe)&&F.isBlock(n,Pe),at:C,voids:d}),I=F.above(n,{match:Pe=>et.isElement(Pe)&&F.isBlock(n,Pe),at:B,voids:d}),z=P&&I&&!J.equals(P[1],I[1]),Y=J.equals(C.path,B.path),te=d?null:(i=F.void(n,{at:C,mode:"highest"}))!==null&&i!==void 0?i:F.elementReadOnly(n,{at:C,mode:"highest"}),re=d?null:(o=F.void(n,{at:B,mode:"highest"}))!==null&&o!==void 0?o:F.elementReadOnly(n,{at:B,mode:"highest"});if(te){var ae=F.before(n,C);ae&&P&&J.isAncestor(P[1],ae.path)&&(C=ae)}if(re){var ce=F.after(n,B);ce&&I&&J.isAncestor(I[1],ce.path)&&(B=ce)}var ne=[],Q;for(var le of F.nodes(n,{at:h,voids:d})){var[G,R]=le;Q&&J.compare(R,Q)===0||(!d&&et.isElement(G)&&(F.isVoid(n,G)||F.isElementReadOnly(n,G))||!J.isCommon(R,C.path)&&!J.isCommon(R,B.path))&&(ne.push(le),Q=R)}var k=Array.from(ne,Pe=>{var[,ot]=Pe;return F.pathRef(n,ot)}),H=F.pointRef(n,C),_=F.pointRef(n,B),X="";if(!Y&&!te){var U=H.current,[ie]=F.leaf(n,U),{path:q}=U,{offset:ue}=C,xe=ie.text.slice(ue);xe.length>0&&(n.apply({type:"remove_text",path:q,offset:ue,text:xe}),X=xe)}if(k.reverse().map(Pe=>Pe.unref()).filter(Pe=>Pe!==null).forEach(Pe=>Re.removeNodes(n,{at:Pe,voids:d})),!re){var fe=_.current,[Te]=F.leaf(n,fe),{path:ke}=fe,Z=Y?C.offset:0,de=Te.text.slice(Z,B.offset);de.length>0&&(n.apply({type:"remove_text",path:ke,offset:Z,text:de}),X=de)}!Y&&z&&_.current&&H.current&&Re.mergeNodes(n,{at:_.current,hanging:!0,voids:d}),m&&u&&l==="character"&&X.length>1&&X.match(/[\u0980-\u09FF\u0E00-\u0E7F]+/)&&Re.insertText(n,X.slice(0,X.length-c));var me=H.unref(),Ce=_.unref(),$e=u?me||Ce:Ce||me;r.at==null&&$e&&Re.select(n,$e)}}})},Yq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(n,()=>{var{hanging:o=!1,voids:u=!1}=i,{at:l=uS(n),batchDirty:c=!0}=i;if(r.length){if(be.isRange(l))if(o||(l=F.unhangRange(n,l,{voids:u})),be.isCollapsed(l))l=l.anchor;else{var[,d]=be.edges(l);if(!u&&F.void(n,{at:d}))return;var h=F.pointRef(n,d);Re.delete(n,{at:l}),l=h.unref()}else J.isPath(l)&&(l=F.start(n,l));if(!(!u&&F.void(n,{at:l}))){var p=F.above(n,{at:l,match:q=>et.isElement(q)&&F.isInline(n,q),mode:"highest",voids:u});if(p){var[,m]=p;if(F.isEnd(n,l,m)){var v=F.after(n,m);l=v}else if(F.isStart(n,l,m)){var w=F.before(n,m);l=w}}var b=F.above(n,{match:q=>et.isElement(q)&&F.isBlock(n,q),at:l,voids:u}),[,E]=b,S=F.isStart(n,l,E),T=F.isEnd(n,l,E),C=S&&T,[,B]=Le.first({children:r},[]),[,P]=Le.last({children:r},[]),I=q=>{var[ue,xe]=q,fe=xe.length===0;return fe?!1:C?!0:!(!S&&J.isAncestor(xe,B)&&et.isElement(ue)&&!n.isVoid(ue)&&!n.isInline(ue)||!T&&J.isAncestor(xe,P)&&et.isElement(ue)&&!n.isVoid(ue)&&!n.isInline(ue))},z=!0,Y=[],te=[],re=[];for(var ae of Le.nodes({children:r},{pass:I})){var[ce,ne]=ae;z&&et.isElement(ce)&&!n.isInline(ce)&&!J.isAncestor(ne,B)&&(z=!1),I(ae)&&(et.isElement(ce)&&!n.isInline(ce)?(z=!1,te.push(ce)):z?Y.push(ce):re.push(ce))}var[Q]=F.nodes(n,{at:l,match:q=>Qe.isText(q)||F.isInline(n,q),mode:"highest",voids:u}),[,le]=Q,G=F.isStart(n,l,le),R=F.isEnd(n,l,le),k=F.pathRef(n,T&&!re.length?J.next(E):E),H=F.pathRef(n,R?J.next(le):le),_=re.length>0;Re.splitNodes(n,{at:l,match:q=>_?et.isElement(q)&&F.isBlock(n,q):Qe.isText(q)||F.isInline(n,q),mode:_?"lowest":"highest",always:_&&(!S||Y.length>0)&&(!T||re.length>0),voids:u});var X=F.pathRef(n,!G||G&&R?J.next(le):le);if(Re.insertNodes(n,Y,{at:X.current,match:q=>Qe.isText(q)||F.isInline(n,q),mode:"highest",voids:u,batchDirty:c}),C&&!Y.length&&te.length&&!re.length&&Re.delete(n,{at:E,voids:u}),Re.insertNodes(n,te,{at:k.current,match:q=>et.isElement(q)&&F.isBlock(n,q),mode:"lowest",voids:u,batchDirty:c}),Re.insertNodes(n,re,{at:H.current,match:q=>Qe.isText(q)||F.isInline(n,q),mode:"highest",voids:u,batchDirty:c}),!i.at){var U;if(re.length>0&&H.current?U=J.previous(H.current):te.length>0&&k.current?U=J.previous(k.current):X.current&&(U=J.previous(X.current)),U){var ie=F.end(n,U);Re.select(n,ie)}}X.unref(),k.unref(),H.unref()}}})},Kq=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:i="anchor"}=r,{selection:o}=n;if(o){if(i==="anchor")Re.select(n,o.anchor);else if(i==="focus")Re.select(n,o.focus);else if(i==="start"){var[u]=be.edges(o);Re.select(n,u)}else if(i==="end"){var[,l]=be.edges(o);Re.select(n,l)}}else return},qq=e=>{var{selection:n}=e;n&&e.apply({type:"set_selection",properties:n,newProperties:null})},Zq=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:i}=n,{distance:o=1,unit:u="character",reverse:l=!1}=r,{edge:c=null}=r;if(i){c==="start"&&(c=be.isBackward(i)?"focus":"anchor"),c==="end"&&(c=be.isBackward(i)?"anchor":"focus");var{anchor:d,focus:h}=i,p={distance:o,unit:u,ignoreNonSelectable:!0},m={};if(c==null||c==="anchor"){var v=l?F.before(n,d,p):F.after(n,d,p);v&&(m.anchor=v)}if(c==null||c==="focus"){var w=l?F.before(n,h,p):F.after(n,h,p);w&&(m.focus=w)}Re.setSelection(n,m)}},Qq=(e,n)=>{var{selection:r}=e;if(n=F.range(e,n),r){Re.setSelection(e,n);return}if(!be.isRange(n))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(gr.stringify(n)));e.apply({type:"set_selection",properties:r,newProperties:n})};function fB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function dB(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?fB(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var Jq=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=n,{edge:u="both"}=i;if(o){u==="start"&&(u=be.isBackward(o)?"focus":"anchor"),u==="end"&&(u=be.isBackward(o)?"anchor":"focus");var{anchor:l,focus:c}=o,d=u==="anchor"?l:c;Re.setSelection(n,{[u==="anchor"?"anchor":"focus"]:dB(dB({},d),r)})}},eZ=(e,n)=>{var{selection:r}=e,i={},o={};if(r){for(var u in n)(u==="anchor"&&n.anchor!=null&&!cn.equals(n.anchor,r.anchor)||u==="focus"&&n.focus!=null&&!cn.equals(n.focus,r.focus)||u!=="anchor"&&u!=="focus"&&n[u]!==r[u])&&(i[u]=r[u],o[u]=n[u]);Object.keys(i).length>0&&e.apply({type:"set_selection",properties:i,newProperties:o})}},tZ=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(n,()=>{var{hanging:o=!1,voids:u=!1,mode:l="lowest",batchDirty:c=!0}=i,{at:d,match:h,select:p}=i;if(Le.isNode(r)&&(r=[r]),r.length!==0){var[m]=r;if(d||(d=uS(n),p!==!1&&(p=!0)),p==null&&(p=!1),be.isRange(d))if(o||(d=F.unhangRange(n,d,{voids:u})),be.isCollapsed(d))d=d.anchor;else{var[,v]=be.edges(d),w=F.pointRef(n,v);Re.delete(n,{at:d}),d=w.unref()}if(cn.isPoint(d)){h==null&&(Qe.isText(m)?h=ae=>Qe.isText(ae):n.isInline(m)?h=ae=>Qe.isText(ae)||F.isInline(n,ae):h=ae=>et.isElement(ae)&&F.isBlock(n,ae));var[b]=F.nodes(n,{at:d.path,match:h,mode:l,voids:u});if(b){var[,E]=b,S=F.pathRef(n,E),T=F.isEnd(n,d,E);Re.splitNodes(n,{at:d,match:h,mode:l,voids:u});var C=S.unref();d=T?J.next(C):C}else return}var B=J.parent(d),P=d[d.length-1];if(!(!u&&F.void(n,{at:B}))){if(c){var I=[],z=J.levels(B);IK(n,()=>{var ae=function(){var Q=B.concat(P);P++;var le={type:"insert_node",path:Q,node:ce};n.apply(le),d=J.next(d),I.push(le),Qe.isText(ce)?z.push(Q):z.push(...Array.from(Le.nodes(ce),G=>{var[,R]=G;return Q.concat(R)}))};for(var ce of r)ae()},()=>{B4(n,z,ae=>{var ce=ae;for(var ne of I)if(J.operationCanTransformPath(ne)&&(ce=J.transform(ce,ne),!ce))return null;return ce})})}else for(var Y of r){var te=B.concat(P);P++,n.apply({type:"insert_node",path:te,node:Y}),d=J.next(d)}if(d=J.previous(d),p){var re=F.end(n,d);re&&Re.select(n,re)}}}})},nZ=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(n,()=>{var{at:i=n.selection,mode:o="lowest",voids:u=!1}=r,{match:l}=r;if(l==null&&(l=J.isPath(i)?bd(n,i):P=>et.isElement(P)&&F.isBlock(n,P)),!!i){var c=F.nodes(n,{at:i,match:l,mode:o,voids:u}),d=Array.from(c,P=>{var[,I]=P;return F.pathRef(n,I)});for(var h of d){var p=h.unref();if(p.length<2)throw new Error("Cannot lift node at a path [".concat(p,"] because it has a depth of less than `2`."));var m=F.node(n,J.parent(p)),[v,w]=m,b=p[p.length-1],{length:E}=v.children;if(E===1){var S=J.next(w);Re.moveNodes(n,{at:p,to:S,voids:u}),Re.removeNodes(n,{at:w,voids:u})}else if(b===0)Re.moveNodes(n,{at:p,to:w,voids:u});else if(b===E-1){var T=J.next(w);Re.moveNodes(n,{at:p,to:T,voids:u})}else{var C=J.next(p),B=J.next(w);Re.splitNodes(n,{at:C,voids:u}),Re.moveNodes(n,{at:p,to:B,voids:u})}}}})},rZ=["text"],iZ=["children"],k4=(e,n)=>{if(et.isElement(n)){var r=n;return F.isVoid(e,n)?!0:r.children.length===1?k4(e,r.children[0]):!1}else return!F.isEditor(n)},oZ=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(n,()=>{var{match:i,at:o=n.selection}=r,{hanging:u=!1,voids:l=!1,mode:c="lowest"}=r;if(o){if(i==null)if(J.isPath(o)){var[d]=F.parent(n,o);i=ae=>d.children.includes(ae)}else i=ae=>et.isElement(ae)&&F.isBlock(n,ae);if(!u&&be.isRange(o)&&(o=F.unhangRange(n,o,{voids:l})),be.isRange(o))if(be.isCollapsed(o))o=o.anchor;else{var[,h]=be.edges(o),p=F.pointRef(n,h);Re.delete(n,{at:o}),o=p.unref(),r.at==null&&Re.select(n,o)}var[m]=F.nodes(n,{at:o,match:i,voids:l,mode:c}),v=F.previous(n,{at:o,match:i,voids:l,mode:c});if(!(!m||!v)){var[w,b]=m,[E,S]=v;if(!(b.length===0||S.length===0)){var T=J.next(S),C=J.common(b,S),B=J.isSibling(b,S),P=Array.from(F.levels(n,{at:b}),ae=>{var[ce]=ae;return ce}).slice(C.length).slice(0,-1),I=F.above(n,{at:b,mode:"highest",match:ae=>P.includes(ae)&&k4(n,ae)}),z=I&&F.pathRef(n,I[1]),Y,te;if(Qe.isText(w)&&Qe.isText(E)){var re=La(w,rZ);te=E.text.length,Y=re}else if(et.isElement(w)&&et.isElement(E)){var re=La(w,iZ);te=E.children.length,Y=re}else throw new Error("Cannot merge the node at path [".concat(b,"] with the previous sibling because it is not the same kind: ").concat(gr.stringify(w)," ").concat(gr.stringify(E)));B||Re.moveNodes(n,{at:b,to:T,voids:l}),z&&Re.removeNodes(n,{at:z.current,voids:l}),F.shouldMergeNodesRemovePrevNode(n,v,m)?Re.removeNodes(n,{at:S,voids:l}):n.apply({type:"merge_node",path:T,position:te,properties:Y}),z&&z.unref()}}}})},sZ=(e,n)=>{F.withoutNormalizing(e,()=>{var{to:r,at:i=e.selection,mode:o="lowest",voids:u=!1}=n,{match:l}=n;if(i){l==null&&(l=J.isPath(i)?bd(e,i):w=>et.isElement(w)&&F.isBlock(e,w));var c=F.pathRef(e,r),d=F.nodes(e,{at:i,match:l,mode:o,voids:u}),h=Array.from(d,w=>{var[,b]=w;return F.pathRef(e,b)});for(var p of h){var m=p.unref(),v=c.current;m.length!==0&&e.apply({type:"move_node",path:m,newPath:v}),c.current&&J.isSibling(v,m)&&J.isAfter(v,m)&&(c.current=J.next(c.current))}c.unref()}})},aZ=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(n,()=>{var{hanging:i=!1,voids:o=!1,mode:u="lowest"}=r,{at:l=n.selection,match:c}=r;if(l){c==null&&(c=J.isPath(l)?bd(n,l):w=>et.isElement(w)&&F.isBlock(n,w)),!i&&be.isRange(l)&&(l=F.unhangRange(n,l,{voids:o}));var d=F.nodes(n,{at:l,match:c,mode:u,voids:o}),h=Array.from(d,w=>{var[,b]=w;return F.pathRef(n,b)});for(var p of h){var m=p.unref();if(m){var[v]=F.node(n,m);n.apply({type:"remove_node",path:m,node:v})}}}})},uZ=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(n,()=>{var{match:o,at:u=n.selection,compare:l,merge:c}=i,{hanging:d=!1,mode:h="lowest",split:p=!1,voids:m=!1}=i;if(u){if(o==null&&(o=J.isPath(u)?bd(n,u):te=>et.isElement(te)&&F.isBlock(n,te)),!d&&be.isRange(u)&&(u=F.unhangRange(n,u,{voids:m})),p&&be.isRange(u)){if(be.isCollapsed(u)&&F.leaf(n,u.anchor)[0].text.length>0)return;var v=F.rangeRef(n,u,{affinity:"inward"}),[w,b]=be.edges(u),E=h==="lowest"?"lowest":"highest",S=F.isEnd(n,b,b.path);Re.splitNodes(n,{at:b,match:o,mode:E,voids:m,always:!S});var T=F.isStart(n,w,w.path);Re.splitNodes(n,{at:w,match:o,mode:E,voids:m,always:!T}),u=v.unref(),i.at==null&&Re.select(n,u)}l||(l=(te,re)=>te!==re);for(var[C,B]of F.nodes(n,{at:u,match:o,mode:h,voids:m})){var P={},I={};if(B.length!==0){var z=!1;for(var Y in r)Y==="children"||Y==="text"||l(r[Y],C[Y])&&(z=!0,C.hasOwnProperty(Y)&&(P[Y]=C[Y]),c?r[Y]!=null&&(I[Y]=c(C[Y],r[Y])):r[Y]!=null&&(I[Y]=r[Y]));z&&n.apply({type:"set_node",path:B,properties:P,newProperties:I})}}}})},lZ=(e,n)=>{if(be.isCollapsed(n))return n.anchor;var[,r]=be.edges(n),i=F.pointRef(e,r);return Re.delete(e,{at:n}),i.unref()},cZ=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(n,()=>{var{mode:i="lowest",voids:o=!1}=r,{match:u,at:l=n.selection,height:c=0,always:d=!1}=r;if(u==null&&(u=_=>et.isElement(_)&&F.isBlock(n,_)),be.isRange(l)&&(l=lZ(n,l)),J.isPath(l)){var h=l,p=F.point(n,h),[m]=F.parent(n,h);u=_=>_===m,c=p.path.length-h.length+1,l=p,d=!0}if(l){var v=F.pointRef(n,l,{affinity:"backward"}),w;try{var[b]=F.nodes(n,{at:l,match:u,mode:i,voids:o});if(!b)return;var E=F.void(n,{at:l,mode:"highest"}),S=0;if(!o&&E){var[T,C]=E;if(et.isElement(T)&&n.isInline(T)){var B=F.after(n,C);if(!B){var P={text:""},I=J.next(C);Re.insertNodes(n,P,{at:I,voids:o}),B=F.point(n,I)}l=B,d=!0}var z=l.path.length-C.length;c=z+1,d=!0}w=F.pointRef(n,l);var Y=l.path.length-c,[,te]=b,re=l.path.slice(0,Y),ae=c===0?l.offset:l.path[Y]+S;for(var[ce,ne]of F.levels(n,{at:re,reverse:!0,voids:o})){var Q=!1;if(ne.length<te.length||ne.length===0||!o&&et.isElement(ce)&&F.isVoid(n,ce))break;var le=v.current,G=F.isEnd(n,le,ne);if(d||!v||!F.isEdge(n,le,ne)){Q=!0;var R=Le.extractProps(ce);n.apply({type:"split_node",path:ne,position:ae,properties:R})}ae=ne[ne.length-1]+(Q||G?1:0)}if(r.at==null){var k=w.current||F.end(n,[]);Re.select(n,k)}}finally{var H;v.unref(),(H=w)===null||H===void 0||H.unref()}}})},fZ=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var o={};for(var u of r)o[u]=null;Re.setNodes(n,o,i)},dZ=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(n,()=>{var{mode:i="lowest",split:o=!1,voids:u=!1}=r,{at:l=n.selection,match:c}=r;if(l){c==null&&(c=J.isPath(l)?bd(n,l):w=>et.isElement(w)&&F.isBlock(n,w)),J.isPath(l)&&(l=F.range(n,l));var d=be.isRange(l)?F.rangeRef(n,l):null,h=F.nodes(n,{at:l,match:c,mode:i,voids:u}),p=Array.from(h,w=>{var[,b]=w;return F.pathRef(n,b)}).reverse(),m=function(){var b=v.unref(),[E]=F.node(n,b),S=F.range(n,b);o&&d&&(S=be.intersection(d.current,S)),Re.liftNodes(n,{at:S,match:T=>et.isAncestor(E)&&E.children.includes(T),voids:u})};for(var v of p)m();d&&d.unref()}})};function hB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function gB(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?hB(Object(r),!0).forEach(function(i){Ni(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var hZ=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(n,()=>{var{mode:o="lowest",split:u=!1,voids:l=!1}=i,{match:c,at:d=n.selection}=i;if(d){if(c==null&&(J.isPath(d)?c=bd(n,d):n.isInline(r)?c=S=>et.isElement(S)&&F.isInline(n,S)||Qe.isText(S):c=S=>et.isElement(S)&&F.isBlock(n,S)),u&&be.isRange(d)){var[h,p]=be.edges(d),m=F.rangeRef(n,d,{affinity:"inward"});Re.splitNodes(n,{at:p,match:c,voids:l}),Re.splitNodes(n,{at:h,match:c,voids:l}),d=m.unref(),i.at==null&&Re.select(n,d)}var v=Array.from(F.nodes(n,{at:d,match:n.isInline(r)?S=>et.isElement(S)&&F.isBlock(n,S):S=>F.isEditor(S),mode:"lowest",voids:l})),w=function(){var T=be.isRange(d)?be.intersection(d,F.range(n,E)):d;if(!T)return 0;var C=Array.from(F.nodes(n,{at:T,match:c,mode:o,voids:l}));if(C.length>0){var[B]=C,P=C[C.length-1],[,I]=B,[,z]=P;if(I.length===0&&z.length===0)return 0;var Y=J.equals(I,z)?J.parent(I):J.common(I,z),te=F.range(n,I,z),re=F.node(n,Y),[ae]=re,ce=Y.length+1,ne=J.next(z.slice(0,ce)),Q=gB(gB({},r),{},{children:[]});Re.insertNodes(n,Q,{at:ne,voids:l}),Re.moveNodes(n,{at:te,match:le=>et.isAncestor(ae)&&ae.children.includes(le),to:ne.concat(0),voids:l})}},b;for(var[,E]of v)b=w()}})},gZ=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return HK(e,...i)},addMark:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $K(e,...i)},deleteBackward:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return XK(e,...i)},deleteForward:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return YK(e,...i)},deleteFragment:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return KK(e,...i)},getFragment:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return _K(e,...i)},insertBreak:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return sq(e,...i)},insertSoftBreak:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return uq(e,...i)},insertFragment:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Yq(e,...i)},insertNode:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return aq(e,...i)},insertText:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return cq(e,...i)},normalizeNode:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return VK(e,...i)},removeMark:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return _q(e,...i)},getDirtyPaths:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return GK(e,...i)},shouldNormalize:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return jK(e,...i)},above:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zK(e,...i)},after:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return UK(e,...i)},before:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return WK(e,...i)},collapse:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Kq(e,...i)},delete:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Xq(e,...i)},deselect:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return qq(e,...i)},edges:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return qK(e,...i)},elementReadOnly:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ZK(e,...i)},end:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return QK(e,...i)},first:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return JK(e,...i)},fragment:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return eq(e,...i)},getMarks:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Cq(e,...i)},hasBlocks:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return nq(e,...i)},hasInlines:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return rq(e,...i)},hasPath:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return iq(e,...i)},hasTexts:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return oq(e,...i)},insertNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tZ(e,...i)},isBlock:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fq(e,...i)},isEdge:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return dq(e,...i)},isEmpty:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return hq(e,...i)},isEnd:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gq(e,...i)},isNormalizing:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return pq(e,...i)},isStart:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return mq(e,...i)},last:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return vq(e,...i)},leaf:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return yq(e,...i)},levels:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return wq(e,...i)},liftNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return nZ(e,...i)},mergeNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return oZ(e,...i)},move:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Zq(e,...i)},moveNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return sZ(e,...i)},next:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Eq(e,...i)},node:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Dq(e,...i)},nodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sq(e,...i)},normalize:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Tq(e,...i)},parent:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Aq(e,...i)},path:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Bq(e,...i)},pathRef:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Pq(e,...i)},pathRefs:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Rq(e,...i)},point:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Nq(e,...i)},pointRef:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return kq(e,...i)},pointRefs:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Mq(e,...i)},positions:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Oq(e,...i)},previous:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Fq(e,...i)},range:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Hq(e,...i)},rangeRef:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Lq(e,...i)},rangeRefs:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Iq(e,...i)},removeNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return aZ(e,...i)},select:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Qq(e,...i)},setNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return uZ(e,...i)},setNormalizing:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Vq(e,...i)},setPoint:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Jq(e,...i)},setSelection:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return eZ(e,...i)},splitNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return cZ(e,...i)},start:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return jq(e,...i)},string:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zq(e,...i)},unhangRange:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $q(e,...i)},unsetNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fZ(e,...i)},unwrapNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return dZ(e,...i)},void:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tq(e,...i)},withoutNormalizing:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Uq(e,...i)},wrapNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return hZ(e,...i)},shouldMergeNodesRemovePrevNode:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wq(e,...i)}};return e},DE,pB;function pZ(){if(pB)return DE;pB=1,DE=o;var e="֑-߿יִ-﷽ﹰ-ﻼ",n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",r=new RegExp("^[^"+n+"]*["+e+"]"),i=new RegExp("^[^"+e+"]*["+n+"]");function o(u){return u=String(u||""),r.test(u)?"rtl":i.test(u)?"ltr":"neutral"}return DE}var mZ=pZ();const M4=gc(mZ),mB=e=>typeof e=="object"&&e!=null&&e.nodeType===1,vB=(e,n)=>(!n||e!=="hidden")&&e!=="visible"&&e!=="clip",wv=(e,n)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return vB(r.overflowY,n)||vB(r.overflowX,n)||(i=>{const o=(u=>{if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!o&&(o.clientHeight<i.scrollHeight||o.clientWidth<i.scrollWidth)})(e)}return!1},xv=(e,n,r,i,o,u,l,c)=>u<e&&l>n||u>e&&l<n?0:u<=e&&c<=r||l>=n&&c>=r?u-e-i:l>n&&c<r||u<e&&c>r?l-n+o:0,vZ=e=>{const n=e.parentElement;return n??(e.getRootNode().host||null)},yB=(e,n)=>{var r,i,o,u;if(typeof document>"u")return[];const{scrollMode:l,block:c,inline:d,boundary:h,skipOverflowHiddenElements:p}=n,m=typeof h=="function"?h:R=>R!==h;if(!mB(e))throw new TypeError("Invalid target");const v=document.scrollingElement||document.documentElement,w=[];let b=e;for(;mB(b)&&m(b);){if(b=vZ(b),b===v){w.push(b);break}b!=null&&b===document.body&&wv(b)&&!wv(document.documentElement)||b!=null&&wv(b,p)&&w.push(b)}const E=(i=(r=window.visualViewport)==null?void 0:r.width)!=null?i:innerWidth,S=(u=(o=window.visualViewport)==null?void 0:o.height)!=null?u:innerHeight,{scrollX:T,scrollY:C}=window,{height:B,width:P,top:I,right:z,bottom:Y,left:te}=e.getBoundingClientRect(),{top:re,right:ae,bottom:ce,left:ne}=(R=>{const k=window.getComputedStyle(R);return{top:parseFloat(k.scrollMarginTop)||0,right:parseFloat(k.scrollMarginRight)||0,bottom:parseFloat(k.scrollMarginBottom)||0,left:parseFloat(k.scrollMarginLeft)||0}})(e);let Q=c==="start"||c==="nearest"?I-re:c==="end"?Y+ce:I+B/2-re+ce,le=d==="center"?te+P/2-ne+ae:d==="end"?z+ae:te-ne;const G=[];for(let R=0;R<w.length;R++){const k=w[R],{height:H,width:_,top:X,right:U,bottom:ie,left:q}=k.getBoundingClientRect();if(l==="if-needed"&&I>=0&&te>=0&&Y<=S&&z<=E&&(k===v&&!wv(k)||I>=X&&Y<=ie&&te>=q&&z<=U))return G;const ue=getComputedStyle(k),xe=parseInt(ue.borderLeftWidth,10),fe=parseInt(ue.borderTopWidth,10),Te=parseInt(ue.borderRightWidth,10),ke=parseInt(ue.borderBottomWidth,10);let Z=0,de=0;const me="offsetWidth"in k?k.offsetWidth-k.clientWidth-xe-Te:0,Ce="offsetHeight"in k?k.offsetHeight-k.clientHeight-fe-ke:0,$e="offsetWidth"in k?k.offsetWidth===0?0:_/k.offsetWidth:0,Pe="offsetHeight"in k?k.offsetHeight===0?0:H/k.offsetHeight:0;if(v===k)Z=c==="start"?Q:c==="end"?Q-S:c==="nearest"?xv(C,C+S,S,fe,ke,C+Q,C+Q+B,B):Q-S/2,de=d==="start"?le:d==="center"?le-E/2:d==="end"?le-E:xv(T,T+E,E,xe,Te,T+le,T+le+P,P),Z=Math.max(0,Z+C),de=Math.max(0,de+T);else{Z=c==="start"?Q-X-fe:c==="end"?Q-ie+ke+Ce:c==="nearest"?xv(X,ie,H,fe,ke+Ce,Q,Q+B,B):Q-(X+H/2)+Ce/2,de=d==="start"?le-q-xe:d==="center"?le-(q+_/2)+me/2:d==="end"?le-U+Te+me:xv(q,U,_,xe,Te+me,le,le+P,P);const{scrollLeft:ot,scrollTop:je}=k;Z=Pe===0?0:Math.max(0,Math.min(je+Z/Pe,k.scrollHeight-H/Pe+Ce)),de=$e===0?0:Math.max(0,Math.min(ot+de/$e,k.scrollWidth-_/$e+me)),Q+=je-Z,le+=ot-de}G.push({el:k,top:Z,left:de})}return G},yZ=e=>e===!1?{block:"end",inline:"nearest"}:(n=>n===Object(n)&&Object.keys(n).length!==0)(e)?e:{block:"start",inline:"nearest"};function wZ(e,n){if(!e.isConnected||!(o=>{let u=o;for(;u&&u.parentNode;){if(u.parentNode===document)return!0;u=u.parentNode instanceof ShadowRoot?u.parentNode.host:u.parentNode}return!1})(e))return;const r=(o=>{const u=window.getComputedStyle(o);return{top:parseFloat(u.scrollMarginTop)||0,right:parseFloat(u.scrollMarginRight)||0,bottom:parseFloat(u.scrollMarginBottom)||0,left:parseFloat(u.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(n))return n.behavior(yB(e,n));const i=typeof n=="boolean"||n==null?void 0:n.behavior;for(const{el:o,top:u,left:l}of yB(e,yZ(n))){const c=u-r.top+r.bottom,d=l-r.left+r.right;o.scroll({top:c,left:d,behavior:i})}}var N4=globalThis.Node,xZ=globalThis.Text,fS=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,bZ=e=>Iu(e)&&e.nodeType===8,Oo=e=>Iu(e)&&e.nodeType===1,Iu=e=>{var n=fS(e);return!!n&&e instanceof n.Node},HD=e=>{var n=e&&e.anchorNode&&fS(e.anchorNode);return!!n&&e instanceof n.Selection},O4=e=>Iu(e)&&e.nodeType===3,CZ=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,EZ=e=>{var[n,r]=e;if(Oo(n)&&n.childNodes.length){var i=r===n.childNodes.length,o=i?r-1:r;for([n,o]=F4(n,o,i?"backward":"forward"),i=o<r;Oo(n)&&n.childNodes.length;){var u=i?n.childNodes.length-1:0;n=SZ(n,u,i?"backward":"forward")}r=i&&n.textContent!=null?n.textContent.length:0}return[n,r]},DZ=e=>{for(var n=e&&e.parentNode;n;){if(n.toString()==="[object ShadowRoot]")return!0;n=n.parentNode}return!1},F4=(e,n,r)=>{for(var{childNodes:i}=e,o=i[n],u=n,l=!1,c=!1;(bZ(o)||Oo(o)&&o.childNodes.length===0||Oo(o)&&o.getAttribute("contenteditable")==="false")&&!(l&&c);){if(u>=i.length){l=!0,u=n-1,r="backward";continue}if(u<0){c=!0,u=n+1,r="forward";continue}o=i[u],n=u,u+=r==="forward"?1:-1}return[o,n]},SZ=(e,n,r)=>{var[i]=F4(e,n,r);return i},L4=e=>{var n="";if(O4(e)&&e.nodeValue)return e.nodeValue;if(Oo(e)){for(var r of Array.from(e.childNodes))n+=L4(r);var i=getComputedStyle(e).getPropertyValue("display");(i==="block"||i==="list"||e.tagName==="BR")&&(n+=`
`)}return n},TZ=/data-slate-fragment="(.+?)"/m,AZ=e=>{var n=e.getData("text/html"),[,r]=n.match(TZ)||[];return r},Lg=e=>e.getSelection!=null?e.getSelection():document.getSelection(),dS=(e,n,r)=>{var{target:i}=n;if(Oo(i)&&i.matches('[contentEditable="false"]'))return!1;var{document:o}=_t.getWindow(e);if(o.contains(i))return _t.hasDOMNode(e,i,{editable:!0});var u=r.find(l=>{var{addedNodes:c,removedNodes:d}=l;for(var h of c)if(h===i||h.contains(i))return!0;for(var p of d)if(p===i||p.contains(i))return!0});return!u||u===n?!1:dS(e,u,r)},PZ=()=>{for(var e=document.activeElement;(n=e)!==null&&n!==void 0&&n.shadowRoot&&(r=e.shadowRoot)!==null&&r!==void 0&&r.activeElement;){var n,r,i;e=(i=e)===null||i===void 0||(i=i.shadowRoot)===null||i===void 0?void 0:i.activeElement}return e},wB=(e,n)=>!!(e.compareDocumentPosition(n)&N4.DOCUMENT_POSITION_PRECEDING),RZ=(e,n)=>!!(e.compareDocumentPosition(n)&N4.DOCUMENT_POSITION_FOLLOWING),SE,TE,BZ=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,xB=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Pi=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Gf=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),zl=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),kZ=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),I4=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),MZ=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),NZ=Pi&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),OZ=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),FZ=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),LZ=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),Xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((SE=navigator.userAgent.match(/Version\/(\d+)/))!==null&&SE!==void 0&&SE[1]&&parseInt((TE=navigator.userAgent.match(/Version\/(\d+)/))===null||TE===void 0?void 0:TE[1],10)<17);var wu=(!MZ||!NZ)&&!kZ&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},tp(e)}function IZ(e,n){if(tp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(tp(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function HZ(e){var n=IZ(e,"string");return tp(n)==="symbol"?n:String(n)}function hS(e,n,r){return n=HZ(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var GZ=0;class H4{constructor(){hS(this,"id",void 0),this.id="".concat(GZ++)}}var Wf=new WeakMap,_f=new WeakMap,Ig=new WeakMap,G4=new WeakMap,Yv=new WeakMap,GD=new WeakMap,np=new WeakMap,Ql=new WeakMap,b1=new WeakMap,dy=new WeakMap,_D=new WeakMap,Au=new WeakMap,Xl=new WeakMap,Hg=new WeakMap,VD=new WeakMap,gS=new WeakMap,hs=new WeakMap,Aa=new WeakMap,zi=new WeakMap,Eu=new WeakMap,Du=new WeakMap,_4=new WeakMap,nd=Symbol("placeholder"),V4=Symbol("mark-placeholder"),_t={androidPendingDiffs:e=>zi.get(e),androidScheduleFlush:e=>{var n;(n=gS.get(e))===null||n===void 0||n()},blur:e=>{var n=_t.toDOMNode(e,e),r=_t.findDocumentOrShadowRoot(e);Au.set(e,!1),r.activeElement===n&&n.blur()},deselect:e=>{var{selection:n}=e,r=_t.findDocumentOrShadowRoot(e),i=Lg(r);i&&i.rangeCount>0&&i.removeAllRanges(),n&&Re.deselect(e)},findDocumentOrShadowRoot:e=>{var n=_t.toDOMNode(e,e),r=n.getRootNode();return r instanceof Document||r instanceof ShadowRoot?r:n.ownerDocument},findEventRange:(e,n)=>{"nativeEvent"in n&&(n=n.nativeEvent);var{clientX:r,clientY:i,target:o}=n;if(r==null||i==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(n));var u=_t.toSlateNode(e,n.target),l=_t.findPath(e,u);if(et.isElement(u)&&F.isVoid(e,u)){var c=o.getBoundingClientRect(),d=e.isInline(u)?r-c.left<c.left+c.width-r:i-c.top<c.top+c.height-i,h=F.point(e,l,{edge:d?"start":"end"}),p=d?F.before(e,h):F.after(e,h);if(p){var m=F.range(e,p);return m}}var v,{document:w}=_t.getWindow(e);if(w.caretRangeFromPoint)v=w.caretRangeFromPoint(r,i);else{var b=w.caretPositionFromPoint(r,i);b&&(v=w.createRange(),v.setStart(b.offsetNode,b.offset),v.setEnd(b.offsetNode,b.offset))}if(!v)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(n));var E=_t.toSlateRange(e,v,{exactMatch:!1,suppressThrow:!1});return E},findKey:(e,n)=>{var r=b1.get(n);return r||(r=new H4,b1.set(n,r)),r},findPath:(e,n)=>{for(var r=[],i=n;;){var o=Ig.get(i);if(o==null){if(F.isEditor(i))return r;break}var u=_f.get(i);if(u==null)break;r.unshift(u),i=o}throw new Error("Unable to find the path for Slate node: ".concat(gr.stringify(n)))},focus:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Au.get(n)){if(r.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(n.operations.length>0){setTimeout(()=>{_t.focus(n,{retries:r.retries-1})},10);return}var i=_t.toDOMNode(n,n),o=_t.findDocumentOrShadowRoot(n);if(o.activeElement!==i){if(n.selection&&o instanceof Document){var u=Lg(o),l=_t.toDOMRange(n,n.selection);u==null||u.removeAllRanges(),u==null||u.addRange(l)}n.selection||Re.select(n,F.start(n,[])),Au.set(n,!0),i.focus({preventScroll:!0})}}},getWindow:e=>{var n=G4.get(e);if(!n)throw new Error("Unable to find a host window element for this editor");return n},hasDOMNode:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=i,u=_t.toDOMNode(n,n),l;try{l=Oo(r)?r:r.parentElement}catch(c){if(c instanceof Error&&!c.message.includes('Permission denied to access property "nodeType"'))throw c}return l?l.closest("[data-slate-editor]")===u&&(!o||l.isContentEditable?!0:typeof l.isContentEditable=="boolean"&&l.closest('[contenteditable="false"]')===u||!!l.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,n)=>Iu(n)&&_t.hasDOMNode(e,n,{editable:!0}),hasRange:(e,n)=>{var{anchor:r,focus:i}=n;return F.hasPath(e,r.path)&&F.hasPath(e,i.path)},hasSelectableTarget:(e,n)=>_t.hasEditableTarget(e,n)||_t.isTargetInsideNonReadonlyVoid(e,n),hasTarget:(e,n)=>Iu(n)&&_t.hasDOMNode(e,n),insertData:(e,n)=>{e.insertData(n)},insertFragmentData:(e,n)=>e.insertFragmentData(n),insertTextData:(e,n)=>e.insertTextData(n),isComposing:e=>!!Xl.get(e),isFocused:e=>!!Au.get(e),isReadOnly:e=>!!_D.get(e),isTargetInsideNonReadonlyVoid:(e,n)=>{if(_D.get(e))return!1;var r=_t.hasTarget(e,n)&&_t.toSlateNode(e,n);return et.isElement(r)&&F.isVoid(e,r)},setFragmentData:(e,n,r)=>e.setFragmentData(n,r),toDOMNode:(e,n)=>{var r=dy.get(e),i=F.isEditor(n)?Yv.get(e):r==null?void 0:r.get(_t.findKey(e,n));if(!i)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(gr.stringify(n)));return i},toDOMPoint:(e,n)=>{var[r]=F.node(e,n.path),i=_t.toDOMNode(e,r),o;F.void(e,{at:n})&&(n={path:n.path,offset:0});for(var u="[data-slate-string], [data-slate-zero-width]",l=Array.from(i.querySelectorAll(u)),c=0,d=0;d<l.length;d++){var h=l[d],p=h.childNodes[0];if(!(p==null||p.textContent==null)){var{length:m}=p.textContent,v=h.getAttribute("data-slate-length"),w=v==null?m:parseInt(v,10),b=c+w,E=l[d+1];if(n.offset===b&&E!==null&&E!==void 0&&E.hasAttribute("data-slate-mark-placeholder")){var S,T=E.childNodes[0];o=[T instanceof xZ?T:E,(S=E.textContent)!==null&&S!==void 0&&S.startsWith("\uFEFF")?1:0];break}if(n.offset<=b){var C=Math.min(m,Math.max(0,n.offset-c));o=[p,C];break}c=b}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(gr.stringify(n)));return o},toDOMRange:(e,n)=>{var{anchor:r,focus:i}=n,o=be.isBackward(n),u=_t.toDOMPoint(e,r),l=be.isCollapsed(n)?u:_t.toDOMPoint(e,i),c=_t.getWindow(e),d=c.document.createRange(),[h,p]=o?l:u,[m,v]=o?u:l,w=Oo(h)?h:h.parentElement,b=!!w.getAttribute("data-slate-zero-width"),E=Oo(m)?m:m.parentElement,S=!!E.getAttribute("data-slate-zero-width");return d.setStart(h,b?1:p),d.setEnd(m,S?1:v),d},toSlateNode:(e,n)=>{var r=Oo(n)?n:n.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var i=r?np.get(r):null;if(!i)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return i},toSlatePoint:(e,n,r)=>{var{exactMatch:i,suppressThrow:o,searchDirection:u="backward"}=r,[l,c]=i?n:EZ(n),d=l.parentNode,h=null,p=0;if(d){var m,v,w=_t.toDOMNode(e,e),b=d.closest('[data-slate-void="true"]'),E=b&&w.contains(b)?b:null,S=d.closest('[contenteditable="false"]'),T=S&&w.contains(S)?S:null,C=d.closest("[data-slate-leaf]"),B=null;if(C){if(h=C.closest('[data-slate-node="text"]'),h){var P=_t.getWindow(e),I=P.document.createRange();I.setStart(h,0),I.setEnd(l,c);var z=I.cloneContents(),Y=[...Array.prototype.slice.call(z.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(z.querySelectorAll("[contenteditable=false]"))];Y.forEach(q=>{if(Pi&&!i&&q.hasAttribute("data-slate-zero-width")&&q.textContent.length>0&&q.textContext!=="\uFEFF"){q.textContent.startsWith("\uFEFF")&&(q.textContent=q.textContent.slice(1));return}q.parentNode.removeChild(q)}),p=z.textContent.length,B=h}}else if(E){for(var te=E.querySelectorAll("[data-slate-leaf]"),re=0;re<te.length;re++){var ae=te[re];if(_t.hasDOMNode(e,ae)){C=ae;break}}C?(h=C.closest('[data-slate-node="text"]'),B=C,p=B.textContent.length,B.querySelectorAll("[data-slate-zero-width]").forEach(q=>{p-=q.textContent.length})):p=1}else if(T){var ce=q=>q?q.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],ne=T.closest('[data-slate-node="element"]');if(u==="forward"){var Q,le=[...ce(ne),...ce(ne==null?void 0:ne.nextElementSibling)];C=(Q=le.find(q=>RZ(T,q)))!==null&&Q!==void 0?Q:null}else{var G,R=[...ce(ne==null?void 0:ne.previousElementSibling),...ce(ne)];C=(G=R.findLast(q=>wB(T,q)))!==null&&G!==void 0?G:null}C&&(h=C.closest('[data-slate-node="text"]'),B=C,u==="forward"?p=0:(p=B.textContent.length,B.querySelectorAll("[data-slate-zero-width]").forEach(q=>{p-=q.textContent.length})))}B&&p===B.textContent.length&&Pi&&B.getAttribute("data-slate-zero-width")==="z"&&(m=B.textContent)!==null&&m!==void 0&&m.startsWith("\uFEFF")&&(d.hasAttribute("data-slate-zero-width")||Gf&&(v=B.textContent)!==null&&v!==void 0&&v.endsWith(`

`))&&p--}if(Pi&&!h&&!i){var k=d.hasAttribute("data-slate-node")?d:d.closest("[data-slate-node]");if(k&&_t.hasDOMNode(e,k,{editable:!0})){var H=_t.toSlateNode(e,k),{path:_,offset:X}=F.start(e,_t.findPath(e,H));return k.querySelector("[data-slate-leaf]")||(X=c),{path:_,offset:X}}}if(!h){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(n))}var U=_t.toSlateNode(e,h),ie=_t.findPath(e,U);return{path:ie,offset:p}},toSlateRange:(e,n,r)=>{var i,{exactMatch:o,suppressThrow:u}=r,l=HD(n)?n.anchorNode:n.startContainer,c,d,h,p,m;if(l)if(HD(n)){if(Gf&&n.rangeCount>1){h=n.focusNode;var v=n.getRangeAt(0),w=n.getRangeAt(n.rangeCount-1);if(h instanceof HTMLTableRowElement&&v.startContainer instanceof HTMLTableRowElement&&w.startContainer instanceof HTMLTableRowElement){let z=function(Y){return Y.childElementCount>0?z(Y.children[0]):Y};var b=v.startContainer,E=w.startContainer,S=z(b.children[v.startOffset]),T=z(E.children[w.startOffset]);p=0,T.childNodes.length>0?c=T.childNodes[0]:c=T,S.childNodes.length>0?h=S.childNodes[0]:h=S,T instanceof HTMLElement?d=T.innerHTML.length:d=0}else v.startContainer===h?(c=w.endContainer,d=w.endOffset,p=v.startOffset):(c=v.startContainer,d=v.endOffset,p=w.startOffset)}else c=n.anchorNode,d=n.anchorOffset,h=n.focusNode,p=n.focusOffset;I4&&DZ(c)||Gf?m=n.anchorNode===n.focusNode&&n.anchorOffset===n.focusOffset:m=n.isCollapsed}else c=n.startContainer,d=n.startOffset,h=n.endContainer,p=n.endOffset,m=n.collapsed;if(c==null||h==null||d==null||p==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(n));Gf&&(i=h.textContent)!==null&&i!==void 0&&i.endsWith(`

`)&&p===h.textContent.length&&p--;var C=_t.toSlatePoint(e,[c,d],{exactMatch:o,suppressThrow:u});if(!C)return null;var B=wB(c,h)||c===h&&p<d,P=m?C:_t.toSlatePoint(e,[h,p],{exactMatch:o,suppressThrow:u,searchDirection:B?"forward":"backward"});if(!P)return null;var I={anchor:C,focus:P};return be.isExpanded(I)&&be.isForward(I)&&Oo(h)&&F.void(e,{at:I.focus,mode:"highest"})&&(I=F.unhangRange(e,I,{voids:!0})),I}};function _Z(e,n){var{path:r,diff:i}=n;if(!F.hasPath(e,r))return!1;var o=Le.get(e,r);if(!Qe.isText(o))return!1;if(i.start!==o.text.length||i.text.length===0)return o.text.slice(i.start,i.start+i.text.length)===i.text;var u=J.next(r);if(!F.hasPath(e,u))return!1;var l=Le.get(e,u);return Qe.isText(l)&&l.text.startsWith(i.text)}function j4(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,u)=>o.slice(0,u.start)+u.text+o.slice(u.end),e)}function VZ(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++)if(e.charAt(i)!==n.charAt(i))return i;return r}function jZ(e,n,r){for(var i=Math.min(e.length,n.length,r),o=0;o<i;o++)if(e.charAt(e.length-o-1)!==n.charAt(n.length-o-1))return o;return i}function z4(e,n){var{start:r,end:i,text:o}=n,u=e.slice(r,i),l=VZ(u,o),c=Math.min(u.length-l,o.length-l),d=jZ(u,o,c),h={start:r+l,end:i-d,text:o.slice(l,o.length-d)};return h.start===h.end&&h.text.length===0?null:h}function zZ(e,n,r){var i=Math.min(n.start,r.start),o=Math.max(0,Math.min(n.start+n.text.length,r.end)-r.start),u=j4(e,n,r),l=Math.max(r.start+r.text.length,n.start+n.text.length+(n.start+n.text.length>r.start?r.text.length:0)-o),c=u.slice(i,l),d=Math.max(n.end,r.end-n.text.length+(n.end-n.start));return z4(e,{start:i,end:d,text:c})}function $Z(e){var{path:n,diff:r}=e;return{anchor:{path:n,offset:r.start},focus:{path:n,offset:r.end}}}function jD(e,n){var{path:r,offset:i}=n;if(!F.hasPath(e,r))return null;var o=Le.get(e,r);if(!Qe.isText(o))return null;var u=F.above(e,{match:c=>et.isElement(c)&&F.isBlock(e,c),at:r});if(!u)return null;for(;i>o.text.length;){var l=F.next(e,{at:r,match:Qe.isText});if(!l||!J.isDescendant(l[1],u[1]))return null;i-=o.text.length,o=l[0],r=l[1]}return{path:r,offset:i}}function bB(e,n){var r=jD(e,n.anchor);if(!r)return null;if(be.isCollapsed(n))return{anchor:r,focus:r};var i=jD(e,n.focus);return i?{anchor:r,focus:i}:null}function zD(e,n,r){var i=zi.get(e),o=i==null?void 0:i.find(p=>{var{path:m}=p;return J.equals(m,n.path)});if(!o||n.offset<=o.diff.start)return cn.transform(n,r,{affinity:"backward"});var{diff:u}=o;if(n.offset<=u.start+u.text.length){var l={path:n.path,offset:u.start},c=cn.transform(l,r,{affinity:"backward"});return c?{path:c.path,offset:c.offset+n.offset-u.start}:null}var d={path:n.path,offset:n.offset-u.text.length+u.end-u.start},h=cn.transform(d,r,{affinity:"backward"});return h?r.type==="split_node"&&J.equals(r.path,n.path)&&d.offset<r.position&&u.start<r.position?h:{path:h.path,offset:h.offset+u.text.length-u.end+u.start}:null}function CB(e,n,r){var i=zD(e,n.anchor,r);if(!i)return null;if(be.isCollapsed(n))return{anchor:i,focus:i};var o=zD(e,n.focus,r);return o?{anchor:i,focus:o}:null}function UZ(e,n){var{path:r,diff:i,id:o}=e;switch(n.type){case"insert_text":return!J.equals(n.path,r)||n.offset>=i.end?e:n.offset<=i.start?{diff:{start:n.text.length+i.start,end:n.text.length+i.end,text:i.text},id:o,path:r}:{diff:{start:i.start,end:i.end+n.text.length,text:i.text},id:o,path:r};case"remove_text":return!J.equals(n.path,r)||n.offset>=i.end?e:n.offset+n.text.length<=i.start?{diff:{start:i.start-n.text.length,end:i.end-n.text.length,text:i.text},id:o,path:r}:{diff:{start:i.start,end:i.end-n.text.length,text:i.text},id:o,path:r};case"split_node":return!J.equals(n.path,r)||n.position>=i.end?{diff:i,id:o,path:J.transform(r,n,{affinity:"backward"})}:n.position>i.start?{diff:{start:i.start,end:Math.min(n.position,i.end),text:i.text},id:o,path:r}:{diff:{start:i.start-n.position,end:i.end-n.position,text:i.text},id:o,path:J.transform(r,n,{affinity:"forward"})};case"merge_node":return J.equals(n.path,r)?{diff:{start:i.start+n.position,end:i.end+n.position,text:i.text},id:o,path:J.transform(r,n)}:{diff:i,id:o,path:J.transform(r,n)}}var u=J.transform(r,n);return u?{diff:i,path:u,id:o}:null}var EB=(e,n)=>{var r=(n.top+n.bottom)/2;return e.top<=r&&e.bottom>=r},DB=(e,n,r)=>{var i=_t.toDOMRange(e,n).getBoundingClientRect(),o=_t.toDOMRange(e,r).getBoundingClientRect();return EB(i,o)&&EB(o,i)},WZ=(e,n)=>{var r=F.range(e,be.end(n)),i=Array.from(F.positions(e,{at:n})),o=0,u=i.length,l=Math.floor(u/2);if(DB(e,F.range(e,i[o]),r))return F.range(e,i[o],r);if(i.length<2)return F.range(e,i[i.length-1],r);for(;l!==i.length&&l!==o;)DB(e,F.range(e,i[l]),r)?u=l:o=l,l=Math.floor((o+u)/2);return F.range(e,i[o],r)};function SB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function TB(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?SB(Object(r),!0).forEach(function(i){hS(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var XZ=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",i=n,{apply:o,onChange:u,deleteBackward:l,addMark:c,removeMark:d}=i;return dy.set(i,new WeakMap),i.addMark=(h,p)=>{var m,v;(m=gS.get(i))===null||m===void 0||m(),!hs.get(i)&&(v=zi.get(i))!==null&&v!==void 0&&v.length&&hs.set(i,null),Aa.delete(i),c(h,p)},i.removeMark=h=>{var p;!hs.get(i)&&(p=zi.get(i))!==null&&p!==void 0&&p.length&&hs.set(i,null),Aa.delete(i),d(h)},i.deleteBackward=h=>{if(h!=="line")return l(h);if(i.selection&&be.isCollapsed(i.selection)){var p=F.above(i,{match:b=>et.isElement(b)&&F.isBlock(i,b),at:i.selection});if(p){var[,m]=p,v=F.range(i,m,i.selection.anchor),w=WZ(i,v);be.isCollapsed(w)||Re.delete(i,{at:w})}}},i.apply=h=>{var p=[],m=[],v=zi.get(i);if(v!=null&&v.length){var w=v.map(le=>UZ(le,h)).filter(Boolean);zi.set(i,w)}var b=Du.get(i);b&&Du.set(i,CB(i,b,h));var E=Eu.get(i);if(E!=null&&E.at){var S=cn.isPoint(E==null?void 0:E.at)?zD(i,E.at,h):CB(i,E.at,h);Eu.set(i,S?TB(TB({},E),{},{at:S}):null)}switch(h.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{p.push(...Bf(i,h.path));break}case"set_selection":{var T;(T=Hg.get(i))===null||T===void 0||T.unref(),Hg.delete(i);break}case"insert_node":case"remove_node":{p.push(...Bf(i,J.parent(h.path)));break}case"merge_node":{var C=J.previous(h.path);p.push(...Bf(i,C));break}case"move_node":{var B=J.common(J.parent(h.path),J.parent(h.newPath));p.push(...Bf(i,B));var P;J.isBefore(h.path,h.newPath)?(p.push(...Bf(i,J.parent(h.path))),P=h.newPath):(p.push(...Bf(i,J.parent(h.newPath))),P=h.path);var I=Le.get(n,J.parent(P)),z=_t.findKey(i,I),Y=F.pathRef(i,J.parent(P));m.push([Y,z]);break}}switch(o(h),h.type){case"insert_node":case"remove_node":case"merge_node":case"move_node":case"split_node":case"insert_text":case"remove_text":case"set_selection":Wf.set(i,!0)}for(var[te,re]of p){var[ae]=F.node(i,te);b1.set(ae,re)}for(var[ce,ne]of m){if(ce.current){var[Q]=F.node(i,ce.current);b1.set(Q,ne)}ce.unref()}},i.setFragmentData=h=>{var{selection:p}=i;if(p){var[m,v]=be.edges(p),w=F.void(i,{at:m.path}),b=F.void(i,{at:v.path});if(!(be.isCollapsed(p)&&!w)){var E=_t.toDOMRange(i,p),S=E.cloneContents(),T=S.childNodes[0];if(S.childNodes.forEach(ae=>{ae.textContent&&ae.textContent.trim()!==""&&(T=ae)}),b){var[C]=b,B=E.cloneRange(),P=_t.toDOMNode(i,C);B.setEndAfter(P),S=B.cloneContents()}if(w&&(T=S.querySelector("[data-slate-spacer]")),Array.from(S.querySelectorAll("[data-slate-zero-width]")).forEach(ae=>{var ce=ae.getAttribute("data-slate-zero-width")==="n";ae.textContent=ce?`
`:""}),O4(T)){var I=T.ownerDocument.createElement("span");I.style.whiteSpace="pre",I.appendChild(T),S.appendChild(I),T=I}var z=i.getFragment(),Y=JSON.stringify(z),te=window.btoa(encodeURIComponent(Y));T.setAttribute("data-slate-fragment",te),h.setData("application/".concat(r),te);var re=S.ownerDocument.createElement("div");return re.appendChild(S),re.setAttribute("hidden","true"),S.ownerDocument.body.appendChild(re),h.setData("text/html",re.innerHTML),h.setData("text/plain",L4(re)),S.ownerDocument.body.removeChild(re),h}}},i.insertData=h=>{i.insertFragmentData(h)||i.insertTextData(h)},i.insertFragmentData=h=>{var p=h.getData("application/".concat(r))||AZ(h);if(p){var m=decodeURIComponent(window.atob(p)),v=JSON.parse(m);return i.insertFragment(v),!0}return!1},i.insertTextData=h=>{var p=h.getData("text/plain");if(p){var m=p.split(/\r\n|\r|\n/),v=!1;for(var w of m)v&&Re.splitNodes(i,{always:!0}),i.insertText(w),v=!0;return!0}return!1},i.onChange=h=>{var p=VD.get(i);p&&p(h),u(h)},i},Bf=(e,n)=>{var r=[];for(var[i,o]of F.levels(e,{at:n})){var u=_t.findKey(e,i);r.push([o,u])}return r},YZ=3,KZ={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},qZ={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ZZ={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},qn=e=>{var n=KZ[e],r=qZ[e],i=ZZ[e],o=n&&Kt.isHotkey(n),u=r&&Kt.isHotkey(r),l=i&&Kt.isHotkey(i);return c=>!!(o&&o(c)||xB&&u&&u(c)||!xB&&l&&l(c))},tr={isBold:qn("bold"),isCompose:qn("compose"),isMoveBackward:qn("moveBackward"),isMoveForward:qn("moveForward"),isDeleteBackward:qn("deleteBackward"),isDeleteForward:qn("deleteForward"),isDeleteLineBackward:qn("deleteLineBackward"),isDeleteLineForward:qn("deleteLineForward"),isDeleteWordBackward:qn("deleteWordBackward"),isDeleteWordForward:qn("deleteWordForward"),isExtendBackward:qn("extendBackward"),isExtendForward:qn("extendForward"),isExtendLineBackward:qn("extendLineBackward"),isExtendLineForward:qn("extendLineForward"),isItalic:qn("italic"),isMoveLineBackward:qn("moveLineBackward"),isMoveLineForward:qn("moveLineForward"),isMoveWordBackward:qn("moveWordBackward"),isMoveWordForward:qn("moveWordForward"),isRedo:qn("redo"),isSoftBreak:qn("insertSoftBreak"),isSplitBlock:qn("splitBlock"),isTransposeCharacter:qn("transposeCharacter"),isUndo:qn("undo")};function QZ(e,n){if(e==null)return{};var r={},i=Object.keys(e),o,u;for(u=0;u<i.length;u++)o=i[u],!(n.indexOf(o)>=0)&&(r[o]=e[o]);return r}function AB(e,n){if(e==null)return{};var r=QZ(e,n),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)i=u[o],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var JZ=["anchor","focus"],eQ=["anchor","focus"];function PB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function RB(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?PB(Object(r),!0).forEach(function(i){hS(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var tQ=(e,n)=>Object.keys(e).length===Object.keys(n).length&&Object.keys(e).every(r=>n.hasOwnProperty(r)&&e[r]===n[r]),$4=(e,n)=>{var r=AB(e,JZ),i=AB(n,eQ);return e[nd]===n[nd]&&tQ(r,i)},pS=(e,n)=>{if(e===n)return!0;if(!e||!n||e.length!==n.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=n[r];if(!be.equals(i,o)||!$4(i,o))return!1}return!0},U4=(e,n)=>{if(e===n)return!0;if(!e||!n||e.length!==n.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=n[r];if(i.anchor.offset!==o.anchor.offset||i.focus.offset!==o.focus.offset||!$4(i,o))return!1}return!0},nQ=(e,n,r)=>{var i=Array.from(n.children,()=>[]);if(r.length===0)return i;var o=_t.findPath(e,n),u=o.length,l=F.range(e,o),c=new Array(n.children.length),d=B=>{var P=c[B];if(P)return P;var I=F.range(e,[...o,B]);return c[B]=I,I};for(var h of r){var p=be.intersection(l,h);if(p)for(var[m,v]=be.edges(p),w=m.path[u],b=v.path[u],E=w;E<=b;E++){var S=i[E];if(S){var T=d(E),C=be.intersection(T,h);C&&S.push(RB(RB({},h),C))}}}return i},Jl=[],rQ=function(){return Jl.some(function(e){return e.activeTargets.length>0})},iQ=function(){return Jl.some(function(e){return e.skippedTargets.length>0})},BB="ResizeObserver loop completed with undelivered notifications.",oQ=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:BB}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=BB),window.dispatchEvent(e)},rp;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(rp||(rp={}));var ec=function(e){return Object.freeze(e)},sQ=function(){function e(n,r){this.inlineSize=n,this.blockSize=r,ec(this)}return e}(),W4=function(){function e(n,r,i,o){return this.x=n,this.y=r,this.width=i,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ec(this)}return e.prototype.toJSON=function(){var n=this,r=n.x,i=n.y,o=n.top,u=n.right,l=n.bottom,c=n.left,d=n.width,h=n.height;return{x:r,y:i,top:o,right:u,bottom:l,left:c,width:d,height:h}},e.fromRect=function(n){return new e(n.x,n.y,n.width,n.height)},e}(),mS=function(e){return e instanceof SVGElement&&"getBBox"in e},X4=function(e){if(mS(e)){var n=e.getBBox(),r=n.width,i=n.height;return!r&&!i}var o=e,u=o.offsetWidth,l=o.offsetHeight;return!(u||l||e.getClientRects().length)},kB=function(e){var n;if(e instanceof Element)return!0;var r=(n=e==null?void 0:e.ownerDocument)===null||n===void 0?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},aQ=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Gg=typeof window<"u"?window:{},bv=new WeakMap,MB=/auto|scroll/,uQ=/^tb|vertical/,lQ=/msie|trident/i.test(Gg.navigator&&Gg.navigator.userAgent),Ls=function(e){return parseFloat(e||"0")},Xf=function(e,n,r){return e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=!1),new sQ((r?n:e)||0,(r?e:n)||0)},NB=ec({devicePixelContentBoxSize:Xf(),borderBoxSize:Xf(),contentBoxSize:Xf(),contentRect:new W4(0,0,0,0)}),Y4=function(e,n){if(n===void 0&&(n=!1),bv.has(e)&&!n)return bv.get(e);if(X4(e))return bv.set(e,NB),NB;var r=getComputedStyle(e),i=mS(e)&&e.ownerSVGElement&&e.getBBox(),o=!lQ&&r.boxSizing==="border-box",u=uQ.test(r.writingMode||""),l=!i&&MB.test(r.overflowY||""),c=!i&&MB.test(r.overflowX||""),d=i?0:Ls(r.paddingTop),h=i?0:Ls(r.paddingRight),p=i?0:Ls(r.paddingBottom),m=i?0:Ls(r.paddingLeft),v=i?0:Ls(r.borderTopWidth),w=i?0:Ls(r.borderRightWidth),b=i?0:Ls(r.borderBottomWidth),E=i?0:Ls(r.borderLeftWidth),S=m+h,T=d+p,C=E+w,B=v+b,P=c?e.offsetHeight-B-e.clientHeight:0,I=l?e.offsetWidth-C-e.clientWidth:0,z=o?S+C:0,Y=o?T+B:0,te=i?i.width:Ls(r.width)-z-I,re=i?i.height:Ls(r.height)-Y-P,ae=te+S+I+C,ce=re+T+P+B,ne=ec({devicePixelContentBoxSize:Xf(Math.round(te*devicePixelRatio),Math.round(re*devicePixelRatio),u),borderBoxSize:Xf(ae,ce,u),contentBoxSize:Xf(te,re,u),contentRect:new W4(m,d,te,re)});return bv.set(e,ne),ne},K4=function(e,n,r){var i=Y4(e,r),o=i.borderBoxSize,u=i.contentBoxSize,l=i.devicePixelContentBoxSize;switch(n){case rp.DEVICE_PIXEL_CONTENT_BOX:return l;case rp.BORDER_BOX:return o;default:return u}},cQ=function(){function e(n){var r=Y4(n);this.target=n,this.contentRect=r.contentRect,this.borderBoxSize=ec([r.borderBoxSize]),this.contentBoxSize=ec([r.contentBoxSize]),this.devicePixelContentBoxSize=ec([r.devicePixelContentBoxSize])}return e}(),q4=function(e){if(X4(e))return 1/0;for(var n=0,r=e.parentNode;r;)n+=1,r=r.parentNode;return n},fQ=function(){var e=1/0,n=[];Jl.forEach(function(l){if(l.activeTargets.length!==0){var c=[];l.activeTargets.forEach(function(h){var p=new cQ(h.target),m=q4(h.target);c.push(p),h.lastReportedSize=K4(h.target,h.observedBox),m<e&&(e=m)}),n.push(function(){l.callback.call(l.observer,c,l.observer)}),l.activeTargets.splice(0,l.activeTargets.length)}});for(var r=0,i=n;r<i.length;r++){var o=i[r];o()}return e},OB=function(e){Jl.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(o){o.isActive()&&(q4(o.target)>e?r.activeTargets.push(o):r.skippedTargets.push(o))})})},dQ=function(){var e=0;for(OB(e);rQ();)e=fQ(),OB(e);return iQ()&&oQ(),e>0},AE,Z4=[],hQ=function(){return Z4.splice(0).forEach(function(e){return e()})},gQ=function(e){if(!AE){var n=0,r=document.createTextNode(""),i={characterData:!0};new MutationObserver(function(){return hQ()}).observe(r,i),AE=function(){r.textContent="".concat(n?n--:n++)}}Z4.push(e),AE()},pQ=function(e){gQ(function(){requestAnimationFrame(e)})},Kv=0,mQ=function(){return!!Kv},vQ=250,yQ={attributes:!0,characterData:!0,childList:!0,subtree:!0},FB=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],LB=function(e){return e===void 0&&(e=0),Date.now()+e},PE=!1,wQ=function(){function e(){var n=this;this.stopped=!0,this.listener=function(){return n.schedule()}}return e.prototype.run=function(n){var r=this;if(n===void 0&&(n=vQ),!PE){PE=!0;var i=LB(n);pQ(function(){var o=!1;try{o=dQ()}finally{if(PE=!1,n=i-LB(),!mQ())return;o?r.run(1e3):n>0?r.run(n):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var n=this,r=function(){return n.observer&&n.observer.observe(document.body,yQ)};document.body?r():Gg.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var n=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),FB.forEach(function(r){return Gg.addEventListener(r,n.listener,!0)}))},e.prototype.stop=function(){var n=this;this.stopped||(this.observer&&this.observer.disconnect(),FB.forEach(function(r){return Gg.removeEventListener(r,n.listener,!0)}),this.stopped=!0)},e}(),$D=new wQ,IB=function(e){!Kv&&e>0&&$D.start(),Kv+=e,!Kv&&$D.stop()},xQ=function(e){return!mS(e)&&!aQ(e)&&getComputedStyle(e).display==="inline"},bQ=function(){function e(n,r){this.target=n,this.observedBox=r||rp.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var n=K4(this.target,this.observedBox,!0);return xQ(this.target)&&(this.lastReportedSize=n),this.lastReportedSize.inlineSize!==n.inlineSize||this.lastReportedSize.blockSize!==n.blockSize},e}(),CQ=function(){function e(n,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=n,this.callback=r}return e}(),Cv=new WeakMap,HB=function(e,n){for(var r=0;r<e.length;r+=1)if(e[r].target===n)return r;return-1},Ev=function(){function e(){}return e.connect=function(n,r){var i=new CQ(n,r);Cv.set(n,i)},e.observe=function(n,r,i){var o=Cv.get(n),u=o.observationTargets.length===0;HB(o.observationTargets,r)<0&&(u&&Jl.push(o),o.observationTargets.push(new bQ(r,i&&i.box)),IB(1),$D.schedule())},e.unobserve=function(n,r){var i=Cv.get(n),o=HB(i.observationTargets,r),u=i.observationTargets.length===1;o>=0&&(u&&Jl.splice(Jl.indexOf(i),1),i.observationTargets.splice(o,1),IB(-1))},e.disconnect=function(n){var r=this,i=Cv.get(n);i.observationTargets.slice().forEach(function(o){return r.unobserve(n,o.target)}),i.activeTargets.splice(0,i.activeTargets.length)},e}(),EQ=function(){function e(n){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof n!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ev.connect(this,n)}return e.prototype.observe=function(n,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!kB(n))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ev.observe(this,n,r)},e.prototype.unobserve=function(n){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!kB(n))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ev.unobserve(this,n)},e.prototype.disconnect=function(){Ev.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),vS=i8();const DQ=gc(vS);function SQ(e,n){if(e==null)return{};var r={},i=Object.keys(e),o,u;for(u=0;u<i.length;u++)o=i[u],!(n.indexOf(o)>=0)&&(r[o]=e[o]);return r}function C1(e,n){if(e==null)return{};var r=SQ(e,n),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)i=u[o],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ip(e)}function TQ(e,n){if(ip(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(ip(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function AQ(e){var n=TQ(e,"string");return ip(n)==="symbol"?n:String(n)}function Zn(e,n,r){return n=AQ(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var yS=$.createContext(null),Qs=()=>{var e=$.useContext(yS);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},Fe=_t;function GB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Dv(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?GB(Object(r),!0).forEach(function(i){Zn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var PQ=25,RQ=200,BQ=function(){},kQ=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function MQ(e){var{editor:n,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:i}=e,o=!1,u=null,l=null,c=null,d=0,h=!1,p=()=>{var ne=Du.get(n);if(Du.delete(n),ne){var{selection:Q}=n,le=bB(n,ne);le&&(!Q||!be.equals(le,Q))&&Re.select(n,le)}},m=()=>{var ne=Eu.get(n);if(Eu.delete(n),!!ne){if(ne.at){var Q=cn.isPoint(ne.at)?jD(n,ne.at):bB(n,ne.at);if(!Q)return;var le=F.range(n,Q);(!n.selection||!be.equals(n.selection,le))&&Re.select(n,Q)}ne.run()}},v=()=>{if(l&&(clearTimeout(l),l=null),c&&(clearTimeout(c),c=null),!P()&&!B()){p();return}o||(o=!0,setTimeout(()=>o=!1)),B()&&(o="action");var ne=n.selection&&F.rangeRef(n,n.selection,{affinity:"forward"});Aa.set(n,n.marks),BQ("flush",Eu.get(n),zi.get(n));for(var Q=P(),le;le=(G=zi.get(n))===null||G===void 0?void 0:G[0];){var G,R,k=hs.get(n);k!==void 0&&(hs.delete(n),n.marks=k),k&&h===!1&&(h=null);var H=$Z(le);(!n.selection||!be.equals(n.selection,H))&&Re.select(n,H),le.diff.text?F.insertText(n,le.diff.text):F.deleteFragment(n),zi.set(n,(R=zi.get(n))===null||R===void 0?void 0:R.filter(U=>{var{id:ie}=U;return ie!==le.id})),_Z(n,le)||(Q=!1,Eu.delete(n),Aa.delete(n),o="action",Du.delete(n),r.cancel(),i.cancel(),ne==null||ne.unref())}var _=ne==null?void 0:ne.unref();if(_&&!Du.get(n)&&(!n.selection||!be.equals(_,n.selection))&&Re.select(n,_),B()){m();return}Q&&r(),r.flush(),i.flush(),p();var X=Aa.get(n);Aa.delete(n),X!==void 0&&(n.marks=X,n.onChange())},w=ne=>{u&&clearTimeout(u),u=setTimeout(()=>{Xl.set(n,!1),v()},PQ)},b=ne=>{Xl.set(n,!0),u&&(clearTimeout(u),u=null)},E=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,le=GD.get(n);if(le){if(P()||Q){le.style.display="none";return}le.style.removeProperty("display")}},S=(ne,Q)=>{var le,G=(le=zi.get(n))!==null&&le!==void 0?le:[];zi.set(n,G);var R=Le.leaf(n,ne),k=G.findIndex(X=>J.equals(X.path,ne));if(k<0){var H=z4(R.text,Q);H&&G.push({path:ne,diff:Q,id:d++}),E();return}var _=zZ(R.text,G[k].diff,Q);if(!_){G.splice(k,1),E();return}G[k]=Dv(Dv({},G[k]),{},{diff:_})},T=function(Q){var{at:le}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};h=!1,Du.delete(n),r.cancel(),i.cancel(),B()&&v(),Eu.set(n,{at:le,run:Q}),c=setTimeout(v)},C=ne=>{var Q;if(l&&(clearTimeout(l),l=null),!Wf.get(n)){var{inputType:le}=ne,G=null,R=ne.dataTransfer||ne.data||void 0;h!==!1&&le!=="insertText"&&le!=="insertCompositionText"&&(h=!1);var[k]=ne.getTargetRanges();k&&(G=Fe.toSlateRange(n,k,{exactMatch:!1,suppressThrow:!0}));var H=Fe.getWindow(n),_=H.getSelection();if(!G&&_&&(k=_,G=Fe.toSlateRange(n,_,{exactMatch:!1,suppressThrow:!0})),G=(Q=G)!==null&&Q!==void 0?Q:n.selection,!!G){var X=!0;if(le.startsWith("delete")){if(be.isExpanded(G)){var[U,ie]=be.edges(G),q=Le.leaf(n,U.path);if(q.text.length===U.offset&&ie.offset===0){var ue=F.next(n,{at:U.path,match:Qe.isText});ue&&J.equals(ue[1],ie.path)&&(G={anchor:ie,focus:ie})}}var xe=le.endsWith("Backward")?"backward":"forward",[fe,Te]=be.edges(G),[ke,Z]=F.leaf(n,fe.path),de={text:"",start:fe.offset,end:Te.offset},me=zi.get(n),Ce=me==null?void 0:me.find(kn=>J.equals(kn.path,Z)),$e=Ce?[Ce.diff,de]:[de],Pe=j4(ke.text,...$e);if(Pe.length===0&&(X=!1),be.isExpanded(G)){if(X&&J.equals(G.anchor.path,G.focus.path)){var ot={path:G.anchor.path,offset:fe.offset},je=F.range(n,ot,ot);return Y(je),S(G.anchor.path,{text:"",end:Te.offset,start:fe.offset})}return T(()=>F.deleteFragment(n,{direction:xe}),{at:G})}}switch(le){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return T(()=>F.deleteFragment(n),{at:G});case"deleteContent":case"deleteContentForward":{var{anchor:Ie}=G;if(X&&be.isCollapsed(G)){var ht=Le.leaf(n,Ie.path);if(Ie.offset<ht.text.length)return S(Ie.path,{text:"",start:Ie.offset,end:Ie.offset+1})}return T(()=>F.deleteForward(n),{at:G})}case"deleteContentBackward":{var Je,{anchor:Dt}=G,ft=HD(k)?k.isCollapsed:!!((Je=k)!==null&&Je!==void 0&&Je.collapsed);return X&&ft&&be.isCollapsed(G)&&Dt.offset>0?S(Dt.path,{text:"",start:Dt.offset-1,end:Dt.offset}):T(()=>F.deleteBackward(n),{at:G})}case"deleteEntireSoftLine":return T(()=>{F.deleteBackward(n,{unit:"line"}),F.deleteForward(n,{unit:"line"})},{at:G});case"deleteHardLineBackward":return T(()=>F.deleteBackward(n,{unit:"block"}),{at:G});case"deleteSoftLineBackward":return T(()=>F.deleteBackward(n,{unit:"line"}),{at:G});case"deleteHardLineForward":return T(()=>F.deleteForward(n,{unit:"block"}),{at:G});case"deleteSoftLineForward":return T(()=>F.deleteForward(n,{unit:"line"}),{at:G});case"deleteWordBackward":return T(()=>F.deleteBackward(n,{unit:"word"}),{at:G});case"deleteWordForward":return T(()=>F.deleteForward(n,{unit:"word"}),{at:G});case"insertLineBreak":return T(()=>F.insertSoftBreak(n),{at:G});case"insertParagraph":return T(()=>F.insertBreak(n),{at:G});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(kQ(R))return T(()=>Fe.insertData(n,R),{at:G});var Rt=R??"";if(hs.get(n)&&(Rt=Rt.replace("\uFEFF","")),le==="insertText"&&/.*\n.*\n$/.test(Rt)&&(Rt=Rt.slice(0,-1)),Rt.includes(`
`))return T(()=>{var kn=Rt.split(`
`);kn.forEach((Tn,_e)=>{Tn&&F.insertText(n,Tn),_e!==kn.length-1&&F.insertSoftBreak(n)})},{at:G});if(J.equals(G.anchor.path,G.focus.path)){var[pn,rr]=be.edges(G),rn={start:pn.offset,end:rr.offset,text:Rt};if(Rt&&h&&le==="insertCompositionText"){var Wn=h.start+h.text.search(/\S|$/),Jn=rn.start+rn.text.search(/\S|$/);Jn===Wn+1&&rn.end===h.start+h.text.length?(rn.start-=1,h=null,ae()):h=!1}else le==="insertText"?h===null?h=rn:h&&be.isCollapsed(G)&&h.end+h.text.length===pn.offset?h=Dv(Dv({},h),{},{text:h.text+Rt}):h=!1:h=!1;if(X){S(pn.path,rn);return}}return T(()=>F.insertText(n,Rt),{at:G})}}}}},B=()=>!!Eu.get(n),P=()=>{var ne;return!!((ne=zi.get(n))!==null&&ne!==void 0&&ne.length)},I=()=>B()||P(),z=()=>o,Y=ne=>{Du.set(n,ne),l&&(clearTimeout(l),l=null);var{selection:Q}=n;if(ne){var le=!Q||!J.equals(Q.anchor.path,ne.anchor.path),G=!Q||!J.equals(Q.anchor.path.slice(0,-1),ne.anchor.path.slice(0,-1));(le&&h||G)&&(h=!1),(le||P())&&(l=setTimeout(v,RQ))}},te=()=>{(B()||!P())&&v()},re=ne=>{P()||(E(!0),setTimeout(E))},ae=()=>{B()||(c=setTimeout(v))},ce=ne=>{if(!(P()||B())&&ne.some(le=>dS(n,le,ne))){var Q;(Q=_4.get(n))===null||Q===void 0||Q()}};return{flush:v,scheduleFlush:ae,hasPendingDiffs:P,hasPendingAction:B,hasPendingChanges:I,isFlushing:z,handleUserSelect:Y,handleCompositionEnd:w,handleCompositionStart:b,handleDOMBeforeInput:C,handleKeyDown:re,handleDomMutations:ce,handleInput:te}}function NQ(){var e=$.useRef(!1);return $.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var Ia=Xv?$.useLayoutEffect:$.useEffect;function OQ(e,n,r){var[i]=$.useState(()=>new MutationObserver(n));Ia(()=>{i.takeRecords()}),$.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return i.observe(e.current,r),()=>i.disconnect()},[i,e,r])}var FQ=["node"];function _B(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function LQ(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?_B(Object(r),!0).forEach(function(i){Zn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var IQ={subtree:!0,childList:!0,characterData:!0},HQ=Pi?e=>{var{node:n}=e,r=C1(e,FQ);if(!Pi)return null;var i=Qs(),o=NQ(),[u]=$.useState(()=>MQ(LQ({editor:i},r)));return OQ(n,u.handleDomMutations,IQ),gS.set(i,u.scheduleFlush),o&&u.flush(),u}:()=>null;function VB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function GQ(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?VB(Object(r),!0).forEach(function(i){Zn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var _Q=e=>{var{isLast:n,leaf:r,parent:i,text:o}=e,u=Qs(),l=Fe.findPath(u,o),c=J.parent(l),d=!!r[V4];return u.isVoid(i)?vt.createElement(RE,{length:Le.string(i).length}):r.text===""&&i.children[i.children.length-1]===o&&!u.isInline(i)&&F.string(u,c)===""?vt.createElement(RE,{isLineBreak:!0,isMarkPlaceholder:d}):r.text===""?vt.createElement(RE,{isMarkPlaceholder:d}):n&&r.text.slice(-1)===`
`?vt.createElement(jB,{isTrailing:!0,text:r.text}):vt.createElement(jB,{text:r.text})},jB=e=>{var{text:n,isTrailing:r=!1}=e,i=$.useRef(null),o=()=>"".concat(n??"").concat(r?`
`:""),[u]=$.useState(o);return Ia(()=>{var l=o();i.current&&i.current.textContent!==l&&(i.current.textContent=l)}),vt.createElement(VQ,{ref:i},u)},VQ=$.memo($.forwardRef((e,n)=>vt.createElement("span",{"data-slate-string":!0,ref:n},e.children))),RE=e=>{var{length:n=0,isLineBreak:r=!1,isMarkPlaceholder:i=!1}=e,o={"data-slate-zero-width":r?"n":"z","data-slate-length":n};return i&&(o["data-slate-mark-placeholder"]=!0),vt.createElement("span",GQ({},o),!Pi||!r?"\uFEFF":null,r?vt.createElement("br",null):null)};function zB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Q4(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?zB(Object(r),!0).forEach(function(i){Zn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var jQ=Pi?300:0;function zQ(e,n){e.current&&(e.current.disconnect(),n&&(e.current=null))}function $B(e){e.current&&(clearTimeout(e.current),e.current=null)}var $Q=e=>vt.createElement(XQ,Q4({},e)),UQ=e=>{var{leaf:n,isLast:r,text:i,parent:o,renderPlaceholder:u,renderLeaf:l=$Q,leafPosition:c}=e,d=Qs(),h=$.useRef(null),p=$.useRef(null),[m,v]=$.useState(!1),w=$.useRef(null),b=$.useCallback(B=>{if(zQ(h,B==null),B==null){var P;GD.delete(d),(P=n.onPlaceholderResize)===null||P===void 0||P.call(n,null)}else{if(GD.set(d,B),!h.current){var I=window.ResizeObserver||EQ;h.current=new I(()=>{var z;(z=n.onPlaceholderResize)===null||z===void 0||z.call(n,B)})}h.current.observe(B),p.current=B}},[p,n,d]),E=vt.createElement(_Q,{isLast:r,leaf:n,parent:o,text:i}),S=!!n[nd];if($.useEffect(()=>(S?w.current||(w.current=setTimeout(()=>{v(!0),w.current=null},jQ)):($B(w),v(!1)),()=>$B(w)),[S,v]),S&&m){var T={children:n.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:zl?"inherit":void 0},contentEditable:!1,ref:b}};E=vt.createElement(vt.Fragment,null,E,u(T))}var C={"data-slate-leaf":!0};return l({attributes:C,children:E,leaf:n,text:i,leafPosition:c})},WQ=vt.memo(UQ,(e,n)=>n.parent===e.parent&&n.isLast===e.isLast&&n.renderLeaf===e.renderLeaf&&n.renderPlaceholder===e.renderPlaceholder&&n.text===e.text&&Qe.equals(n.leaf,e.leaf)&&n.leaf[nd]===e.leaf[nd]),XQ=e=>{var{attributes:n,children:r}=e;return vt.createElement("span",Q4({},n),r)};function YQ(e,n){var[,r]=$.useReducer(h=>h+1,0),i=$.useRef(),o=$.useRef(()=>null),u=$.useRef(null),l;try{if(e!==o.current||i.current){var c=e();n(u.current,c)?l=u.current:l=c}else l=u.current}catch(h){throw i.current&&KQ(h)&&(h.message+=`
The error may be correlated with this previous error:
`.concat(i.current.stack,`

`)),h}o.current=e,u.current=l,i.current=void 0;var d=$.useCallback(()=>{try{var h=o.current();if(n(u.current,h))return;u.current=h}catch(p){p instanceof Error?i.current=p:i.current=new Error(String(p))}r()},[]);return[l,d]}function KQ(e){return e instanceof Error}var J4=$.createContext({}),eN=(e,n)=>{var r=Qs(),{decorate:i,addEventListener:o}=$.useContext(J4),u=()=>{var h=Fe.findPath(r,e);return i([e,h])},l=Qe.isText(e)?U4:pS,[c,d]=YQ(u,l);return Ia(()=>{var h=o(d);return d(),h},[o,d]),$.useMemo(()=>[...c,...n],[c,n])},qQ=e=>{var n=$.useRef(new Set),r=$.useRef(e);Ia(()=>{r.current=e,n.current.forEach(u=>u())},[e]);var i=$.useCallback(u=>r.current(u),[]),o=$.useCallback(u=>(n.current.add(u),()=>{n.current.delete(u)}),[]);return $.useMemo(()=>({decorate:i,addEventListener:o}),[i,o])};function UB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function tN(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?UB(Object(r),!0).forEach(function(i){Zn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var ZQ=e=>vt.createElement(JQ,tN({},e)),QQ=e=>{for(var{decorations:n,isLast:r,parent:i,renderPlaceholder:o,renderLeaf:u,renderText:l=ZQ,text:c}=e,d=Qs(),h=$.useRef(null),p=eN(c,n),m=Qe.decorations(c,p),v=Fe.findKey(d,c),w=[],b=0;b<m.length;b++){var{leaf:E,position:S}=m[b];w.push(vt.createElement(WQ,{isLast:r&&b===m.length-1,key:"".concat(v.id,"-").concat(b),renderPlaceholder:o,leaf:E,leafPosition:S,text:c,parent:i,renderLeaf:u}))}var T=$.useCallback(B=>{var P=dy.get(d);B?(P==null||P.set(v,B),Ql.set(c,B),np.set(B,c)):(P==null||P.delete(v),Ql.delete(c),h.current&&np.delete(h.current)),h.current=B},[h,d,v,c]),C={"data-slate-node":"text",ref:T};return l({text:c,children:w,attributes:C})},nN=vt.memo(QQ,(e,n)=>n.parent===e.parent&&n.isLast===e.isLast&&n.renderText===e.renderText&&n.renderLeaf===e.renderLeaf&&n.renderPlaceholder===e.renderPlaceholder&&n.text===e.text&&U4(n.decorations,e.decorations)),JQ=e=>{var{attributes:n,children:r}=e;return vt.createElement("span",tN({},n),r)};function WB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function UD(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?WB(Object(r),!0).forEach(function(i){Zn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var eJ=e=>vt.createElement(rJ,UD({},e)),tJ=e=>{var{decorations:n,element:r,renderElement:i=eJ,renderChunk:o,renderPlaceholder:u,renderLeaf:l,renderText:c}=e,d=Qs(),h=hJ(),p=d.isInline(r),m=eN(r,n),v=Fe.findKey(d,r),w=$.useCallback(P=>{var I=dy.get(d);P?(I==null||I.set(v,P),Ql.set(r,P),np.set(P,r)):(I==null||I.delete(v),Ql.delete(r))},[d,v,r]),b=oN({decorations:m,node:r,renderElement:i,renderChunk:o,renderPlaceholder:u,renderLeaf:l,renderText:c}),E={"data-slate-node":"element",ref:w};if(p&&(E["data-slate-inline"]=!0),!p&&F.hasInlines(d,r)){var S=Le.string(r),T=M4(S);T==="rtl"&&(E.dir=T)}if(F.isVoid(d,r)){E["data-slate-void"]=!0,!h&&p&&(E.contentEditable=!1);var C=p?"span":"div",[[B]]=Le.texts(r);b=vt.createElement(C,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},vt.createElement(nN,{renderPlaceholder:u,decorations:[],isLast:!1,parent:r,text:B})),_f.set(B,0),Ig.set(B,r)}return i({attributes:E,children:b,element:r})},nJ=vt.memo(tJ,(e,n)=>e.element===n.element&&e.renderElement===n.renderElement&&e.renderChunk===n.renderChunk&&e.renderText===n.renderText&&e.renderLeaf===n.renderLeaf&&e.renderPlaceholder===n.renderPlaceholder&&pS(e.decorations,n.decorations)),rJ=e=>{var{attributes:n,children:r,element:i}=e,o=Qs(),u=o.isInline(i)?"span":"div";return vt.createElement(u,UD(UD({},n),{},{style:{position:"relative"}}),r)};class iJ{constructor(n,r){var{chunkSize:i,debug:o}=r;Zn(this,"root",void 0),Zn(this,"chunkSize",void 0),Zn(this,"debug",void 0),Zn(this,"reachedEnd",void 0),Zn(this,"pointerChunk",void 0),Zn(this,"pointerIndex",void 0),Zn(this,"pointerIndexStack",void 0),Zn(this,"cachedPointerNode",void 0),this.root=n,this.chunkSize=i,this.debug=o??!1,this.pointerChunk=n,this.pointerIndex=-1,this.pointerIndexStack=[],this.reachedEnd=!1,this.validateState()}readLeaf(){if(this.reachedEnd)return null;for(;;)if(this.pointerIndex+1<this.pointerSiblings.length){this.pointerIndex++,this.cachedPointerNode=void 0;break}else{if(this.pointerChunk.type==="root")return this.reachedEnd=!0,null;this.exitChunk()}return this.validateState(),this.enterChunkUntilLeaf(!1),this.pointerNode}returnToPreviousLeaf(){if(this.reachedEnd){this.reachedEnd=!1,this.enterChunkUntilLeaf(!0);return}for(;;)if(this.pointerIndex>=1){this.pointerIndex--,this.cachedPointerNode=void 0;break}else if(this.pointerChunk.type==="root"){this.pointerIndex=-1;return}else this.exitChunk();this.validateState(),this.enterChunkUntilLeaf(!0)}insertBefore(n){this.returnToPreviousLeaf(),this.insertAfter(n),this.readLeaf()}insertAfter(n){if(n.length!==0){for(var r=0,i=0;this.pointerChunk.type==="chunk"&&this.pointerIndex===this.pointerSiblings.length-1;){var o=this.chunkSize-this.pointerSiblings.length,u=Math.min(o,n.length);if(u>0){var l=n.splice(0,u);this.rawInsertAfter(l,r)}this.exitChunk(),r++}if(n.length!==0){var c=this.savePointer(),d=null;if(this.readLeaf())for(;this.pointerChunk.type==="chunk"&&this.pointerIndex===0;){var h=this.chunkSize-this.pointerSiblings.length,p=Math.min(h,n.length);if(p>0){var m=n.splice(-p,p);this.pointerIndex=-1,this.cachedPointerNode=void 0,this.rawInsertAfter(m,i),d||(d=this.savePointer())}this.exitChunk(),i++}this.restorePointer(c);var v=Math.max(r,i);this.rawInsertAfter(n,v),d&&this.restorePointer(d),this.validateState()}}}remove(){this.pointerSiblings.splice(this.pointerIndex--,1),this.cachedPointerNode=void 0,this.pointerSiblings.length===0&&this.pointerChunk.type==="chunk"?(this.exitChunk(),this.remove()):this.invalidateChunk(),this.validateState()}invalidateChunk(){for(var n=this.pointerChunk;n.type==="chunk";n=n.parent)this.root.modifiedChunks.add(n)}get atStart(){return this.pointerChunk.type==="root"&&this.pointerIndex===-1}get pointerSiblings(){return this.pointerChunk.children}getPointerNode(){return this.reachedEnd||this.pointerIndex===-1?null:this.pointerSiblings[this.pointerIndex]}get pointerNode(){if(this.cachedPointerNode!==void 0)return this.cachedPointerNode;var n=this.getPointerNode();return this.cachedPointerNode=n,n}getChunkPath(n){for(var r=[],i=n;i.type==="chunk";i=i.parent){var o=i.parent.children.indexOf(i);if(o===-1)return null;r.unshift(o)}return r}savePointer(){if(this.atStart)return"start";if(!this.pointerNode)throw new Error("Cannot save pointer when pointerNode is null");return{chunk:this.pointerChunk,node:this.pointerNode}}restorePointer(n){if(n==="start"){this.pointerChunk=this.root,this.pointerIndex=-1,this.pointerIndexStack=[],this.reachedEnd=!1,this.cachedPointerNode=void 0;return}var{chunk:r,node:i}=n,o=r.children.indexOf(i);if(o===-1)throw new Error("Cannot restore point because saved node is no longer in saved chunk");var u=this.getChunkPath(r);if(!u)throw new Error("Cannot restore point because saved chunk is no longer connected to root");this.pointerChunk=r,this.pointerIndex=o,this.pointerIndexStack=u,this.reachedEnd=!1,this.cachedPointerNode=i,this.validateState()}enterChunk(n){var r;if(((r=this.pointerNode)===null||r===void 0?void 0:r.type)!=="chunk")throw new Error("Cannot enter non-chunk");if(this.pointerIndexStack.push(this.pointerIndex),this.pointerChunk=this.pointerNode,this.pointerIndex=n?this.pointerSiblings.length-1:0,this.cachedPointerNode=void 0,this.validateState(),this.pointerChunk.children.length===0)throw new Error("Cannot enter empty chunk")}enterChunkUntilLeaf(n){for(;((r=this.pointerNode)===null||r===void 0?void 0:r.type)==="chunk";){var r;this.enterChunk(n)}}exitChunk(){if(this.pointerChunk.type==="root")throw new Error("Cannot exit root");var n=this.pointerChunk;this.pointerChunk=n.parent,this.pointerIndex=this.pointerIndexStack.pop(),this.cachedPointerNode=void 0,this.validateState()}rawInsertAfter(n,r){if(n.length!==0){for(var i=(p,m,v)=>{if(v===1)return p;for(var w=[],b=0;b<this.chunkSize;b++){var E=p.slice(b*v,(b+1)*v);if(E.length===0)break;var S={type:"chunk",key:new H4,parent:m,children:[]};S.children=i(E,S,v/this.chunkSize),w.push(S)}return w},o=this.pointerSiblings.length+n.length,u=0,l=this.chunkSize;l<o;l*=this.chunkSize)u++;var c=Math.max(u,r),d=Math.pow(this.chunkSize,c),h=i(n,this.pointerChunk,d);this.pointerSiblings.splice(this.pointerIndex+1,0,...h),this.pointerIndex+=h.length,this.cachedPointerNode=void 0,this.invalidateChunk(),this.validateState()}}validateState(){if(this.debug){var n=i=>{if(i.type==="chunk"){var{parent:o,children:u}=i;if(!o.children.includes(i))throw new Error("Debug: Chunk ".concat(i.key.id," has an incorrect parent property"));u.forEach(n)}};if(this.root.children.forEach(n),this.cachedPointerNode!==void 0&&this.cachedPointerNode!==this.getPointerNode())throw new Error("Debug: The cached pointer is incorrect and has not been invalidated");var r=this.getChunkPath(this.pointerChunk);if(!r)throw new Error("Debug: The pointer chunk is not connected to the root");if(!J.equals(this.pointerIndexStack,r))throw new Error("Debug: The cached index stack [".concat(this.pointerIndexStack.join(", "),"] does not match the path of the pointer chunk [").concat(r.join(", "),"]"))}}}class oJ{constructor(n,r){Zn(this,"editor",void 0),Zn(this,"children",void 0),Zn(this,"cachedKeys",void 0),Zn(this,"pointerIndex",void 0),this.editor=n,this.children=r,this.cachedKeys=new Array(r.length),this.pointerIndex=0}read(n){if(n===1)return[this.children[this.pointerIndex++]];var r=this.remaining(n);return this.pointerIndex+=n,r}remaining(n){return n===void 0?this.children.slice(this.pointerIndex):this.children.slice(this.pointerIndex,this.pointerIndex+n)}get reachedEnd(){return this.pointerIndex>=this.children.length}lookAhead(n,r){var i=this.children.indexOf(n,this.pointerIndex);if(i>-1)return i-this.pointerIndex;for(var o=this.pointerIndex;o<this.children.length;o++){var u=this.children[o],l=this.findKey(u,o);if(l===r)return o-this.pointerIndex}return-1}toChunkLeaves(n,r){return n.map((i,o)=>({type:"leaf",node:i,key:this.findKey(i,r+o),index:r+o}))}findKey(n,r){var i=this.cachedKeys[r];if(i)return i;var o=Fe.findKey(this.editor,n);return this.cachedKeys[r]=o,o}}var sJ=(e,n)=>{var{chunkTree:r,children:i,chunkSize:o,rerenderChildren:u=[],onInsert:l,onUpdate:c,onIndexChange:d,debug:h}=n;r.modifiedChunks.clear();for(var p=new iJ(r,{chunkSize:o,debug:h}),m=new oJ(e,i),v,w=function(){var T=m.lookAhead(v.node,v.key),C=T>0&&r.movedNodeKeys.has(v.key);if(T===-1||C)return p.remove(),1;var B=m.pointerIndex,P=m.read(T+1),I=P.pop();if(P.length){var z=m.toChunkLeaves(P,B);p.insertBefore(z),P.forEach((te,re)=>{l==null||l(te,B+re)})}var Y=m.pointerIndex-1;v.node!==I&&(v.node=I,p.invalidateChunk(),c==null||c(I,Y)),v.index!==Y&&(v.index=Y,d==null||d(I,Y)),u.includes(Y)&&p.invalidateChunk()};v=p.readLeaf();)w();if(!m.reachedEnd){var b=m.remaining(),E=m.toChunkLeaves(b,m.pointerIndex);p.returnToPreviousLeaf(),p.insertAfter(E),b.forEach((S,T)=>{l==null||l(S,m.pointerIndex+T)})}r.movedNodeKeys.clear()};function XB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function aJ(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?XB(Object(r),!0).forEach(function(i){Zn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var YB=new WeakMap,rN=function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=Fe.findKey(n,r),u=YB.get(o);return u||(u={type:"root",movedNodeKeys:new Set,modifiedChunks:new Set,children:[]},YB.set(o,u)),i.reconcile&&sJ(n,aJ({chunkTree:u,children:r.children},i.reconcile)),u},uJ=e=>{var{children:n}=e;return n},iN=e=>{var{root:n,ancestor:r,renderElement:i,renderChunk:o=uJ}=e;return r.children.map(u=>{if(u.type==="chunk"){var l=u.key.id,c=o({highest:r===n,lowest:u.children.some(h=>h.type==="leaf"),attributes:{"data-slate-chunk":!0},children:vt.createElement(cJ,{root:n,ancestor:u,renderElement:i,renderChunk:o})});return vt.createElement($.Fragment,{key:l},c)}var d=u.node;return i(d,u.index,u.key)})},lJ=iN,cJ=vt.memo(iN,(e,n)=>e.root===n.root&&e.renderElement===n.renderElement&&e.renderChunk===n.renderChunk&&!n.root.modifiedChunks.has(n.ancestor)),fJ=$.createContext(null),oN=e=>{var{decorations:n,node:r,renderElement:i,renderChunk:o,renderPlaceholder:u,renderText:l,renderLeaf:c}=e,d=Qs();Wf.set(d,!1);var h=F.isEditor(r),p=!h&&et.isElement(r)&&!d.isInline(r),m=p&&F.hasInlines(d,r),v=m?null:d.getChunkSize(r),w=!!v,{decorationsByChild:b,childrenToRedecorate:E}=dJ(d,r,n);w||r.children.forEach((B,P)=>{_f.set(B,P),Ig.set(B,r)});var S=$.useCallback((B,P,I)=>{var z=I??Fe.findKey(d,B);return vt.createElement(fJ.Provider,{key:"provider-".concat(z.id),value:B},vt.createElement(nJ,{decorations:b[P],element:B,key:z.id,renderElement:i,renderChunk:o,renderPlaceholder:u,renderLeaf:c,renderText:l}))},[d,b,i,o,u,c,l]),T=(B,P)=>{var I=Fe.findKey(d,B);return vt.createElement(nN,{decorations:b[P],key:I.id,isLast:P===r.children.length-1,parent:r,renderPlaceholder:u,renderLeaf:c,renderText:l,text:B})};if(!w)return r.children.map((B,P)=>Qe.isText(B)?T(B,P):S(B,P));var C=rN(d,r,{reconcile:{chunkSize:v,rerenderChildren:E,onInsert:(B,P)=>{_f.set(B,P),Ig.set(B,r)},onUpdate:(B,P)=>{_f.set(B,P),Ig.set(B,r)},onIndexChange:(B,P)=>{_f.set(B,P)}}});return vt.createElement(lJ,{root:C,ancestor:C,renderElement:S,renderChunk:o})},dJ=(e,n,r)=>{var i=nQ(e,n,r),o=$.useRef(i).current,u=[];o.length=i.length;for(var l=0;l<i.length;l++){var c,d=i[l],h=(c=o[l])!==null&&c!==void 0?c:null;pS(h,d)||(o[l]=d,u.push(l))}return{decorationsByChild:o,childrenToRedecorate:u}},sN=$.createContext(!1),hJ=()=>$.useContext(sN),wS=$.createContext({});function gJ(){var e=$.useRef(new Set),n=$.useRef(new Set),r=$.useCallback(()=>{e.current.forEach(l=>l())},[]),i=$.useCallback(()=>{n.current.forEach(l=>l()),n.current.clear()},[]),o=$.useCallback(function(l){var{deferred:c=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=c?()=>n.current.add(l):l;return e.current.add(d),()=>{e.current.delete(d)}},[]),u=$.useMemo(()=>({addEventListener:o,flushDeferred:i}),[o,i]);return{selectorContext:u,onChange:r}}function pJ(){var{flushDeferred:e}=$.useContext(wS);Ia(e)}var mJ=()=>{var{addEventListener:e}=$.useContext(wS),[,n]=$.useReducer(r=>r+1,0);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");return Ia(()=>e(n),[e]),Qs()};function vJ(){var e=Qs(),n=$.useRef(!1),r=$.useRef(0),i=$.useCallback(()=>{if(!n.current){n.current=!0;var o=Fe.getWindow(e);o.cancelAnimationFrame(r.current),r.current=o.requestAnimationFrame(()=>{n.current=!1})}},[e]);return $.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:n,onUserInput:i}}var yJ=(e,n)=>{var r=[],i=()=>{r=[]},o=l=>{if(n.current){var c=l.filter(d=>dS(e,d,l));r.push(...c)}};function u(){r.length>0&&(r.reverse().forEach(l=>{l.type!=="characterData"&&(l.removedNodes.forEach(c=>{l.target.insertBefore(c,l.nextSibling)}),l.addedNodes.forEach(c=>{l.target.removeChild(c)}))}),i())}return{registerMutations:o,restoreDOM:u,clear:i}},wJ={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class aN extends $.Component{constructor(){super(...arguments),Zn(this,"context",null),Zn(this,"manager",null),Zn(this,"mutationObserver",null)}observe(){var n,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(n=this.mutationObserver)===null||n===void 0||n.observe(r.current,wJ)}componentDidMount(){var{receivedUserInput:n}=this.props,r=this.context;this.manager=yJ(r,n),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var n,r,i,o=(n=this.mutationObserver)===null||n===void 0?void 0:n.takeRecords();if(o!=null&&o.length){var u;(u=this.manager)===null||u===void 0||u.registerMutations(o)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(i=this.manager)===null||i===void 0||i.restoreDOM(),null}componentDidUpdate(){var n;(n=this.manager)===null||n===void 0||n.clear(),this.observe()}componentWillUnmount(){var n;(n=this.mutationObserver)===null||n===void 0||n.disconnect()}render(){return this.props.children}}Zn(aN,"contextType",yS);var xJ=Pi?aN:e=>{var{children:n}=e;return vt.createElement(vt.Fragment,null,n)},bJ=$.createContext(!1),CJ=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderChunk","renderLeaf","renderText","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],EJ=["text"];function KB(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Gs(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?KB(Object(r),!0).forEach(function(i){Zn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KB(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var DJ=e=>vt.createElement(vt.Fragment,null,oN(e)),SJ=$.forwardRef((e,n)=>{var r=$.useCallback(Z=>vt.createElement(TJ,Gs({},Z)),[]),{autoFocus:i,decorate:o=AJ,onDOMBeforeInput:u,placeholder:l,readOnly:c=!1,renderElement:d,renderChunk:h,renderLeaf:p,renderText:m,renderPlaceholder:v=r,scrollSelectionIntoView:w=PJ,style:b={},as:E="div",disableDefaultStyles:S=!1}=e,T=C1(e,CJ),C=mJ(),[B,P]=$.useState(!1),I=$.useRef(null),z=$.useRef([]),[Y,te]=$.useState(),re=$.useRef(!1),{onUserInput:ae,receivedUserInput:ce}=vJ(),[,ne]=$.useReducer(Z=>Z+1,0);_4.set(C,ne),_D.set(C,c);var Q=$.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);$.useEffect(()=>{I.current&&i&&I.current.focus()},[i]);var le=$.useRef(),G=$.useMemo(()=>zY(()=>{if(Wf.get(C)){G();return}var Z=Fe.toDOMNode(C,C),de=Z.getRootNode();if(!re.current&&zl&&de instanceof ShadowRoot){re.current=!0;var me=PZ();me?document.execCommand("indent"):Re.deselect(C),re.current=!1;return}var Ce=le.current;if((Pi||!Fe.isComposing(C))&&(!Q.isUpdatingSelection||Ce!=null&&Ce.isFlushing())&&!Q.isDraggingInternally){var $e=Fe.findDocumentOrShadowRoot(C),{activeElement:Pe}=$e,ot=Fe.toDOMNode(C,C),je=Lg($e);if(Pe===ot?(Q.latestElement=Pe,Au.set(C,!0)):Au.delete(C),!je)return Re.deselect(C);var{anchorNode:Ie,focusNode:ht}=je,Je=Fe.hasEditableTarget(C,Ie)||Fe.isTargetInsideNonReadonlyVoid(C,Ie),Dt=Fe.hasTarget(C,ht);if(Je&&Dt){var ft=Fe.toSlateRange(C,je,{exactMatch:!1,suppressThrow:!0});ft&&(!Fe.isComposing(C)&&!(Ce!=null&&Ce.hasPendingChanges())&&!(Ce!=null&&Ce.isFlushing())?Re.select(C,ft):Ce==null||Ce.handleUserSelect(ft))}c&&(!Je||!Dt)&&Re.deselect(C)}},100),[C,c,Q]),R=$.useMemo(()=>GY(G,0),[G]);le.current=HQ({node:I,onDOMSelectionChange:G,scheduleOnDOMSelectionChange:R}),Ia(()=>{var Z,de,me;I.current&&(me=fS(I.current))?(G4.set(C,me),Yv.set(C,I.current),Ql.set(C,I.current),np.set(I.current,C)):Ql.delete(C);var{selection:Ce}=C,$e=Fe.findDocumentOrShadowRoot(C),Pe=Lg($e);if(!(!Pe||!Fe.isFocused(C)||(Z=le.current)!==null&&Z!==void 0&&Z.hasPendingAction())){var ot=Je=>{var Dt=Pe.type!=="None";if(!(!Ce&&!Dt)){var ft=Pe.focusNode,Rt;if(Gf&&Pe.rangeCount>1){var pn=Pe.getRangeAt(0),rr=Pe.getRangeAt(Pe.rangeCount-1);pn.startContainer===ft?Rt=rr.endContainer:Rt=pn.startContainer}else Rt=Pe.anchorNode;var rn=Yv.get(C),Wn=!1;if(rn.contains(Rt)&&rn.contains(ft)&&(Wn=!0),Dt&&Wn&&Ce&&!Je){var Jn=Fe.toSlateRange(C,Pe,{exactMatch:!0,suppressThrow:!0});if(Jn&&be.equals(Jn,Ce)){var kn;if(!Q.hasMarkPlaceholder||(kn=Rt)!==null&&kn!==void 0&&(kn=kn.parentElement)!==null&&kn!==void 0&&kn.hasAttribute("data-slate-mark-placeholder"))return}}if(Ce&&!Fe.hasRange(C,Ce)){C.selection=Fe.toSlateRange(C,Pe,{exactMatch:!1,suppressThrow:!0});return}Q.isUpdatingSelection=!0;var Tn=null;try{Tn=Ce&&Fe.toDOMRange(C,Ce)}catch{}return Tn?(Fe.isComposing(C)&&!Pi?Pe.collapseToEnd():be.isBackward(Ce)?Pe.setBaseAndExtent(Tn.endContainer,Tn.endOffset,Tn.startContainer,Tn.startOffset):Pe.setBaseAndExtent(Tn.startContainer,Tn.startOffset,Tn.endContainer,Tn.endOffset),w(C,Tn)):Pe.removeAllRanges(),Tn}};Pe.rangeCount<=1&&ot();var je=((de=le.current)===null||de===void 0?void 0:de.isFlushing())==="action";if(!Pi||!je){setTimeout(()=>{Q.isUpdatingSelection=!1});return}var Ie=null,ht=requestAnimationFrame(()=>{if(je){var Je=Dt=>{try{var ft=Fe.toDOMNode(C,C);ft.focus(),ot(Dt)}catch{}};Je(),Ie=setTimeout(()=>{Je(!0),Q.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(ht),Ie&&clearTimeout(Ie)}}});var k=$.useCallback(Z=>{ZB(C,Z);var de=Fe.toDOMNode(C,C),me=de.getRootNode();if(re!=null&&re.current&&zl&&me instanceof ShadowRoot){var Ce=Z.getTargetRanges(),$e=Ce[0],Pe=new window.Range;Pe.setStart($e.startContainer,$e.startOffset),Pe.setEnd($e.endContainer,$e.endOffset);var ot=Fe.toSlateRange(C,Pe,{exactMatch:!1,suppressThrow:!1});Re.select(C,ot),Z.preventDefault(),Z.stopImmediatePropagation();return}if(ae(),!c&&Fe.hasEditableTarget(C,Z.target)&&!RJ(Z,u)){var je;if(le.current)return le.current.handleDOMBeforeInput(Z);R.flush(),G.flush();var{selection:Ie}=C,{inputType:ht}=Z,Je=Z.dataTransfer||Z.data||void 0,Dt=ht==="insertCompositionText"||ht==="deleteCompositionText";if(Dt&&Fe.isComposing(C))return;var ft=!1;if(ht==="insertText"&&Ie&&be.isCollapsed(Ie)&&Z.data&&Z.data.length===1&&/[a-z ]/i.test(Z.data)&&Ie.anchor.offset!==0&&(ft=!0,C.marks&&(ft=!1),!Wf.get(C))){var Rt,pn,{anchor:rr}=Ie,[rn,Wn]=Fe.toDOMPoint(C,rr),Jn=(Rt=rn.parentElement)===null||Rt===void 0?void 0:Rt.closest("a"),kn=Fe.getWindow(C);if(ft&&Jn&&Fe.hasDOMNode(C,Jn)){var Tn,_e=kn==null?void 0:kn.document.createTreeWalker(Jn,NodeFilter.SHOW_TEXT).lastChild();_e===rn&&((Tn=_e.textContent)===null||Tn===void 0?void 0:Tn.length)===Wn&&(ft=!1)}if(ft&&rn.parentElement&&(kn==null||(pn=kn.getComputedStyle(rn.parentElement))===null||pn===void 0?void 0:pn.whiteSpace)==="pre"){var at=F.above(C,{at:rr.path,match:mr=>et.isElement(mr)&&F.isBlock(C,mr)});at&&Le.string(at[0]).includes("	")&&(ft=!1)}}if((!ht.startsWith("delete")||ht.startsWith("deleteBy"))&&!Wf.get(C)){var[Gt]=Z.getTargetRanges();if(Gt){var fn=Fe.toSlateRange(C,Gt,{exactMatch:!1,suppressThrow:!1});if(!Ie||!be.equals(Ie,fn)){ft=!1;var Pn=!Dt&&C.selection&&F.rangeRef(C,C.selection);Re.select(C,fn),Pn&&Hg.set(C,Pn)}}}if(Dt)return;if(ft||Z.preventDefault(),Ie&&be.isExpanded(Ie)&&ht.startsWith("delete")){var Gn=ht.endsWith("Backward")?"backward":"forward";F.deleteFragment(C,{direction:Gn});return}switch(ht){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{F.deleteFragment(C);break}case"deleteContent":case"deleteContentForward":{F.deleteForward(C);break}case"deleteContentBackward":{F.deleteBackward(C);break}case"deleteEntireSoftLine":{F.deleteBackward(C,{unit:"line"}),F.deleteForward(C,{unit:"line"});break}case"deleteHardLineBackward":{F.deleteBackward(C,{unit:"block"});break}case"deleteSoftLineBackward":{F.deleteBackward(C,{unit:"line"});break}case"deleteHardLineForward":{F.deleteForward(C,{unit:"block"});break}case"deleteSoftLineForward":{F.deleteForward(C,{unit:"line"});break}case"deleteWordBackward":{F.deleteBackward(C,{unit:"word"});break}case"deleteWordForward":{F.deleteForward(C,{unit:"word"});break}case"insertLineBreak":F.insertSoftBreak(C);break;case"insertParagraph":{F.insertBreak(C);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{ht==="insertFromComposition"&&Fe.isComposing(C)&&(P(!1),Xl.set(C,!1)),(Je==null?void 0:Je.constructor.name)==="DataTransfer"?Fe.insertData(C,Je):typeof Je=="string"&&(ft?z.current.push(()=>F.insertText(C,Je)):F.insertText(C,Je));break}}var Mn=(je=Hg.get(C))===null||je===void 0?void 0:je.unref();Hg.delete(C),Mn&&(!C.selection||!be.equals(C.selection,Mn))&&Re.select(C,Mn)}},[C,G,ae,u,c,R]),H=$.useCallback(Z=>{Z==null?(G.cancel(),R.cancel(),Yv.delete(C),Ql.delete(C),I.current&&wu&&I.current.removeEventListener("beforeinput",k)):wu&&Z.addEventListener("beforeinput",k),I.current=Z,typeof n=="function"?n(Z):n&&(n.current=Z)},[G,R,C,k,n]);Ia(()=>{var Z=Fe.getWindow(C),de=Ce=>{var{target:$e}=Ce,Pe=$e instanceof HTMLElement?$e:null,ot=Pe==null?void 0:Pe.tagName;ot==="INPUT"||ot==="TEXTAREA"||R()};Z.document.addEventListener("selectionchange",de);var me=()=>{Q.isDraggingInternally=!1};return Z.document.addEventListener("dragend",me),Z.document.addEventListener("drop",me),()=>{Z.document.removeEventListener("selectionchange",de),Z.document.removeEventListener("dragend",me),Z.document.removeEventListener("drop",me)}},[R,Q]);var _=o([C,[]]),X=qQ(o),U=l&&C.children.length===1&&Array.from(Le.texts(C)).length===1&&Le.string(C)===""&&!B,ie=$.useCallback(Z=>{if(Z&&U){var de;te((de=Z.getBoundingClientRect())===null||de===void 0?void 0:de.height)}else te(void 0)},[U]);if(U){var q=F.start(C,[]);_.push({[nd]:!0,placeholder:l,onPlaceholderResize:ie,anchor:q,focus:q})}var{marks:ue}=C;if(Q.hasMarkPlaceholder=!1,C.selection&&be.isCollapsed(C.selection)&&ue){var{anchor:xe}=C.selection,fe=Le.leaf(C,xe.path),Te=C1(fe,EJ);if(!Qe.equals(fe,ue,{loose:!0})){Q.hasMarkPlaceholder=!0;var ke=Object.fromEntries(Object.keys(Te).map(Z=>[Z,null]));_.push(Gs(Gs(Gs({[V4]:!0},ke),ue),{},{anchor:xe,focus:xe}))}}return $.useEffect(()=>{setTimeout(()=>{var{selection:Z}=C;if(Z){var{anchor:de}=Z,me=Le.leaf(C,de.path);if(ue&&!Qe.equals(me,ue,{loose:!0})){hs.set(C,ue);return}}hs.delete(C)})}),pJ(),vt.createElement(sN.Provider,{value:c},vt.createElement(bJ.Provider,{value:B},vt.createElement(J4.Provider,{value:X},vt.createElement(xJ,{node:I,receivedUserInput:ce},vt.createElement(E,Gs(Gs({role:c?void 0:"textbox","aria-multiline":c?void 0:!0},T),{},{spellCheck:wu||!Xv?T.spellCheck:!1,autoCorrect:wu||!Xv?T.autoCorrect:"false",autoCapitalize:wu||!Xv?T.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!c,zindex:-1,suppressContentEditableWarning:!0,ref:H,style:Gs(Gs({},S?{}:Gs({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},Y?{minHeight:Y}:{})),b),onBeforeInput:$.useCallback(Z=>{if(!wu&&!c&&!Ti(Z,T.onBeforeInput)&&Fe.hasSelectableTarget(C,Z.target)&&(Z.preventDefault(),!Fe.isComposing(C))){var de=Z.data;F.insertText(C,de)}},[T.onBeforeInput,C,c]),onInput:$.useCallback(Z=>{if(!Ti(Z,T.onInput)){if(le.current){le.current.handleInput();return}for(var de of z.current)de();z.current=[],Fe.isFocused(C)||ZB(C,Z.nativeEvent)}},[T.onInput,C]),onBlur:$.useCallback(Z=>{if(!(c||Q.isUpdatingSelection||!Fe.hasSelectableTarget(C,Z.target)||Ti(Z,T.onBlur))){var de=Fe.findDocumentOrShadowRoot(C);if(Q.latestElement!==de.activeElement){var{relatedTarget:me}=Z,Ce=Fe.toDOMNode(C,C);if(me!==Ce&&!(Oo(me)&&me.hasAttribute("data-slate-spacer"))){if(me!=null&&Iu(me)&&Fe.hasDOMNode(C,me)){var $e=Fe.toSlateNode(C,me);if(et.isElement($e)&&!C.isVoid($e))return}if(zl){var Pe=Lg(de);Pe==null||Pe.removeAllRanges()}Au.delete(C)}}}},[c,Q.isUpdatingSelection,Q.latestElement,C,T.onBlur]),onClick:$.useCallback(Z=>{if(Fe.hasTarget(C,Z.target)&&!Ti(Z,T.onClick)&&Iu(Z.target)){var de=Fe.toSlateNode(C,Z.target),me=Fe.findPath(C,de);if(!F.hasPath(C,me)||Le.get(C,me)!==de)return;if(Z.detail===YZ&&me.length>=1){var Ce=me;if(!(et.isElement(de)&&F.isBlock(C,de))){var $e,Pe=F.above(C,{match:ft=>et.isElement(ft)&&F.isBlock(C,ft),at:me});Ce=($e=Pe==null?void 0:Pe[1])!==null&&$e!==void 0?$e:me.slice(0,1)}var ot=F.range(C,Ce);Re.select(C,ot);return}if(c)return;var je=F.start(C,me),Ie=F.end(C,me),ht=F.void(C,{at:je}),Je=F.void(C,{at:Ie});if(ht&&Je&&J.equals(ht[1],Je[1])){var Dt=F.range(C,je);Re.select(C,Dt)}}},[C,T.onClick,c]),onCompositionEnd:$.useCallback(Z=>{if(Fe.hasSelectableTarget(C,Z.target)){var de;if(Fe.isComposing(C)&&Promise.resolve().then(()=>{P(!1),Xl.set(C,!1)}),(de=le.current)===null||de===void 0||de.handleCompositionEnd(Z),Ti(Z,T.onCompositionEnd)||Pi)return;if(!zl&&!OZ&&!BZ&&!LZ&&!FZ&&Z.data){var me=hs.get(C);hs.delete(C),me!==void 0&&(Aa.set(C,C.marks),C.marks=me),F.insertText(C,Z.data);var Ce=Aa.get(C);Aa.delete(C),Ce!==void 0&&(C.marks=Ce)}}},[T.onCompositionEnd,C]),onCompositionUpdate:$.useCallback(Z=>{Fe.hasSelectableTarget(C,Z.target)&&!Ti(Z,T.onCompositionUpdate)&&(Fe.isComposing(C)||(P(!0),Xl.set(C,!0)))},[T.onCompositionUpdate,C]),onCompositionStart:$.useCallback(Z=>{if(Fe.hasSelectableTarget(C,Z.target)){var de;if((de=le.current)===null||de===void 0||de.handleCompositionStart(Z),Ti(Z,T.onCompositionStart)||Pi)return;P(!0);var{selection:me}=C;if(me&&be.isExpanded(me)){F.deleteFragment(C);return}}},[T.onCompositionStart,C]),onCopy:$.useCallback(Z=>{Fe.hasSelectableTarget(C,Z.target)&&!Ti(Z,T.onCopy)&&!qB(Z)&&(Z.preventDefault(),Fe.setFragmentData(C,Z.clipboardData,"copy"))},[T.onCopy,C]),onCut:$.useCallback(Z=>{if(!c&&Fe.hasSelectableTarget(C,Z.target)&&!Ti(Z,T.onCut)&&!qB(Z)){Z.preventDefault(),Fe.setFragmentData(C,Z.clipboardData,"cut");var{selection:de}=C;if(de)if(be.isExpanded(de))F.deleteFragment(C);else{var me=Le.parent(C,de.anchor.path);F.isVoid(C,me)&&Re.delete(C)}}},[c,C,T.onCut]),onDragOver:$.useCallback(Z=>{if(Fe.hasTarget(C,Z.target)&&!Ti(Z,T.onDragOver)){var de=Fe.toSlateNode(C,Z.target);et.isElement(de)&&F.isVoid(C,de)&&Z.preventDefault()}},[T.onDragOver,C]),onDragStart:$.useCallback(Z=>{if(!c&&Fe.hasTarget(C,Z.target)&&!Ti(Z,T.onDragStart)){var de=Fe.toSlateNode(C,Z.target),me=Fe.findPath(C,de),Ce=et.isElement(de)&&F.isVoid(C,de)||F.void(C,{at:me,voids:!0});if(Ce){var $e=F.range(C,me);Re.select(C,$e)}Q.isDraggingInternally=!0,Fe.setFragmentData(C,Z.dataTransfer,"drag")}},[c,C,T.onDragStart,Q]),onDrop:$.useCallback(Z=>{if(!c&&Fe.hasTarget(C,Z.target)&&!Ti(Z,T.onDrop)){Z.preventDefault();var de=C.selection,me=Fe.findEventRange(C,Z),Ce=Z.dataTransfer;Re.select(C,me),Q.isDraggingInternally&&de&&!be.equals(de,me)&&!F.void(C,{at:me,voids:!0})&&Re.delete(C,{at:de}),Fe.insertData(C,Ce),Fe.isFocused(C)||Fe.focus(C)}},[c,C,T.onDrop,Q]),onDragEnd:$.useCallback(Z=>{!c&&Q.isDraggingInternally&&T.onDragEnd&&Fe.hasTarget(C,Z.target)&&T.onDragEnd(Z)},[c,Q,T,C]),onFocus:$.useCallback(Z=>{if(!c&&!Q.isUpdatingSelection&&Fe.hasEditableTarget(C,Z.target)&&!Ti(Z,T.onFocus)){var de=Fe.toDOMNode(C,C),me=Fe.findDocumentOrShadowRoot(C);if(Q.latestElement=me.activeElement,Gf&&Z.target!==de){de.focus();return}Au.set(C,!0)}},[c,Q,C,T.onFocus]),onKeyDown:$.useCallback(Z=>{if(!c&&Fe.hasEditableTarget(C,Z.target)){var de;(de=le.current)===null||de===void 0||de.handleKeyDown(Z);var{nativeEvent:me}=Z;if(Fe.isComposing(C)&&me.isComposing===!1&&(Xl.set(C,!1),P(!1)),Ti(Z,T.onKeyDown)||Fe.isComposing(C))return;var{selection:Ce}=C,$e=C.children[Ce!==null?Ce.focus.path[0]:0],Pe=M4(Le.string($e))==="rtl";if(tr.isRedo(me)){Z.preventDefault();var ot=C;typeof ot.redo=="function"&&ot.redo();return}if(tr.isUndo(me)){Z.preventDefault();var je=C;typeof je.undo=="function"&&je.undo();return}if(tr.isMoveLineBackward(me)){Z.preventDefault(),Re.move(C,{unit:"line",reverse:!0});return}if(tr.isMoveLineForward(me)){Z.preventDefault(),Re.move(C,{unit:"line"});return}if(tr.isExtendLineBackward(me)){Z.preventDefault(),Re.move(C,{unit:"line",edge:"focus",reverse:!0});return}if(tr.isExtendLineForward(me)){Z.preventDefault(),Re.move(C,{unit:"line",edge:"focus"});return}if(tr.isMoveBackward(me)){Z.preventDefault(),Ce&&be.isCollapsed(Ce)?Re.move(C,{reverse:!Pe}):Re.collapse(C,{edge:Pe?"end":"start"});return}if(tr.isMoveForward(me)){Z.preventDefault(),Ce&&be.isCollapsed(Ce)?Re.move(C,{reverse:Pe}):Re.collapse(C,{edge:Pe?"start":"end"});return}if(tr.isMoveWordBackward(me)){Z.preventDefault(),Ce&&be.isExpanded(Ce)&&Re.collapse(C,{edge:"focus"}),Re.move(C,{unit:"word",reverse:!Pe});return}if(tr.isMoveWordForward(me)){Z.preventDefault(),Ce&&be.isExpanded(Ce)&&Re.collapse(C,{edge:"focus"}),Re.move(C,{unit:"word",reverse:Pe});return}if(wu){if((I4||zl)&&Ce&&(tr.isDeleteBackward(me)||tr.isDeleteForward(me))&&be.isCollapsed(Ce)){var Ie=Le.parent(C,Ce.anchor.path);if(et.isElement(Ie)&&F.isVoid(C,Ie)&&(F.isInline(C,Ie)||F.isBlock(C,Ie))){Z.preventDefault(),F.deleteBackward(C,{unit:"block"});return}}}else{if(tr.isBold(me)||tr.isItalic(me)||tr.isTransposeCharacter(me)){Z.preventDefault();return}if(tr.isSoftBreak(me)){Z.preventDefault(),F.insertSoftBreak(C);return}if(tr.isSplitBlock(me)){Z.preventDefault(),F.insertBreak(C);return}if(tr.isDeleteBackward(me)){Z.preventDefault(),Ce&&be.isExpanded(Ce)?F.deleteFragment(C,{direction:"backward"}):F.deleteBackward(C);return}if(tr.isDeleteForward(me)){Z.preventDefault(),Ce&&be.isExpanded(Ce)?F.deleteFragment(C,{direction:"forward"}):F.deleteForward(C);return}if(tr.isDeleteLineBackward(me)){Z.preventDefault(),Ce&&be.isExpanded(Ce)?F.deleteFragment(C,{direction:"backward"}):F.deleteBackward(C,{unit:"line"});return}if(tr.isDeleteLineForward(me)){Z.preventDefault(),Ce&&be.isExpanded(Ce)?F.deleteFragment(C,{direction:"forward"}):F.deleteForward(C,{unit:"line"});return}if(tr.isDeleteWordBackward(me)){Z.preventDefault(),Ce&&be.isExpanded(Ce)?F.deleteFragment(C,{direction:"backward"}):F.deleteBackward(C,{unit:"word"});return}if(tr.isDeleteWordForward(me)){Z.preventDefault(),Ce&&be.isExpanded(Ce)?F.deleteFragment(C,{direction:"forward"}):F.deleteForward(C,{unit:"word"});return}}}},[c,C,T.onKeyDown]),onPaste:$.useCallback(Z=>{!c&&Fe.hasEditableTarget(C,Z.target)&&!Ti(Z,T.onPaste)&&(!wu||CZ(Z.nativeEvent)||zl)&&(Z.preventDefault(),Fe.insertData(C,Z.clipboardData))},[c,C,T.onPaste])}),vt.createElement(DJ,{decorations:_,node:C,renderElement:d,renderChunk:h,renderPlaceholder:v,renderLeaf:p,renderText:m}))))))}),TJ=e=>{var{attributes:n,children:r}=e;return vt.createElement("span",Gs({},n),r,Pi&&vt.createElement("br",null))},AJ=()=>[],PJ=(e,n)=>{if(n.getBoundingClientRect&&(!e.selection||e.selection&&be.isCollapsed(e.selection))){var r=n.startContainer.parentElement;r.getBoundingClientRect=n.getBoundingClientRect.bind(n),wZ(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},Ti=(e,n)=>{if(!n)return!1;var r=n(e);return r??(e.isDefaultPrevented()||e.isPropagationStopped())},qB=e=>Iu(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),RJ=(e,n)=>{if(!n)return!1;var r=n(e);return r??e.defaultPrevented},ZB=(e,n)=>{var r=e;if(n.inputType==="historyUndo"&&typeof r.undo=="function"){r.undo();return}if(n.inputType==="historyRedo"&&typeof r.redo=="function"){r.redo();return}},BJ=$.createContext(!1),uN=parseInt(vt.version.split(".")[0],10),kJ=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],MJ=e=>{var{editor:n,children:r,onChange:i,onSelectionChange:o,onValueChange:u,initialValue:l}=e,c=C1(e,kJ);vt.useState(()=>{if(!Le.isNodeList(l))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(gr.stringify(l)));if(!F.isEditor(n))throw new Error("[Slate] editor is invalid! You passed: ".concat(gr.stringify(n)));n.children=l,Object.assign(n,c)});var{selectorContext:d,onChange:h}=gJ(),p=$.useCallback(w=>{var b;switch(i&&i(n.children),w==null||(b=w.operation)===null||b===void 0?void 0:b.type){case"set_selection":o==null||o(n.selection);break;default:u==null||u(n.children)}h()},[n,h,i,o,u]);$.useEffect(()=>(VD.set(n,p),()=>{VD.set(n,()=>{})}),[n,p]);var[m,v]=$.useState(Fe.isFocused(n));return $.useEffect(()=>{v(Fe.isFocused(n))},[n]),Ia(()=>{var w=()=>v(Fe.isFocused(n));return uN>=17?(document.addEventListener("focusin",w),document.addEventListener("focusout",w),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",w)}):(document.addEventListener("focus",w,!0),document.addEventListener("blur",w,!0),()=>{document.removeEventListener("focus",w,!0),document.removeEventListener("blur",w,!0)})},[]),vt.createElement(wS.Provider,{value:d},vt.createElement(yS.Provider,{value:n},vt.createElement(BJ.Provider,{value:m},r)))},NJ=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",i=n;i=XZ(i,r);var{onChange:o,apply:u}=i;return i.getChunkSize=()=>null,i.onChange=l=>{var c=uN<18?DQ.unstable_batchedUpdates:d=>d();c(()=>{o(l)})},i.apply=l=>{if(l.type==="move_node"){var c=Le.parent(i,l.path),d=!!i.getChunkSize(c);if(d){var h=Le.get(i,l.path),p=rN(i,c),m=Fe.findKey(i,h);p.movedNodeKeys.add(m)}}u(l)},i},OJ={isHistory(e){return ei(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||Ta.isOperationList(e.redos[0].operations))&&(e.undos.length===0||Ta.isOperationList(e.undos[0].operations))}},BE=new WeakMap,Il=new WeakMap,Sv=new WeakMap,_s={isHistoryEditor(e){return OJ.isHistory(e.history)&&F.isEditor(e)},isMerging(e){return Il.get(e)},isSplittingOnce(e){return Sv.get(e)},setSplittingOnce(e,n){Sv.set(e,n)},isSaving(e){return BE.get(e)},redo(e){e.redo()},undo(e){e.undo()},withMerging(e,n){var r=_s.isMerging(e);Il.set(e,!0),n(),Il.set(e,r)},withNewBatch(e,n){var r=_s.isMerging(e);Il.set(e,!0),Sv.set(e,!0),n(),Il.set(e,r),Sv.delete(e)},withoutMerging(e,n){var r=_s.isMerging(e);Il.set(e,!1),n(),Il.set(e,r)},withoutSaving(e,n){var r=_s.isSaving(e);BE.set(e,!1);try{n()}finally{BE.set(e,r)}}},FJ=e=>{var n=e,{apply:r}=n;return n.history={undos:[],redos:[]},n.redo=()=>{var{history:i}=n,{redos:o}=i;if(o.length>0){var u=o[o.length-1];u.selectionBefore&&Re.setSelection(n,u.selectionBefore),_s.withoutSaving(n,()=>{F.withoutNormalizing(n,()=>{for(var l of u.operations)n.apply(l)})}),i.redos.pop(),n.writeHistory("undos",u)}},n.undo=()=>{var{history:i}=n,{undos:o}=i;if(o.length>0){var u=o[o.length-1];_s.withoutSaving(n,()=>{F.withoutNormalizing(n,()=>{var l=u.operations.map(Ta.inverse).reverse();for(var c of l)n.apply(c);u.selectionBefore&&Re.setSelection(n,u.selectionBefore)})}),n.writeHistory("redos",u),i.undos.pop()}},n.apply=i=>{var{operations:o,history:u}=n,{undos:l}=u,c=l[l.length-1],d=c&&c.operations[c.operations.length-1],h=_s.isSaving(n),p=_s.isMerging(n);if(h==null&&(h=IJ(i)),h){if(p==null&&(c==null?p=!1:o.includes(d)?p=!0:p=LJ(i,d)),_s.isSplittingOnce(n)&&(p=!1,_s.setSplittingOnce(n,void 0)),c&&p)c.operations.push(i);else{var m={operations:[i],selectionBefore:n.selection};n.writeHistory("undos",m)}for(;l.length>100;)l.shift();u.redos=[]}r(i)},n.writeHistory=(i,o)=>{n.history[i].push(o)},n},LJ=(e,n)=>!!(n&&e.type==="insert_text"&&n.type==="insert_text"&&e.offset===n.offset+n.text.length&&J.equals(e.path,n.path)||n&&e.type==="remove_text"&&n.type==="remove_text"&&e.offset+e.text.length===n.offset&&J.equals(e.path,n.path)),IJ=(e,n)=>e.type!=="set_selection";const HJ=e=>{const n=e,{insertData:r}=n;return n.insertBreak=()=>{e.insertText(`
`)},n.insertSoftBreak=()=>{e.insertText(`
`)},n.insertData=i=>{let o=i.getData("text/plain");if(!i.getData("application/x-slate-fragment")&&o){o.endsWith(`
`)&&(o=o.substring(0,o.length-1)),o=o.trim().replace(/\t+/g," "),n.insertText(o);return}r(i)},n},Cd="#6698FF",gs=9,WD="plait-text-plugin-key",lN=30,XD="transparent",E1=20,_g=18,Yf="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'PingFang SC', 'Noto Sans', 'Noto Sans CJK SC', 'Microsoft Yahei', 'Hiragino Sans GB', Arial, sans-serif",cN="none";var QB;(function(e){e.image="image"})(QB||(QB={}));const fN=["png","jpeg","gif","bmp"];var YD;(function(e){e.nw="0",e.n="4",e.ne="1",e.e="5",e.se="2",e.s="6",e.sw="3",e.w="7"})(YD||(YD={}));var Ha;(function(e){e.solid="solid",e.dashed="dashed",e.dotted="dotted"})(Ha||(Ha={}));class bo{constructor(n,r){this.board=n,this.options=r}processDrawing(n,r,i){var o,u;if(this.canDraw&&this.canDraw(n,i)){const l=this.draw(n,i);if(l){this.g&&r.contains(this.g)?this.g.replaceWith(l):(this.g&&this.g.remove(),(o=this.options)!=null&&o.prepend?r.prepend(l):r.appendChild(l)),this.g=l;const c=this.board.getRectangle(n);if(!c)return;let d=N.getCenterPoint(c);if((u=this.options)!=null&&u.active){const p=gi(this.board,c);d=N.getCenterPoint(p)}let h;Ri.isGroup(n)?h=Xi(_o(this.board,n,!0)):h=n.angle,h&&Io(l,d,h)}else this.destroy();GJ(this)&&this.afterDraw(n)}else this.destroy()}destroy(){this.g&&(this.g.remove(),this.g=void 0)}}function GJ(e){return!!e.afterDraw}const dN=(e,n)=>{const r={stroke:"#99999995",strokeWidth:2,fill:"#FFF",fillStyle:"solid"},i=vc(L.getRoughSVG(e),n,gs,r);return i.classList.add(EU),i};function _J(e,n){return vc(L.getRoughSVG(e),n,gs,{stroke:"#FFFFFF",strokeWidth:1,fill:`${Cd}`,fillStyle:"solid"})}function JB(e,n){return vc(L.getRoughSVG(e),n,gs,{stroke:`${Cd}`,strokeWidth:2,fill:"#FFFFFF",fillStyle:"solid"})}const Hl=6,ek=(e,n)=>{const r={stroke:Mi,strokeWidth:1,fillStyle:"solid"},i=[n.x-E1-_g/2,n.y+n.height+E1+_g/2],o=L.getRoughSVG(e),u=Lt(),l=o.path(`M ${i[0]+Hl} ${i[1]} A ${Hl} ${Hl}, 0, 1, 0, ${i[0]} ${i[1]+Hl}`,r),c=o.polygon([[i[0],i[1]+Hl-2],[i[0],i[1]+Hl+2],[i[0]+4.5,i[1]+Hl]],{...r,fill:Mi});return Vt(c,"round"),u.append(l,c),u},Op=(e,n)=>new D1(e,{...n,active:!0}),mT=class mT extends bo{constructor(n,r){super(n,{...r,active:!0}),this.board=n,this.options=r,this.hasResizeHandle=!1}canDraw(n,r){return!!r.selected}draw(n,r){const i=Lt(),o=gi(this.board,this.options.getRectangle(n)),u=this.options.getStrokeWidth()*this.board.viewport.zoom,l=N.inflate(o,u),c=ws(this.board,l,{stroke:Cd,strokeWidth:lr});return i.append(c),c.classList.add(Rp),c.style.opacity=`${this.options.getStrokeOpacity()}`,this.options.hasResizeHandle()?(this.hasResizeHandle=!0,N.getCornerPoints(l).forEach(d=>{const h=dN(this.board,d);i.append(h)})):this.hasResizeHandle=!1,i}};mT.key="active-generator";let D1=mT;const S1=e=>`${e}`,T1=e=>Number(e),VJ=(e,n)=>{let i=(KD(e,S1(n))?n-4:n)+2;return i>=4&&(i=i-4),KD(e,S1(n))?i+4:i},tk=e=>{switch(e){case 0:case 2:return ds.nwse;case 1:case 3:return ds.nesw;case 4:case 6:return ds.ns;case 5:case 7:return ds.ew;default:return null}},jJ=(e,n)=>{const r=iE.indexOf(e);if(r>=0){const i=Math.round(n/(Math.PI/4));e=iE[(r+i)%iE.length]}return e},hN=(e,n)=>{const r=N.getCornerPoints(e),i=r.map((u,l)=>({rectangle:{x:u[0]-n/2,y:u[1]-n/2,width:n,height:n},handle:S1(l),cursorClass:tk(l)})),o=zJ(r,n/2);return i.push(...o.map((u,l)=>({rectangle:u,handle:S1(l+4),cursorClass:tk(l+4)}))),i},nk=(e,n)=>n<=3?N.getCornerPoints(e)[n]:N.getEdgeCenterPoints(e)[n-4],zJ=(e,n)=>{const r=[];for(let i=0;i<e.length;i++){let o=N.getRectangleByPoints([e[i],e[(i+1)%4]]);const u=new Array(2).fill(0);u[(i+1)%2]=n/2,o=N.expand(o,u[0],u[1]),r.push(o)}return r},hy=new WeakMap,Pa=e=>!!hy.get(e),$J=(e,n)=>Pa(e)&&n(hy.get(e)),UJ=(e,n,r)=>{L.getBoardContainer(e).classList.add(`${r}-resizing`),hy.set(e,n),$a(e,!0)},WJ=(e,n)=>{L.getBoardContainer(e).classList.remove(`${n}-resizing`),hy.delete(e),$a(e,!1)},KD=(e,n)=>T1(n)>=4,qv=(e,n)=>!KD(e,n),xS=(e,n,r,i,o)=>{const u=Ar([i],r,o)[0],l=Ar([N.getCenterPoint(n)],r,o)[0],c=N.getPoints(n),d=N.getCenterPoint(e),h=Ar([l],u,-o)[0],p=Ar(c,d,o);return Ar(p,h,-o)},XJ=e=>{const n=e.points;return n&&n.length>1},gy=(e,n)=>{if(L.hasBeenTextEditing(e)||mi(e))return!1;const r=Xe(e);return r.length===1&&r[0]===n&&XJ(n)};function $n(e,n){const r=n[0]-e[0],i=n[1]-e[1],o=Math.sqrt(r*r+i*i);if(o===0)throw new Error("Points must not be the same for a unit vector calculation.");const u=r/o,l=i/o;return[u,l]}function Vf(e,n,r){const i=Math.hypot(n[0],n[1]);return[e[0]+n[0]/i*r,e[1]+n[1]/i*r]}function rk(e,n,r,i){return i?[e[0]+r,e[1]+r/n[0]*n[1]]:[e[0]+r/n[1]*n[0],e[1]+r]}function ik(e){const n=e[0],i=e[1],o=-n;return[i,o]}function op(e,n){if(!n)return e;const r=e[0],i=e[1],o=r*Math.cos(n)-i*Math.sin(n),u=r*Math.sin(n)+i*Math.cos(n);return[o,u]}function gN(e,n,r){const i=bt(e[0],e[1],n[0],n[1]),o=bt(e[0],e[1],r[0],r[1]),u=bt(n[0],n[1],r[0],r[1]);return Math.abs(i+o-u)<.1}const YJ=(e,n,r)=>{const i=[],o=[Math.min(n[0],r[0]),Math.max(n[0],r[0])],u=[Math.min(n[1],r[1]),Math.max(n[1],r[1])],l=$n(n,r);if(e[0]>=o[0]&&e[0]<=o[1]){const c=rk(n,l,e[0]-n[0],!0);i.push(c)}else if(e[1]>=u[0]&&e[1]<=u[1]){const c=rk(n,l,e[1]-n[1],!1);i.push(c)}return i};function pN(e,n){const i=mN(e)*n;let o=0;for(let u=0;u<e.length-1;u++){const[l,c]=e[u],[d,h]=e[u+1],p=bt(l,c,d,h);if(o+p>=i){const v=(i-o)/p,w=l+(d-l)*v,b=c+(h-c)*v;return[w,b]}o+=p}return e[e.length-1]}function mN(e){let n=0;for(let r=0;r<e.length-1;r++){const[i,o]=e[r],[u,l]=e[r+1];n+=bt(i,o,u,l)}return n}function vN(e,n){const r=mN(e);let i=0;for(let o=0;o<e.length-1;o++){if(gN(n,e[o],e[o+1]))return i+=bt(n[0],n[1],e[o][0],e[o][1]),i/r;i+=bt(e[o][0],e[o][1],e[o+1][0],e[o+1][1])}throw new Error("Cannot get ratio by point")}const rd=e=>{const n=[];return e.forEach(r=>{n.findIndex(o=>ct.isEquals(r,o))===-1&&n.push(r)}),n};function Sa(e){if(e.length<=2)return e;let n=[e[0]];for(let r=1;r<e.length-1;r++){const i=e[r-1],o=e[r],u=e[r+1];!(ct.isOverHorizontal([i,o,u])||ct.isOverVertical([i,o,u]))&&n.push(o)}return n.push(e[e.length-1]),n}const sp=(e,n,r)=>{const i=bt(...e,...n),o=ct.isEquals(e,n),u=o?1:(n[1]-e[1])/i,l=o?1:(n[0]-e[0])/i;return[e[0]+r*l,e[1]+r*u]},KJ={[Pt.left]:{x:-1,y:0},[Pt.right]:{x:1,y:0},[Pt.top]:{x:0,y:-1},[Pt.bottom]:{x:0,y:1}};function qJ(e){switch(e){case Pt.left:return Pt.right;case Pt.right:return Pt.left;case Pt.top:return Pt.bottom;case Pt.bottom:return Pt.top}}function yN(e){if(e[0]===0)return Pt.left;if(e[0]===1)return Pt.right;if(e[1]===0)return Pt.top;if(e[1]===1)return Pt.bottom}function Lf(e){const n=e[0],r=e[1];if(n===0&&r===0)return null;if(n===0)return r>0?Pt.bottom:Pt.top;if(r===0)return n>0?Pt.right:Pt.left;const i=Math.atan2(r,n);return i>-Math.PI/4&&i<=Math.PI/4?Pt.right:i>Math.PI/4&&i<=3*Math.PI/4?Pt.bottom:i>-3*Math.PI/4&&i<=-Math.PI/4?Pt.top:Pt.left}function sc(e){return KJ[e]}function id(e){return e===0?e:e/Math.abs(e)}const ZJ=(e,n,r,i,o)=>{const u=sc(n),l=sc(i),c=[e[0]+u.x*o,e[1]+u.y*o],d=[r[0]+l.x*o,r[1]+l.y*o],h=QJ(c,n,d),p=h.x!==0?"x":"y",m=h[p];let v=[],w,b;const[E,S]=JJ({sourceX:e[0],sourceY:e[1],targetX:r[0],targetY:r[1]});if(u[p]*l[p]===-1){w=E,b=S;const T=[[w,c[1]],[w,d[1]]],C=[[c[0],b],[d[0],b]];u[p]===m?v=p==="x"?T:C:v=p==="x"?C:T}else{const T=[[c[0],d[1]]],C=[[d[0],c[1]]];p==="x"?v=u.x===m?C:T:v=u.y===m?T:C;let B;if(n!==i){const P=p==="x"?1:0,I=u[p]===l[p==="x"?"y":"x"],z=c[P]>d[P],Y=c[P]<d[P];B=u[p]===1&&(!I&&z||I&&Y)||u[p]!==1&&(!I&&Y||I&&z),B&&(v=p==="x"?T:C)}}return[e,c,...v,d,r]},QJ=(e,n=Pt.bottom,r)=>n===Pt.left||n===Pt.right?e[0]<r[0]?{x:1,y:0}:{x:-1,y:0}:e[1]<r[1]?{x:0,y:1}:{x:0,y:-1};function JJ({sourceX:e,sourceY:n,targetX:r,targetY:i}){const o=Math.abs(r-e)/2,u=r<e?r+o:r-o,l=Math.abs(i-n)/2,c=i<n?i+l:i-l;return[u,c,o,l]}function bS(e){const n=e.ctrlKey||e.metaKey,r=Kt.isKeyHotkey("alt",e),i=Kt.isKeyHotkey("shift",e),o=e.key.includes("CapsLock"),u=e.key.includes("Tab"),l=e.key.includes("Escape"),c=e.key.startsWith("F"),d=!!e.key.includes("Arrow");return o||n||r||d||i||u||l||c}const eee=e=>Kt.isKeyHotkey("mod+/",e),tee=e=>e.key==="Tab",nee=e=>e.key==="Enter",CS=e=>e.code==="Space",ES=e=>hi.isDeleteBackward(e)||hi.isDeleteForward(e);var Gr;(function(e){e.dnd="dnd",e.drawing="drawing"})(Gr||(Gr={}));const wN=new WeakMap,xN=e=>wN.get(e),$i=(e,n)=>{wN.set(e,n)},py=e=>xN(e)===Gr.dnd,yc=e=>xN(e)===Gr.drawing,Fp=e=>{const n=sn.getElementRef(e);return(n==null?void 0:n.getTextManages())||[]},Ed=e=>{const n=Fp(e)[0];return n||console.warn("can not find textManage"),n},DS=e=>Fp(e).map(n=>n.editor),bN=e=>{const n=DS(e)[0];return n||console.warn("can not find textManage"),n},CN=e=>e.map(n=>{try{const r=DS(n);return r.length?r.map(i=>{const o=Le.texts(i);return Array.from(o).reduce((u,l)=>u+=l[0].text,"")}).join(" "):""}catch{return""}}).filter(n=>n).join(" "),wc=(e,n,r)=>{r=r||{};const i=typeof e=="string"?{children:[{text:e,...r}],type:"paragraph"}:e;return n&&(i.align=n),i},ok=e=>e===14?20:e===18?25:e*1.5,EN=async(e,n,r,i)=>{let o=0,u=0;await ree(n,r).then(h=>{o=h.width,u=h.height});let l=null;const c=URL.createObjectURL(n);L.getBoardContext(e).setUploadingFile({url:c,file:n}),l={url:c,width:o,height:u},i(l)};function ree(e,n){return new Promise((r,i)=>{const o=new Image;o.src=URL.createObjectURL(e),o.onload=function(){const u=n,l=n*o.naturalHeight/o.naturalWidth;r(o.naturalWidth>n?{width:u,height:l}:{width:o.naturalWidth,height:o.naturalHeight})}})}const SS=new WeakMap,ji=e=>SS.get(e),DN=(e,n)=>{SS.set(e,n)},iee=e=>{SS.delete(e)};class oee{constructor(){this.list=[]}enqueue(n){this.list.push(n),this.list=this.list.sort((r,i)=>r.priority-i.priority)}dequeue(){return this.list.shift()}}class see{constructor(n){this.graph=n,this.cameFrom=new Map}heuristic(n,r){return Math.abs(n[0]-r[0])+Math.abs(n[1]-r[1])}search(n,r,i){const o=new oee,u=this.graph.get(n);this.cameFrom=new Map;const l=new Map;for(l.set(u,0),o.enqueue({node:u,priority:0});o.list.length>0;){var c=o.dequeue();if(!c)throw new Error("can't find current");const d=c.node.data;if(d[0]===r[0]&&d[1]===r[1])break;c.node.adjacentNodes.forEach(h=>{let p=l.get(c.node)+this.heuristic(h.data,c.node.data);const m=this.cameFrom.get(c.node),v=m?m.data:i,w=v[0]===(c==null?void 0:c.node.data[0])&&v[0]===h.data[0],b=v[1]===(c==null?void 0:c.node.data[1])&&v[1]===h.data[1];if(!w&&!b&&(p=p+1),!l.has(h)||l.get(h)&&p<l.get(h)){l.set(h,p);const E=p+this.heuristic(h.data,r);o.enqueue({node:h,priority:E}),this.cameFrom.set(h,c.node)}})}}getRoute(n,r){const i=[];let o=r;for(;o[0]!==n[0]||o[1]!==n[1];){const u=this.graph.get(o),l=this.cameFrom.get(u);i.unshift(l.data),o=l.data}return i}}class aee{constructor(n){this.data=n,this.distance=Number.MAX_SAFE_INTEGER,this.adjacentNodes=[]}}class uee{constructor(){this.index={}}add(n){const r=n[0],i=n[1],o=r.toString(),u=i.toString();o in this.index||(this.index[o]={}),u in this.index[o]||(this.index[o][u]=new aee(n))}connect(n,r){const i=this.get(n),o=this.get(r);if(!i||!o)throw new Error("A point was not found");i.adjacentNodes.push(o)}has(n){const r=n[0],i=n[1],o=r.toString(),u=i.toString();return o in this.index&&u in this.index[o]}get(n){const r=n[0],i=n[1],o=r.toString(),u=i.toString();return o in this.index&&u in this.index[o]?this.index[o][u]:null}}const SN=gd("debug:plait:elbow-line-routing"),TN=(e,n)=>{const{nextSourcePoint:r,nextTargetPoint:i}=e,o=cee(e),u=fee(o),l=new see(u);l.search(r,i,e.sourcePoint);let c=l.getRoute(r,i);c=[e.sourcePoint,...c,i,e.targetPoint];const d=N.isHitX(e.sourceOuterRectangle,e.targetOuterRectangle),h=N.isHitY(e.sourceOuterRectangle,e.targetOuterRectangle),p=d?void 0:N.getGapCenter(e.sourceOuterRectangle,e.targetOuterRectangle,!0),m=h?void 0:N.getGapCenter(e.sourceOuterRectangle,e.targetOuterRectangle,!1);return c=lee(c,{centerX:p,centerY:m,sourceRectangle:e.sourceRectangle,targetRectangle:e.targetRectangle},n),c},lee=(e,n,r)=>{const{sourceRectangle:i,targetRectangle:o,centerX:u,centerY:l}=n;if(r&&SN.clear(),u!==void 0){const c=ak(e,u,!0),d=c.pointOfHit&&sk(e,{parallelPaths:c.parallelPaths,pointOfHit:c.pointOfHit,sourceRectangle:i,targetRectangle:o},r);d&&(e=d)}if(l!==void 0){const c=ak(e,l,!1),d=c.pointOfHit&&sk(e,{parallelPaths:c.parallelPaths,pointOfHit:c.pointOfHit,sourceRectangle:i,targetRectangle:o},r);d&&(e=d)}return e},sk=(e,n,r)=>{const{parallelPaths:i,pointOfHit:o,sourceRectangle:u,targetRectangle:l}=n;let c=null;return i.forEach(d=>{const h=[o,d[0],d[1]],p=N.getRectangleByPoints(h);if(!N.isHit(p,u)&&!N.isHit(p,l)){const m=N.getCornerPointsByPoints(h);r&&SN.drawRectangle(r,p);const v=[],w=[];e.forEach((P,I)=>{const z=m.findIndex(Y=>ct.isEquals(P,Y));z!==-1&&(v.push(I),w.push(z))});const b=[...e],E=m.find((P,I)=>!w.includes(I)),S=Math.abs(v[0]-v[v.length-1])+1;b.splice(v[0]+1,S-2,E);const T=Sa([...e]).length-1;Sa([...b]).length-1<=T&&(c=b)}return null}),c},ak=(e,n,r)=>{const i=[];let o=null,u=null;const l=r?0:1;for(let c=0;c<e.length;c++){const d=e[c-1],h=e[c];o===null&&d&&d[l]===h[l]&&(o=d),o!==null&&d[l]!==h[l]&&(i.push([o,d]),o=null),h[l]===n&&(u=h)}return o&&i.push([o,e[e.length-1]]),{pointOfHit:u,parallelPaths:i}},cee=e=>{const{nextSourcePoint:n,nextTargetPoint:r,sourceOuterRectangle:i,targetOuterRectangle:o}=e,u=[],l=[];let c=[];[i,o].forEach(p=>{u.push(p.x,p.x+p.width/2,p.x+p.width),l.push(p.y,p.y+p.height/2,p.y+p.height)});const d=[i.x,i.x+i.width,o.x,o.x+o.width].sort((p,m)=>p-m);u.push((d[1]+d[2])/2,n[0],r[0]);const h=[i.y,i.y+i.height,o.y,o.y+o.height].sort((p,m)=>p-m);l.push((h[1]+h[2])/2,n[1],r[1]);for(let p=0;p<u.length;p++)for(let m=0;m<l.length;m++){const v=[u[p],l[m]],w=N.isPointInRectangle(i,v),b=N.isPointInRectangle(o,v);!w&&!b&&c.push(v)}return c=rd(c).filter(p=>{const m=N.isPointInRectangle(i,p),v=N.isPointInRectangle(o,p);return!m&&!v}),c},fee=e=>{const n=new uee,r=[],i=[];e.forEach(u=>{const l=u[0],c=u[1];r.indexOf(l)<0&&r.push(l),i.indexOf(c)<0&&i.push(c),n.add(u)}),r.sort((u,l)=>u-l),i.sort((u,l)=>u-l);const o=u=>n.has(u);for(let u=0;u<r.length;u++)for(let l=0;l<i.length;l++){const c=[r[u],i[l]];if(o(c)){if(u>0){const d=[r[u-1],i[l]];o(d)&&(n.connect(d,c),n.connect(c,d))}if(l>0){const d=[r[u],i[l-1]];o(d)&&(n.connect(d,c),n.connect(c,d))}}}return n},dee=(e,n)=>{const r=lN;let i=new Array(4).fill(r),o=new Array(4).fill(r);const u=e.x-(n.x+n.width),l=n.x-(e.x+e.width);if(u>0&&u<r*2){const h=u/2;i[3]=h,o[1]=h}if(l>0&&l<r*2){const h=l/2;o[3]=h,i[1]=h}const c=e.y-(n.y+n.height),d=n.y-(e.y+e.height);if(c>0&&c<r*2){const h=c/2;i[0]=h,o[2]=h}if(d>0&&d<r*2){const h=d/2;i[2]=h,o[0]=h}return{sourceOffset:i,targetOffset:o}},uk=(e,n,r)=>{switch(r){case Pt.top:return[e[0],n.y];case Pt.bottom:return[e[0],n.y+n.height];case Pt.right:return[n.x+n.width,e[1]];default:return[n.x,e[1]]}},hee=(e,n)=>{const{sourceOffset:r,targetOffset:i}=dee(e,n),o=N.expand(e,r[3],r[0],r[1],r[2]),u=N.expand(n,i[3],i[0],i[1],i[2]);return{sourceOuterRectangle:o,targetOuterRectangle:u}},gee=e=>{const{sourcePoint:n,nextSourcePoint:r,sourceRectangle:i,sourceOuterRectangle:o,targetPoint:u,nextTargetPoint:l,targetRectangle:c,targetOuterRectangle:d}=e;return N.isPointInRectangle(c,n)||N.isPointInRectangle(d,r)||N.isPointInRectangle(o,l)||N.isPointInRectangle(i,u)},Zv=new Map,TS=(e,n,r)=>{let i=Zv.has(e)?Zv.get(e):{};i[n]=r,Zv.set(e,i)},my=e=>Zv.get(e),AN=new WeakMap,pee=(e,n)=>{L.getBoardContainer(e).classList.add("draw-elements-rotating"),AN.set(e,n),$a(e,!0)},mee=e=>{L.getBoardContainer(e).classList.remove("draw-elements-rotating"),AN.delete(e),$a(e,!1)},lk=(e,n)=>{const r=e.getRectangle(n);return r?r.width*r.height:0},vee=(e,n,r="asc")=>n.sort((i,o)=>{const u=lk(e,i),l=lk(e,o);return r==="asc"?u-l:l-u}),yee=e=>e&&e!==cN&&e!==XD,zu=(e,n)=>{switch(e){case Ha.dashed:return[8,8+n];case Ha.dotted:return[2,4+n];default:return}},PN=(e,n,r,i)=>n.map(o=>{const u=i&&i(o);if(u)return u;if(o.points){const l=o.points.map(c=>[c[0]-r[0],c[1]-r[1]]);return{...o,points:l}}return o}),RN=(e,n,r,i)=>{const o={};n.forEach(u=>{o[u.id]=yn()}),n.forEach(u=>{u.id=o[u.id],i&&i(u,o),u.points&&(u.points=u.points.map(l=>[r[0]+l[0],r[1]+l[1]])),Ge.insertNode(e,u,[e.children.length])}),Ge.addSelectionWithTemporaryElements(e,n)},Un=(e,n,r=Pt.right)=>r===Pt.left?[e[0]-n,e[1]]:r===Pt.bottom?[e[0],e[1]+n]:r===Pt.top?[e[0],e[1]-n]:[e[0]+n,e[1]],Tv=(e,n,r=Pt.right)=>r===Pt.bottom?[e[0]+n,e[1]]:r===Pt.top?[e[0]+n,e[1]]:[e[0],e[1]+n],wee=e=>e===0?Pt.top:e===1?Pt.right:e===2?Pt.bottom:e===3?Pt.left:Pt.right,BN=(e,n,r)=>Math.abs(r?e[0]-n[0]:e[1]-n[1]),xee="foreign-object-image",vT=class vT extends bo{constructor(n,r){super(n,r),this.board=n,this.options=r,this.isFocus=!1}canDraw(n){return!!this.options.getImageItem(n)}draw(n){this.element=n;const r=Lt(),i=this.options.getRectangle(n);this.foreignObject=z3(i.x,i.y,i.width,i.height),this.foreignObject.classList.add(xee),r.append(this.foreignObject);const o={board:this.board,imageItem:this.options.getImageItem(n),element:n,getRectangle:()=>this.options.getRectangle(n)};return this.imageComponentRef=this.board.renderImage(this.foreignObject,o),this.activeGenerator=Op(this.board,{getStrokeWidth:()=>(Xe(this.board).length===1&&!mi(this.board),lr),getStrokeOpacity:()=>{const u=Xe(this.board);return u.length===1&&!mi(this.board)||!u.length?1:.5},getRectangle:()=>this.options.getRectangle(this.element),hasResizeHandle:()=>{const u=gy(this.board,this.element);return!!ji(this.board)||u}}),r}updateImage(n,r,i){if(this.element=i,r!==i&&this.imageComponentRef){const l={imageItem:this.options.getImageItem(i),element:i,getRectangle:()=>this.options.getRectangle(i)};this.imageComponentRef.update(l)}const o=this.options.getRectangle(i);Ng(this.g,o.width,o.height,o.x,o.y),o&&i.angle!==void 0&&Io(this.g,N.getCenterPoint(o),i.angle);const u=L.getActiveHost(this.board);this.activeGenerator.processDrawing(i,u,{selected:this.isFocus})}setFocus(n,r){this.isFocus=r;const i=L.getActiveHost(this.board);this.activeGenerator.processDrawing(n,i,{selected:r});const o={isFocus:r};this.imageComponentRef.update(o)}destroy(){var n,r;super.destroy(),(n=this.imageComponentRef)==null||n.destroy(),(r=this.activeGenerator)==null||r.destroy()}};vT.key="image-generator";let Ga=vT;const Lp=(e,n,r)=>{Xe(e).forEach(o=>{if(r!=null&&r.match&&!(r!=null&&r.match(o)))return;const u=L.findPath(e,o),l=r!=null&&r.getMemorizeKey?r==null?void 0:r.getMemorizeKey(o):"";for(let c in n)l&&TS(l,c,n[c]);r!=null&&r.callback?r.callback(o,u):Ge.setNode(e,n,u)})},bee=(e,n,r)=>{Lp(e,{strokeStyle:n},r)},Cee=(e,n,r)=>{Lp(e,{fill:n},r)},Eee=(e,n,r)=>{Lp(e,{strokeColor:n},r)},Dee=(e,n,r)=>{Lp(e,{strokeWidth:n},r)},Ip={setFillColor:Cee,setStrokeStyle:bee,setProperty:Lp,setStrokeWidth:Dee,setStrokeColor:Eee},ac=(e,n=!1)=>{let r=e[0],i=e[1];if(n){const l=Math.abs(r[0]-i[0]),c=Math.abs(r[1]-i[1]),d=Math.max(c,l);i=[r[0]+(i[0]>r[0]?d:-d),r[1]+(i[1]>r[1]?d:-d)]}const o=[Math.min(r[0],i[0]),Math.min(r[1],i[1])];let u=[Math.max(r[0],i[0]),Math.max(r[1],i[1])];return[o,u]},ck=(e,n)=>!L.isReadonly(e)&&!L.hasBeenTextEditing(e)&&L.isPointer(e,qt.selection),xc=(e,n)=>{const{pointerDown:r,pointerMove:i,globalPointerUp:o}=e;let u=null,l=null,c=null,d=null;e.pointerDown=p=>{if(!n.canResize()||!ck(e)||!Us(p)){r(p);return}const m=Et(e,At(e,p.x,p.y));if(u=n.hitTest(m),u){u.cursorClass&&L.getBoardContainer(e).classList.add(`${u.cursorClass}`),c=[p.x,p.y],l={path:Array.isArray(u.element)?u.element.map(w=>L.findPath(e,w)):L.findPath(e,u.element),element:u.element,handle:u.handle,handleIndex:u.handleIndex,rectangle:u.rectangle,options:u.options};return}r(p)},e.pointerMove=p=>{if(!n.canResize()||!ck(e)){h(),i(p);return}if(c&&u&&!Pa(e)){const m=[p.x,p.y];bt(c[0],c[1],m[0],m[1])>N3&&(UJ(e,l,n.key),Jr.set(e,!0),n.beforeResize&&n.beforeResize(l))}if(!Pa(e)&&!wd(e)){const m=Et(e,At(e,p.x,p.y));ys(e,n.key+"-common-resize-hit-test",()=>{const v=n.hitTest(m);v?(d&&v.cursorClass!==d.cursorClass&&L.getBoardContainer(e).classList.remove(`${d.cursorClass}`),d=v,d.cursorClass&&L.getBoardContainer(e).classList.add(`${d.cursorClass}`)):h()})}else if(c&&Pa(e)){p.preventDefault();const m=Et(e,At(e,p.x,p.y));ys(e,"with-common-resize",()=>{c&&l&&n.onResize(l,{startPoint:Et(e,At(e,c[0],c[1])),endPoint:m,isShift:!!p.shiftKey})});return}i(p)},e.globalPointerUp=p=>{o(p),(Pa(e)||u)&&(n.afterResize&&n.afterResize(l),WJ(e,n.key),c=null,u=null,l=null,Jr.set(e,!1))};const h=()=>{d&&(d.cursorClass&&L.getBoardContainer(e).classList.remove(`${d.cursorClass}`),d=null)};return e},yT=class yT extends bo{canDraw(n){return!0}draw(n,r){const i={stroke:"",strokeWidth:lr,strokeLineDash:[5]};let o={x:0,y:0,width:0,height:0};return r&&(i.stroke="#999",o=Z3(this.board,n,!0)),ws(this.board,o,i)}};yT.key="GroupGenerator";let ap=yT;class See{constructor(){this.textManages=[],this.generatorMap=new Map,this.updateActiveSection=()=>{}}addGenerator(n,r){this.generatorMap.set(n,r)}getGenerator(n){return this.generatorMap.get(n)}initializeTextManage(n){this.textManages=[],Array.isArray(n)?this.textManages.push(...n):this.textManages.push(n)}getTextManages(){return this.textManages}destroyTextManage(){this.textManages.forEach(n=>{n.destroy()}),this.textManages=[]}}class $u extends rY{constructor(n=new See){super(n)}}class Tee extends $u{constructor(){super()}initializeGenerator(){this.activeGenerator=Op(this.board,{getRectangle:n=>Z3(this.board,n),getStrokeWidth:()=>0,getStrokeOpacity:()=>0,hasResizeHandle:()=>!mi(this.board)}),this.groupGenerator=new ap(this.board),this.getRef().addGenerator(ap.key,this.groupGenerator)}initialize(){super.initialize(),this.initializeGenerator()}onContextChanged(n,r){}}function kN(e){let n,r;const{drawElement:i,pointerMove:o,globalPointerUp:u,insertFragment:l,getDeletedFragment:c,deleteFragment:d,getRelatedFragment:h,getRectangle:p,keyDown:m,onChange:v}=e;return e.drawElement=w=>Ri.isGroup(w.element)?Tee:i(w),e.pointerMove=w=>{ys(e,"with-group",()=>{n==null||n.remove();const b=Et(e,At(e,w.x,w.y));let E={anchor:b,focus:b};e.selection&&!ed.isCollapsed(e.selection)&&(E=e.selection);const S=L.getPointer(e);if(!Pa(e)&&!td(e)&&S===qt.selection){const T=R8(e,E);T.length&&(n=hX(e,T),n&&L.getElementTopHost(e).append(n))}}),o(w)},e.globalPointerUp=w=>{n==null||n.remove(),n=null,u(w)},e.getRelatedFragment=(w,b)=>{const E=fX(e,w,b);return h([...w,...E],b)},e.insertFragment=(w,b,E)=>{var C,B;let S=[];if((C=w==null?void 0:w.elements)!=null&&C.length){S=new Array((B=w==null?void 0:w.elements)==null?void 0:B.length);const P=ju(e,w==null?void 0:w.elements);J3(e,w==null?void 0:w.elements).forEach(z=>{const Y=w.elements.map(te=>te.id).indexOf(z.id);S.splice(Y,1,z.groupId?A1(z,void 0):z)}),P.length&&P.forEach(z=>{const Y=w.elements.map(re=>re.id).indexOf(z.id),te={...A1(z,void 0),id:yn()};S.splice(Y,1,te),MN(z,w.elements,te.id,S)}),w.elements=S}l(w,b,E),(S==null?void 0:S.filter(P=>Ri.isGroup(P))).forEach(P=>{Ge.insertNode(e,P,[e.children.length])})},e.getDeletedFragment=w=>(r=Aee(e),r&&r.length&&w.push(...r),c(w)),e.deleteFragment=w=>{r!=null&&r.length&&Ree(e,r),d(w),r=null},e.getRectangle=w=>Ri.isGroup(w)?Z3(e,w,!0):p(w),e.keyDown=w=>{if(!L.isReadonly(e)){if(Kt.isKeyHotkey("mod+g",w)){w.preventDefault(),Ge.addGroup(e);return}if(Kt.isKeyHotkey("mod+shift+g",w)){w.preventDefault(),Ge.removeGroup(e);return}}m(w)},e.onChange=()=>{v(),cX(e).forEach(b=>{const E=_o(e,b,!1,!0),S=E.some(B=>ND(e,B))&&!E.every(B=>ND(e,B)),T=sn.getElementRef(b),C=sn.getElementG(b);T.getGenerator(ap.key).processDrawing(b,C,S)})},e}const A1=(e,n)=>({...e,groupId:n}),MN=(e,n,r,i)=>{const o=n.filter(u=>u.groupId===e.id);return o.length&&o.forEach(u=>{const l=n.map(c=>c.id).indexOf(u.id);if(Ri.isGroup(u)){const c={...A1(u,r),id:yn()};i.splice(l,1,c),MN(u,n,c.id,i)}else i.splice(l,1,A1(u,r))}),i},Aee=e=>{const r=[...e.getRelatedFragment([])],i=ju(e),o=eS(e),u=[...i,...o];return u.forEach(l=>{const c=Vu(e,l,!0);if(c.length){const h=_o(e,c[0],!1,!0).filter(p=>![...u,...r].map(m=>m.id).includes(p.id));if((h.length===1||h.length===0)&&(r.includes(c[0])||r.push(c[0]),h.length===1&&c.length>1)){const p=Pee(e,c.slice(1,c.length),[...u,...r]);let m=c.length;p&&(m=c.findIndex(v=>v.id===p.id)),[...c.slice(1,m)].forEach(v=>{r.includes(v)||r.push(v)})}}}),r},Pee=(e,n,r)=>{let i=null;for(let o=0;o<n.length;o++)if(_o(e,n[o],!1,!0).filter(c=>!r.map(d=>d.id).includes(c.id)).length>0){i=n[o];break}return i},Ree=(e,n)=>{const r=eS(e),i=ju(e),o=r.filter(u=>u.groupId);[...i,...o].forEach(u=>{const l=Vu(e,u,!0);if(l.length){const d=_o(e,l[0],!1,!0).filter(h=>h.id!==u.id);if(d.length===1){const h=n.map(p=>p.id);if(l.some(p=>h.includes(p.id))){const p=l.find(v=>!h.includes(v.id)),m=L.findPath(e,d[0]);Ge.setNode(e,{groupId:(p==null?void 0:p.id)||void 0},m)}}}})},kE=new WeakMap,P1=new WeakMap,Bee=e=>{if(e){if(!kE.get(e)){const n=document.createElement("canvas");return kE.set(e,n),n}return kE.get(e)}return document.createElement("canvas")},ME=(e,n,r,i=1e4)=>{let o=P1.get(n);return o||(o=Hp(e,n,r,i),P1.set(n,o),o)},kee=(e,n,r)=>{P1.set(n,r)},Mee=(e,n)=>{P1.delete(n)};function Hp(e,n,r,i=1e4){const u=Bee(e).getContext("2d"),l=Le.texts(n),c=[[]];for(const p of l){const[m]=p;Le.string(m).split(`
`).forEach((b,E)=>{const S={...m,text:b};if(E===0)c[c.length-1].push(S);else{const T=[];T.push(S),c.push(T)}})}let d=0,h=0;return c.forEach((p,m)=>{let v=0,w=ok(r.fontSize);if(p.forEach((b,E)=>{const S=Nee(b,{fontFamily:r.fontFamily,fontSize:r.fontSize});u.font=S,v+=u.measureText(b.text).width;const T=E===p.length-1;if(b["font-size"]&&(T||b.text!=="")){const C=ok(parseFloat(b["font-size"]));C>w&&(w=C)}}),v<=i)v>d&&(d=v),h+=w;else{d=i;const b=Math.ceil(v/i);h+=w*b}}),{width:d,height:h}}const Nee=(e,n)=>`${e.italic?"italic ":""} ${e.bold?"bold ":""} ${e["font-size"]||n.fontSize}px ${n.fontFamily} `;class Gp{constructor(n,r){this.board=n,this.options=r,this.isEditing=!1,this.getSize=(i,o)=>{const u=window.getComputedStyle(this.foreignObject.children[0]),l=u.fontFamily,c=parseFloat(u.fontSize),d=i||this.editor.children[0];return Hp(this.board,d,{fontSize:c,fontFamily:l},o||this.options.getMaxWidth())},this.getText=()=>this.editor.children[0],this.options.getMaxWidth||(this.options.getMaxWidth=()=>999)}draw(n){const r=this.options.getRectangle();this.g=Lt(),this.foreignObject=z3(r.x,r.y,r.width,r.height),this.g.append(this.foreignObject),this.g.classList.add("text");const i={board:this.board,text:n,textPlugins:this.options.textPlugins,onChange:o=>{if(o.operations.some(u=>!Ta.isSelectionOperation(u))){const{width:u,height:l}=this.getSize();this.options.onChange&&this.options.onChange({...o,width:u,height:l}),Jr.set(this.board,!0)}},afterInit:o=>{this.editor=o},onComposition:o=>{if(o.type==="compositionend"){Mee(this.board,this.editor.children[0]);return}const u=Oee(this.editor,o.data);if(u){const l=this.getSize(u.children[0]);kee(this.board,this.editor.children[0],l),this.options.onChange&&this.options.onChange({...l}),Jr.set(this.board,!0)}}};this.textComponentRef=this.board.renderText(this.foreignObject,i)}updateRectangleWidth(n){UU(this.g,n)}updateAngle(n,r=0){Io(this.g,n,r)}updateRectangle(n){const{x:r,y:i,width:o,height:u}=n||this.options.getRectangle();Ng(this.g,o,u,r,i)}updateText(n){const r={text:n};this.textComponentRef.update(r)}edit(n,r){this.isEditing=!0,bD.set(this.board,!0);const i={readonly:!1};this.textComponentRef.update(i),Re.select(this.editor,[0]);const o=c=>{const d=Et(this.board,At(this.board,c.x,c.y)),h=this.options.getRenderRectangle?this.options.getRenderRectangle():this.options.getRectangle(),p=N.isHit(N.getRectangleByPoints([d,d]),h),m=c.target.closest(".plait-board-attached");!p&&!m&&setTimeout(()=>{l()},0)},u=c=>{if(!c.isComposing&&(c.key==="Escape"||c.key==="Tab"||r&&r(c))){c.preventDefault(),c.stopPropagation(),l();return}},l=()=>{if(this.isEditing){this.updateRectangle(),document.removeEventListener("mousedown",o),document.removeEventListener("keydown",u),bD.set(this.board,!1),Jr.set(this.board,!1),n&&n();const c={readonly:!0};this.textComponentRef.update(c),this.isEditing=!1,this.exitCallback=void 0}};return document.addEventListener("mousedown",o),document.addEventListener("keydown",u),this.exitCallback=l,l}destroy(){var n,r;(n=this.g)==null||n.remove(),(r=this.textComponentRef)==null||r.destroy(),this.exitCallback&&this.exitCallback()}}const Oee=(e,n)=>{if(e.selection&&be.isCollapsed(e.selection)){const[r,i]=F.node(e,e.selection),o=e.selection.anchor.offset,l={children:[JSON.parse(JSON.stringify(e.children[0]))]},c=r.text.slice(0,o+1)+n+r.text.slice(o+1),d=Le.get(l,i);return d.text=c,l}return null},Fee=e=>{const n=e;return n.renderText=(r,i)=>{throw new Error("No implementation for renderText method.")},n};var ri;(function(e){e.left="left",e.center="center",e.right="right"})(ri||(ri={}));const Lee=e=>{const n=e;return n.renderImage=(r,i)=>{throw new Error("No implementation for renderImage method.")},n},fk={isActive(e,n){const r=Le.get(e,dk);if(r){const{align:i}=r;return i===n}return!1},setAlign(e,n){const r={align:n};Re.setNodes(e,r,{at:dk})}},dk=[0];var Ai;(function(e){e.bold="bold",e.italic="italic",e.underline="underlined",e.strike="strike",e.color="color",e.fontSize="font-size"})(Ai||(Ai={}));const hk=[Ai.bold,Ai.color,Ai.italic,Ai.strike,Ai.underline,Ai.fontSize];var R1;(function(e){e.fontSize12="12",e.fontSize13="13",e.fontSize14="14",e.fontSize15="15",e.fontSize16="16",e.fontSize18="18",e.fontSize20="20",e.fontSize24="24",e.fontSize28="28",e.fontSize32="32",e.fontSize40="40",e.fontSize48="48"})(R1||(R1={}));Ai.bold,Ai.italic,Ai.underline,Ai.strike;const up=14,qD={getMarks(e){const n={};let r=[];e.selection?r=e.selection:e.children&&e.children.length>0&&(r={anchor:F.start(e,[0]),focus:F.end(e,[0])});const i=F.nodes(e,{match:Qe.isText,at:r});for(const o of i){const[u]=o,{text:l,...c}=u;Object.assign(n,c)}for(const o in n)hk.includes(o)||delete n[o];return n},getMarksByElement(e){const n={},r=Le.texts(e);for(const i of r){const[o]=i,{text:u,...l}=o;Object.assign(n,l)}for(const i in n)hk.includes(i)||delete n[i];return n},isMarkActive(e,n){var o,u;if(!(e!=null&&e.selection))return;const r=Le.get(e,(u=(o=e==null?void 0:e.selection)==null?void 0:o.anchor)==null?void 0:u.path);if(!Qe.isText(r))return!1;const i=qD.getMarks(e);return!!(i&&i[n])},toggleMark(e,n){NE(e),qD.isMarkActive(e,n)?F.removeMark(e,n):F.addMark(e,n,!0)},setFontSizeMark(e,n,r=up){NE(e),Number(n)===r?F.removeMark(e,Ai.fontSize):F.addMark(e,Ai.fontSize,Number(n))},setColorMark(e,n,r=Mi){NE(e),n===r||n===null||n===void 0?F.removeMark(e,"color"):F.addMark(e,"color",n)}};function NE(e){e.selection||Re.select(e,[0])}const B1={wrapLink(e,n,r){B1.isLinkActive(e)&&B1.unwrapLink(e);const{selection:i}=e,o=i&&be.isCollapsed(i),u={type:"link",url:r,children:[{text:n}]};if(o||Le.string(e)==="")Re.insertNodes(e,u);else if(i)Re.wrapNodes(e,u,{split:!0}),Re.collapse(e,{edge:"end"});else{const l={anchor:F.start(e,[0]),focus:F.end(e,[0])};Re.wrapNodes(e,u,{split:!0,at:l})}},unwrapLink(e,n){n||(n=e.selection,!n&&e.children&&e.children.length>0&&(n={anchor:F.start(e,[0]),focus:F.end(e,[0])})),Re.unwrapNodes(e,{at:n,match:r=>et.isElement(r)&&r.type==="link"})},isLinkActive(e){let n=e.selection;!n&&e.children&&e.children.length>0&&(n={anchor:F.start(e,[0]),focus:F.end(e,[0])});const[r]=F.nodes(e,{match:i=>et.isElement(i)&&i.type==="link",at:n});return!!r},getLinkElement(e){let n=e.selection;!n&&e.children&&e.children.length>0&&(n={anchor:F.start(e,[0]),focus:F.end(e,[0])});const[r]=F.nodes(e,{match:i=>et.isElement(i)&&i.type==="link",at:n});return r}},Iee=20;function gk(e){const n=/^(?:\w+:)?\/\/(\S+)$/,r=/^mailto:([^\s@]+@[^\s@]+\.[^\s@]+)$/,i=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,o=/^[^\s\.]+\.\S{2,}$/;if(typeof e!="string")return!1;const u=e.match(r);if(u)return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u[1]);const l=e.match(n);if(!l)return!1;const c=l[1];return c?!!(i.test(c)||o.test(c)):!1}const pk=()=>V.jsxDEV("span",{contentEditable:!1,style:{fontSize:0},children:String.fromCodePoint(160)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/plugins/with-link.tsx",lineNumber:8,columnNumber:3},void 0),Hee=({attributes:e,children:n,element:r})=>V.jsxDEV("a",{...e,href:r.url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",cursor:"pointer",display:"inline-block",padding:"2px 4px",borderRadius:"2px"},"data-url":r.url,className:"plait-board-link",children:[V.jsxDEV(pk,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/plugins/with-link.tsx",lineNumber:34,columnNumber:7},void 0),n,V.jsxDEV(pk,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/plugins/with-link.tsx",lineNumber:36,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/plugins/with-link.tsx",lineNumber:19,columnNumber:5},void 0),Gee=e=>{const{insertData:n,insertText:r,isInline:i}=e;return e.isInline=o=>o.type&&["link"].includes(o.type)||i(o),e.insertText=o=>{o&&gk(o)?B1.wrapLink(e,o,o):r(o)},e.insertData=o=>{const u=o.getData("text/plain");u&&gk(u)?B1.wrapLink(e,u,u):n(o)},e},mk=e=>{const{text:n,readonly:r,onChange:i,onComposition:o,afterInit:u}=e,l=$.useCallback(p=>V.jsxDEV(jee,{...p},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:34,columnNumber:33},void 0),[]),c=[n],d=$.useMemo(()=>{const p=Gee(HJ(FJ(NJ(gZ()))));return u&&u(p),p},[]);$.useEffect(()=>{n!==d.children[0]&&(d.children=[n],d.onChange())},[n,d]);const h=p=>{const{selection:m}=d;if(m&&be.isCollapsed(m)){const{nativeEvent:v}=p;if(Kt.isKeyHotkey("left",v)){p.preventDefault(),Re.move(d,{unit:"offset",reverse:!0});return}if(Kt.isKeyHotkey("right",v)){p.preventDefault(),Re.move(d,{unit:"offset"});return}}};return V.jsxDEV(MJ,{editor:d,initialValue:c,onChange:p=>{i&&i({newText:d.children[0],operations:d.operations})},children:V.jsxDEV(SJ,{className:"slate-editable-container plait-text-container",renderElement:p=>V.jsxDEV(_ee,{...p},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:94,columnNumber:35},void 0),renderLeaf:l,readOnly:r===void 0?!0:r,onCompositionStart:p=>{o&&o(p)},onCompositionUpdate:p=>{o&&o(p)},onCompositionEnd:p=>{o&&o(p)},onKeyDown:h},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:92,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:81,columnNumber:5},void 0)},_ee=e=>{const{attributes:n,children:r,element:i}=e;switch(i.type){case"link":return V.jsxDEV(Hee,{...e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:125,columnNumber:9},void 0);default:return V.jsxDEV(Vee,{...e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:129,columnNumber:9},void 0)}},Vee=({attributes:e,children:n,element:r})=>{const i={textAlign:r.align};return V.jsxDEV("div",{style:i,...e,children:n},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:143,columnNumber:5},void 0)},jee=({children:e,leaf:n,attributes:r})=>(n.bold&&(e=V.jsxDEV("strong",{children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:151,columnNumber:16},void 0)),n.code&&(e=V.jsxDEV("code",{children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:155,columnNumber:16},void 0)),n.italic&&(e=V.jsxDEV("em",{children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:159,columnNumber:16},void 0)),n.underlined&&(e=V.jsxDEV("u",{children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:163,columnNumber:16},void 0)),V.jsxDEV("span",{style:{color:n.color},...r,children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-text/src/text.tsx",lineNumber:166,columnNumber:5},void 0)),zee=e=>{const n=e;return n.renderText=(r,i)=>{const o=q1.createRoot(r);let u;const l=V.jsxDEV(mk,{...i,afterInit:h=>{u=h,i.afterInit&&i.afterInit(h)}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/plugins/with-react.tsx",lineNumber:22,columnNumber:7},void 0);o.render(l);let c={...i};return{destroy:()=>{setTimeout(()=>{o.unmount()},0)},update:h=>{if(!(h&&c&&!Object.keys(h).every(v=>h[v]===c[v])))return;const m=Fe.isReadOnly(u);c={...c,...h},o.render(V.jsxDEV(mk,{...c},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/plugins/with-react.tsx",lineNumber:52,columnNumber:21},void 0)),m===!0&&c.readonly===!1?setTimeout(()=>{Fe.focus(u)},0):m===!1&&c.readonly===!0&&(Fe.blur(u),Fe.deselect(u))}}},n},$ee=e=>{const{pointerDown:n,pointerMove:r,pointerUp:i,globalPointerUp:o}=e,u=[];let l=!1;return e.pointerDown=c=>{const d=[c.clientX,c.clientY];u.length<2&&(e.viewport.zoom,u.push({pointerId:c.pointerId,lastPoint:d,currentPoint:d,hasMoved:!1})),n(c)},e.pointerMove=c=>{const d=[c.clientX,c.clientY];if(u.length>=2){const h=u.find(p=>p.pointerId===c.pointerId);if(h&&(h.currentPoint=d,h.hasMoved=!0,u.length===2&&u.every(p=>p.hasMoved))){const[p,m]=u,v=i7(...p.lastPoint,...m.lastPoint),w=i7(...p.currentPoint,...m.currentPoint),b=w[0]-v[0],E=w[1]-v[1],S=L.getBoardContainer(e).getBoundingClientRect(),T=S.width/2,C=S.height/2,B=e.viewport.zoom,P=yd(e);let I=P[0]+T/B-b/B,z=P[1]+C/B-E/B,Y=[I-S.width/2/B,z-S.height/2/B],te=B;const re=bt(...p.lastPoint,...m.lastPoint),ce=bt(...p.currentPoint,...m.currentPoint)/re,ne=[p.currentPoint[0]-p.lastPoint[0],p.currentPoint[1]-p.lastPoint[1]],Q=[m.currentPoint[0]-m.lastPoint[0],m.currentPoint[1]-m.lastPoint[1]],le=ne[0]*Q[0]+ne[1]*Q[1],G=Math.sqrt(ne[0]*ne[0]+ne[1]*ne[1]),R=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]),k=le/(G*R||1);if(k<-.7||k<=.8&&l&&ce>=.01?l=!0:l=!1,l){te=Math.min(Math.max(e.viewport.zoom*ce,y8),w8);const _=L.getBoardContainer(e).getBoundingClientRect(),X=w[0]-_.x,U=w[1]-_.y;I=Y[0]+X/B,z=Y[1]+U/B,Y=[I-X/te,z-U/te]}gn.updateViewport(e,Y,te),u.forEach(H=>{H.lastPoint=H.currentPoint,H.hasMoved=!1})}return}r(c)},e.pointerUp=c=>{const d=u.findIndex(h=>h.pointerId===c.pointerId);d!==-1&&u.splice(d,1),i(c)},e.globalPointerUp=c=>{const d=u.findIndex(h=>h.pointerId===c.pointerId);d!==-1&&u.splice(d,1),o(c)},e},NN=({value:e,children:n,options:r,plugins:i,viewport:o,theme:u,onChange:l,onSelectionChange:c,onValueChange:d,onViewportChange:h,onThemeChange:p})=>{const[m,v]=$.useState(()=>{const T=Uee(e,r,i,o,u),C=Wee(T);return{v:0,board:T,listRender:C}}),{board:w,listRender:b}=m,E=$.useCallback(()=>{if(l){const I={children:w.children,operations:w.operations,viewport:w.viewport,selection:w.selection,theme:w.theme};l(I)}const T=w.operations.some(I=>Cu.isSetSelectionOperation(I)),C=w.operations.some(I=>Cu.isSetViewportOperation(I)),B=w.operations.some(I=>Cu.isSetThemeOperation(I)),P=w.operations.length>0&&!w.operations.every(I=>Cu.isSetSelectionOperation(I)||Cu.isSetViewportOperation(I)||Cu.isSetThemeOperation(I));d&&P&&d(w.children),c&&T&&c(w.selection),h&&C&&h(w.viewport),p&&B&&p(w.theme.themeColorMode),v(I=>({v:I.v+1,board:w,listRender:b}))},[w,l,c,d]);$.useEffect(()=>(f1.set(w,()=>{if(w.operations.length&&w.operations.every(P=>P.type==="set_selection")){b.update(w.children,{board:w,parent:w,parentG:L.getElementHost(w)});return}const C=w.operations.length&&w.operations.some(P=>P.type==="set_viewport");if(C&&DW(w)){z8(w,!1),b.update(w.children,{board:w,parent:w,parentG:L.getElementHost(w)});return}b.update(w.children,{board:w,parent:w,parentG:L.getElementHost(w)}),C?Y3(w):bW(w),m1(w),Xe(w).forEach(P=>{sn.getElementRef(P).updateActiveSection()})}),d1.set(w,()=>{E()}),()=>{f1.delete(w),d1.delete(w)}),[w]);const S=$.useRef(!0);return $.useEffect(()=>{if(S.current){S.current=!1;return}e!==m.board.children&&!jv.get(w)&&(w.children=e,b.update(w.children,{board:w,parent:w,parentG:L.getElementHost(w)}),gn.fitViewport(w))},[e]),V.jsxDEV(sS.Provider,{value:m,children:n},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/react-board/src/wrapper.tsx",lineNumber:207,columnNumber:5},void 0)},Uee=(e,n,r,i,o)=>{let u=CY(cY(uY(lY(EY(wY(aY(DY(bY(zee(Lee(Fee(sY(e,n)))))))))))));return r.forEach(l=>{u=l(u)}),$ee(u),i&&(u.viewport=i),o&&(u.theme=o),u},Wee=e=>new m4(e);function Xee(e,n){return Math.sqrt(Yee(e,n))}function Yee(e,n){return Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)}function kf(e,n,r){return[e[0]+(n[0]-e[0])*r,e[1]+(n[1]-e[1])*r]}function Kee(e,n){const r=e[n+0],i=e[n+1],o=e[n+2],u=e[n+3];let l=3*i[0]-2*r[0]-u[0];l*=l;let c=3*i[1]-2*r[1]-u[1];c*=c;let d=3*o[0]-2*u[0]-r[0];d*=d;let h=3*o[1]-2*u[1]-r[1];return h*=h,l<d&&(l=d),c<h&&(c=h),l+c}function ZD(e,n,r,i){const o=i||[];if(Kee(e,n)<r){const u=e[n+0];o.length?Xee(o[o.length-1],u)>1&&o.push(u):o.push(u),o.push(e[n+3])}else{const l=e[n+0],c=e[n+1],d=e[n+2],h=e[n+3],p=kf(l,c,.5),m=kf(c,d,.5),v=kf(d,h,.5),w=kf(p,m,.5),b=kf(m,v,.5),E=kf(w,b,.5);ZD([l,p,w,E],0,r,o),ZD([E,b,v,h],0,r,o)}return o}function Zi(e,n=.15,r){const i=[],o=(e.length-1)/3;for(let u=0;u<o;u++){const l=u*3;ZD(e,l,n,i)}return i}var lt;(function(e){e.rectangle="rectangle",e.ellipse="ellipse",e.diamond="diamond",e.roundRectangle="roundRectangle",e.parallelogram="parallelogram",e.text="text",e.triangle="triangle",e.leftArrow="leftArrow",e.trapezoid="trapezoid",e.rightArrow="rightArrow",e.cross="cross",e.star="star",e.pentagon="pentagon",e.hexagon="hexagon",e.octagon="octagon",e.pentagonArrow="pentagonArrow",e.processArrow="processArrow",e.twoWayArrow="twoWayArrow",e.comment="comment",e.roundComment="roundComment",e.cloud="cloud"})(lt||(lt={}));var ut;(function(e){e.process="process",e.decision="decision",e.data="data",e.connector="connector",e.terminal="terminal",e.manualInput="manualInput",e.preparation="preparation",e.manualLoop="manualLoop",e.merge="merge",e.delay="delay",e.storedData="storedData",e.or="or",e.summingJunction="summingJunction",e.predefinedProcess="predefinedProcess",e.offPage="offPage",e.document="document",e.multiDocument="multiDocument",e.database="database",e.hardDisk="hardDisk",e.internalStorage="internalStorage",e.noteCurlyRight="noteCurlyRight",e.noteCurlyLeft="noteCurlyLeft",e.noteSquare="noteSquare",e.display="display"})(ut||(ut={}));var it;(function(e){e.actor="actor",e.useCase="useCase",e.container="container",e.note="note",e.simpleClass="simpleClass",e.activityClass="activityClass",e.branchMerge="branchMerge",e.port="port",e.package="package",e.combinedFragment="combinedFragment",e.class="class",e.interface="interface",e.object="object",e.component="component",e.componentBox="componentBox",e.template="template",e.activation="activation",e.deletion="deletion",e.assembly="assembly",e.providedInterface="providedInterface",e.requiredInterface="requiredInterface"})(it||(it={}));var xo;(function(e){e.name="name",e.content="content"})(xo||(xo={}));var Yi;(function(e){e.swimlaneVertical="swimlaneVertical",e.swimlaneHorizontal="swimlaneHorizontal"})(Yi||(Yi={}));var ps;(function(e){e.swimlaneVertical="swimlaneVertical",e.swimlaneHorizontal="swimlaneHorizontal",e.swimlaneVerticalWithHeader="swimlaneVerticalWithHeader",e.swimlaneHorizontalWithHeader="swimlaneHorizontalWithHeader"})(ps||(ps={}));var od;(function(e){e.table="table"})(od||(od={}));const lp={isTable:e=>e.type==="table",isVerticalText:e=>{var n;return((n=e.text)==null?void 0:n.direction)==="vertical"}},ON="plait-draw-plugin-key";var sd;(function(e){e.lineText="line-text",e.geometryText="geometry-text"})(sd||(sd={}));const tt={rectangleAndText:4},vy={strokeWidth:2,fill:cN},qee={selectionStrokeWidth:lr},cp={width:100,height:100,strokeColor:Mi,strokeWidth:2},vk={width:120,height:50},Zee={width:138,height:80},yk={width:100,height:80},Qee={width:120,height:100},yy={height:20,text:"文本"},FN={defaultTextMaxWidth:34*14},OE={width:44,height:44},Is={width:120,height:60},Jee={width:70,height:80},ete={width:80,height:80},tte={width:140,height:70},nte={width:124,height:60},LN={width:120,height:70},FE={width:160,height:100},QD={width:120,height:80},rte={width:117,height:59},ite={width:47,height:33},ote={width:68,height:100},ste={width:300,height:240},ate={width:210,height:150,texts:[{id:xo.name,text:"包名",align:ri.left},{id:xo.content,text:"",align:ri.left}]},ute={width:18,height:80},Av={width:120,height:60},lte={width:200,height:150},wk={width:40,height:40},cte={width:20,height:20},fte={width:70,height:56},dte={width:120,height:56},hte={width:70,height:34},gte={width:400,height:280,texts:[{id:xo.name,text:"Opt | Alt | Loop",align:ri.left},{id:xo.content,text:"[Condition]",align:ri.left}]},pte={width:230,height:180,texts:[{text:"Class",align:ri.center},{text:`+ attribute1:type  defaultValue
+ attribute2:type
- attribute3:type`,align:ri.left},{text:`+ operation1(params):returnType
- operation2(params)
- operation3()`,align:ri.left}]},mte={width:230,height:140,texts:[{text:`<<interface>>
Interface`,align:ri.center},{text:`+ operation1(params):returnType
- operation2(params)
- operation3()`,align:ri.left}]},IN={[lt.pentagonArrow]:vk,[lt.processArrow]:vk,[lt.cloud]:Qee,[lt.twoWayArrow]:Zee,[lt.leftArrow]:yk,[lt.rightArrow]:yk},HN={[ut.connector]:OE,[ut.process]:Is,[ut.decision]:tte,[ut.data]:nte,[ut.terminal]:Is,[ut.manualInput]:rte,[ut.preparation]:Is,[ut.manualLoop]:Is,[ut.merge]:ite,[ut.delay]:Is,[ut.storedData]:Is,[ut.or]:OE,[ut.summingJunction]:OE,[ut.predefinedProcess]:Is,[ut.offPage]:Is,[ut.document]:LN,[ut.multiDocument]:QD,[ut.database]:Jee,[ut.hardDisk]:Is,[ut.internalStorage]:ete,[ut.noteCurlyLeft]:FE,[ut.noteCurlyRight]:FE,[ut.noteSquare]:FE,[ut.display]:Is},GN={[it.actor]:ote,[it.useCase]:LN,[it.container]:ste,[it.note]:Av,[it.package]:ate,[it.combinedFragment]:gte,[it.class]:pte,[it.interface]:mte,[it.activation]:ute,[it.object]:Av,[it.deletion]:wk,[it.activityClass]:Av,[it.simpleClass]:Av,[it.component]:QD,[it.template]:QD,[it.componentBox]:lte,[it.port]:cte,[it.branchMerge]:wk,[it.assembly]:dte,[it.providedInterface]:hte,[it.requiredInterface]:fte},vte={[it.package]:Object.keys(xo),[it.combinedFragment]:Object.keys(xo)},k1=10,yte=6,wte=8,_N=[ut.or,ut.summingJunction,it.activation,it.deletion,it.port,it.branchMerge,it.assembly,it.providedInterface,it.requiredInterface],xte=[it.package,it.combinedFragment],bte=[ut.noteCurlyLeft,ut.noteCurlyRight,ut.noteSquare,it.requiredInterface,it.deletion],AS=()=>[...Object.keys(lt),...Object.keys(ut),...Object.keys(it)],VN=()=>Object.keys(ps),Cte=()=>Object.keys(ut),Ete=()=>Object.keys(it),Dte=()=>Object.keys(Rn),Ste=()=>Object.keys(L1),Tte=1e3,jN={[ur.default]:{strokeColor:Mi,fill:"#FFFFFF"},[ur.colorful]:{strokeColor:"#06ADBF",fill:"#CDEFF2"},[ur.soft]:{strokeColor:"#6D89C1",fill:"#DADFEB"},[ur.retro]:{strokeColor:"#E9C358",fill:"#F6EDCF"},[ur.dark]:{strokeColor:"#FFFFFF",fill:"#434343"},[ur.starry]:{strokeColor:"#42ABE5",fill:"#163F5A"}},bg=42,Ate={width:580,height:524},Pte={width:524,height:580},Rte={width:580,height:524},Bte={width:524,height:580},zN={[ps.swimlaneHorizontal]:Bte,[ps.swimlaneVertical]:Rte,[ps.swimlaneHorizontalWithHeader]:Pte,[ps.swimlaneVerticalWithHeader]:Ate},M1=5,$N={strokeWidth:2},kte=4,Mte=6,Nte=1,Ote=1,Fte=12,jf=3,Lte="文本",fp=new WeakMap,xk=(e,n,r,i)=>{const o=fp.get(e);return fp.set(e,{...o,[m6(n,r)]:i})},Vg=(e,n,r)=>fp.get(e)[m6(n,r)],bk=(e,n)=>{const r=fp.get(e);delete r[n],fp.set(e,r)};class PS{get shape(){return this.element.shape||this.element.type}constructor(n,r,i,o){this.board=n,this.texts=i,this.element=r,this.options=o}initialize(){const n=(this.board.getPluginOptions(WD)||{}).textPlugins;this.textManages=this.texts.map(i=>{const o=this.createTextManage(i,n);return xk(this.board,this.element,i,o),o}),sn.getElementRef(this.element).initializeTextManage(this.textManages)}draw(n){const r=N.getCenterPoint(this.board.getRectangle(this.element));this.texts.forEach(i=>{const o=Vg(this.board,this.element,i);i.text&&o&&(o.draw(i.text),n.append(o.g),(this.element.angle||this.element.angle===0)&&o.updateAngle(r,this.element.angle))})}update(n,r,i,o){this.element=n;const u=N.getCenterPoint(this.board.getRectangle(this.element)),l=(this.board.getPluginOptions(WD)||{}).textPlugins,c=r.filter(d=>!i.find(h=>h.id===d.id));c.length&&c.forEach(d=>{const h=Vg(this.board,n,d),p=this.textManages.findIndex(m=>m===h);p>-1&&d.text&&d.textHeight&&this.textManages.splice(p,1),h==null||h.destroy(),bk(this.board,d.id)}),i.forEach(d=>{if(d.text){let h=Vg(this.board,this.element,d);h?(h.updateText(d.text),h.updateRectangle()):(h=this.createTextManage(d,l),xk(this.board,n,d,h),h.draw(d.text),o.append(h.g),this.textManages.push(h)),(this.element.angle||this.element.angle===0)&&h.updateAngle(u,this.element.angle)}})}createTextManage(n,r){return new Gp(this.board,{getRectangle:()=>this.getRectangle(n),onChange:o=>this.options.onChange(this.element,o,n),getMaxWidth:()=>this.getMaxWidth(n),getRenderRectangle:()=>this.options.getRenderRectangle?this.options.getRenderRectangle(this.element,n):this.getRectangle(n),textPlugins:r})}getRectangle(n){const r=oi(this.shape).getTextRectangle;return r?r(this.element,n):pr(this.element)}getMaxWidth(n){return this.options.getMaxWidth?this.options.getMaxWidth():this.getRectangle(n).width}destroy(){sn.getElementRef(this.element).destroyTextManage(),this.textManages=[],this.texts.forEach(r=>{bk(this.board,r.id)})}}const JD=e=>{const n=Xe(e);return n&&n.length===1&&ve.isElementByTable(n[0])},Ite=(e,n)=>(n!=null&&n.length?n:Xe(e)).filter(i=>ve.isElementByTable(i)),RS=new WeakMap;function zf(e){return RS.get(e)}function UN(e,n){return RS.set(e,n)}function Ck(e){return RS.delete(e)}function _p(e,n){const r=e==null?void 0:e.buildTable(n);if(!r||!r.points||!r.columns||!r.rows)throw new Error("can not get table cells points");const i=N.getRectangleByPoints(r.points),o=r.columns.length,u=r.rows.length,l=Ek(r.columns,i.width,o,!0),c=Ek(r.rows,i.height,u,!1);return r.cells.map(h=>{const p=r.rows.findIndex(C=>C.id===h.rowId),m=r.columns.findIndex(C=>C.id===h.columnId);let v=i.x;for(let C=0;C<m;C++)v+=l[C];let w=i.y;for(let C=0;C<p;C++)w+=c[C];const b=Dk(h,l,m,!0),E=v+b,S=Dk(h,c,p,!1),T=w+S;return{...h,points:[[v,w],[E,T]]}})}function bc(e,n,r){try{const i=_p(e,n),o=i&&n.cells.findIndex(u=>u.id===r);return i[o]}catch{throw new Error("can not get table cell points")}}function Ek(e,n,r,i){const o=[],u=i?"width":"height";let l=n;e.forEach((h,p)=>{h[u]&&(o[p]=h[u],l-=h[u])});const c=r-o.filter(h=>!!h).length,d=c>0?l/c:0;for(let h=0;h<r;h++)o[h]||(o[h]=d);return o}function Dk(e,n,r,i){const o=i?e.colspan||1:e.rowspan||1;let u=0;for(let l=0;l<o;l++){const c=r+l;u+=n[c]}return u}function Sk(e,n,r){const i=e.buildTable(n),o=_p(e,i),u=N.getRectangleByPoints([r,r]),l=o.find(c=>{const d=N.getRectangleByPoints(c.points);return N.isHit(u,d)});return l?i.cells.find(c=>c.id===l.id):null}function Tk(e,n){const r=WN(e,n);r&&r.edit()}function WN(e,n){return Vg(e,void 0,n)}const XN=(e,n,r,i)=>{const o=e.columns.map(l=>l.id===n?{...l,width:r}:l),u=[e.points[0],[e.points[1][0]+i,e.points[1][1]]];return{columns:o,points:u}},YN=(e,n,r,i)=>{const o=e.rows.map(l=>l.id===n?{...l,height:r}:l),u=[e.points[0],[e.points[1][0],e.points[1][1]+i]];return{rows:o,points:u}};function Hte(e,n,r,i){const o=`${i}Id`;e.forEach(u=>{u[o]===n&&(u[o]=r)})}function Ak(e,n){e[`${n}s`].forEach(r=>{const i=yn();Hte(e.cells,r.id,i,n),r.id=i})}function Gte(e){e.forEach(n=>{const r=yn();n.id=r})}function KN(e){return e.text&&e.textHeight}function _te(e,n,r){const i=_p(e,n),o=r.map(u=>i.find(c=>c.id===u.id).points);return N.getRectangleByPoints(o)}const LE=(e,n,r=null)=>{const i={id:yn(),rowId:e,columnId:n};return r!==null&&(i.textHeight=Iee,i.text={children:[{text:r}],align:ri.center}),i},Vte=6,IE=new WeakMap,jte=e=>{let n="";switch(!0){case ve.isText(e):{n=fo.text;break}case ve.isBasicShape(e):{n=fo.basicShape;break}case ve.isFlowchart(e):{n=fo.flowchart;break}case ve.isArrowLine(e):{n=fo.arrowLine;break}case ve.isUML(e):n=fo.UML}return n},qN=()=>({...my(fo.arrowLine)}),Uu=e=>{let n="";ve.isBasicShape({shape:e})?n=e===lt.text?fo.text:fo.basicShape:ve.isUML({shape:e})?n=fo.UML:n=fo.flowchart;const r={...my(n)},i={...r.text};return delete r.text,{textProperties:i,geometryProperties:r}},BS=(e,n)=>{var u;const r=jte(e);let i=((u=my(r))==null?void 0:u.text)||{};const o=n.find(l=>l.type==="set_node");if(o){const{properties:l,newProperties:c}=o;for(const d in c){const h=c[d];h==null?delete i[d]:i[d]=h}for(const d in l)c.hasOwnProperty(d)||delete i[d];TS(r,"text",i)}},zte=(e,n)=>{const r=IE.has(e)?IE.get(e):[],i=r.indexOf(n);n===lt.text||i===0||(i!==-1?r.splice(i,1):r.length===Vte&&r.pop(),r.unshift(n),IE.set(e,r))},$te="debug:plait:line-mirror",Pv=gd($te),kS=(e,n)=>{const r=[...n];return ct.isVertical(r,e,jf)&&(r[0]=e[0]),ct.isHorizontal(r,e,jf)&&(r[1]=e[1]),r};function Ute(e,n,r,i){const o={previous:null,next:null},u=e[i],l=e[i+1],c=ct.isHorizontal(u,l),d=ct.isVertical(u,l),h=e[i-1]??e[0],p=e[i-2]??n;(c&&ct.isHorizontal(p,h)||d&&ct.isVertical(p,h))&&(o.previous=h);const m=e[i+2]??e[e.length-1],v=e[i+3]??r;return(c&&ct.isHorizontal(m,v)||d&&ct.isVertical(m,v))&&(o.next=m),o}function Wte(e,n,r,i){let o=e,u=n;if(ct.isHorizontal(e,n)){const l=ct.getOffsetY(r.startPoint,r.endPoint);let c=e[1]+l;i.previous&&Math.abs(i.previous[1]-c)<jf?c=i.previous[1]:i.next&&Math.abs(i.next[1]-c)<jf&&(c=i.next[1]),o=[e[0],c],u=[n[0],c]}if(ct.isVertical(e,n)){const l=ct.getOffsetX(r.startPoint,r.endPoint);let c=e[0]+l;i.previous&&Math.abs(i.previous[0]-c)<jf?c=i.previous[0]:i.next&&Math.abs(i.next[0]-c)<jf&&(c=i.next[0]),o=[c,e[1]],u=[c,n[1]]}return[o,u]}function ZN(e,n,r,i,o){let u=null,l=null;const c=i[o],d=i[o+1];if(!c||!d)return{index:u,deleteCount:l};const h=r.slice(1,-1),p=h.findIndex(v=>ct.isEquals(v,c)),m=h.findIndex(v=>ct.isEquals(v,d));if(Math.max(p,m)>-1){if(p>-1&&m>-1)return{index:p,deleteCount:2};if(p>-1&&m===-1)return p<h.length-1&&ct.isAlign([h[p],h[p+1],c,d])?{index:p,deleteCount:2}:{index:p,deleteCount:1};if(p===-1&&m>-1)return m>0&&ct.isAlign([h[m],h[m-1],c,d])?{index:m-1,deleteCount:2}:{index:m,deleteCount:1}}else for(let v=0;v<h.length-1;v++){const w=h[v],b=h[v+1];if(ct.isAlign([w,b,c,d])){u=v,l=2;break}if(ct.isAlign([w,b,c])){u=Math.min(v+1,h.length-1),l=1;break}if(ct.isAlign([w,b,d])){u=Math.max(v-1,0),l=1;break}}if(u===null)if(l=0,h.length>0){const v=zp(e,n),w=$p(e,n,v),b=rd(TN(w,e)),E=Sa(b.slice(1,b.length-1)),S=[i[0],...h,i[i.length-1]],T=QN(e,S,E,w);for(let C=o-1;C>=0;C--){const B=T.slice(1,-1).findIndex(P=>ct.isEquals(P,i[C]));if(B>-1){u=B+1;break}}u===null&&(u=0,ct.isAlign(i)&&(l=h.length))}else u=0;return{index:u,deleteCount:l}}function QN(e,n,r,i){for(let o=1;o<n.length-2;o++)Xte(e,o,n,r,i);return n}const Xte=(e,n,r,i,o)=>{const u=r[n-1],l=r[n],c=r[n+1],d=r[n+2],h=[u,l],p=[c,d],m=ct.isAlign(h),v=ct.isAlign(p);let w=!1,b=!1;if(!m||!v){const E=e3(i,h[0],h[1]),S=e3(i,p[0],p[1]),T=E.length>0&&S.length>0;w=!m&&!T,b=!v&&!T}if(w||b){const E=[l,c],S=Kte(E,i),T=qte(e,E,S,o.sourceRectangle,o.targetRectangle);if(T.length===1){const C=T[0];w&&r.splice(n,1,C[0]),b&&r.splice(n+1,1,C[1])}else{const B=ct.isHorizontal(l,c)?0:1;if(w){const P=[l[0],l[1]];P[B]=u[B],r.splice(n,1,P)}if(b){const P=[c[0],c[1]];P[B]=d[B],r.splice(n+1,1,P)}}}};function Yte(e,n,r,i,o){const{deleteCount:u}=ZN(e,n,r,i,o);return u!==null&&u>1}function e3(e,n,r){let i=[],o=-1,u=-1;for(let l=0;l<e.length;l++)if(ct.isAlign([e[l],n])&&(o=l),o>-1&&ct.isAlign([e[l],r])){u=l;break}return o>-1&&u>-1&&(i=e.slice(o,u+1)),i}function Kte(e,n){const r=ct.isHorizontal(e[0],e[1]),i=[];for(let o=0;o<n.length-1;o++){const u=n[o],l=n[o+1],c=ct.isHorizontal(u,l,.1);r&&c&&i.push([u,l]),!r&&!c&&i.push([u,l])}return i}function qte(e,n,r,i,o){Pv.isDebug()&&Pv.clear();const u=[];for(let l=0;l<r.length;l++){const c=r[l],d=[n[0][0],n[0][1]],h=[n[1][0],n[1][1]],m=ct.isHorizontal(d,h)?0:1;d[m]=c[0][m],h[m]=c[1][m];const v=N.getRectangleByPoints([d,h,...c]);!N.isHit(v,i)&&!N.isHit(v,o)&&(u.push([d,h]),Pv.isDebug()&&Pv.drawPolygon(e,N.getCornerPoints(v)))}return u}const JN=e=>e.length===1?!0:e.some((n,r)=>{const i=e[r-1],o=e[r+1],u=i&&[i,n],l=o&&[n,o],c=u&&ct.isAlign(u),d=l&&ct.isAlign(l);return r===0?!d:r===e.length-1?!c:!c&&!d}),Pk=20,Zte=(e,n,r)=>{const i=Lt();if(Vr.isSourceMark(e,Lr.none)&&Vr.isTargetMark(e,Lr.none))return null;const o=$t(e),u=o*o/3;if(n.length===1&&(n=[n[0],[n[0][0]+.1,n[0][1]]]),!Vr.isSourceMark(e,Lr.none)){const l=sp(n[0],n[1],Pk+u),c=Rk(e,{marker:e.source.marker,source:l,target:n[0],isSource:!0},r);c&&i.appendChild(c)}if(!Vr.isTargetMark(e,Lr.none)){const l=sp(n[n.length-1],n[n.length-2],Pk+u),c=Rk(e,{marker:e.target.marker,source:l,target:n[n.length-1],isSource:!1},r);c&&i.appendChild(c)}return i},Rk=(e,n,r)=>{const{marker:i,target:o,source:u,isSource:l}=n;let c;switch(i){case Lr.openTriangle:{c=tne(e,u,o,r);break}case Lr.solidTriangle:{c=ene(u,o,r);break}case Lr.arrow:{c=Jte(e,u,o,r);break}case Lr.sharpArrow:{c=Qte(u,o,r);break}case Lr.oneSideUp:{c=Bk(u,o,l?"down":"up",r);break}case Lr.oneSideDown:{c=Bk(u,o,l?"up":"down",r);break}case Lr.hollowTriangle:{c=rne(u,o,r);break}case Lr.singleSlash:{c=nne(u,o,l,r);break}}return c},Qte=(e,n,r)=>{const i=n,{pointLeft:o,pointRight:u}=vd(e,n,20),l=Lt(),c=j3();let d=`M${u[0]},${u[1]}A25,25,20,0,1,${o[0]},${o[1]}L${i[0]},${i[1]}Z`;return c.setAttribute("d",d),c.setAttribute("stroke",`${r==null?void 0:r.stroke}`),c.setAttribute("stroke-width",`${r==null?void 0:r.strokeWidth}`),c.setAttribute("fill",`${r==null?void 0:r.stroke}`),l.appendChild(c),l},Jte=(e,n,r,i)=>{const o=$n(n,r),u=$t(e),l=[r[0]+u*o[0]/2,r[1]+u*o[1]/2],c=bt(...n,...l),d=[l[0]-(c*3/5+u)/2*o[0],l[1]-(c*3/5+u)/2*o[1]],{pointLeft:h,pointRight:p}=vd(n,l,30),m=Ho([h,l,p,d],{...i,fill:i.stroke},!0);return m.querySelector("path").setAttribute("stroke-linejoin","round"),m},ene=(e,n,r)=>{const i=n,{pointLeft:o,pointRight:u}=vd(e,i,30);return Ho([o,i,u],{...r,fill:r.stroke},!0)},tne=(e,n,r,i)=>{const o=$n(n,r),u=$t(e),l=[r[0]+u*o[0]/2,r[1]+u*o[1]/2],{pointLeft:c,pointRight:d}=vd(n,l,40);return Ho([c,l,d],i)},Bk=(e,n,r,i)=>{const{pointLeft:o,pointRight:u}=vd(e,n,40);return Ho([r==="up"?u:o,n],i)},nne=(e,n,r,i)=>{const o=bt(...e,...n),u=sp(n,e,o/2),l=r?120:60,c=Jf(...e,...u,l*Math.PI/180),d=Jf(...n,...u,l*Math.PI/180);return Ho([c,d],i)},rne=(e,n,r)=>{const{pointLeft:i,pointRight:o}=vd(e,n,30);return Ho([i,o,n],{...r,fill:"white"},!0)};class e6 extends bo{canDraw(n){return!0}draw(n){let r;return r=one(this.board,n),r}}const ine=(e,n,r,i,o,u)=>({id:yn(),type:"arrow-line",shape:e,source:r,texts:o||[],target:i,opacity:1,points:n,...u}),Bi=(e,n)=>{switch(n.shape){case Rn.elbow:return Cy(e,n);case Rn.curve:return t6(e,n);default:{const r=Vr.getPoints(e,n),i=zp(e,n);return r[0]=i.source.point,r[r.length-1]=i.target.point,r}}},t6=(e,n)=>{if(n.points.length===2){const r=zp(e,n),{source:i,target:o}=r,u=r.source.boundElement,l=r.target.boundElement;let c=[i.point];const h=12+bt(...i.point,...o.point)/3;if(u&&c.push(Vf(i.point,i.vector,h)),l&&c.push(Vf(o.point,o.vector,h)),u&&!l||!u&&l){c.push(o.point);const m=lne(c);return Zi(m)}return!u&&!l&&(c.push(Vf(i.point,i.vector,h)),c.push(Vf(o.point,o.vector,h))),c.push(o.point),Zi(c)}else{let r=Vr.getPoints(e,n);r=rd(r);const i=kp(r);return Zi(i)}},one=(e,n)=>{const r=$t(n),i=wy(e,n),o=xy(e,n),u=zu(o,r),l={stroke:i,strokeWidth:r,strokeLineDash:u},c=Lt();let d=Bi(e,n),h;n.shape===Rn.curve?h=L.getRoughSVG(e).curve(d,l):h=Ho(d,l);const p=yn();h.setAttribute("mask",`url(#${p})`),n.strokeStyle===Ha.dotted&&Vt(h,"round"),c.appendChild(h);const{mask:m,maskTargetFillRect:v}=cne(e,n,p);c.appendChild(m),h.appendChild(v);const w=Zte(n,d,{stroke:i,strokeWidth:r});return w&&c.appendChild(w),c},ad=(e,n,r)=>{const i=HS(e,r,n),o=i.connectorPoint||i.edgePoint;return sne(o,r)},sne=(e,n)=>{let r=N.getRectangleByPoints(n.points);return[(e[0]-r.x)/r.width,(e[1]-r.y)/r.height]},ane=(e,n)=>{const r=N.getRectangleByPoints(n.points),i=Wu(n);return oi(i).getConnectorPoints(r).find(u=>bt(...u,...e)<=wte)},MS=(e,n,r)=>{const i=n.texts[r],o=Bi(e,n),u=pN(o,i.position);return{x:u[0]-i.width/2,y:u[1]-i.height/2,width:i.width,height:i.height}},une=e=>xd(e,{match:n=>ve.isArrowLine(n),recursion:n=>ve.isDrawElement(n)}),lne=e=>{const n=[],r=e.length/3;for(let i=0;i<r;i++){const o=e[i],u=e[i+1],l=e[i+2],c=bt(...o,...u),d=bt(...l,...u),h=sp(o,u,c*2/3),p=sp(l,u,d*2/3);n.push(o,h,p,l)}return n},NS=(e,n,r,i,o,u,l)=>{const c=IS(e,i),d=c?ad(e,i,c):void 0,h=o?ad(e,r,o):void 0,p=c?c.id:void 0,m=new e6(e),v=qN();let w,b;w=v.source,b=v.target,w&&delete v.source,b&&delete v.target;const E=ine(n,[r,i],{marker:w||Lr.none,connection:h,boundId:o==null?void 0:o.id},{marker:b||Lr.arrow,connection:d,boundId:p},[],{strokeWidth:$N.strokeWidth,...v,...l}),T=Bi(e,E)[0];return E.points[1]=kS(T,i),m.processDrawing(E,u),L.getElementTopHost(e).append(u),E};function cne(e,n,r){const i=GU();i.setAttribute("id",r);const o=Bi(e,n);let u=N.getRectangleByPoints(o);u=N.getOutlineRectangle(u,-30);const l=oE(u,{fill:"white"});i.appendChild(l),n.texts.forEach((h,p)=>{let m=MS(e,n,p);m=N.inflate(m,kte*2);const v=oE(m,{fill:"black"});i.appendChild(v)});const d=oE(u);return d.setAttribute("opacity","0"),d.setAttribute("fill","none"),{mask:i,maskTargetFillRect:d}}const OS=(e,n,r)=>{const i=n.texts;if(!i.length)return-1;const o=Bi(e,n);return i.findIndex(u=>{const l=pN(o,u.position),c={x:l[0]-u.width/2,y:l[1]-u.height/2,width:u.width,height:u.height};return N.isHit(c,N.getRectangleByPoints([r,r]))})},FS=e=>xte.includes(e),Na=e=>ve.isGeometry(e)&&FS(e.shape),fne=e=>vte[e],dne=(e,n,r={})=>{const i=yn(),o=hne(e);return{id:i,type:"geometry",shape:e,angle:0,opacity:1,texts:o,points:n,...r}},hne=e=>{var c;const r={...Uu(e).textProperties},i=r==null?void 0:r.align,o=(r==null?void 0:r.textHeight)||yy.height;r==null||delete r.align,r==null||delete r.textHeight;const u=((c=zS(e))==null?void 0:c.texts)||[];return(fne(e)||[]).map(d=>{const h=u==null?void 0:u.find(p=>(p==null?void 0:p.key)===d);return{id:d,text:wc((h==null?void 0:h.text)||"",i||(h==null?void 0:h.align)||ri.center,r),textHeight:o}})},gne=(e,n)=>{const r=oi(e.shape),i=N.getRectangleByPoints([n,n]);let o;return r.getTextRectangle&&(o=e.texts.find(u=>{const l=r.getTextRectangle(e,{id:u.id});return N.isHit(i,l)})),o};class n6 extends bo{canDraw(n){return!0}draw(n){let r;return r=vne(this.board,n),r}}const ku=(e,n)=>{switch(n.shape){case pp.straight:return n.points;case pp.curve:{if(n.points.length===2)return Zi(n.points);{let r=n.points;const i=kp(r);return Zi(i)}}default:return null}},pne=(e,n,r)=>({id:yn(),type:"vector-line",shape:e,opacity:1,points:n,...r}),mne=(e,n,r,i,o)=>{const u=new n6(e),l=qN(),c=pne(n,[...r,i],{strokeWidth:$N.strokeWidth,...l}),d=r[r.length-1];return c.points[c.points.length-1]=kS(d,i),u.processDrawing(c,o),L.getElementTopHost(e).append(o),c},vne=(e,n)=>{const r=$t(n),i=wy(e,n),o=xy(e,n),u=zu(o,r),l=GS(e,n),c={stroke:i,strokeWidth:r,strokeLineDash:u,fill:l},d=Lt();let h=ku(e,n);const p=Ho(h,c),m=yn();return p.setAttribute("mask",`url(#${m})`),n.strokeStyle===Ha.dotted&&Vt(p,"round"),d.appendChild(p),d},Dd=e=>{const n=[];for(let r=0;r<e.length;r++){let i=r==e.length-1?0:r+1;n.push([(e[r][0]+e[i][0])/2,(e[r][1]+e[i][1])/2])}return n},r6=(e,n)=>{const r=[];for(let i=1;i<=e.length;i++){let o=e[i-1],u=i===e.length?e[0]:e[i];const l=YJ(n,o,u);r.push(...l)}return r},jr=(e,n)=>{for(let r=1;r<=e.length;r++){let i=e[r-1],o=r===e.length?e[0]:e[r];if(gN(n,i,o))return[i,o]}return null};function t3(e){const n=e.width/7,r=e.height/3.2,i=n/8.5,o=r/20,u=[e.x+n,e.y+r],l=[{rx:i,ry:o*1.2,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:e.x+n*2,endY:e.y+r/2},{rx:i,ry:o,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:e.x+n*4.2,endY:e.y+r/2.2},{rx:i,ry:o,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:e.x+n*5.8,endY:e.y+r},{rx:i,ry:o*1.3,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:e.x+n*6,endY:e.y+r*2.2},{rx:i,ry:o*1.2,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:e.x+n*5,endY:e.y+r*2.8},{rx:i,ry:o/1.2,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:e.x+n*2.8,endY:e.y+r*2.8},{rx:i,ry:o,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:e.x+n,endY:e.y+r*2.2},{rx:i,ry:o*1.42,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:e.x+n,endY:e.y+r}];return{startPoint:u,arcCommands:l}}const i6={draw(e,n,r){const i=L.getRoughSVG(e),{startPoint:o,arcCommands:u}=t3(n),l=`M ${o[0]} ${o[1]} `+u.map(d=>`A ${d.rx} ${d.ry} ${d.xAxisRotation} ${d.largeArcFlag} ${d.sweepFlag} ${d.endX} ${d.endY}`).join(`
`)+" Z",c=i.path(l,{...r,fillStyle:"solid"});return HU(c,"round"),c},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const{startPoint:r,arcCommands:i}=t3(e);let o=1/0,u=n,l=r;for(const c of i){const d=oy(n,l,c),h=bt(n[0],n[1],d[0],d[1]);h<o&&(o=h,u=d),l=[c.endX,c.endY]}return u},getEdgeByConnectionPoint(e,n){const r=i6.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2,u=o/1.5;return{height:i,width:u>0?u:0,x:n.x+tt.rectangleAndText+r+o/6,y:n.y+n.height/6+(n.height*4/6-i)/2}}},o6=(e,n,r)=>OS(e,n,r)!==-1,dp=(e,n)=>T8(n,e)<=O3,s6=(e,n,r)=>{const i=Bi(e,n);return o6(e,n,r)||dp(i,r)},a6=(e,n,r)=>{const i=ku(e,n);return Vp(n.points)&&Fu(r,i)||dp(i,r)},yne=(e,n)=>{const r=oi(e.shape);if(Na(e))return e.texts.some(o=>{const u=r.getTextRectangle(e,{id:o.id});return N1(n,N.getCornerPoints(u),e.angle)});{const i=r.getTextRectangle?r.getTextRectangle(e):pr(e);return N1(n,N.getCornerPoints(i),e.angle)}},u6=(e,n)=>{const r=oi(e.shape);if(Na(e))return e.texts.some(o=>{const u=r.getTextRectangle(e,{id:o.id});return N.isPointInRectangle(u,n)});{const i=r.getTextRectangle?r.getTextRectangle(e):pr(e);return N.isPointInRectangle(i,n)}},l6=e=>{if(!h6(e))return!0;const n=bN(e);return F.isEmpty(n,n.children[0])},wne=(e,n,r)=>{const i=N.getRectangleByPoints([r.anchor,r.focus]);if(ve.isGeometry(n)){const o=kk(e,i,n);return o||!l6(n)&&yne(n,i)}if(ve.isImage(n))return kk(e,i,n);if(ve.isArrowLine(n)){const o=Bi(e,n);return g1(o,i)}if(ve.isVectorLine(n)){const o=ku(e,n);return g1(o,i)}return null},kk=(e,n,r)=>{const i=N.getRectangleByPoints(r.points);return N1(n,N.getCornerPoints(i),r.angle)},N1=(e,n,r)=>{let i=HX(n,r)||n;return g1(i,e)},c6=(e,n)=>{let r=f6(e,n),i=n.length;r&&(i=n.indexOf(r)+1);const o=n.slice(0,i),u=bne(o);return u?u[0]:vee(e,o,"asc")[0]},f6=(e,n)=>{let r=null;for(let i=0;i<n.length;i++){const o=n[i];if(g6(e,o)||LS(o)){const u=GS(e,o);if(yee(u)){r=o;break}}}return r},xne=(e,n)=>f6(e,[n])!==null,bne=e=>{const n=e.filter(r=>ve.isText(r)||ve.isLine(r)||ve.isImage(r));return n.length?n:null},Cne="debug:plait:hit:shape:edge:sample-points",Mf=gd(Cne),Ene=[lt.cloud],Dne=(e,n,r,i=!0)=>{const o=e.getRectangle(n);if(r=Lu(e,r,n)||r,ve.isGeometry(n)&&o){if(Mf.isDebug()&&Ene.includes(n.shape)){Mf.clear();const{startPoint:c,arcCommands:d}=t3(o),h=[c,...d.map(w=>[w.endX,w.endY])];Mf.drawCircles(e,h,5,!1);let p=1/0,m=r,v=c;for(const w of d){const b=oy(r,v,w),E=bt(r[0],r[1],b[0],b[1]),{center:S}=A8(v,w);Mf.drawCircles(e,[S],8,!1,{fill:"yellow"}),E<p&&(p=E,m=b),v=[w.endX,w.endY]}Mf.drawCircles(e,[r],12,!1,{fill:"black",stroke:"black"}),Mf.drawCircles(e,[m],12,!1,{fill:"green",stroke:"green"})}if(d6(e,n,r,O3))return!0;const u=oi(Wu(n));if(ve.isText(n)){const c=pr(n);return N.isPointInRectangle(c,r)}return i&&l6(n)&&!xne(e,n)?!1:u6(n,r)||u.isInsidePoint(o,r)}if(ve.isImage(n)){const u=N.getRectangleByPoints(n.points);return N.isPointInRectangle(u,r)}return ve.isArrowLine(n)?s6(e,n,r):ve.isVectorLine(n)?a6(e,n,r):null},d6=(e,n,r,i)=>{const o=b6(n,r);return bt(o[0],o[1],r[0],r[1])<=i},Sne=(e,n,r,i)=>{const o=N.inflate(N.getRectangleByPoints(n.points),i);return oi(Wu(n)).isInsidePoint(o,r)},Tne=(e,n,r)=>{const i=e.getRectangle(n);if(r=Lu(e,r,n)||r,ve.isGeometry(n)&&!ve.isGeometryByTable(n)){const o=oi(Wu(n)),u=o.isInsidePoint(i,r);if(u)return u;if(o.getTextRectangle){const l=u6(n,r);if(l)return l}}if(ve.isImage(n)){const o=N.getRectangleByPoints(n.points);return N.isPointInRectangle(o,r)}return ve.isArrowLine(n)?s6(e,n,r):ve.isVectorLine(n)?a6(e,n,r):null},pr=e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}},$t=e=>ve.isText(e)?0:e.strokeWidth||vy.strokeWidth,_a=(e,n)=>{zte(e,n.shape),Ge.insertNode(e,n,[e.children.length]),pd(e),mc(e,n),gn.updatePointerType(e,qt.selection)},h6=e=>ve.isText(e)?!0:ve.isImage(e)?!1:ve.isGeometry(e)?US(e):ve.isArrowLine(e)?DS(e).length>0:ve.isElementByTable(e)?e.cells.some(n=>KN(n)):!0,LS=e=>ve.isDrawElement(e)?ve.isText(e)||ve.isArrowLine(e)||ve.isImage(e)?!1:ve.isVectorLine(e)?Vp(e.points):ve.isGeometry(e)?jne(e):!0:!1,g6=(e,n)=>ve.isCustomGeometryElement(e,n)&&Vp(n.points),IS=(e,n)=>{let r=p6(e,n);if(r){const i=HS(e,r,n);if(i.isHitConnector||i.isHitEdge)return r}return null},HS=(e,n,r)=>{const i=Lu(e,r,n)||r,o=ane(i,n),u=b6(n,i);return{isHitEdge:d6(e,n,i,yte),isHitConnector:!!o,connectorPoint:o,edgePoint:u}},p6=(e,n,r=k1)=>{let i=null;return Ane(e,o=>{i===null&&Sne(e,o,Lu(e,n,o)||n,r*2)&&(i=o)}),i},Ane=(e,n)=>{ii(e,r=>{!L.isBoard(r)&&ve.isShapeElement(r)&&n(r)},pc(e),!0)},Mk=(e,n,r,i,o)=>oi(r).draw(e,n,i,o),Pne=(e,n,r={hasMask:!0,hasConnector:!0})=>{const i=Lt(),o=N.getRectangleByPoints(n.points),u=N.inflate(o,wD),l=Wu(n);let c;ve.isElementByTable(n)&&(c={element:n});const d=Mk(e,u,l,{stroke:qi,strokeWidth:wD},c);if(i.appendChild(d),r.hasMask){const h=Mk(e,u,l,{stroke:qi,strokeWidth:0,fill:LS(n)?$3:vy.fill,fillStyle:"solid"},c);i.appendChild(h)}return r.hasConnector&&oi(l).getConnectorPoints(o).forEach(p=>{const m=vc(L.getRoughSVG(e),p,8,{stroke:qi,strokeWidth:lr,fill:"#FFF",fillStyle:"solid"});i.appendChild(m)}),i},m6=(e,n)=>e&&Na(e)?`${e.id}-${n.id}`:n.id,Vp=e=>{const n=e[0],r=e[e.length-1];return n[0]===r[0]&&n[1]===r[1]},hp=e=>fy(e,sd.geometryText,yy.text),wy=(e,n)=>{const r=Hne(e.theme.themeColorMode);return n.strokeColor||r},GS=(e,n)=>{const r=ve.isFlowchart(n)&&LS(n)?Gne(e.theme.themeColorMode):vy.fill;return n.fill||r},xy=(e,n)=>n.strokeStyle||Ha.solid;class v6 extends bo{canDraw(n,r){return!0}draw(n,r){const i=N.getRectangleByPoints(n.points),o=n.shape;if(o===lt.text)return;const u=GS(this.board,n),l=$t(n),c=wy(this.board,n),d=xy(this.board,n),h=zu(d,l);return One(this.board,N.inflate(i,-l),o,{stroke:c,strokeWidth:l,fill:u,strokeLineDash:h})}}function y6(e,n){const r=[],i=n.shape,o=10;if(i===Rn.straight){const u=ve.isArrowLine(n)?Vr.getPoints(e,n):n.points;for(let l=0;l<u.length-1;l++)bt(...u[l],...u[l+1])<o||r.push([(u[l][0]+u[l+1][0])/2,(u[l][1]+u[l+1][1])/2])}if(i===Rn.curve){const u=ve.isArrowLine(n)?Vr.getPoints(e,n):n.points,l=ve.isArrowLine(n)?t6(e,n):ku(e,n);if(u.length===2){const d=l.length-1,h=Math.round((0+d)/2);r.push(l[h])}else for(let c=0;c<u.length-1;c++){const d=l.findIndex(v=>v[0]===u[c][0]&&v[1]===u[c][1]),h=l.findIndex(v=>v[0]===u[c+1][0]&&v[1]===u[c+1][1]),p=Math.round((d+h)/2);bt(...u[c],...u[c+1])<o||r.push(l[p])}}if(i===Rn.elbow){const u=Cy(e,n),l=$p(e,n);if(!WS(n,l)){const[c,d]=D6(e,n);for(let h=0;h<u.length-1;h++){if(h==0&&ct.isEquals(u[h+1],c)||h===u.length-2&&ct.isEquals(u[u.length-2],d))continue;const[p,m]=u[h],[v,w]=u[h+1],b=[(p+v)/2,(m+w)/2];r.push(b)}}}return r}var Hr;(function(e){e.source="source",e.target="target",e.addHandle="addHandle"})(Hr||(Hr={}));const w6=(e,n,r)=>{let i=ve.isArrowLine(n)?Vr.getPoints(e,n):n.points;const o=n3(i,r);if(o!==-1){const c=o;if(o===0)return{handle:Hr.source,handleIndex:c};if(o===i.length-1)return{handle:Hr.target,handleIndex:c};if(n.shape!==Rn.elbow)return{handleIndex:c}}const u=y6(e,n),l=n3(u,r);if(l!==-1)return{handle:Hr.addHandle,handleIndex:l}};function n3(e,n){const r=e.map(o=>({x:o[0]-gs/2,y:o[1]-gs/2,width:gs,height:gs})),i=r.find(o=>N.isHit(N.getRectangleByPoints([n,n]),o));return i?r.indexOf(i):-1}class x6 extends bo{constructor(n,r={active:!0}){super(n,r),this.board=n,this.onlySelectedCurrentLine=!1}canDraw(n,r){return!!r.selected}draw(n,r){const i=Lt(),o=Xe(this.board);if(this.onlySelectedCurrentLine=o.length===1,this.onlySelectedCurrentLine){i.classList.add(Rp);const u=ve.isArrowLine(n)?Vr.getPoints(this.board,n):n.points;let l=[...u],c=[];n.shape===Rn.elbow&&(l=u.slice(0,1).concat(u.slice(-1)),c=S6(this.board,n,r.linePoints)),l.map(m=>Zg(this.board,m)).forEach(m=>{const v=JB(this.board,m);i.appendChild(v)});const p=y6(this.board,n).map(m=>Zg(this.board,m));if(!L.hasBeenTextEditing(this.board))for(let m=0;m<p.length;m++){const v=p[m];if(n.shape===Rn.elbow&&c.length){const b=n3(p,v);if(Yte(this.board,n,[...u],c,b)){const S=JB(this.board,v);i.appendChild(S);continue}}const w=_J(this.board,v);i.appendChild(w)}}else{const u=this.board.getRectangle(n);if(u){const l=gi(this.board,u);let c="0.5";(l.height===0||l.width===0)&&(c="0.8");const d=ws(this.board,l,{stroke:Cd,strokeWidth:qee.selectionStrokeWidth});d.style.opacity=c,i.appendChild(d)}}return i}needUpdate(){return Xe(this.board).length===1!==this.onlySelectedCurrentLine}}const wT=class wT extends bo{constructor(n){super(n,{active:!0}),this.board=n,this.hoverElement=null}canDraw(n,r){const i=Xe(this.board);return!!(r.selected&&i.length===1&&!mi(this.board))}draw(n,r){return this.autoCompleteG=Lt(),jS(this.board,n,!0).forEach((o,u)=>{const l=vc(L.getRoughSVG(this.board),o,Mte,{stroke:"none",fill:qg(Cd,Nte),fillStyle:"solid"});l.classList.add(`line-auto-complete-${u}`),this.autoCompleteG.appendChild(l)}),this.autoCompleteG}removeAutoCompleteG(n){this.hoverElement=this.autoCompleteG.querySelector(`.line-auto-complete-${n}`),this.hoverElement.style.visibility="hidden"}recoverAutoCompleteG(){this.hoverElement&&(this.hoverElement.style.visibility="visible",this.hoverElement=null)}};wT.key="line-auto-complete-generator";let Va=wT;class Rne extends PS{get textManage(){return this.textManages[0]}constructor(n,r,i,o){super(n,r,[{id:r.id,text:i,textHeight:r.textHeight}],o)}update(n,r,i,o){Na(n)||super.update(n,[{text:r,id:n.id,textHeight:n.textHeight}],[{text:i,id:n.id,textHeight:n.textHeight}],o)}}class by extends bo{canDraw(n,r){return!0}draw(n,r){const i=N.getRectangleByPoints(n.points),o=$t(n),u=wy(this.board,n),l=xy(this.board,n),c=zu(l,o);return oi(od.table).draw(this.board,i,{strokeWidth:o,stroke:u,strokeLineDash:c},{element:n})}}const Wu=e=>ve.isImage(e)?lt.rectangle:ve.isTable(e)?od.table:e.shape,_S=(e,n)=>ve.isUMLClassOrInterface({shape:n})?new by(e):new v6(e),Bne=(e,n,r)=>{const i=Uu(n),o={id:yn(),type:"geometry",angle:0,opacity:1,points:r,strokeWidth:cp.strokeWidth,...i.geometryProperties};let u,l;return n===it.class?(u=[{id:yn(),height:30},{id:yn()},{id:yn()}],l=[{id:yn()}]):(u=[{id:yn(),height:50},{id:yn()}],l=[{id:yn()}]),{...o,shape:n,rows:u,columns:l,cells:kne(e,u,l,n)}},kne=(e,n,r,i)=>{var d;const o=Uu(i),u=n.length*r.length,l=((d=zS(i))==null?void 0:d.texts)||[],c=l.map(h=>jp(e,h.text||hp(e),o.textProperties["font-size"]).height);return new Array(u).fill("").map((h,p)=>{const m=Math.floor(p/r.length),v=p%r.length;return{id:yn(),rowId:n[m].id,columnId:r[v].id,textHeight:c[p],text:{children:[{text:l[p].text}],align:l[p].align}}})},VS=(e,n,r,i={},o={})=>_N.includes(e)?Nne(e,n,i):Mne(e,n,r,i,o),Mne=(e,n,r,i={},o={})=>{let u={},l=ri.center,c=yy.height;return e===lt.text&&(u={autoSize:!0},l=void 0),o={...o},o!=null&&o.align&&(l=o==null?void 0:o.align),o!=null&&o.textHeight&&(c=o==null?void 0:o.textHeight),o==null||delete o.align,o==null||delete o.textHeight,{id:yn(),type:"geometry",shape:e,angle:0,opacity:1,textHeight:c,text:wc(r,l,o),points:n,...u,...i}},Nne=(e,n,r={})=>({id:yn(),type:"geometry",shape:e,angle:0,opacity:1,points:n,...r}),One=(e,n,r,i)=>oi(r).draw(e,n,i),b6=(e,n)=>{const r=N.getRectangleByPoints(e.points),i=Wu(e);return oi(i).getNearestPoint(r,n)},Fne=e=>HN[e],Lne=e=>IN[e]||cp,Ine=e=>GN[e],jS=(e,n,r=!1)=>{const i=(12+gs/2)*2,o=N.getRectangleByPoints(n.points),u=gi(e,o),l=r?u:o;return N.getEdgeCenterPoints(N.inflate(l,i))},C6=(e,n)=>n.findIndex(r=>{const i=N.getRectangleByPoints([e]);let o=N.getRectangleByPoints([r]);return o=N.inflate(o,gs),N.isHit(i,o)}),Hne=e=>jN[e].strokeColor,Gne=e=>jN[e].fill,jp=(e,n,r)=>{r=r?Number(r):up;const i=Hp(e,wc(n),{fontSize:r,fontFamily:Yf});return{width:i.width+tt.rectangleAndText*2,height:i.height}},E6=(e,n)=>{const r=zS(e);return N.getPoints(N.getRectangleByCenterPoint(n,r.width,r.height))},zS=e=>{const n=Cte().includes(e),r=Ete().includes(e);return n?Fne(e):r?Ine(e):Lne(e)},$S=(e,n,r,i)=>{const o=Uu(lt.text);return i=i||N.getRectangleByPoints(n).height,VS(lt.text,n,r,o.geometryProperties,{...o.textProperties,textHeight:i})},gp=(e,n,r)=>{const i=Uu(r),o=jp(e,yy.text,i.textProperties["font-size"]).height;return ve.isUMLClassOrInterface({shape:r})?Bne(e,r,n):FS(r)?dne(r,n,{strokeWidth:cp.strokeWidth,...i.geometryProperties}):VS(r,n,"",{strokeWidth:cp.strokeWidth,...i.geometryProperties},{...i.textProperties,textHeight:o})},HE=(e,n,r)=>{const i=r?Vg(e,n,r):Ed(n);i&&i.edit(()=>{})},US=e=>Vne(e)||Na(e),_ne=e=>!_N.includes(e)&&!FS(e),Vne=e=>ve.isGeometry(e)&&_ne(e.shape),jne=e=>!bte.includes(e.shape),zne=e=>e.source.boundId&&e.source.boundId===e.target.boundId,WS=(e,n)=>gee(n)&&!zne(e),Cy=(e,n)=>{const r=zp(e,n),i=$p(e,n,r);if(WS(n,i))return Sa(ZJ(r.source.point,r.source.direction,r.target.point,r.target.direction,lN));const o=rd(TN(i,e)),u=o.slice(1,o.length-1);if(n.points.length===2)return Sa(o);{const l=Sa(u),d=rd(Vr.getPoints(e,n)).slice(1,-1);if(JN(d))return Sa(o);const h=[l[0],...d,l[l.length-1]],p=QN(e,h,l,i),m=[o[0]];for(let w=0;w<p.length-1;w++){let b=p[w],E=p[w+1];if(ct.isAlign([b,E]))m.push(b);else{const T=e3(l,b,E);T.length?(m.push(b),m.push(...T)):(m.push(b),console.log("unknown data points"))}}return m.push(o[o.length-2],o[o.length-1]),Sa(m)}},D6=(e,n)=>{const r=$p(e,n);return[r.nextSourcePoint,r.nextTargetPoint]},$ne=(e,n,r)=>{let i=n.source.boundId?Fo(e,n.source.boundId):void 0,o=n.target.boundId?Fo(e,n.target.boundId):void 0;if(!i){const h=r.source;i=Nk(h.point,h.vector)}if(!o){const h=r.target;o=Nk(h.point,h.vector)}let u=N.getRectangleByPoints(i.points);const l=Xs(N.getCornerPoints(u),i)||N.getCornerPoints(u);u=N.getRectangleByPoints(l),u=N.inflate(u,$t(i)*2);let c=N.getRectangleByPoints(o.points);const d=Xs(N.getCornerPoints(c),o)||N.getCornerPoints(c);return c=N.getRectangleByPoints(d),c=N.inflate(c,$t(o)*2),{sourceRectangle:u,targetRectangle:c}},Nk=(e,n)=>{const r=Vf(e,n,-25),i=N.getPoints(N.getRectangleByCenterPoint(r,50,50));return VS(lt.rectangle,i,"")};function S6(e,n,r){let i=r??Cy(e,n);const[o,u]=D6(e,n);return i.splice(0,1,o),i.splice(-1,1,u),rd(i)}const O1=(e,n)=>(n!=null&&n.length?n:Xe(e)).filter(i=>ve.isDrawElement(i)),XS=e=>Xe(e).filter(r=>ve.isArrowLine(r)),T6=e=>Xe(e).filter(r=>ve.isVectorLine(r)),Une=e=>{const n=Xe(e);return n&&n.length===1&&ve.isSwimlane(n[0])},Wne=e=>{const n=Xe(e);return n&&n.length===1&&ve.isLine(n[0])},A6=(e,n,r)=>{const i=gp(e,n,r);return _a(e,i),i},Xne=(e,n,r)=>{const i=Uu(lt.text),o=jp(e,r,i.textProperties["font-size"]),u=[n,[n[0]+o.width,n[1]+o.height]],l=$S(e,u,r);_a(e,l)},Yne=(e,n,r,i)=>{const o=ac(n),u=Ut.get(e,i),l={points:o,textHeight:r};ve.isText(u)&&u.autoSize&&(l.autoSize=!1),Ge.setNode(e,l,i)},Kne=(e,n)=>{const r=Xe(e),i=[];r.forEach(o=>{if(ve.isGeometry(o)&&!ve.isText(o)){const u=L.findPath(e,o);Ge.setNode(e,{shape:n},u),Lie(e,{...o,shape:n},i)}}),i.length&&i.forEach(o=>{ki.resizeArrowLine(e,o.property,o.path)})},P6=(e,n,r,i)=>{let o=n.points,u=n.autoSize;const l=tt.rectangleAndText;if(u){const c=r<M1?M1:r,d=bN(n);if(fk.isActive(d,ri.right))o=[[o[1][0]-(c+l*2),o[0][1]],[o[1][0],o[0][1]+i]];else if(fk.isActive(d,ri.center)){const h=Math.abs(o[0][0]-o[1][0]),p=(c-h)/2;o=[[o[0][0]-p-l,o[0][1]],[o[1][0]+p+l,o[0][1]+i]]}else o=[o[0],[o[0][0]+c+l*2,o[0][1]+i]];Ws(n)&&(o=xS(N.getRectangleByPoints(n.points),N.getRectangleByPoints(o),N.getCenterPoint(N.getRectangleByPoints(n.points)),N.getCenterPoint(N.getRectangleByPoints(o)),n.angle))}return{points:o}},qne=(e,n,r,i,o)=>{const u={text:r,textHeight:o,...P6(e,n,i,o)},l=e.children.findIndex(c=>c===n);Ge.setNode(e,u,[l])},Zne=(e,n,r,i)=>{if(n.autoSize){const o={textHeight:i,...P6(e,n,r,i)},u=ct.isEquals(n.points[0],o.points[0])&&ct.isEquals(n.points[1],o.points[1]),l=Math.round(i)===Math.round(n.textHeight);if(!u||!l){const c=e.children.findIndex(d=>d===n);Ge.setNode(e,o,[c])}}},Qne=(e,n,r)=>{const{width:i,height:o,url:u}=n,l=L.getBoardContainer(e).clientWidth,c=L.getBoardContainer(e).clientHeight,d=Et(e,At(e,l/2,c/2)),h=r?[r,[r[0]+i,r[1]+o]]:[[d[0]-i/2,d[1]-o/2],[d[0]+i/2,d[1]+o/2]],p={id:yn(),type:"image",points:h,url:u};Ge.insertNode(e,p,[e.children.length]),Ge.addSelectionWithTemporaryElements(e,[p])},R6=(e,n,r)=>{Ge.setNode(e,n,r)},Jne=(e,n,r)=>{const i=L.findPath(e,n);Ge.setNode(e,{texts:r},i)},ere=(e,n,r)=>{var l;const i=L.findPath(e,n),u=[...(l=n.texts)!=null&&l.length?[...n.texts]:[]];u.splice(r,1),Ge.setNode(e,{texts:u},i)},tre=(e,n,r)=>{TS(fo.arrowLine,n,r),XS(e).forEach(o=>{const u=L.findPath(e,o);let l=n===Lo.source?o.source:o.target;l={...l,marker:r},Ge.setNode(e,{[n]:l},u)})},nre=(e,n)=>{XS(e).map(i=>{const o={...n};if(i.shape===n.shape)return;const u=L.findPath(e,i);Ge.setNode(e,o,u)})},rre=(e,n,r,i)=>{const o=Vr.getPoints(e,n),u=r===Lo.source?o[0]:o[o.length-1],l=ad(e,u,i);if(l){let c=n.source,d=n.target;r===Lo.source?c={...c,boundId:i.id,connection:l}:d={...d,boundId:i.id,connection:l};const h=L.findPath(e,n);R6(e,{source:c,target:d},h)}};function ire(e){const n={...e};return ve.isHorizontalSwimlane(e)?(n.cells=e.cells.map((r,i)=>(i===0&&e.header&&(r={...e.cells[0],rowspan:e.rows.length}),r.text&&r.textHeight&&!r.text.direction&&(r={...r,text:{...r.text,direction:"vertical"}}),r)),n):(e.header&&(n.cells=[{...e.cells[0],colspan:e.columns.length},...e.cells.slice(1,e.cells.length)]),n)}const B6=(e,n)=>{const r=zN[e];return N.getPoints(N.getRectangleByCenterPoint(n,r.width,r.height))},F1=(e,n)=>{const r=are(e),i=ure(e),o=n[1][0]-n[0][0],u=n[1][1]-n[0][1],l=Ok(i,"row",r,u),c=Ok(i,"column",r,o);return{id:yn(),type:"swimlane",shape:i,points:n,rows:l,columns:c,header:r,cells:ore(i,l,c,r)}},Ok=(e,n,r,i)=>{const o=l=>new Array(l).fill("").map(()=>({id:yn()}));let u=o(3);if(n==="row"&&e===Yi.swimlaneVertical||n==="column"&&e===Yi.swimlaneHorizontal){u=r?u:o(2);const l=n==="row"?"height":"width";let c=bg;i<bg*u.length&&(c=Math.min(i/u.length/bg*bg,bg)),u=u.map((d,h)=>h===0||h===1&&r?{...d,[l]:c}:d)}return u},ore=(e,n,r,i)=>{let o=[],u=0;i&&(o=[LE(n[0].id,r[0].id,"New Swimlane")],u=1);const l=new Array(6).fill("").map((c,d)=>{if(d<3){const m=e===Yi.swimlaneVertical?n[u].id:n[d].id,v=e===Yi.swimlaneVertical?r[d].id:r[u].id;return LE(m,v,i?"Lane":"New Swimlane")}const h=e===Yi.swimlaneVertical?n[u+1].id:n[d-3].id,p=e===Yi.swimlaneVertical?r[d-3].id:r[u+1].id;return LE(h,p)});return[...o,...l]},sre=e=>ve.isHorizontalSwimlane(e)?e.rows.length:ve.isVerticalSwimlane(e)?e.columns.length:0,are=e=>[ps.swimlaneHorizontalWithHeader,ps.swimlaneVerticalWithHeader].includes(e),ure=e=>[ps.swimlaneHorizontalWithHeader,ps.swimlaneHorizontal].includes(e)?Yi.swimlaneHorizontal:Yi.swimlaneVertical,k6=(e,n=e.pointer)=>VN().includes(n),lre=(e,n,r)=>{if(r>0&&ve.isSwimlane(n)){const i=sre(n);if(ve.isHorizontalSwimlane(n))if(r>i)M6(e,n,n.rows.length,r-i);else{const o=n.rows.length-(i-r);O6(e,n,o,i-r)}if(ve.isVerticalSwimlane(n))if(r>i)N6(e,n,n.columns.length,r-i);else{const o=n.columns.length-(i-r);F6(e,n,o,i-r)}}},M6=(e,n,r,i=1)=>{if(ve.isHorizontalSwimlane(n)){const o=[...n.rows],u=[];for(let p=0;p<i;p++)u.push({id:yn()});o.splice(r,0,...u);const l=[...n.cells];u.forEach(p=>{l.push(...L6(n,p.id,"column"))});const c=bc(e,n,n.cells[n.cells.length-1].id).points,d=N.getRectangleByPoints(c).height,h=[n.points[0],[n.points[1][0],n.points[1][1]+d*i]];Ey(e,n,n.columns,o,l,h)}},N6=(e,n,r,i=1)=>{if(ve.isVerticalSwimlane(n)){const o=[...n.columns],u=[];for(let p=0;p<i;p++)u.push({id:yn()});o.splice(r,0,...u);const l=[...n.cells];u.forEach(p=>{l.push(...L6(n,p.id,"row"))});const c=bc(e,n,n.cells[n.cells.length-1].id).points,d=N.getRectangleByPoints(c).width,h=[n.points[0],[n.points[1][0]+d*i,n.points[1][1]]];Ey(e,n,o,n.rows,l,h)}},O6=(e,n,r,i=1)=>{if(ve.isHorizontalSwimlane(n)){if(i>n.rows.length)return;const o=[...n.rows];if(o.splice(r,i),o.length===0){const u=L.findPath(e,n);Ge.removeNode(e,u)}else{let u=[...n.cells];const l=[];for(let h=r;h<i+r;h++){const p=n.rows[h];l.push(p),u=u.filter(m=>m.rowId!==p.id)}let c=0;l.forEach(h=>{if(h.height)c+=h.height;else{const p=n.cells.find(v=>v.rowId===h.id),m=bc(e,n,p.id).points;c+=N.getRectangleByPoints(m).height}});const d=[n.points[0],[n.points[1][0],n.points[1][1]-c]];Ey(e,n,n.columns,o,u,d)}}},F6=(e,n,r,i=1)=>{if(ve.isVerticalSwimlane(n)){if(i>n.columns.length)return;const o=[...n.columns];if(o.splice(r,i),o.length===0){const u=L.findPath(e,n);Ge.removeNode(e,u)}else{let u=[...n.cells];const l=[];for(let h=r;h<i+r;h++){const p=n.columns[h];l.push(p),u=u.filter(m=>m.columnId!==p.id)}let c=0;l.forEach(h=>{if(h.width)c+=h.width;else{const p=n.cells.find(v=>v.columnId===h.id),m=bc(e,n,p.id).points;c+=N.getRectangleByPoints(m).width}});const d=[n.points[0],[n.points[1][0]-c,n.points[1][1]]];Ey(e,n,o,n.rows,u,d)}}},L6=(e,n,r)=>{const i=e[`${r}s`].map(o=>({id:yn(),rowId:r==="row"?o.id:n,columnId:r==="row"?n:o.id}));return e.header&&i.shift(),i[0]={...i[0],text:{children:[{text:e.header?"Lane":"New Swimlane"}],align:ri.center,direction:r==="row"?void 0:"vertical"},textHeight:20},i},Ey=(e,n,r,i,o,u)=>{const l=L.findPath(e,n);Ge.setNode(e,{columns:r,rows:i,cells:o,points:u},l)},cre=(e,n,r)=>{var l;const o={texts:(l=n.texts)==null?void 0:l.map(c=>c.id===r.id?{...c,...r}:c)},u=e.children.findIndex(c=>c===n);Ge.setNode(e,o,[u])},fre=(e,n,r,i,o)=>{const u=Ut.get(e,n),l=bc(e,u,r),c=u.cells.findIndex(E=>E.id===l.id);let d=[...u.rows],h=[...u.columns],p=[...u.cells],m=[...u.points];const{width:v,height:w}=N.getRectangleByPoints(l.points),b=tt.rectangleAndText;if(lp.isVerticalText(l)){const E=u.columns.findIndex(S=>S.id===l.columnId);if(o>v){const S=o+b*2,T=S-v,C=XN(u,u.columns[E].id,S,T);m=C.points,h=C.columns}}else{const E=u.rows.findIndex(C=>C.id===l.rowId),T=u.rows[E].height??Math.max(w,l.textHeight||0);if(o>T){const C=o+b*2,B=C-T,P=YN(u,u.rows[E].id,C,B);m=P.points,d=P.rows}}p[c]={...p[c],textHeight:o,text:i},Ge.setNode(e,{rows:d,columns:h,cells:p,points:m},n)},dre=(e,n,r,i)=>{const o=zf(n);let u=n.cells;o!=null&&o.length?u=n.cells.map(l=>o.map(c=>c.id).includes(l.id)?Fk(l,r):l):u=n.cells.map(l=>l.text&&l.textHeight?Fk(l,r):l),Ge.setNode(e,{cells:u},i)},Fk=(e,n)=>{const r={...e};return n?r.fill=n:delete r.fill,r},hre=(e,n)=>{T6(e).map(i=>{if(i.shape===n.shape)return;const o=L.findPath(e,i);Ge.setNode(e,{...n},o)})},gre=(e,n,r,i)=>{const u=VN().includes(r);let l=HN[r]||IN[r]||GN[r]||cp;u&&(l=zN[r]);const c=Lf(i);if(c){let d=0;[Pt.left,Pt.right].includes(c)?d=-l.width/2:d=-l.height/2;const h=Vf(n,i,d),p=N.getPoints(N.getRectangleByCenterPoint(h,l.width,l.height));if(u){const m=F1(r,p);return _a(e,m),m}return A6(e,p,r)}return null},ki={setText:qne,setDrawTexts:cre,insertGeometry:A6,resizeGeometry:Yne,insertText:Xne,setTextSize:Zne,resizeArrowLine:R6,setArrowLineTexts:Jne,removeArrowLineText:ere,setArrowLineMark:tre,setArrowLineShape:nre,setVectorLineShape:hre,insertImage:Qne,connectArrowLineToDraw:rre,switchGeometryShape:Kne,setTableText:fre,addSwimlaneRow:M6,addSwimlaneColumn:N6,removeSwimlaneRow:O6,removeSwimlaneColumn:F6,updateSwimlaneCount:lre,setTableFill:dre,insertDrawByVector:gre},r3=(e,n,r,i=0)=>{const o=N.getCenterPoint(n),u=hN(n,gs);if(i){const l=Ar([r],o,-i)[0];let c=u.find(d=>N.isHit(N.getRectangleByPoints([l,l]),d.rectangle));return c&&(c.cursorClass=jJ(c.cursorClass,i)),c}else return u.find(l=>N.isHit(N.getRectangleByPoints([r,r]),l.rectangle))},pre=e=>({x:e.x-E1-_g,y:e.y+e.height+E1,width:_g,height:_g}),mre="debug:plait:resize-for-rotation",No=gd(mre);function vre(e){const{afterChange:n,drawSelectionRectangle:r}=e;let i,o,u=!1,l=null;const c=()=>{const h=Xe(e);return h.length>=1&&h.every(p=>(ve.isDrawElement(p)||ve.isCustomGeometryElement(e,p)&&p.points.length>1)&&!Wne(e)&&!Une(e))};return xc(e,{key:"draw-elements",canResize:c,hitTest:h=>{const p=Xe(e),m=an(e,p,!1),v=Xi(p),w=r3(e,m,h,v);return w?{element:[...p],rectangle:m,handle:w.handle,cursorClass:w.cursorClass}:null},onResize:(h,p)=>{i==null||i.remove(),No.isDebug()&&No.clear();const m=qv(e,h.handle),v=p.isShift||h.element.length===1&&ve.isImage(h.element[0]),w=N.getCenterPoint(h.rectangle),b=T1(h.handle),{originPoint:E,handlePoint:S}=i3(e,b,h.rectangle),T=Xi(h.element);let C;if(T){C={angle:T,offsetX:0,offsetY:0,newCenterPoint:[0,0]};const[I,z]=Ar([p.startPoint,p.endPoint],w,-C.angle);p.startPoint=I,p.endPoint=z}const B=I6(e,h,p,{originPoint:E,handlePoint:S},v,m),P=Dy(e,h.element,B);if(l=P.activePoints,i=P.snapG,L.getElementTopHost(e).append(i),C){const I=N.getPoints(h.rectangle),z=I.map(ce=>Ra(ce,E,P.xZoom,P.yZoom)),Y=N.getRectangleByPoints(z);No.isDebug()&&No.drawRectangle(e,Y,{stroke:"blue"});const te=N.getCenterPoint(Y),re=xS(N.getRectangleByPoints(I),N.getRectangleByPoints(z),w,te,C.angle),ae=N.getCenterPoint(N.getRectangleByPoints(re));C=Object.assign(C,{offsetX:ae[0]-te[0],offsetY:ae[1]-te[1],newCenterPoint:ae}),No.isDebug()&&No.drawRectangle(e,re)}h.element.forEach(I=>{const z=L.findPath(e,I);let Y;if(C){Y=FD(I.points,w,-C.angle).map(ae=>Ra(ae,E,P.xZoom,P.yZoom));const re=Y.map(ae=>[ae[0]+C.offsetX,ae[1]+C.offsetY]);Y=FD(re,C.newCenterPoint,C.angle)}else Ws(I)&&(u=!0),Ws(I)&&GX(I.angle)?Y=yre(e,I.points,E,P.xZoom,P.yZoom):Y=I.points.map(te=>Ra(te,E,P.xZoom,P.yZoom));if(ve.isGeometry(I))if(ve.isGeometry(I)&&US(I)){const{height:te}=Ed(I).getSize();ki.resizeGeometry(e,Y,te,z)}else Y=ac(Y),Ge.setNode(e,{points:Y},z);else if(ve.isLine(I)||ve.isCustomGeometryElement(e,I)||ve.isVectorLine(I))Ge.setNode(e,{points:Y},z);else if(ve.isImage(I))if(v)Ge.setNode(e,{points:Y},z);else{const te=N.getRectangleByPoints(I.points),re=N.getCenterPoint(te),ae=Ra(re,E,P.xZoom,P.yZoom),ce=N.getRectangleByCenterPoint(ae,te.width,te.height);Ge.setNode(e,{points:N.getPoints(ce)},z)}})},afterResize:h=>{if(i==null||i.remove(),i=null,u){u=!1,l=null;const p=Xe(e);Ge.addSelectionWithTemporaryElements(e,p)}}}),e.afterChange=()=>{n(),o&&(o.remove(),o=null);const h=Xe(e);c()&&!mi(e)&&h.length>1&&(o=wre(e,l,u),L.getActiveHost(e).append(o))},e.drawSelectionRectangle=()=>{if(u){const h=N.getRectangleByPoints(l),p=gi(e,h);return ws(e,N.inflate(p,lr),{stroke:qi,strokeWidth:lr})}return r()},e}const i3=(e,n,r)=>{const i=VJ(e,n),o=nk(r,i),u=nk(r,n);return{originPoint:o,handlePoint:u}},YS=(e,n,r,i,o)=>{const[u,l]=e;let c=0,d=0;if(i)if(o)c=ct.getOffsetX(u,l)/(r[0]-n[0]),d=c;else{let h=ct.getOffsetX(u,l),p=ct.getOffsetY(u,l);c=h/(r[0]-n[0]),d=p/(r[1]-n[1])}else{const h=ct.isHorizontal(n,r,.1)||!1;let p=h?ct.getOffsetX(u,l):ct.getOffsetY(u,l),m=h?r[0]-n[0]:r[1]-n[1];const v=p/m;o?(c=v,d=v):h?c=v:d=v}return{xZoom:c,yZoom:d}},Ra=(e,n,r,i)=>{const o=(e[0]-n[0])*r,u=(e[1]-n[1])*i;return[e[0]+o,e[1]+u]},yre=(e,n,r,i,o)=>{const u=N.getRectangleByPoints(n);No.isDebug()&&No.drawRectangle(e,u,{stroke:"black"});let l=n;l=Ar(l,N.getCenterPoint(u),1/2*Math.PI),No.isDebug()&&No.drawRectangle(e,l,{stroke:"blue"}),l=l.map(d=>Ra(d,r,i,o)),No.isDebug()&&No.drawRectangle(e,l);const c=N.getRectangleByPoints(l);return Ar(l,N.getCenterPoint(c),-.5*Math.PI)},wre=(e,n,r)=>{const i=Lt(),o=Xe(e),u=r?N.getRectangleByPoints(n):an(e,o,!1),l=gi(e,u);let c=N.getCornerPoints(l);const d=Xi(o);if(d){const h=N.getCenterPoint(l);c=Ar(c,h,d)}return c.forEach(h=>{const p=dN(e,h);i.append(p)}),i},xre="debug:plait:point-for-geometry",Lk=gd(xre),Rv=10;function I6(e,n,r,i,o,u){const{originPoint:l,handlePoint:c}=i,d=[r.startPoint,r.endPoint],{xZoom:h,yZoom:p}=YS(d,l,c,u,o);let m,v=[];if(Array.isArray(n.element)){m=n.element;const B=an(e,n.element,!1);v=N.getPoints(B)}else m=[n.element],v=n.element.points;const w=v.map(B=>Ra(B,l,h,p)),b=N.getRectangleByPoints(w),E=Np(b,Xi(m)),S=Ra(c,l,h,p),[T,C]=$n(l,S);return{resizePoints:d,resizeOriginPoint:v,activeRectangle:E,originPoint:l,handlePoint:c,directionFactors:[id(T),id(C)],isAspectRatio:o,isFromCorner:u}}function Dy(e,n,r){const i=Lt(),o=e4(e,n);let u=Ere(o,r);u.deltaX===0&&u.deltaY===0&&(u=bre(o,r));const l=Xi(n),c=Cre(u,r,l),d=Sre(e,c.activePoints,o,r,l),h=Dre(e,c.activePoints,o,r,l);return i.append(d,h),{...c,...u,snapG:i}}function bre(e,n){let r={deltaX:0,deltaY:0};const{isAspectRatio:i,activeRectangle:o,directionFactors:u}=n,l=u[0]!==0||i,c=u[1]!==0||i;if(l){const d=oc(o,!0),h=u[0]===-1?d[0]:d[2],p=Og(e,h,!0);if(Math.abs(p)<Ma&&(r.deltaX=p,r.deltaX!==0&&i))return r.deltaY=r.deltaX/(o.width/o.height),r}if(c){const d=oc(o,!1),h=u[1]===-1?d[0]:d[2],p=Og(e,h,!1);if(Math.abs(p)<Ma&&(r.deltaY=p,r.deltaY!==0&&i))return r.deltaX=r.deltaY*(o.width/o.height),r}return r}function Cre(e,n,r){const{deltaX:i,deltaY:o}=e,{resizePoints:u,isCreate:l}=n,c=[u[0],[u[1][0]+i,u[1][1]+o]];let d=c,h=0,p=0;if(!l){const{originPoint:m,handlePoint:v,isFromCorner:w,isAspectRatio:b,resizeOriginPoint:E}=n,S=YS(c,m,v,w,b);h=S.xZoom,p=S.yZoom,d=E.map(T=>Ra(T,m,h,p)),r&&(d=xS(N.getRectangleByPoints(E),N.getRectangleByPoints(d),N.getCenterPoint(N.getRectangleByPoints(E)),N.getCenterPoint(N.getRectangleByPoints(d)),r))}return{xZoom:h,yZoom:p,activePoints:d}}function Ere(e,n){let r={deltaX:0,deltaY:0};const{isAspectRatio:i,activeRectangle:o}=n,u=e.find(c=>Math.abs(c.width-o.width)<Ma);if(u){const c=u.width-o.width;if(r.deltaX=c*n.directionFactors[0],i){const d=c/(o.width/o.height);return r.deltaY=d*n.directionFactors[1],r}}const l=e.find(c=>Math.abs(c.height-o.height)<Ma);if(l){const c=l.height-o.height;if(r.deltaY=c*n.directionFactors[1],i){const d=c*(o.width/o.height);return r.deltaX=d*n.directionFactors[0],r}}return r}function Bv(e,n){return n?[[e.x,e.y-Rv],[e.x+e.width,e.y-Rv]]:[[e.x-Rv,e.y],[e.x-Rv,e.y+e.height]]}function Dre(e,n,r,i,o){Lk.isDebug()&&Lk.clear();const u=N.getRectangleByPoints(n),l=Np(u,o),{isAspectRatio:c,directionFactors:d}=i,h=d[0]!==0||c,p=d[1]!==0||c;return t4(e,l,r,h,p)}function Sre(e,n,r,i,o){let u=[],l=[];const c=i.directionFactors[0]!==0||i.isAspectRatio,d=i.directionFactors[1]!==0||i.isAspectRatio,h=N.getRectangleByPoints(n),p=Np(h,o);for(let v of r)p.width===v.width&&c&&u.push(Bv(v,!0)),p.height===v.height&&d&&l.push(Bv(v,!1));u.length&&c&&u.push(Bv(p,!0)),l.length&&d&&l.push(Bv(p,!1));const m=[...u,...l];return n4(e,m)}const Tre=(e,n,r)=>PN(e,n,r,i=>{if(ve.isArrowLine(i)){let o={...i.source},u={...i.target},l=[...i.points];return i.source.boundId&&(l[0]=Pu(Fo(e,i.source.boundId),i.source.connection),Fo(e,i.source.boundId,n)||(delete o.boundId,delete o.connection)),i.target.boundId&&(l[l.length-1]=Pu(Fo(e,i.target.boundId),i.target.connection),Fo(e,i.target.boundId,n)||(delete u.boundId,delete u.connection)),l=l.map(c=>[c[0]-r[0],c[1]-r[1]]),{...i,points:l,source:o,target:u}}}),Are=(e,n,r)=>{RN(e,n,r,(i,o)=>{ve.isArrowLine(i)&&(i.source.boundId&&n.find(l=>[i.source.boundId,o[i.source.boundId]].includes(l.id))&&(i.source.boundId=o[i.source.boundId]),i.target.boundId&&n.find(l=>[i.target.boundId,o[i.target.boundId]].includes(l.id))&&(i.target.boundId=o[i.target.boundId])),ve.isElementByTable(i)&&(Ak(i,"row"),Ak(i,"column"),Gte(i.cells))})},Rg=3/4,Pre={draw(e,n,r){const i=Cg(n),u=L.getRoughSVG(e).polygon(i,{...r,fillStyle:"solid"});return Vt(u,"round"),u},isInsidePoint(e,n){const r=Cg(e);return Fu(n,r)},getCornerPoints(e){return Cg(e)},getNearestPoint(e,n){return Bn(n,Cg(e))},getEdgeByConnectionPoint(e,n){const r=Cg(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height*Rg-i)/2}}},Cg=e=>[[e.x,e.y],[e.x+e.width,e.y],[e.x+e.width,e.y+e.height*Rg],[e.x+e.width*3/5,e.y+e.height*Rg],[e.x+e.width/2,e.y+e.height],[e.x+e.width*2/5,e.y+e.height*Rg],[e.x,e.y+e.height*Rg]];function Rr(e){const n=e.getPolygonPoints,r={draw(i,o,u){const l=n(o),d=L.getRoughSVG(i).polygon(l,{...u,fillStyle:"solid"});return Vt(d,"round"),d},isInsidePoint(i,o){const u=n(i);return Fu(o,u)},getCornerPoints(i){return n(i)},getNearestPoint(i,o){return Bn(o,n(i))},getNearestCrossingPoint(i,o){const u=n(i),l=r6(u,o);let c=l[0],d=bt(o[0],o[1],c[0],c[1]);return l.filter((h,p)=>p>0).forEach(h=>{let p=bt(o[0],o[1],h[0],h[1]);p<d&&(d=p,c=h)}),c},getEdgeByConnectionPoint(i,o){const u=n(i),l=N.getConnectionPoint(i,o);return jr(u,l)},getConnectorPoints(i){return e.getConnectorPoints?e.getConnectorPoints(i):n(i)}};return e.getTextRectangle&&(r.getTextRectangle=e.getTextRectangle),r}const Rre=e=>[[e.x+e.width/4,e.y],[e.x+e.width*3/4,e.y],[e.x+e.width*3/4,e.y+e.height/4],[e.x+e.width,e.y+e.height/4],[e.x+e.width,e.y+e.height*3/4],[e.x+e.width*3/4,e.y+e.height*3/4],[e.x+e.width*3/4,e.y+e.height],[e.x+e.width/4,e.y+e.height],[e.x+e.width/4,e.y+e.height*3/4],[e.x,e.y+e.height*3/4],[e.x,e.y+e.height/4],[e.x+e.width/4,e.y+e.height/4]],Bre=Rr({getPolygonPoints:Rre,getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e){const n=pr(e),r=n.width;return n.width=n.width/2,n.x+=r/4,n}}),GE=Rr({getPolygonPoints:N.getEdgeCenterPoints,getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e){const n=pr(e);return n.width=n.width/2,n.x+=n.width/2,n}});function KS(e){const n={draw(r,i,o){const u=[i.x+i.width/2,i.y+i.height/2],c=L.getRoughSVG(r).ellipse(u[0],u[1],i.width,i.height,{...o,fillStyle:"solid"});return Vt(c,"round"),c},isInsidePoint(r,i){const o=[r.x+r.width/2,r.y+r.height/2];return Oa(i,o,r.width/2,r.height/2)},getCornerPoints(r){return N.getEdgeCenterPoints(r)},getNearestPoint(r,i){const o=[r.x+r.width/2,r.y+r.height/2];return pi(i,o,r.width/2,r.height/2)},getTangentVectorByConnectionPoint(r,i){const o=N.getConnectionPoint(r,i),u=[r.x+r.width/2,r.y+r.height/2],l=[o[0]-u[0],-(o[1]-u[1])],c=r.width/2,d=r.height/2,h=Ks(l[0],l[1],c,d);return qs(l[0],l[1],h)},getConnectorPoints(r){return N.getEdgeCenterPoints(r)},getTextRectangle(r){const i=pr(r),o=i.width;return i.width=i.width*3/4,i.x+=o/8,i}};return e!=null&&e.draw&&(n.draw=e.draw),e!=null&&e.getTextRectangle&&(n.getTextRectangle=e.getTextRectangle),n}const _E=KS(),kre=e=>[[e.x+e.width/4,e.y],[e.x+e.width*3/4,e.y],[e.x+e.width,e.y+e.height/2],[e.x+e.width*3/4,e.y+e.height],[e.x+e.width/4,e.y+e.height],[e.x,e.y+e.height/2]],Mre=Rr({getPolygonPoints:kre,getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e){const n=pr(e),r=n.width;return n.width=n.width*3/4,n.x+=r/8,n}}),Nre=e=>[[e.x,e.y+e.height/2],[e.x+e.width*.32,e.y],[e.x+e.width*.32,e.y+e.height*.2],[e.x+e.width,e.y+e.height*.2],[e.x+e.width,e.y+e.height*.8],[e.x+e.width*.32,e.y+e.height*.8],[e.x+e.width*.32,e.y+e.height]],Ore=Rr({getPolygonPoints:Nre,getConnectorPoints:e=>[[e.x,e.y+e.height/2],[e.x+e.width,e.y+e.height/2]],getTextRectangle(e){const n=pr(e),r=n.width;return n.width=n.width*(1-.32),n.x+=r*.32,n}}),Fre=e=>[[e.x+e.width*3/10,e.y],[e.x+e.width*7/10,e.y],[e.x+e.width,e.y+e.height*3/10],[e.x+e.width,e.y+e.height*7/10],[e.x+e.width*7/10,e.y+e.height],[e.x+e.width*3/10,e.y+e.height],[e.x,e.y+e.height*7/10],[e.x,e.y+e.height*3/10]],Lre=Rr({getPolygonPoints:Fre,getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e){const n=pr(e),r=n.width;return n.width=n.width*3/4,n.x+=r/8,n}}),Ik=e=>[[e.x+e.width/4,e.y],[e.x+e.width,e.y],[e.x+e.width*3/4,e.y+e.height],[e.x,e.y+e.height]],Hk=Rr({getPolygonPoints:Ik,getConnectorPoints:e=>{const n=Ik(e);return Dd(n)},getTextRectangle(e){const n=pr(e),r=n.width;return n.width=n.width/2,n.x+=r/4,n}}),Ire=e=>[[e.x+e.width/2,e.y],[e.x+e.width,e.y+e.height*2/5],[e.x+e.width*4/5,e.y+e.height],[e.x+e.width/5,e.y+e.height],[e.x,e.y+e.height*2/5]],Hre=Rr({getPolygonPoints:Ire,getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2,u=o*3/5;return{height:i,width:u>0?u:0,x:n.x+tt.rectangleAndText+r+o/5,y:n.y+n.height/5+(n.height*4/5-i)/2}}}),Gre=e=>{const n=e.width>e.height/2;return[[e.x,e.y],[e.x+(n?e.width-e.height/2:0),e.y],[e.x+e.width,e.y+e.height/2],[e.x+(n?e.width-e.height/2:0),e.y+e.height],[e.x,e.y+e.height]]},_re=Rr({getPolygonPoints:Gre,getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=pr(e),i=n.width>n.height/2+20;return r.width=i?n.width-n.height/2:r.width,r}}),Vre=e=>{const n=e.width>e.height/2;return[[e.x,e.y],[e.x+(n?e.width-e.height/2:0),e.y],[e.x+e.width,e.y+e.height/2],[e.x+(n?e.width-e.height/2:0),e.y+e.height],[e.x,e.y+e.height],[e.x+(n?e.height/2:e.width),e.y+e.height/2]]},jre=Rr({getPolygonPoints:Vre,getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=pr(e),i=n.width>n.height+20;return r.width=i?n.width-n.height:r.width,r.x=i?n.x+n.height/2:r.x,r}}),zre=e=>[[e.x,e.y+e.height*.2],[e.x+e.width*.68,e.y+e.height*.2],[e.x+e.width*.68,e.y],[e.x+e.width,e.y+e.height/2],[e.x+e.width*.68,e.y+e.height],[e.x+e.width*.68,e.y+e.height*.8],[e.x,e.y+e.height*.8]],$re=Rr({getPolygonPoints:zre,getConnectorPoints:e=>[[e.x,e.y+e.height/2],[e.x+e.width,e.y+e.height/2]],getTextRectangle(e){const n=pr(e);return n.width=n.width*.68,n}}),on={draw(e,n,r){return ws(e,n,{...r,fillStyle:"solid"})},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Bn(n,on.getCornerPoints(e))},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)}},Ure={draw(e,n,r){return md(L.getRoughSVG(e),n.x,n.y,n.x+n.width,n.y+n.height,{...r,fillStyle:"solid"},!1,Kf(n))},isInsidePoint(e,n){return G3(n,e,Kf(e))},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return H6(n,e,Kf(e))},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)}},Kf=e=>Math.min(e.width*.1,e.height*.1);function H6(e,n,r){const{x:i,y:o,width:u,height:l}=n,c=N.getCornerPoints(n);let d=Bn(e,c),h=null;return e[0]>=i&&e[0]<=i+r&&e[1]>=o&&e[1]<=o+r&&(h=[i+r,o+r]),e[0]>=i&&e[0]<=i+r&&e[1]>=o+l&&e[1]<=o+l-r&&(h=[i+r,o+l-r]),e[0]>=i+u-r&&e[0]<=i+u&&e[1]>=o&&e[1]<=o+r&&(h=[i+u-r,o+r]),e[0]>=i+u-r&&e[0]<=i+u&&e[1]>=o+l-r&&e[1]<=o+l&&(h=[i+u-r,o+l-r]),h&&(d=pi(e,h,r,r)),d}const Yl=3/4,Wre={draw(e,n,r){const i=L.getRoughSVG(e),o=n.x,u=n.y,l=n.x+n.width,c=n.y+n.height*Yl,d=Kf(n),h=[o+d,u],p=[l-d,u],m=[l,u+d],v=[l,c-d],w=[l-d,c],b=[o+d,c],E=[o,c-d],S=[o,u+d],T=[o+n.width/4,c],C=[o+n.width/4,n.y+n.height],B=[o+n.width/2,c],P=i.path(`M${p[0]} ${p[1]} A ${d} ${d}, 0, 0, 1, ${m[0]} ${m[1]} L ${v[0]} ${v[1]} A ${d} ${d}, 0, 0, 1, ${w[0]} ${w[1]} L    ${B[0]} ${B[1]}  ${C[0]} ${C[1]}   ${T[0]} ${T[1]}   ${b[0]} ${b[1]} A ${d} ${d}, 0, 0, 1, ${E[0]} ${E[1]} L ${S[0]} ${S[1]} A ${d} ${d}, 0, 0, 1, ${h[0]} ${h[1]} Z`,{...r,fillStyle:"solid"});return Vt(P,"round"),P},isInsidePoint(e,n){const r=[[e.x+e.width/4,e.y+e.height*3/4],[e.x+e.width/4,e.y+e.height],[e.x+e.width/2,e.y+e.height*3/4]];return e.height=e.height*3/4,Fu(n,r)||G3(n,e,Kf(e))},getCornerPoints(e){return VE(e)},getNearestPoint(e,n){return Bn(n,VE(e))},getEdgeByConnectionPoint(e,n){const r=VE(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return[[e.x+e.width/2,e.y],[e.x+e.width,e.y+e.height/2],[e.x+e.width/2,e.y+e.height*Yl],[e.x,e.y+e.height/2]]},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height*Yl-i)/2}}},VE=e=>[[e.x,e.y],[e.x+e.width,e.y],[e.x+e.width,e.y+e.height*Yl],[e.x+e.width/2,e.y+e.height*Yl],[e.x+e.width/4,e.y+e.height],[e.x+e.width/4,e.y+e.height*Yl],[e.x,e.y+e.height*Yl]],Gk=e=>[[e.x+e.width*.15,e.y],[e.x+e.width*.85,e.y],[e.x+e.width,e.y+e.height],[e.x,e.y+e.height]],Xre=Rr({getPolygonPoints:Gk,getConnectorPoints(e){const n=Gk(e);return Dd(n)},getTextRectangle(e){const n=pr(e),r=n.width;return n.width=n.width*3/4,n.x+=r/8,n}}),_k=e=>[[e.x+e.width/2,e.y],[e.x+e.width,e.y+e.height],[e.x,e.y+e.height]],Yre=Rr({getPolygonPoints:_k,getConnectorPoints(e){const n=_k(e);return[...Dd(n),...n]},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2,u=o*2/3;return{height:i,width:u>0?u:0,x:n.x+tt.rectangleAndText+r+o/6,y:n.y+n.height*3/5+(n.height*2/5-i)/2}}}),Kre=e=>[[e.x,e.y+e.height/2],[e.x+e.width*8/25,e.y],[e.x+e.width*8/25,e.y+e.height/5],[e.x+e.width*17/25,e.y+e.height/5],[e.x+e.width*17/25,e.y],[e.x+e.width,e.y+e.height/2],[e.x+e.width*17/25,e.y+e.height],[e.x+e.width*17/25,e.y+e.height*4/5],[e.x+e.width*8/25,e.y+e.height*4/5],[e.x+e.width*8/25,e.y+e.height]],qre=Rr({getPolygonPoints:Kre,getConnectorPoints:e=>[[e.x,e.y+e.height/2],[e.x+e.width,e.y+e.height/2]]}),Vk=e=>[[e.x+e.width/2,e.y+e.height*75/91],[e.x+e.width*18.61/96,e.y+e.height],[e.x+e.width*24.2235871/96,e.y+e.height*57.7254249/91],[e.x,e.y+e.height*34.5491503/91],[e.x+e.width*33.3053687/96,e.y+e.height*29.7745751/91],[e.x+e.width/2,e.y],[e.x+e.width*62.6946313/96,e.y+e.height*29.7745751/91],[e.x+e.width,e.y+e.height*34.5491503/91],[e.x+e.width*71.7764129/96,e.y+e.height*57.7254249/91],[e.x+e.width*77.3892626/96,e.y+e.height]],Zre=Rr({getPolygonPoints:Vk,getConnectorPoints:e=>{const n=Vk(e);return[n[1],n[3],n[5],n[7],n[9]]},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2,u=o/2;return{height:i,width:u>0?u:0,x:n.x+tt.rectangleAndText+r+o/4,y:n.y+n.height*1/6+(n.height*4/5-i)/2}}}),Qre={draw(e,n,r){return md(L.getRoughSVG(e),n.x,n.y,n.x+n.width,n.y+n.height,{...r,fillStyle:"solid"},!1,kv(n))},isInsidePoint(e,n){return G3(n,e,kv(e))},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Jre(n,e,kv(e))},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n),i=kv(e),o=G6(e,i,r);if(o){const u=[r[0]-o[0],-(r[1]-o[1])],l=i,c=i,d=Ks(u[0],u[1],l,c);return qs(u[0],u[1],d)}return null},getConnectorPoints(e){return N.getEdgeCenterPoints(e)}},kv=e=>Math.min(e.width/2,e.height/2);function Jre(e,n,r){let i=null,o=G6(n,r,e);if(o)i=pi(e,o,r,r);else{const u=N.getCornerPoints(n);i=Bn(e,u)}return i}function G6(e,n,r){const{x:i,y:o,width:u,height:l}=e;let c=null;return r[0]>=i&&r[0]<=i+n&&r[1]>=o&&r[1]<=o+n&&(c=[i+n,o+n]),r[0]>=i&&r[0]<=i+n&&r[1]>=o+l-n&&r[1]<=o+l&&(c=[i+n,o+l-n]),r[0]>=i+u-n&&r[0]<=i+u&&r[1]>=o&&r[1]<=o+n&&(c=[i+u-n,o+n]),r[0]>=i+u-n&&r[0]<=i+u&&r[1]>=o+l-n&&r[1]<=o+l&&(c=[i+u-n,o+l-n]),c}const jk=e=>[[e.x,e.y+e.height/4],[e.x+e.width,e.y],[e.x+e.width,e.y+e.height],[e.x,e.y+e.height]],eie=Rr({getPolygonPoints:jk,getConnectorPoints:e=>{const n=jk(e);return Dd(n)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+n.height/4+(n.height*3/4-i)/2}}}),tie=e=>[[e.x,e.y+e.height/2],[e.x+e.width/6,e.y],[e.x+e.width*5/6,e.y],[e.x+e.width,e.y+e.height/2],[e.x+e.width*5/6,e.y+e.height],[e.x+e.width/6,e.y+e.height]],nie=Rr({getPolygonPoints:tie,getConnectorPoints:e=>N.getEdgeCenterPoints(e),getTextRectangle(e){const n=pr(e),r=n.width;return n.width=n.width*2/3,n.x+=r/6,n}}),zk=e=>[[e.x,e.y],[e.x+e.width,e.y],[e.x+e.width*7/8,e.y+e.height],[e.x+e.width/8,e.y+e.height]],rie=Rr({getPolygonPoints:zk,getConnectorPoints:e=>{const n=zk(e);return Dd(n)},getTextRectangle(e){const n=pr(e),r=n.width;return n.width=n.width*3/4,n.x+=r/8,n}}),$k=e=>[[e.x,e.y],[e.x+e.width,e.y],[e.x+e.width/2,e.y+e.height]],iie=Rr({getPolygonPoints:$k,getConnectorPoints:e=>{const n=$k(e);return[...Dd(n),...n]},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2,u=o*2/3;return{height:i,width:u>0?u:0,x:n.x+tt.rectangleAndText+r+o/6,y:n.y+(n.height*2/3-i)/2}}}),oie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x} ${n.y} L${n.x+n.width*3/4} ${n.y} A  ${n.width/4} ${n.height/2}, 0, 0, 1,${n.x+n.width*3/4} ${n.y+n.height} L${n.x} ${n.y+n.height} Z`,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]),i=N.isHit({...e,width:e.width*3/4},r),o=Oa(n,[e.x+e.width*3/4,e.y+e.height/2],e.width/4,e.height/2);return i||o},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const r=Bn(n,on.getCornerPoints(e));return r[0]>e.x+e.width*3/4?pi(n,[e.x+e.width*3/4,e.y+e.height/2],e.width/4,e.height/2):r},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n),i=[e.x+e.width*3/4,e.y+e.height/2],o=[r[0]-i[0],-(r[1]-i[1])],u=e.width/4,l=e.height/2,c=Ks(o[0],o[1],u,l);return qs(o[0],o[1],c)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)}},sie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x+n.width/10} ${n.y} L${n.x+n.width} ${n.y} A  ${n.width/10} ${n.height/2}, 0, 0, 0,${n.x+n.width} ${n.y+n.height} L${n.x+n.width/10} ${n.y+n.height}A  ${n.width/10} ${n.height/2}, 0, 0, 1,${n.x+n.width/10} ${n.y}`,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]),i=N.isHit({...e,x:e.x+e.width/10,width:e.width*9/10},r),o=Oa(n,[e.x+e.width/10,e.y+e.height/2],e.width/10,e.height/2),u=!Oa(n,[e.x+e.width,e.y+e.height/2],e.width/10,e.height/2);return i&&u||o},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const r=Bn(n,on.getCornerPoints(e));if(r[0]<e.x+e.width/10){const i=[e.x+e.width/10,e.y+e.height/2],o=pi(n,i,e.width/10,e.height/2);return o[0]>i[0]&&(o[0]=i[0]*2-o[0]),o}if(r[0]>e.x+e.width*9/10){const i=[e.x+e.width,e.y+e.height/2],o=pi(n,i,e.width/10,e.height/2);return o[0]>i[0]&&(o[0]=i[0]*2-o[0]),o}return r},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n);let i=[e.x+e.width/10,e.y+e.height/2],o=e.width/10,u=e.height/2;const l=r[0]>e.x+e.width*9/10&&r[1]>e.y;l&&(i=[e.x+e.width,e.y+e.height/2]);const c=[r[0]-i[0],-(r[1]-i[1])],d=Ks(c[0],c[1],o,u),h=qs(c[0],c[1],d);return l?h.map(p=>-p):h},getConnectorPoints(e){return[[e.x+e.width/2,e.y],[e.x+e.width*9/10,e.y+e.height/2],[e.x+e.width/2,e.y+e.height],[e.x,e.y+e.height/2]]},getTextRectangle(e){const n=pr(e),r=n.width;return n.width=n.width*3/4,n.x+=r/8,n}},aie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x} ${n.y} H${n.x+n.width} V${n.y+n.height} H${n.x} Z M${n.x+n.width*.06} ${n.y} L${n.x+n.width*.06} ${n.y+n.height} M${n.x+n.width-n.width*.06} ${n.y} L${n.x+n.width-n.width*.06} ${n.y+n.height}`,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Bn(n,on.getCornerPoints(e))},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2-n.width*.06*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r+n.width*.06,y:n.y+(n.height-i)/2}}},uie=e=>[[e.x,e.y],[e.x+e.width,e.y],[e.x+e.width,e.y+e.height/2],[e.x+e.width/2,e.y+e.height],[e.x,e.y+e.height/2]],lie=Rr({getPolygonPoints:uie,getConnectorPoints:e=>N.getEdgeCenterPoints(e),getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2;return{width:o>0?o:0,height:i,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height-n.height/2-i)/2}}}),cie=KS({draw(e,n,r){const i=L.getRoughSVG(e),o=n.width/2,u=n.height/2,l=[n.x+n.width,n.y+n.height/2],c=i.path(`M${l[0]} ${l[1]}
        A${o},${u} 0 1,1 ${l[0]} ${l[1]-.01}
        M${n.x} ${n.y+n.height/2}
        L${n.x+n.width} ${n.y+n.height/2}
        M${n.x+n.width/2} ${n.y}
        L${n.x+n.width/2} ${n.y+n.height}
        `,{...r,fillStyle:"solid"});return Vt(c,"round"),c}}),fie=KS({draw(e,n,r){const i=L.getRoughSVG(e),o=n.width/2,u=n.height/2,l=[n.x+n.width,n.y+n.height/2],c=[n.x+n.width/2,n.y+n.height/2],d=r7([n.x,n.y],[n.x+n.width,n.y+n.height],c[0],c[1],o,u),h=r7([n.x+n.width,n.y],[n.x,n.y+n.height],c[0],c[1],o,u),p=i.path(`M${l[0]} ${l[1]}
        A${o},${u} 0 1,1 ${l[0]} ${l[1]-.01}
        M${d[0][0]} ${d[0][1]}
        L${d[1][0]} ${d[1][1]}
        M${h[0][0]} ${h[0][1]}
        L${h[1][0]} ${h[1][1]}
        `,{...r,fillStyle:"solid"});return Vt(p,"round"),p}}),die={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x} ${n.y+n.height-n.height/9} V${n.y} H${n.x+n.width} V${n.y+n.height-n.height/9}
            Q${n.x+n.width-n.width/4} ${n.y+n.height-n.height/9*3}, ${n.x+n.width/2} ${n.y+n.height-n.height/9} T${n.x} ${n.y+n.height-n.height/9}           
            `,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){let r=Bn(n,on.getCornerPoints(e)),i=kp([[e.x,e.y+e.height-e.height/9],[e.x+e.width/4,e.y+e.height],[e.x+e.width/2,e.y+e.height-e.height/9],[e.x+e.width/4*3,e.y+e.height-e.height/9*2],[e.x+e.width,e.y+e.height-e.height/9]]);if(i=Zi(i),r[1]>e.y+e.height-e.height/9){if(r[0]===e.x+e.width/2)return r[1]=e.y+e.height-e.height/9,r;r=Bn(n,i,!1)}return r},getConnectorPoints(e){return[[e.x+e.width/2,e.y],[e.x+e.width,e.y+e.height/2],[e.x+e.width/2,e.y+e.height-e.height/9],[e.x,e.y+e.height/2]]},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n);return r[0]>e.x&&r[0]<e.x+e.width/4?$n([e.x+e.width/4,e.y+e.height],r):r[0]>e.x+e.width/4&&r[0]<e.x+e.width/4*3?$n([e.x+e.width/4*3,e.y+e.height-e.height/9],[e.x+e.width/4,e.y+e.height]):r[0]>e.x+e.width/4*3?$n([e.x+e.width,e.y+e.height-e.height/9],r):$n(r,[e.x+e.width/4,e.y+e.height])},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2-n.width*.06*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r+n.width*.06,y:n.y+(n.height-i)/2}}},Uk=e=>{const n=[[e.x,e.y+10],[e.x+5,e.y+10],[e.x+5,e.y+5],[e.x+10,e.y+5],[e.x+10,e.y],[e.x+e.width,e.y],[e.x+e.width,e.y+e.height-e.height/9-10-3],[e.x+e.width-5,e.y+e.height-e.height/9-10-3-4],[e.x+e.width-5,e.y+e.height-e.height/9-5-3],[e.x+e.width-10,e.y+e.height-e.height/9-5-3-4],[e.x+e.width-10,e.y+e.height-e.height/9]];let r=kp([[e.x+e.width-10,e.y+e.height-e.height/9],[e.x+e.width-10-(e.width-10)/4,e.y+e.height-e.height/9*2],[e.x+(e.width-10)/2,e.y+e.height-e.height/9],[e.x+(e.width-10)/4,e.y+e.height],[e.x,e.y+e.height-e.height/9]]);return r=Zi(r),[...n,...r]},hie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x} ${n.y+n.height-n.height/9} V${n.y+10} H${n.x+5} V${n.y+5} H${n.x+10} V${n.y} H${n.x+n.width} V${n.y+n.height-n.height/9-10-3} L${n.x+n.width-5} ${n.y+n.height-n.height/9-10-3-4} V${n.y+n.height-n.height/9-5-3}
                 L${n.x+n.width-10} ${n.y+n.height-n.height/9-5-3-4} V${n.y+n.height-n.height/9}
                
             Q${n.x+n.width-10-(n.width-10)/4} ${n.y+n.height-n.height/9*3}, ${n.x+(n.width-10)/2} ${n.y+n.height-n.height/9} T${n.x} ${n.y+n.height-n.height/9}
              
                M${n.x+5} ${n.y+10} H${n.x+n.width-10} V${n.y+n.height-n.height/9} 
                    
                M${n.x+10} ${n.y+5} H${n.x+n.width-5} V${n.y+n.height-n.height/9-10-3}
            `,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Bn(n,Uk(e),!1)},getConnectorPoints(e){let n=kp([[e.x,e.y+e.height-e.height/9],[e.x+(e.width-10)/4,e.y+e.height],[e.x+(e.width-10)/2,e.y+e.height-e.height/9],[e.x+(e.width-10)/4*3,e.y+e.height-e.height/9*2],[e.x+e.width-10,e.y+e.height-e.height/9]]);n=Zi(n);const r=Bn([e.x+e.width/2,e.y+e.height],n);return[[e.x+e.width/2,e.y],[e.x+e.width,e.y+e.height/2],[r[0],r[1]],[e.x,e.y+e.height/2]]},getNearestCrossingPoint(e,n){const r=r6(Uk(e),n);let i=r[0],o=bt(n[0],n[1],i[0],i[1]);return r.filter((u,l)=>l>0).forEach(u=>{let l=bt(n[0],n[1],u[0],u[1]);l<o&&(o=l,i=u)}),i},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n);if(r[0]>e.x&&r[0]<e.x+(e.width-10)/4)return $n([e.x+(e.width-10)/4,e.y+e.height],r);if(r[0]>e.x+(e.width-10)/4&&r[0]<e.x+(e.width-10)/4*3)return $n([e.x+(e.width-10)/4*3,e.y+e.height-e.height/9],[e.x+(e.width-10)/4,e.y+e.height]);if(r[0]>e.x+(e.width-10)/4*3&&r[0]<e.x+e.width-10)return $n([e.x+(e.width-10),e.y+e.height-e.height/9],r);const i=yN(n)||Pt.bottom,o=sc(i);return[o.x,o.y]},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2-n.width*.06*2;return{height:i,width:o>0?o-10:0,x:n.x+tt.rectangleAndText+r+n.width*.06,y:n.y+(n.height-i)/2}}},gie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x} ${n.y+n.height*.15}  
            A${n.width/2} ${n.height*.15}, 0, 0, 0,${n.x+n.width} ${n.y+n.height*.15} 
            A${n.width/2} ${n.height*.15}, 0, 0, 0,${n.x} ${n.y+n.height*.15} 
            V${n.y+n.height-n.height*.15}
            A${n.width/2} ${n.height*.15}, 0, 0, 0, ${n.x+n.width} ${n.y+n.height-n.height*.15}
            V${n.y+n.height*.15}`,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]),i=N.isHit({...e,y:e.y+e.height*.15,height:e.height-e.height*.3},r),o=Oa(n,[e.x+e.width/2,e.y+e.height*.15],e.width/2,e.height*.15),u=Oa(n,[e.x+e.width/2,e.y+e.height-e.height*.15],e.width/2,e.height*.15);return i||o||u},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const r=Bn(n,on.getCornerPoints(e));if(r[1]<e.y+e.height*.15){const i=[e.x+e.width/2,e.y+e.height*.15],o=pi(n,i,e.width/2,e.height*.15);return o[1]>i[1]&&(o[1]=i[1]*2-o[1]),o}if(r[1]>e.y+e.height-e.height*.15){const i=[e.x+e.width/2,e.y+e.height-e.height*.15],o=pi(n,i,e.width/2,e.height*.15);return o[1]<i[1]&&(o[1]=i[0]*2-o[1]),o}return r},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n);let i=[e.x+e.width/2,e.y+e.height-e.height*.15],o=e.width/2,u=e.height*.15;r[1]<e.y+e.height*.15&&r[0]>e.x&&(i=[e.x+e.width/2,e.y+e.height*.15]);const c=[r[0]-i[0],-(r[1]-i[1])],d=Ks(c[0],c[1],o,u);return qs(c[0],c[1],d)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+n.height*.3+(n.height-n.height*.45-i)/2}}},pie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x+n.width-n.width*.15} ${n.y}  
            A${n.width*.15} ${n.height/2}, 0, 0, 0,${n.x+n.width-n.width*.15} ${n.y+n.height} 
            A${n.width*.15} ${n.height/2}, 0, 0, 0,${n.x+n.width-n.width*.15} ${n.y} 
            H${n.x+n.width*.15}
            A${n.width*.15} ${n.height/2}, 0, 0, 0, ${n.x+n.width*.15} ${n.y+n.height}
            H${n.x+n.width-n.width*.15}`,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]),i=N.isHit({...e,x:e.x+e.width*.15,width:e.width-e.width*.3},r),o=Oa(n,[e.x+e.width*.15,e.y+e.height/2],e.width*.15,e.height/2),u=Oa(n,[e.x+e.width-e.width*.15,e.y+e.height/2],e.width*.15,e.height/2);return i||o||u},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const r=Bn(n,on.getCornerPoints(e));if(r[0]<e.x+e.width*.15){const i=[e.x+e.width*.15,e.y+e.height/2],o=pi(n,i,e.width*.15,e.height/2);return o[0]>i[0]&&(o[0]=i[0]*2-o[0]),o}if(r[0]>e.x+e.width-e.width*.15){const i=[e.x+e.width-e.width*.15,e.y+e.height/2],o=pi(n,i,e.width*.15,e.height/2);return o[0]<i[0]&&(o[0]=i[0]*2-o[0]),o}return r},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n);let i=[e.x+e.width*.15,e.y+e.height/2],o=e.width*.15,u=e.height/2;r[0]>e.x+e.width-e.width*.15&&r[1]>e.y&&(i=[e.x+e.width-e.width*.15,e.y+e.height/2]);const c=[r[0]-i[0],-(r[1]-i[1])],d=Ks(c[0],c[1],o,u);return qs(c[0],c[1],d)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-n.width*.45-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+n.width*.15+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}}},mie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x} ${n.y} h${n.width} v${n.height} h${-n.width} v${-n.height}
            M${n.x} ${n.y+n.height/10} h${n.width}
            M${n.x+n.width/10} ${n.y} v${n.height}
            `,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Bn(n,on.getCornerPoints(e))},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-n.width*.1-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+n.width*.1+tt.rectangleAndText+r,y:n.y+n.height*.1+(n.height-n.height*.1-i)/2}}};function Wk(e){const n=e.width*.09,r=e.x+e.width,i=e.y+e.height/2;return{startPoint:[r,e.y],upperCurve:{controlPoint1:[r-n,e.y],controlPoint2:[r,i],endPoint:[r-n,i]},lowerCurve:{controlPoint1:[r,i],controlPoint2:[r-n,e.y+e.height],endPoint:[r,e.y+e.height]}}}const vie={draw(e,n,r){const i=L.getRoughSVG(e),{startPoint:o,upperCurve:u,lowerCurve:l}=Wk(n),c=[`M${o[0]} ${o[1]}`,`C${u.controlPoint1[0]} ${u.controlPoint1[1]},
            ${u.controlPoint2[0]} ${u.controlPoint2[1]},
            ${u.endPoint[0]} ${u.endPoint[1]}`,`C${l.controlPoint1[0]} ${l.controlPoint1[1]},
            ${l.controlPoint2[0]} ${l.controlPoint2[1]},
            ${l.endPoint[0]} ${l.endPoint[1]}`].join(" "),d=i.path(c,{...r,fillStyle:"solid",fill:"transparent"});return Vt(d,"round"),d},getNearestPoint(e,n){const{startPoint:r,upperCurve:i,lowerCurve:o}=Wk(e),u=Zi([r,i.controlPoint1,i.controlPoint2,i.endPoint],.001),l=Zi([i.endPoint,o.controlPoint1,o.controlPoint2,o.endPoint],.001),c=[...u,...l];let d=1/0,h=n;for(const p of c){const m=bt(n[0],n[1],p[0],p[1]);m<d&&(d=m,h=[...p])}return h},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-n.width*.09-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}}};function Xk(e){const n=e.width*.09,r=e.y+e.height/2;return{startPoint:[e.x,e.y],upperCurve:{controlPoint1:[e.x+n,e.y],controlPoint2:[e.x,r],endPoint:[e.x+n,r]},lowerCurve:{controlPoint1:[e.x,r],controlPoint2:[e.x+n,e.y+e.height],endPoint:[e.x,e.y+e.height]}}}const yie={draw(e,n,r){const i=L.getRoughSVG(e),{startPoint:o,upperCurve:u,lowerCurve:l}=Xk(n),c=[`M${o[0]} ${o[1]}`,`C${u.controlPoint1[0]} ${u.controlPoint1[1]},
            ${u.controlPoint2[0]} ${u.controlPoint2[1]},
            ${u.endPoint[0]} ${u.endPoint[1]}`,`C${l.controlPoint1[0]} ${l.controlPoint1[1]},
            ${l.controlPoint2[0]} ${l.controlPoint2[1]},
            ${l.endPoint[0]} ${l.endPoint[1]}`].join(" "),d=i.path(c,{...r,fillStyle:"solid",fill:"transparent"});return Vt(d,"round"),d},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const{startPoint:r,upperCurve:i,lowerCurve:o}=Xk(e),u=Zi([r,i.controlPoint1,i.controlPoint2,i.endPoint],.001),l=Zi([i.endPoint,o.controlPoint1,o.controlPoint2,o.endPoint],.001),c=[...u,...l];let d=1/0,h=[...n];for(const p of c){const m=bt(n[0],n[1],p[0],p[1]);m<d&&(d=m,h=[...p])}return h},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-n.width*.09-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+n.width*.09+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}}},wie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x+n.width*.075} ${n.y+n.height} H${n.x} V${n.y} H${n.x+n.width*.075}
           `,{...r,fillStyle:"solid",fill:"transparent"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Bn(n,on.getCornerPoints(e))},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}}},xie=e=>[[e.x,e.y+e.height/2],[e.x+e.width*.15,e.y],[e.x+e.width,e.y],[e.x+e.width,e.y+e.height],[e.x+e.width*.15,e.y+e.height]],bie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x+n.width*.15} ${n.y} 
            H${n.x+n.width-n.width*.1} 
            A ${n.width*.1} ${n.height/2}, 0, 0, 1,${n.x+n.width-n.width*.1} ${n.y+n.height}
            H${n.x+n.width*.15}
            L${n.x} ${n.y+n.height/2}
            Z
            `,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=[[e.x,e.y+e.height/2],[e.x+e.width*.15,e.y],[e.x+e.width-e.width*.1,e.y],[e.x+e.width-e.width*.1,e.y+e.height],[e.x+e.width*.15,e.y+e.height]],i=Fu(n,r),o=Oa(n,[e.x+e.width-e.width*.1,e.y+e.height/2],e.width*.1,e.height/2);return i||o},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const r=Bn(n,xie(e));return r[0]>e.x+e.width-e.width*.1?pi(n,[e.x+e.width-e.width*.1,e.y+e.height/2],e.width*.1,e.height/2):r},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n),i=[e.x+e.width-e.width*.1,e.y+e.height/2],o=[r[0]-i[0],-(r[1]-i[1])],u=e.width*.1,l=e.height/2,c=Ks(o[0],o[1],u,l);return qs(o[0],o[1],c)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-r*2-n.width*.25;return{width:o>0?o:0,height:i,x:n.x+r+n.width*.15,y:n.y+(n.height-i)/2}}},If={draw(e,n,r,i){const o=Lt();try{const u=_p(e,{...i==null?void 0:i.element});if(u){const l=L.getRoughSVG(e),{x:c,y:d,width:h,height:p}=n,m=mv(l,[c,d],[c+h,d],r),v=mv(l,[c,d],[c,d+p],r);o.append(m,v),u.forEach(w=>{const b=N.getRectangleByPoints(w.points),{x:E,y:S,width:T,height:C}=b,B=ws(e,{x:E+lr,y:S+lr,width:T-lr*2,height:C-lr*2},{fill:w.fill,fillStyle:"solid",strokeWidth:0}),P=mv(l,[E+T,S],[E+T,S+C],r),I=mv(l,[E,S+C],[E+T,S+C],r);o.append(B,P,I)}),Vt(o,"round")}}catch(u){console.error(u)}return o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return H6(n,e,Kf(e))},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e,n){try{if(n&&n.id){const r=bc(n==null?void 0:n.board,e,n.id);if(r)return lp.isVerticalText(r)?Cie(r):_6(r)}}catch(r){console.error(r)}return{x:0,y:0,width:0,height:0}}};function Cie(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight||0,o=n.height-tt.rectangleAndText*2-r*2;return{width:o>0?o:0,height:i,x:n.x-o/2+n.width/2,y:n.y+(n.height-i)/2}}function _6(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight||0,o=n.width-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}}function Yk(e){const n=e.x+e.width/2,r={width:e.width/3/2,height:e.height/4/2};return e.y+e.height/4/2,{headArcCommand:{rx:r.width,ry:r.height,xAxisRotation:0,largeArcFlag:0,sweepFlag:1,endX:n,endY:e.y},bodyLine:[[n,e.y+e.height/4],[n,e.y+e.height/4*3]],armsLine:[[e.x,e.y+e.height/2],[e.x+e.width,e.y+e.height/2]],leftLegLine:[[n,e.y+e.height/4*3],[e.x+e.width/12,e.y+e.height]],rightLegLine:[[n,e.y+e.height/4*3],[e.x+e.width/12*11,e.y+e.height]]}}const Eie={draw(e,n,r){const i=L.getRoughSVG(e),{headArcCommand:o,bodyLine:u,armsLine:l,leftLegLine:c,rightLegLine:d}=Yk(n),h=[`M${u[0][0]} ${u[0][1]}`,`A${o.rx} ${o.ry} ${o.xAxisRotation} ${o.largeArcFlag} ${o.sweepFlag} ${o.endX} ${o.endY}`,`A${o.rx} ${o.ry} ${o.xAxisRotation} ${o.largeArcFlag} ${o.sweepFlag} ${u[0][0]} ${u[0][1]}`,`V${u[1][1]}`,`M${l[0][0]} ${l[0][1]} H${l[1][0]}`,`M${c[0][0]} ${c[0][1]} L${c[1][0]} ${c[1][1]}`,`M${d[0][0]} ${d[0][1]} L${d[1][0]} ${d[1][1]}`].join(" "),p=i.path(h,{...r,fillStyle:"solid"});return Vt(p,"round"),p},getNearestPoint(e,n){const{headArcCommand:r,bodyLine:i,armsLine:o,leftLegLine:u,rightLegLine:l}=Yk(e),c=[e.x+e.width/2,e.y+e.height/4/2],d=pi(n,c,r.rx,r.ry),h=bt(...n,...d),m=H3(n,[i,o,u,l]),v=bt(...n,...m);return h<v?d:m},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n);if(r[1]>=e.y&&r[1]<=e.y+e.height/4){const i=[e.x+e.width/2,e.y+e.height/4/2],o=[r[0]-i[0],-(r[1]-i[1])],u=e.width/2,l=e.height/2,c=Ks(o[0],o[1],u,l);return qs(o[0],o[1],c)}return r[1]>=e.y+e.height/4&&r[1]<e.y+e.height/4*3?r[0]<e.x+e.width/2?op($n([e.x,e.y+e.height/2],r),-(Math.PI/2)):op($n([e.x+e.width,e.y+e.height/2],r),-(Math.PI/2)):r[1]>=e.y+e.height/4*3?r[0]<e.x+e.width/2?$n(r,[e.x+e.width/12,e.y+e.height]):$n([e.x+e.width/12*11,e.y+e.height],r):$n(r,[e.x+e.width/4,e.y+e.height])},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=e.textHeight,i=n.width+40;return{height:r,width:i>0?i:0,x:n.x-20,y:n.y+n.height+4}}},Die={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x} ${n.y} H${n.x+n.width} V${n.y+n.height} H${n.x} Z M${n.x+40} ${n.y} L${n.x+40} ${n.y+n.height} `,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Bn(n,on.getCornerPoints(e))},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=40-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}}};function Kk(e){const r=e.width*.7,i=e.x+e.width*.8;return{headerHeight:25,points:{leftTop:[e.x,e.y+25],topStart:[e.x,e.y],topEnd:[e.x+r,e.y],cornerPoint:[i,e.y+25],rightTop:[e.x+e.width,e.y+25],rightBottom:[e.x+e.width,e.y+e.height],leftBottom:[e.x,e.y+e.height],leftMiddle:[e.x,e.y+25],middlePoint:[i,e.y+25]}}}const Sie={draw(e,n,r){const i=L.getRoughSVG(e),{points:o}=Kk(n),u=[`M${o.leftTop[0]} ${o.leftTop[1]}`,`V${o.topStart[1]}`,`H${o.topEnd[0]}`,`L${o.cornerPoint[0]} ${o.cornerPoint[1]}`,`H${o.rightTop[0]}`,`V${o.rightBottom[1]}`,`H${o.leftBottom[0]}`,`V${o.leftMiddle[1]}`,`H${o.middlePoint[0]}`].join(" "),l=i.path(u,{...r,fillStyle:"solid"});return Vt(l,"round"),l},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const{points:r}=Kk(e),i=[[r.topStart,r.leftTop],[r.leftTop,r.leftBottom],[r.leftBottom,r.rightBottom],[r.rightBottom,r.rightTop],[r.topStart,r.topEnd],[r.topEnd,r.cornerPoint],[r.cornerPoint,r.rightTop],[r.leftMiddle,r.middlePoint]];return H3(n,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n);return r[0]>e.x+e.width*.7&&r[1]<e.y+25?$n([e.x+e.width*.7,e.y],r):$n([e.x+e.width*.8,e.y+25],r)},getTextRectangle(e,n){var u,l;const r=N.getRectangleByPoints(e.points),i=$t(e),o=(l=(u=e.texts)==null?void 0:u.find(c=>c.id===(n==null?void 0:n.id)))==null?void 0:l.textHeight;if((n==null?void 0:n.id)===xo.name){const c=r.width*.7-tt.rectangleAndText-i;return{height:o,width:c>0?c:0,x:r.x+tt.rectangleAndText+i,y:r.y+(25-o)/2}}if((n==null?void 0:n.id)===xo.content){const c=r.width-tt.rectangleAndText*2-i*2;return{height:o,width:c>0?c:0,x:r.x+tt.rectangleAndText+i,y:r.y+25+(r.height-25-o)/2}}return r}},Tie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x} ${n.y+25} 
            V${n.y}
            H${n.x+n.width} 
            V${n.y+n.height}
            H${n.x}
            V${n.y+25}
            H${n.x+n.width/3-8}
            L${n.x+n.width/3} ${n.y+16}
            V${n.y}
            `,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Bn(n,on.getCornerPoints(e))},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e,n){var u,l;const r=N.getRectangleByPoints(e.points),i=$t(e),o=(l=(u=e.texts)==null?void 0:u.find(c=>c.id===(n==null?void 0:n.id)))==null?void 0:l.textHeight;if((n==null?void 0:n.id)===xo.name){const c=r.width/3-8-tt.rectangleAndText-i;return{height:o,width:c>0?c:0,x:r.x+tt.rectangleAndText+i,y:r.y+(25-o)/2}}if((n==null?void 0:n.id)===xo.content){const c=r.width-tt.rectangleAndText*2-i*2;return{height:o,width:c>0?c:0,x:r.x+tt.rectangleAndText+i,y:r.y+25+tt.rectangleAndText+i}}return r}};function qk(e){return[[[e.x,e.y],[e.x+e.width,e.y+e.height]],[[e.x+e.width,e.y],[e.x,e.y+e.height]]]}const Aie={draw(e,n,r){const i=L.getRoughSVG(e),o=qk(n),u=i.path(o.map(([l,c])=>`M${l[0]} ${l[1]} L${c[0]} ${c[1]}`).join(" "),{...r,fillStyle:"solid",strokeWidth:4});return Vt(u,"round"),u},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const r=qk(e);let i=1/0,o=n;return r.forEach(u=>{const l=iy(n,u),c=bt(n[0],n[1],l[0],l[1]);c<i&&(i=c,o=l)}),o},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)}},Pie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x} ${n.y} H${n.x+n.width} V${n.y+n.height} H${n.x} Z M${n.x+n.width*.125} ${n.y} L${n.x+n.width*.125} ${n.y+n.height} M${n.x+n.width-n.width*.125} ${n.y} L${n.x+n.width-n.width*.125} ${n.y+n.height}`,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Bn(n,on.getCornerPoints(e))},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2-n.width*.125*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r+n.width*.125,y:n.y+(n.height-i)/2}}},Rie={draw(e,n,r){const o=L.getRoughSVG(e).path(`M${n.x} ${n.y} 
            h${n.width-16}
            v16
            h16
            v${n.height-16}
            h${-n.width}
            Z
            M${n.x+n.width-16} ${n.y} 
            A16 16, 0,0,1, ${n.x+n.width} ${n.y+16}
            `,{...r,fillStyle:"solid"});return Vt(o,"round"),o},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const r=Bn(n,on.getCornerPoints(e));return r[0]>e.x+e.width-16&&r[1]<e.y+16?pi(n,[e.x+e.width-16,e.y+16],16,16):r},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n),i=[e.x+e.width*3/4,e.y+e.height/2],o=[r[0]-i[0],-(r[1]-i[1])],u=Ks(o[0],o[1],16,16);return qs(o[0],o[1],u)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle:e=>{const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r-15;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}}};function Zk(e){const n=e.y+e.height/2,r=e.x+e.width*.3,i=e.width*.13,o=e.height*.285,u=r+i,l=e.width*.233;return{startPoint:[e.x,n],line1:[[e.x,n],[r,n]],circleArcCommand:{rx:i,ry:o,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:r,endY:n},verticalArcCommand:{rx:l,ry:e.height/2,xAxisRotation:0,largeArcFlag:0,sweepFlag:1,endX:u,endY:e.y+e.height},line2:[[u+l,n],[e.x+e.width,n]]}}const Bie={draw(e,n,r){const i=L.getRoughSVG(e),{startPoint:o,line1:u,circleArcCommand:l,verticalArcCommand:c,line2:d}=Zk(n),h=[`M${o[0]} ${o[1]}`,`H${u[1][0]}`,`A${l.rx} ${l.ry} ${l.xAxisRotation} ${l.largeArcFlag} ${l.sweepFlag} ${u[1][0]+l.rx*2} ${l.endY}`,`A${l.rx} ${l.ry} ${l.xAxisRotation} ${l.largeArcFlag} ${l.sweepFlag} ${l.endX} ${l.endY}`,`M${c.endX} ${n.y}`,`A${c.rx} ${c.ry} ${c.xAxisRotation} ${c.largeArcFlag} ${c.sweepFlag} ${c.endX} ${c.endY}`,`M${d[0][0]} ${d[0][1]} H${d[1][0]}`].join(" "),p=i.path(h,{...r,fillStyle:"solid"});return Vt(p,"round"),p},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getNearestPoint(e,n){const{line1:r,line2:i,circleArcCommand:o,verticalArcCommand:u}=Zk(e),l=Bn(n,[...r,...i]),c=bt(...n,...l),d=[r[1][0]+o.rx,r[1][1]],h=pi(n,d,o.rx,o.ry),p=bt(...n,...h),m=[u.endX,e.y],v=oy(n,m,u),w=bt(...n,...v),b=Math.min(c,p,w);return b===c?l:b===p?h:v},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n);return r[0]>e.x+e.width*.43&&r[1]<e.y+e.height/2?op($n(r,[e.x,e.y+e.height/2]),-Math.PI):r[0]>e.x+e.width*.43&&r[1]>e.y+e.height/2?$n(r,[e.x,e.y+e.height/2]):$n(r,[e.x,e.y+e.height/2])}};function Qk(e){const n=e.width*.39,r=e.height/2;return{startPoint:[e.x,e.y],leftArcCommand:{rx:n,ry:r,xAxisRotation:0,largeArcFlag:0,sweepFlag:1,endX:e.x,endY:e.y+e.height},line:{startX:e.x+e.width*.41,startY:e.y+e.height/2,endX:e.x+e.width,endY:e.y+e.height/2}}}const kie={draw(e,n,r){const i=L.getRoughSVG(e),{startPoint:o,leftArcCommand:u,line:l}=Qk(n),c=[`M${o[0]} ${o[1]}`,`A${u.rx} ${u.ry} ${u.xAxisRotation} ${u.largeArcFlag} ${u.sweepFlag} ${u.endX} ${u.endY}`,`M${l.startX} ${l.startY} H${l.endX}`].join(" "),d=i.path(c,{...r,fillStyle:"solid",fill:"transparent"});return Vt(d,"round"),d},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){const{startPoint:r,leftArcCommand:i,line:o}=Qk(e);let u=1/0,l=n;const c=oy(n,r,i),d=bt(n[0],n[1],c[0],c[1]);d<u&&(u=d,l=c);const h=[o.startX,o.startY],p=[o.endX,o.endY],m=iy(n,[h,p]),v=bt(n[0],n[1],m[0],m[1]);return v<u&&(u=v,l=m),l},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)}},Jk=.54;function eM(e){const n=e.y+e.height/2,r=e.width*(1-Jk)/2,i=e.height/2,o=[e.x,n],u=e.x+e.width*Jk;return{startPoint:o,line:{startX:o[0],startY:n,endX:u,endY:n},arcCommands:[{rx:r,ry:i,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:e.x+e.width,endY:n},{rx:r,ry:i,xAxisRotation:0,largeArcFlag:1,sweepFlag:1,endX:u,endY:n}]}}const Mie={draw(e,n,r){const i=L.getRoughSVG(e),{startPoint:o,line:u,arcCommands:l}=eM(n),c=[`M${o[0]} ${o[1]}`,`H${u.endX}`,...l.map(h=>`A${h.rx} ${h.ry} ${h.xAxisRotation} ${h.largeArcFlag} ${h.sweepFlag} ${h.endX} ${h.endY}`)].join(" "),d=i.path(c,{...r,fillStyle:"solid"});return Vt(d,"round"),d},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getNearestPoint(e,n){const{line:r,arcCommands:i}=eM(e),o=[r.startX,r.startY],u=[r.endX,r.endY],l=Bn(n,[o,u]),c=bt(...n,...l),d=[e.x+3*e.width/4,r.startY],h=pi(n,d,i[0].rx,i[0].ry),p=bt(...n,...h);return c<p?l:h},getTangentVectorByConnectionPoint(e,n){const r=N.getConnectionPoint(e,n),i=[e.x+e.width*3/4,e.y+e.height/2];if(r[0]>e.x+e.width*.54){const o=[r[0]-i[0],-(r[1]-i[1])],u=e.width*.46/2,l=e.height/2,c=Ks(o[0],o[1],u,l);return qs(o[0],o[1],c)}return $n(r,[e.x,e.y+e.height/2])}};function Mv(e){const n=e.x+12,r=e.width>70?24:e.width*.2,i=e.height-28-e.height*.35>1?14:e.height*.175,o=e.y+e.height*.175,u=e.y+e.height-e.height*.175-i;return{boxSize:{width:r,height:i},points:{mainStart:[n,e.y],topBoxStart:[n,o],topBoxEnd:[n,o+i],bottomBoxStart:[n,u],bottomBoxEnd:[n,u+i],mainEnd:[n,e.y+e.height],rightTop:[e.x+e.width,e.y],rightBottom:[e.x+e.width,e.y+e.height]}}}const V6={draw(e,n,r){const i=L.getRoughSVG(e),{boxSize:o,points:u}=Mv(n),l=[`M${u.mainStart[0]} ${u.mainStart[1]}`,`H${u.rightTop[0]}`,`V${u.rightBottom[1]}`,`H${u.mainEnd[0]}`,`M${u.topBoxStart[0]} ${u.topBoxStart[1]}`,`h${o.width/2} v${o.height} h${-o.width} v${-o.height} h${o.width/2}`,`M${u.bottomBoxStart[0]} ${u.bottomBoxStart[1]}`,`h${o.width/2} v${o.height} h${-o.width} v${-o.height} h${o.width/2}`,`M${u.mainStart[0]} ${u.mainStart[1]}`,`V${u.topBoxStart[1]}`,`M${u.topBoxEnd[0]} ${u.topBoxEnd[1]}`,`V${u.bottomBoxStart[1]}`,`M${u.bottomBoxEnd[0]} ${u.bottomBoxEnd[1]}`,`V${u.mainEnd[1]}`].join(" "),c=i.path(l,{...r,fillStyle:"solid"});return Vt(c,"round"),c},getNearestPoint(e,n){const{boxSize:r,points:i}=Mv(e),o=[[i.mainStart,[i.rightTop[0],i.mainStart[1]]],[[i.rightTop[0],i.mainStart[1]],i.rightBottom],[i.rightBottom,[i.mainEnd[0],i.rightBottom[1]]],[[i.mainEnd[0],i.rightBottom[1]],i.mainStart],[i.topBoxStart,[i.topBoxStart[0]+r.width/2,i.topBoxStart[1]]],[[i.topBoxStart[0]+r.width/2,i.topBoxStart[1]],[i.topBoxStart[0]+r.width/2,i.topBoxEnd[1]]],[[i.topBoxStart[0]+r.width/2,i.topBoxEnd[1]],[i.topBoxStart[0]-r.width/2,i.topBoxEnd[1]]],[[i.topBoxStart[0]-r.width/2,i.topBoxEnd[1]],[i.topBoxStart[0]-r.width/2,i.topBoxStart[1]]],[[i.topBoxStart[0]-r.width/2,i.topBoxStart[1]],i.topBoxStart],[i.bottomBoxStart,[i.bottomBoxStart[0]+r.width/2,i.bottomBoxStart[1]]],[[i.bottomBoxStart[0]+r.width/2,i.bottomBoxStart[1]],[i.bottomBoxStart[0]+r.width/2,i.bottomBoxEnd[1]]],[[i.bottomBoxStart[0]+r.width/2,i.bottomBoxEnd[1]],[i.bottomBoxStart[0]-r.width/2,i.bottomBoxEnd[1]]],[[i.bottomBoxStart[0]-r.width/2,i.bottomBoxEnd[1]],[i.bottomBoxStart[0]-r.width/2,i.bottomBoxStart[1]]],[[i.bottomBoxStart[0]-r.width/2,i.bottomBoxStart[1]],i.bottomBoxStart],[i.mainStart,i.topBoxStart],[i.topBoxEnd,i.bottomBoxStart],[i.bottomBoxEnd,i.mainEnd]];return H3(n,o)},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getTangentVectorByConnectionPoint(e,n){const{points:r}=Mv(e),i=N.getConnectionPoint(e,n);return $n(r.mainStart,i)},getConnectorPoints(e){const{points:n}=Mv(e);return[[e.x+e.width/2,e.y],[e.x+e.width,e.y+e.height/2],[e.x+e.width/2,e.y+e.height],[n.mainStart[0],e.y+e.height/2]]},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-24-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+24+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}}},Nie={draw(e,n,r){const i=L.getRoughSVG(e),o=n.width-45*2-18>1?45:n.width*.25,u=n.height-30-8*2>1?30:n.height*.2,l={x:n.x+n.width-18-o,y:n.y+8,width:o,height:u},c=i.path(`M${n.x} ${n.y} 
            H${n.x+n.width} 
            V${n.y+n.height} 
            H${n.x} Z

            `,{...r,fillStyle:"solid"}),d=V6.draw(e,l,r);return c.append(d),Vt(c,"round"),c},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Bn(n,on.getCornerPoints(e))},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-45*2-18>1?45:n.width*.25,u=n.width-18-o-tt.rectangleAndText-r*2;return{height:i,width:u>0?u:0,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}}},Oie={draw(e,n,r){const i=L.getRoughSVG(e);return md(i,n.x,n.y,n.x+n.width,n.y+n.height,{...r,fillStyle:"solid",dashGap:10,strokeLineDash:[10,10]},!1,4)},isInsidePoint(e,n){const r=N.getRectangleByPoints([n,n]);return N.isHit(e,r)},getCornerPoints(e){return N.getCornerPoints(e)},getNearestPoint(e,n){return Bn(n,on.getCornerPoints(e))},getEdgeByConnectionPoint(e,n){const r=on.getCornerPoints(e),i=N.getConnectionPoint(e,n);return jr(r,i)},getConnectorPoints(e){return N.getEdgeCenterPoints(e)},getTextRectangle(e){const n=N.getRectangleByPoints(e.points),r=$t(e),i=e.textHeight,o=n.width-tt.rectangleAndText*2-r*2;return{height:i,width:o>0?o:0,x:n.x+tt.rectangleAndText+r,y:n.y+(n.height-i)/2}}},Fie={[lt.rectangle]:on,[lt.diamond]:GE,[lt.ellipse]:_E,[lt.parallelogram]:Hk,[lt.roundRectangle]:Ure,[lt.text]:on,[lt.triangle]:Yre,[lt.leftArrow]:Ore,[lt.trapezoid]:Xre,[lt.rightArrow]:$re,[lt.cross]:Bre,[lt.star]:Zre,[lt.pentagon]:Hre,[lt.hexagon]:Mre,[lt.octagon]:Lre,[lt.pentagonArrow]:_re,[lt.processArrow]:jre,[lt.twoWayArrow]:qre,[lt.comment]:Pre,[lt.roundComment]:Wre,[lt.cloud]:i6,[ut.process]:on,[ut.decision]:GE,[ut.connector]:_E,[ut.data]:Hk,[ut.terminal]:Qre,[ut.database]:gie,[ut.hardDisk]:pie,[ut.internalStorage]:mie,[ut.manualInput]:eie,[ut.preparation]:nie,[ut.manualLoop]:rie,[ut.merge]:iie,[ut.delay]:oie,[ut.storedData]:sie,[ut.or]:cie,[ut.summingJunction]:fie,[ut.predefinedProcess]:aie,[ut.offPage]:lie,[ut.document]:die,[ut.multiDocument]:hie,[ut.noteCurlyLeft]:vie,[ut.noteCurlyRight]:yie,[ut.noteSquare]:wie,[ut.display]:bie,[Yi.swimlaneHorizontal]:If,[Yi.swimlaneVertical]:If,[od.table]:If,[it.actor]:Eie,[it.useCase]:_E,[it.container]:Die,[it.note]:Rie,[it.package]:Sie,[it.combinedFragment]:Tie,[it.class]:If,[it.interface]:If,[it.activation]:on,[it.object]:on,[it.deletion]:Aie,[it.activityClass]:Pie,[it.simpleClass]:on,[it.component]:V6,[it.componentBox]:Nie,[it.template]:Oie,[it.port]:on,[it.branchMerge]:GE,[it.assembly]:Bie,[it.requiredInterface]:kie,[it.providedInterface]:Mie},oi=e=>Fie[e],zp=(e,n)=>{const r=$t(n),i=n.source.boundId?Fo(e,n.source.boundId):void 0,o=n.target.boundId?Fo(e,n.target.boundId):void 0;let u=i?Pu(i,n.source.connection):n.points[0],l=o?Pu(o,n.target.connection):n.points[n.points.length-1],c=Lf([l[0]-u[0],l[1]-u[1]])||Pt.right,d=qJ(c);const h=sc(c),p=sc(d),m={key:Lo.source,point:u,direction:c,vector:[h.x,h.y]},v={key:Lo.target,point:l,direction:d,vector:[p.x,p.y]};if(i){const w=Vr.isSourceMarkOrTargetMark(n,Lr.none,Lo.source)?0:r,b=tM(i,n.source.connection);if(m.vector=b,m.boundElement=i,Ws(i)){const E=Lf(op(b,i.angle));c=E||c}else{const E=Lf(b);c=E||c}m.direction=c,u=Pu(i,n.source.connection,c,w),m.point=Xs(u,i)||u}if(o){const w=Vr.isSourceMarkOrTargetMark(n,Lr.none,Lo.target)?0:r,b=tM(o,n.target.connection);if(v.vector=b,v.boundElement=o,Ws(o)){const E=Lf(op(b,o.angle));d=E||d}else{const E=Lf(b);d=E||d}v.direction=d,l=Pu(o,n.target.connection,d,w),v.point=Xs(l,o)||l}return{source:m,target:v}},Pu=(e,n,r,i)=>{const o=N.getRectangleByPoints(e.points);if(r&&i){const u=sc(r),l=N.getConnectionPoint(o,n);return[l[0]+u.x*i,l[1]+u.y*i]}else return N.getConnectionPoint(o,n)},tM=(e,n)=>{const r=N.getRectangleByPoints(e.points),i=Wu(e),o=oi(i);let u=[0,0];const l=yN(n);if(l&&e.shape!==lt.ellipse){const c=sc(l);return[c.x,c.y]}if(o.getEdgeByConnectionPoint){const c=o.getEdgeByConnectionPoint(r,n);if(c){const d=[c[1][0]-c[0][0],c[1][1]-c[0][1]];return ik(d)}}if(o.getTangentVectorByConnectionPoint){const c=o.getTangentVectorByConnectionPoint(r,n);if(c)return ik(c)}return u},$p=(e,n,r)=>{r=r??zp(e,n);const{sourceRectangle:i,targetRectangle:o}=$ne(e,n,r),{sourceOuterRectangle:u,targetOuterRectangle:l}=hee(i,o),c=r.source.point,d=r.target.point,h=uk(c,u,r.source.direction),p=uk(d,l,r.target.direction);return{sourcePoint:c,nextSourcePoint:h,sourceRectangle:i,sourceOuterRectangle:u,targetPoint:d,nextTargetPoint:p,targetRectangle:o,targetOuterRectangle:l}},Lie=(e,n,r)=>{const i=xd(e,{match:o=>ve.isArrowLine(o)?o.source.boundId===o.id||o.target.boundId===o.id:!1,recursion:o=>!0});i.length&&i.forEach(o=>{const u=o.source.boundId===n.id,l=u?"source":"target",c={...o[l]},d=Bi(e,o),h=u?d[0]:d[d.length-1];c.connection=ad(e,h,n);const p=L.findPath(e,o),m=r.findIndex(v=>gt.equals(v.path,p));m===-1?r.push({property:{[l]:c},path:p}):r[m].property={...r[m].property,[l]:c}})};var Lr;(function(e){e.arrow="arrow",e.none="none",e.openTriangle="open-triangle",e.solidTriangle="solid-triangle",e.sharpArrow="sharp-arrow",e.oneSideUp="one-side-up",e.oneSideDown="one-side-down",e.hollowTriangle="hollow-triangle",e.singleSlash="single-slash"})(Lr||(Lr={}));var Rn;(function(e){e.straight="straight",e.curve="curve",e.elbow="elbow"})(Rn||(Rn={}));var Lo;(function(e){e.source="source",e.target="target"})(Lo||(Lo={}));const Vr={isSourceMarkOrTargetMark(e,n,r){return r===Lo.source?e.source.marker===n:e.target.marker===n},isSourceMark(e,n){return Vr.isSourceMarkOrTargetMark(e,n,Lo.source)},isTargetMark(e,n){return Vr.isSourceMarkOrTargetMark(e,n,Lo.target)},isBoundElementOfSource(e,n){return e.source.boundId===n.id},isBoundElementOfTarget(e,n){return e.target.boundId===n.id},getPoints(e,n){let r;if(n.source.boundId){const u=Fo(e,n.source.boundId),l=Pu(u,n.source.connection);r=Xs(l,u)||l}else r=n.points[0];let i;if(n.target.boundId){const u=Fo(e,n.target.boundId),l=Pu(u,n.target.connection);i=Xs(l,u)||l}else i=n.points[n.points.length-1];const o=n.points.length>2?n.points.slice(1,n.points.length-1):[];return[r,...o,i]}};var fo;(function(e){e.basicShape="basicShape",e.flowchart="flowchart",e.text="text",e.arrowLine="arrow-line",e.UML="UML"})(fo||(fo={}));var L1;(function(e){e.vectorLine="vectorLine"})(L1||(L1={}));var pp;(function(e){e.straight="straight",e.curve="curve"})(pp||(pp={}));const ve={isGeometry:e=>e.type==="geometry",isArrowLine:e=>e.type==="arrow-line"||e.type==="line",isVectorLine:e=>e.type==="vector-line",isLine:e=>ve.isArrowLine(e)||ve.isVectorLine(e),isText:e=>e.type==="geometry"&&e.shape===lt.text,isImage:e=>e.type==="image",isTable:e=>lp.isTable(e),isDrawElement:e=>!!(ve.isGeometry(e)||ve.isLine(e)||ve.isImage(e)||ve.isTable(e)||ve.isSwimlane(e)),isCustomGeometryElement:(e,n)=>{const r=e.getPluginOptions(ON);return!!((r==null?void 0:r.customGeometryTypes)||[]).includes(n.type)},isShapeElement:e=>ve.isImage(e)||ve.isGeometry(e)||ve.isTable(e)||ve.isSwimlane(e),isBasicShape:e=>Object.keys(lt).includes(e.shape),isFlowchart:e=>Object.keys(ut).includes(e.shape),isUML:e=>Object.keys(it).includes(e.shape),isSwimlane:e=>e.type==="swimlane",isVerticalSwimlane:e=>ve.isSwimlane(e)&&e.shape===Yi.swimlaneVertical,isHorizontalSwimlane:e=>ve.isSwimlane(e)&&e.shape===Yi.swimlaneHorizontal,isUMLClassOrInterface:e=>Object.keys(it).includes(e.shape)&&[it.class,it.interface].includes(e.shape),isGeometryByTable:e=>ve.isUMLClassOrInterface(e),isElementByTable:e=>ve.isTable(e)||ve.isSwimlane(e)||ve.isGeometryByTable(e)};class nM extends $u{constructor(){super()}initializeGenerator(){this.activeGenerator=Op(this.board,{getStrokeWidth:()=>(Xe(this.board).length===1&&!mi(this.board),lr),getStrokeOpacity:()=>Xe(this.board).length===1&&!mi(this.board)?1:.5,getRectangle:n=>N.getRectangleByPoints(n.points),hasResizeHandle:()=>gy(this.board,this.element)}),this.lineAutoCompleteGenerator=new Va(this.board),this.shapeGenerator=new v6(this.board),US(this.element)&&this.initializeTextManage(),this.getRef().addGenerator(Va.key,this.lineAutoCompleteGenerator),this.getRef().addGenerator(D1.key,this.activeGenerator),this.getRef().updateActiveSection=()=>{this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}),this.lineAutoCompleteGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected})}}initialize(){super.initialize(),this.initializeGenerator(),this.shapeGenerator.processDrawing(this.element,this.getElementG()),this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}),this.lineAutoCompleteGenerator.processDrawing(this.element,L.getElementTopHost(this.board),{selected:this.selected}),this.textGenerator&&this.textGenerator.draw(this.getElementG())}onContextChanged(n,r){n.element!==r.element||n.hasThemeChanged?(this.shapeGenerator.processDrawing(this.element,this.getElementG()),this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}),this.lineAutoCompleteGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}),this.textGenerator&&this.updateText(r.element,n.element)):(!(n.selected===r.selected)||n.selected)&&(this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}),this.lineAutoCompleteGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}))}updateText(n,r){Na(this.element)?this.textGenerator.update(this.element,n.texts,r.texts,this.getElementG()):this.textGenerator.update(this.element,n.text,r.text,this.getElementG())}initializeTextManage(){const n=(r,i,o)=>{i.newText?Na(r)?ki.setDrawTexts(this.board,r,{id:o.id,text:i.newText,textHeight:i.height}):ki.setText(this.board,r,i.newText,i.width,i.height):ki.setTextSize(this.board,r,i.width,i.height),i.operations&&BS(r,i.operations)};Na(this.element)?this.textGenerator=new PS(this.board,this.element,this.element.texts,{onChange:n}):this.textGenerator=new Rne(this.board,this.element,this.element.text,{onChange:n,getMaxWidth:()=>{var o;let r=pr(this.element).width;const i=oi(this.element.shape).getTextRectangle;return i&&(r=i(this.element).width),(o=this.element)!=null&&o.autoSize?FN.defaultTextMaxWidth:r}}),this.textGenerator.initialize()}destroy(){var n;super.destroy(),this.activeGenerator.destroy(),this.lineAutoCompleteGenerator.destroy(),(n=this.textGenerator)==null||n.destroy()}}const Iie="debug:plait:line-turning",rM=gd(Iie);class Hie extends $u{constructor(){super(),this.boundedElements={}}initializeGenerator(){this.shapeGenerator=new e6(this.board),this.activeGenerator=new x6(this.board),this.initializeTextManages()}initialize(){this.initializeGenerator(),this.shapeGenerator.processDrawing(this.element,this.getElementG());const n=Bi(this.board,this.element);this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected,linePoints:n}),super.initialize(),this.boundedElements=this.getBoundedElements(),this.drawText(),this.getRef().updateActiveSection=()=>{const r=Bi(this.board,this.element);this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected,linePoints:r})},rM.isDebug()&&rM.drawCircles(this.board,this.element.points.slice(1,-1),4,!0)}getBoundedElements(){const n={};if(this.element.source.boundId){const r=Fo(this.board,this.element.source.boundId);r&&(n.source=r)}if(this.element.target.boundId){const r=Fo(this.board,this.element.target.boundId);r&&(n.target=r)}return n}onContextChanged(n,r){const i=this.getBoundedElements(),o=i.source!==this.boundedElements.source||i.target!==this.boundedElements.target;this.boundedElements=i;const u=Bi(this.board,this.element);if(n.element!==r.element||n.hasThemeChanged?(this.shapeGenerator.processDrawing(this.element,this.getElementG()),this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected,linePoints:u}),this.updateText(r.element.texts,n.element.texts),this.updateTextRectangle()):(n.selected!==r.selected||this.activeGenerator.needUpdate()||n.selected)&&this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected,linePoints:u}),o){this.shapeGenerator.processDrawing(this.element,this.getElementG()),this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected,linePoints:u}),this.updateTextRectangle();return}}initializeTextManages(){var n;if((n=this.element.texts)!=null&&n.length){const r=[];this.element.texts.forEach((i,o)=>{const u=this.createTextManage(i,o);r.push(u)}),this.getRef().initializeTextManage(r)}}drawText(){var n;(n=this.element.texts)!=null&&n.length&&this.getRef().getTextManages().forEach((r,i)=>{r.draw(this.element.texts[i].text),this.getElementG().append(r.g)})}createTextManage(n,r){return new Gp(this.board,{getRectangle:()=>MS(this.board,this.element,r),onChange:i=>{const o=L.findPath(this.board,this.element),l=[...Ut.get(this.board,o).texts],c=i.width<M1?M1:i.width;l.splice(r,1,{text:i.newText?i.newText:this.element.texts[r].text,position:this.element.texts[r].position,width:c,height:i.height}),ki.setArrowLineTexts(this.board,this.element,l),i.operations&&BS(this.element,i.operations)},getMaxWidth:()=>FN.defaultTextMaxWidth,textPlugins:[]})}updateText(n,r){if(n===r)return;const i=n.length,o=r.length,u=this.getRef().getTextManages();if(o===i)for(let l=0;l<i;l++)n[l].text!==r[l].text&&u[l].updateText(r[l].text);else this.getRef().destroyTextManage(),this.initializeTextManages(),this.drawText()}updateTextRectangle(){this.getRef().getTextManages().forEach(r=>{r.updateRectangle()})}destroy(){super.destroy(),this.activeGenerator.destroy(),this.getRef().destroyTextManage()}}class Gie extends $u{constructor(){super()}initializeGenerator(){this.shapeGenerator=new n6(this.board),this.activeGenerator=new x6(this.board),this.getRef().updateActiveSection=()=>{const n=ku(this.board,this.element);this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected,linePoints:n})}}initialize(){this.initializeGenerator(),this.shapeGenerator.processDrawing(this.element,this.getElementG());const n=ku(this.board,this.element);this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected,linePoints:n}),super.initialize()}onContextChanged(n,r){const i=ku(this.board,this.element);n.element!==r.element||n.hasThemeChanged?(this.shapeGenerator.processDrawing(this.element,this.getElementG()),this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected,linePoints:i})):(n.selected!==r.selected||this.activeGenerator.needUpdate()||n.selected)&&this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected,linePoints:i})}destroy(){super.destroy(),this.activeGenerator.destroy()}}const _ie=e=>{const{keyDown:n,dblClick:r}=e;return e.keyDown=i=>{const o=Xe(e),u=o.length===1,l=o[0];if(!L.isReadonly(e)&&!bS(i)&&!ES(i)&&!CS(i)&&u&&ve.isGeometry(l)){i.preventDefault(),HE(e,l);return}n(i)},e.dblClick=i=>{if(i.preventDefault(),!L.isReadonly(e)){const o=Et(e,At(e,i.x,i.y)),u=Zs(e,o,void 0,!1);if(u&&ve.isGeometry(u)&&h6(u))if(Na(u)){const l=gne(u,o)||u.texts.find(c=>c.id.includes(xo.content))||u.texts[0];HE(e,u,l)}else HE(e,u)}r(i)},e},iM=e=>{const n=AS();return L.isInPointer(e,n)&&py(e)},jE=e=>{const n=AS();return L.isInPointer(e,n)&&yc(e)},Vie=e=>{const{pointerMove:n,globalPointerUp:r,pointerUp:i}=e;let o=null,u=null,l=null;return e.pointerMove=c=>{o==null||o.remove(),o=Lt();const d=AS(),p=L.isInPointer(e,d)&&py(e),m=Et(e,At(e,c.x,c.y)),v=L.getPointer(e),w=_S(e,v);if(p){const b=Uu(v);if(v===lt.text){const E=jp(e,hp(e),b.textProperties["font-size"]),S=N.getPoints(N.getRectangleByCenterPoint(m,E.width,E.height));if(u=$S(e,S,hp(e)),l)l.textManage.updateRectangle(),l.g.append(l.textManage.g);else{const T=new Gp(e,{getRectangle:()=>pr(u)});T.draw(u.text),l={g:Lt(),textManage:T},L.getHost(e).append(l.g),l.g.append(T.g)}}else{const E=E6(v,m);u=gp(e,E,v),w.processDrawing(u,o),L.getElementTopHost(e).append(o)}}n(c)},e.pointerUp=c=>{iM(e)&&u||i(c)},e.globalPointerUp=c=>{iM(e)&&u&&(_a(e,u),l==null||l.textManage.destroy(),l==null||l.g.remove(),l=null),u=null,o==null||o.remove(),o=null,r(c)},e},jie=e=>{const{pointerDown:n,pointerMove:r,pointerUp:i,keyDown:o,keyUp:u}=e;let l=null,c=null,d=null,h=!1,p;return e.keyDown=m=>{h=Kt.isKeyHotkey("shift",m),o(m)},e.keyUp=m=>{h=!1,u(m)},e.pointerDown=m=>{if(!L.isReadonly(e)&&jE(e)){const v=Et(e,At(e,m.x,m.y));l=v;const w=L.getPointer(e);if(w===lt.text){const b=Uu(w),E=jp(e,hp(e),b.textProperties["font-size"]),S=N.getPoints(N.getRectangleByCenterPoint(v,E.width,E.height)),T=$S(e,S,hp(e));_a(e,T),l=null}}n(m)},e.pointerMove=m=>{c==null||c.remove(),c=Lt();const v=Et(e,At(e,m.x,m.y)),w=L.getPointer(e),b=_S(e,w);if(p==null||p.remove(),l&&jE(e)){let E=ac([l,v],h);const S=N.getRectangleByPoints(E),[T,C]=$n(l,v),B=Dy(e,[],{resizePoints:E,activeRectangle:S,directionFactors:[id(T),id(C)],isAspectRatio:h,isFromCorner:!0,isCreate:!0});p=B.snapG,L.getElementTopHost(e).append(p),E=ac(B.activePoints,h),d=gp(e,E,w),b.processDrawing(d,c),L.getElementTopHost(e).append(c)}r(m)},e.pointerUp=m=>{if(jE(e)&&l){const v=Et(e,At(e,m.x,m.y)),{width:w,height:b}=N.getRectangleByPoints([l,v]);if(Math.hypot(w,b)<8){const E=L.getPointer(e);if(E!==lt.text){const S=E6(E,v);d=gp(e,S,E)}}d&&_a(e,d),p==null||p.remove(),c==null||c.remove(),c=null,l=null,d=null;return}i(m)},e},zie=e=>{const n=e,{getDeletedFragment:r,buildFragment:i,insertFragment:o}=n;return n.getDeletedFragment=u=>{const l=O1(n);if(l.length){const c=l.filter(b=>ve.isGeometry(b)),d=l.filter(b=>ve.isArrowLine(b)),h=l.filter(b=>ve.isVectorLine(b)),p=l.filter(b=>ve.isImage(b)),m=l.filter(b=>ve.isTable(b)),v=l.filter(b=>ve.isSwimlane(b)),w=[...Eg(n,c),...Eg(n,p),...Eg(n,m),...Eg(n,v)].filter(b=>!d.includes(b));u.push(...c,...d,...h,...p,...m,...v,...w.filter(b=>!d.includes(b)))}return r(u)},n.buildFragment=(u,l,c,d)=>{const h=O1(n,d);let p=[];if(h.length){if(c===vs.cut){const E=h.filter(T=>ve.isGeometry(T)),S=h.filter(T=>ve.isArrowLine(T));p=Eg(n,E).filter(T=>!S.includes(T))}const m=[...h,...p],v=Tre(n,m,l?[l.x,l.y]:[0,0]),b={text:CN(m),type:Fa.elements,elements:v};u=cy(u,b)}return i(u,l,c,d)},n.insertFragment=(u,l,c)=>{var h,p,m;const d=Xe(n);if((h=u==null?void 0:u.files)!=null&&h.length){const v=fN.map(b=>"image/"+b),w=!ji(n)&&!(d.length===1&&n.isImageBindingAllowed(d[0]));if(v.includes(u.files[0].type)&&w){const b=u.files[0];EN(n,b,Tte,E=>{ki.insertImage(n,E,l)});return}}if((p=u==null?void 0:u.elements)!=null&&p.length){const v=(m=u.elements)==null?void 0:m.filter(w=>ve.isDrawElement(w));u.elements&&u.elements.length>0&&v.length>0&&Are(n,v,l)}if(u!=null&&u.text&&(!u.elements||u.elements.length===0)&&!(d.length===1&&d[0].children)){ki.insertText(n,l,u.text);return}o(u,l,c)},n},Eg=(e,n)=>une(e).filter(i=>n.find(o=>Vr.isBoundElementOfSource(i,o)||Vr.isBoundElementOfTarget(i,o))),$ie=e=>{const{pointerDown:n,pointerMove:r,globalPointerUp:i}=e;let o=null,u,l=null,c=null;return e.pointerDown=d=>{const h=Dte(),p=L.isInPointer(e,h);if(!L.isReadonly(e)&&p&&yc(e)){const m=Et(e,At(e,d.x,d.y));o=m;const v=IS(e,m);v&&(u=v)}n(d)},e.pointerMove=d=>{l==null||l.remove(),l=Lt();let h=Et(e,At(e,d.x,d.y));if(o){const p=L.getPointer(e);c=NS(e,p,o,h,u,l)}r(d)},e.globalPointerUp=d=>{c&&(Ge.insertNode(e,c,[e.children.length]),pd(e),mc(e,c),gn.updatePointerType(e,qt.selection)),l==null||l.remove(),l=null,u=null,o=null,c=null,i(d)},e},Uie=e=>{let n,r,i,o,u;return xc(e,{key:"draw-line",canResize:()=>!0,hitTest:c=>{const d=XS(e);if(d.length>0){let h=null;return d.forEach(p=>{const m=w6(e,p,c);m&&(h={element:p,handle:m.handle,handleIndex:m.handleIndex})}),h}return null},beforeResize:c=>{if(c.element.shape===Rn.elbow&&c.handle!==Hr.source&&c.handle!==Hr.target){const d=$p(e,c.element);if(WS(c.element,d))return;const h=[...c.element.points],p=c.handleIndex,m=Cy(e,c.element);i=m[0],o=m[m.length-1],u=S6(e,c.element,m);const v=ZN(e,c.element,[...h],u,p);n=v.index,r=v.deleteCount}},onResize:(c,d)=>{let h=[...c.element.points],p={...c.element.source},m={...c.element.target},v=c.handleIndex;const w=IS(e,d.endPoint);if(c.handle===Hr.source||c.handle===Hr.target){const b=c.handle===Hr.source?p:m;h[v]=d.endPoint,w?(b.connection=ad(e,d.endPoint,w),b.boundId=w.id):(b.connection=void 0,b.boundId=void 0)}else if(c.element.shape===Rn.elbow){if(u&&i&&o){const b=Ute(u,i,o,v),E=u[v],S=u[v+1],[T,C]=Wte(E,S,d,b);let B=[...h].slice(1,h.length-1);n!==null&&r!==null&&(JN(B)?B=[T,C]:B.splice(n,r,T,C),h=[i,...B,o])}}else c.handle===Hr.addHandle?h.splice(v+1,0,d.endPoint):h[v]=d.endPoint;if(!w){v=c.handle===Hr.addHandle?v+1:v;const b=Bi(e,c.element),E=[...h];E[0]=b[0],E[E.length-1]=b[b.length-1],(c.element.shape!==Rn.elbow||c.element.shape===Rn.elbow&&E.length===2)&&E.forEach((S,T)=>{T!==v&&h[v]&&(h[v]=kS(S,h[v]))})}ki.resizeArrowLine(e,{points:h,source:p,target:m},c.path)},afterResize:c=>{if(c.element.shape===Rn.elbow){const d=Ut.get(e,c.path);let h=d&&[...d.points];if(h.length>2&&u&&i&&o){const p=u[0],m=u[u.length-1];h.splice(0,1,p),h.splice(-1,1,m),h=Sa(h),ct.isEquals(h[0],p)&&h.splice(0,1),ct.isEquals(h[h.length-1],m)&&h.pop(),h.length===1&&(h=[]),h=[i,...h,o],ki.resizeArrowLine(e,{points:h},c.path)}}n=null,r=null,i=null,o=null,u=null}}),e},Wie=e=>{const{pointerMove:n,pointerUp:r}=e;let i=null;return e.pointerMove=o=>{if(i==null||i.remove(),L.isReadonly(e)){n(o);return}const u=Object.keys(Rn),l=L.isInPointer(e,u),c=Et(e,At(e,o.x,o.y)),d=$J(e,h=>{const{element:p,handle:m}=h,v=m===Hr.target||m===Hr.source;return ve.isArrowLine(p)&&v});if(l||d){const h=p6(e,c);if(h){const p=HS(e,h,c),m=p.isHitEdge||p.isHitConnector;if(i=Pne(e,h,{hasMask:m,hasConnector:!0}),m){const v=vc(L.getRoughSVG(e),p.connectorPoint||p.edgePoint,6,{stroke:qi,strokeWidth:wD,fill:qi,fillStyle:"solid"});i.appendChild(v)}Ws(h)&&Io(i,N.getCenterPointByPoints(h.points),h.angle),L.getElementTopHost(e).append(i)}}n(o)},e.pointerUp=o=>{i==null||i.remove(),i=null,r(o)},e},j6=e=>fy(e,sd.lineText,Lte),Xie=e=>{const{dblClick:n}=e;return e.dblClick=r=>{var i,o;if(!L.isReadonly(e)){const u=Et(e,At(e,r.x,r.y)),l=Zs(e,u);if(l&&ve.isArrowLine(l)){const c=l&&L.findPath(e,l),d=Bi(e,l),h=Bn(u,d),p=(i=l.texts)!=null&&i.length?[...l.texts]:[],m=OS(e,l,u);if(o6(e,l,u))oM(e,l,m);else{const w=j6(e),b=((o=my("arrow-line"))==null?void 0:o.text)||{},E=wc(w,void 0,b),{width:S,height:T}=Hp(e,E,{fontSize:up,fontFamily:Yf}),C=vN(d,h);p.push({text:E,position:C,width:S,height:T}),ki.setArrowLineTexts(e,l,p),setTimeout(()=>{if(c){const B=Ut.get(e,c),P=Fp(B);oM(e,B,P.length-1,!0)}})}}}n(r)},e};function oM(e,n,r,i=!1){const u=Fp(n)[r];u.edit(()=>{const l=Le.string(u.getText()),c=j6(e);(!l||i&&l===c)&&ki.removeArrowLineText(e,n,r)})}class Yie extends $u{constructor(){super()}initializeGenerator(){this.imageGenerator=new Ga(this.board,{getRectangle:n=>({x:n.points[0][0],y:n.points[0][1],width:n.points[1][0]-n.points[0][0],height:n.points[1][1]-n.points[0][1]}),getImageItem:n=>({url:n.url,width:n.points[1][0]-n.points[0][0],height:n.points[1][1]-n.points[0][1]})}),this.lineAutoCompleteGenerator=new Va(this.board),this.getRef().addGenerator(Va.key,this.lineAutoCompleteGenerator),this.getRef().updateActiveSection=()=>{this.imageGenerator.setFocus(this.element,this.selected),this.lineAutoCompleteGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected})}}initialize(){super.initialize(),this.initializeGenerator(),this.imageGenerator.processDrawing(this.element,this.getElementG()),this.lineAutoCompleteGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected})}onContextChanged(n,r){n.element!==r.element?(this.imageGenerator.updateImage(this.getElementG(),r.element,n.element),this.imageGenerator.setFocus(this.element,this.selected),this.lineAutoCompleteGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected})):(!(n.selected===r.selected)||n.selected)&&(this.imageGenerator.setFocus(this.element,this.selected),this.lineAutoCompleteGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}))}destroy(){super.destroy(),this.imageGenerator.destroy(),this.lineAutoCompleteGenerator.destroy()}}const Kie="plait-arrow-line-auto-complete-plugin-key",$f=new WeakMap,qie=e=>{const{pointerDown:n,pointerMove:r,globalPointerUp:i}=e;let o=null,u=null,l,c;return e.pointerDown=d=>{const h=O1(e),p=h.length===1&&h[0],m=ic(e,d.x,d.y);if(!L.isReadonly(e)&&p&&ve.isShapeElement(p)){const v=jS(e,p,!0),w=C6(Lu(e,m,p,!0)||m,v),b=v[w];if(b){PD(e);const E=mW(e,b);o=Et(e,At(e,E[0],E[1])),l=p,gn.updatePointerType(e,Rn.elbow)}}n(d)},e.pointerMove=d=>{u==null||u.remove(),u=Lt();let h=Et(e,At(e,d.x,d.y));if(o&&l&&bt(...Lu(e,h,l)||h,...o)>N3*2){const m=N.getRectangleByPoints(l.points),v=Wu(l),w=oi(v);let b=o;w.getNearestCrossingPoint&&(b=w.getNearestCrossingPoint(m,o));const E=Xs(b,l)||b;c=NS(e,Rn.elbow,E,h,l,u),Ge.addSelectionWithTemporaryElements(e,[])}r(d)},e.globalPointerUp=d=>{var h;if(c){Ge.insertNode(e,c,[e.children.length]),pd(e),mc(e,c);const p=(h=e.getPluginOptions(Kie))==null?void 0:h.afterComplete;p&&p(c)}else{const p=$f.get(e);p&&(Ge.insertNode(e,p.temporaryArrowLineElement,[e.children.length]),_a(e,p.temporaryShapeElement),$f.delete(e))}o&&(gn.updatePointerType(e,qt.selection),o=null),u==null||u.remove(),u=null,l=null,c=null,i(d)},e},sM=100,Zie=e=>{const{pointerMove:n,pointerLeave:r,globalPointerUp:i}=e;let o=null,u=null,l=null,c=null,d=null;e.pointerMove=p=>{o==null||o.remove(),L.getBoardContainer(e).classList.remove(Mg.crosshair);const m=O1(e);c==null||c.remove(),d==null||d.remove();const v=m.length===1&&m[0],w=ic(e,p.x,p.y);if(!L.isReadonly(e)&&!mi(e)&&v&&ve.isShapeElement(v)){const b=jS(e,v,!0),E=C6(Lu(e,w,v,!0)||w,b),S=b[E];if(sn.getElementRef(v).getGenerator(Va.key).recoverAutoCompleteG(),S){if(o=vc(L.getRoughSVG(e),S,Fte,{stroke:"none",fill:qg(Cd,Ote),fillStyle:"solid"}),L.getActiveHost(e).append(o),L.getBoardContainer(e).classList.add(Mg.crosshair),Ws(v)){const B=e.getRectangle(v),P=gi(e,B);Io(o,N.getCenterPoint(P),v.angle)}if(ve.isGeometry(v)&&!ve.isText(v)){const B=N.getRectangleByPoints(v.points);let P=N.getEdgeCenterPoints(B)[E];const I=wee(E);let z=Un(P,sM,I);const Y=_S(e,v.shape),te=v.points.map(ne=>Un(ne,sM+BN(v.points[0],v.points[1],YX(I)),I));c=Lt(),d=Lt(),c.style.opacity="0.6",d.style.opacity="0.6",l=gp(e,te,v.shape),l.angle=v.angle,l.fill=v.fill,l.strokeColor=v.strokeColor,l.strokeStyle=v.strokeStyle,l.strokeWidth=v.strokeWidth,l.groupId=v.groupId;const re=Xs(P,v)||P,ae=Xs(z,l)||z;u=NS(e,Rn.elbow,re,ae,v,c),$f.set(e,{temporaryArrowLineElement:u,temporaryShapeElement:l});const ce=ad(e,ae,l);u.target.boundId=l.id,u.target.connection=ce,Y.processDrawing(l,d),L.getElementTopHost(e).append(d)}return}}$f.delete(e),n(p)},e.pointerLeave=p=>{h(),r(p)};const h=()=>{o&&(o==null||o.remove(),L.getBoardContainer(e).classList.remove(Mg.crosshair),c==null||c.remove(),d==null||d.remove()),$f.get(e)&&$f.delete(e)};return e.globalPointerUp=p=>{i(p),h()},e},Qie=e=>{let n=0;const r=100;return xc(e,{key:"line-text",canResize:()=>!0,hitTest:o=>{let u=null;const l=Zs(e,o,c=>ve.isArrowLine(c));if(l){const c=OS(e,l,o),h=Fp(l)[c];if(c!==-1&&!h.isEditing)return n=c,{element:l,handle:YD.e}}return u},onResize:(o,u)=>{const l=o.element;if(l){const c=u.endPoint,d=Bi(e,l);if(T8(c,d)<=r){const p=Bn(c,d,!1),m=vN(d,p),v=[...l.texts];v[n]={...v[n],position:m},ki.setArrowLineTexts(e,l,v)}}}}),e},Jie=e=>{const{pointerDown:n,pointerMove:r,globalPointerUp:i,afterChange:o,drawSelectionRectangle:u}=e;let l=null,c,d=!1;const h=()=>{const p=Xe(e);return p.length>0&&p.every(m=>ve.isDrawElement(m)&&!ve.isArrowLine(m)||ve.isCustomGeometryElement(e,m))};return e.pointerDown=p=>{if(!h()||L.isReadonly(e)||L.hasBeenTextEditing(e)||!Us(p)){n(p);return}const m=ic(e,p.x,p.y),v=Xe(e),w=an(e,v,!1),b=gi(e,w),E=pre(b),S=Xi(v),T=S?Ar(m,N.getCenterPoint(b),-S):m;E&&N.isHit(N.getRectangleByPoints([T,T]),E)&&(l={elements:[...v],startPoint:m}),n(p)},e.pointerMove=p=>{if(l){p.preventDefault();const m=!!p.shiftKey;pee(e,l);const v=ic(e,p.x,p.y),w=an(e,l.elements,!1),b=gi(e,w),E=N.getCenterPoint(b);!Xi(l.elements)&&l.elements.length>1&&(d=!0),ys(e,"with-common-rotate",()=>{if(l&&l.startPoint){let S=VX(l.startPoint,v,E);const T=Xi(l.elements);S=Qg(T+S),m&&(S+=Math.PI/12/2,S-=S%(Math.PI/12));let C=S%(Math.PI/2);if(Math.PI/2-C<=LD(5)){const B=Math.PI/2-C;S+=B}if(C<=LD(5)){const B=-C;S+=B}l.angle=Qg(S-T)||0,_X(e,l.elements,l.angle),Jr.set(e,!0),L.getBoardContainer(e).classList.add("element-rotating")}});return}r(p)},e.globalPointerUp=p=>{if(i(p),d){d=!1;const m=Xe(e);Ge.addSelectionWithTemporaryElements(e,m)}L.getBoardContainer(e).classList.remove("element-rotating"),mee(e),l=null,Jr.set(e,!1)},e.afterChange=()=>{if(o(),c&&(c.remove(),c=null),h()&&!mi(e)){if(d&&l){const p=an(e,l.elements,!1),m=gi(e,p);c=ek(e,m),c.classList.add(e7),l.angle&&Io(c,N.getCenterPoint(m),l.angle)}else{const p=Xe(e),m=an(e,p,!1),v=gi(e,m);c=ek(e,v),c.classList.add(e7),Io(c,N.getCenterPoint(v),Xi(p))}L.getActiveHost(e).append(c)}},e.drawSelectionRectangle=()=>{if(d&&l){const p=an(e,l.elements,!1),m=gi(e,p),v=ws(e,N.inflate(m,lr),{stroke:qi,strokeWidth:lr});return v.classList.add(Rp),l.angle&&Io(v,N.getCenterPoint(m),l.angle),v}return u()},e};class z6 extends $u{constructor(){super()}initializeGenerator(){this.activeGenerator=Op(this.board,{getStrokeWidth:()=>lr,getStrokeOpacity:()=>1,getRectangle:n=>{const r=zf(n);return r!=null&&r.length?_te(this.board,this.element,r):N.getRectangleByPoints(n.points)},hasResizeHandle:()=>{const n=zf(this.element);return n!=null&&n.length?!1:gy(this.board,this.element)}}),this.tableGenerator=new by(this.board),this.initializeTextManage(),this.lineAutoCompleteGenerator=new Va(this.board),this.getRef().addGenerator(Va.key,this.lineAutoCompleteGenerator),this.getRef().updateActiveSection=()=>{this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}),this.lineAutoCompleteGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected})}}initialize(){super.initialize(),this.initializeGenerator(),this.draw()}draw(){this.tableGenerator.processDrawing(this.element,this.getElementG()),this.textGenerator.draw(this.getElementG()),this.rotateVerticalText(),this.lineAutoCompleteGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected})}rotateVerticalText(){this.board.buildTable(this.element).cells.forEach(r=>{if(lp.isVerticalText(r)){const i=WN(this.board,r);if(i){const u=oi(od.table).getTextRectangle(this.element,{id:r.id,board:this.board});i.g.classList.add("vertical-cell-text"),Io(i.g,N.getCenterPoint(u),LD(-90))}}})}getDrawShapeTexts(n){return n.filter(r=>KN(r)).map(r=>({id:r.id,text:r.text,textHeight:r.textHeight,board:this.board}))}initializeTextManage(){const n=this.getDrawShapeTexts(this.element.cells);this.textGenerator=new PS(this.board,this.element,n,{onChange:(r,i,o)=>{const u=L.findPath(this.board,r);i.newText&&ki.setTableText(this.board,u,o.id,i.newText,i.height),i.operations&&BS(r,i.operations)},getRenderRectangle:(r,i)=>{const o=bc(this.board,r,i.id);if(lp.isVerticalText(o)){const u=N.getRectangleByPoints(o.points),l=$t(o),c=o.textHeight||0,d=u.height-tt.rectangleAndText*2-l*2;return{width:c,height:d>0?d:0,x:u.x+tt.rectangleAndText+l,y:u.y+(u.height-d)/2}}else return _6(o)}}),this.textGenerator.initialize()}onContextChanged(n,r){if(n.element!==r.element||n.hasThemeChanged){const i=zf(r.element);i!=null&&i.length&&(Ck(r.element),UN(n.element,i)),this.tableGenerator.processDrawing(n.element,this.getElementG()),this.activeGenerator.processDrawing(n.element,L.getActiveHost(this.board),{selected:this.selected});const o=this.getDrawShapeTexts(r.element.cells),u=this.getDrawShapeTexts(n.element.cells);this.textGenerator.update(n.element,o,u,this.getElementG()),this.rotateVerticalText()}else{const i=n.selected===r.selected,o=zf(n.element);(!i||o!=null&&o.length||n.selected)&&this.activeGenerator.processDrawing(n.element,L.getActiveHost(this.board),{selected:this.selected}),this.selected||Ck(n.element)}this.lineAutoCompleteGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected})}destroy(){super.destroy(),this.activeGenerator.destroy(),this.tableGenerator.destroy(),this.textGenerator.destroy(),this.lineAutoCompleteGenerator.destroy()}}const aM=20;function eoe(e){let n;return xc(e,{key:"draw-table",canResize:()=>{const i=Xe(e);return JD(e)&&!Ws(i[0])},hitTest:i=>{const u=Xe(e)[0];if(u&&ve.isElementByTable(u)){let l=e.getRectangle(u),c=r3(e,l,i,u.angle);if(c){const h=ql(e,u);if(h&&JD(e)||!h&&!qv(e,c.handle))return{element:u,handle:c.handle,cursorClass:c.cursorClass,rectangle:l}}const d=_p(e,u);for(let h=0;h<d.length;h++)if(l=N.getRectangleByPoints(d[h].points),c=r3(e,l,i,0),c&&!qv(e,c.handle))return{element:u,handle:c.handle,cursorClass:c.cursorClass,rectangle:l,options:{cell:d[h]}}}return null},onResize:(i,o)=>{var l,c,d,h;n==null||n.remove();const u=L.findPath(e,i.element);if((l=i.options)!=null&&l.cell&&i.rectangle){const p=T1(i.handle),{originPoint:m,handlePoint:v}=i3(e,p,i.rectangle),w=[o.startPoint,o.endPoint],{xZoom:b,yZoom:E}=YS(w,m,v,!1,!1),S=(c=i.options)==null?void 0:c.cell.points,T=S.map(z=>Ra(z,m,b,E)),C=T[1][0]-S[1][0],B=T[1][1]-S[1][1],P=T[1][0]-T[0][0],I=T[1][1]-T[0][1];if(C!==0&&P>=aM){const{columns:z,points:Y}=XN(i.element,(d=i.options)==null?void 0:d.cell.columnId,P,C);Ge.setNode(e,{columns:z,points:Y},u)}else if(B!==0&&I>=aM){const{rows:z,points:Y}=YN(i.element,(h=i.options)==null?void 0:h.cell.rowId,I,B);Ge.setNode(e,{rows:z,points:Y},u)}}else{const p=qv(e,i.handle),m=o.isShift,v=T1(i.handle),{originPoint:w,handlePoint:b}=i3(e,v,i.rectangle),E=I6(e,i,o,{originPoint:w,handlePoint:b},m,p),S=Dy(e,[i.element],E);n=S.snapG,L.getElementTopHost(e).append(n);const T=S.activePoints,C=i.element.points,B=N.getRectangleByPoints(C),P=N.getRectangleByPoints(T),I=P.width-B.width,z=P.height-B.height;let Y=[...i.element.columns],te=[...i.element.rows];I!==0&&(Y=Y.map(re=>re.width?{...re,width:re.width+I*(re.width/B.width)}:re)),z!==0&&(te=te.map(re=>re.height?{...re,height:re.height+z*(re.height/B.height)}:re)),Ge.setNode(e,{points:ac(T),columns:Y,rows:te},u)}},afterResize:i=>{n==null||n.remove(),n=null}}),e}const toe=e=>{const n=e,{drawElement:r,getRectangle:i,isRectangleHit:o,isHit:u,isMovable:l,dblClick:c,keyDown:d,pointerUp:h}=n;return n.drawElement=p=>ve.isElementByTable(p.element)?z6:r(p),n.isHit=(p,m,v)=>{if(ve.isElementByTable(p)){const w=N.getRectangleByPoints(p.points),b=If.getNearestPoint(w,m);return bt(b[0],b[1],m[0],m[1])<=O3||N.isPointInRectangle(w,m)}return u(p,m,v)},n.getRectangle=p=>ve.isElementByTable(p)?N.getRectangleByPoints(p.points):i(p),n.isMovable=p=>ve.isElementByTable(p)?!0:l(p),n.isRectangleHit=(p,m)=>{if(ve.isElementByTable(p)){const v=N.getRectangleByPoints([m.anchor,m.focus]),w=N.getRectangleByPoints(p.points);return g1(N.getCornerPoints(w),v)}return o(p,m)},n.keyDown=p=>{const m=Xe(e),v=m.length===1,w=m[0];if(!L.isReadonly(e)&&!L.hasBeenTextEditing(n)&&!bS(p)&&!ES(p)&&!CS(p)&&v&&(p.preventDefault(),ve.isElementByTable(w))){const b=zf(w);let E=w.cells.find(S=>S.text&&S.textHeight);if(b!=null&&b.length&&(E=b.find(S=>S.text&&S.textHeight)),E){Tk(e,E);return}}d(p)},n.dblClick=p=>{if(p.preventDefault(),!L.isReadonly(e)){const m=Et(e,At(e,p.x,p.y)),v=Zs(e,m);if(v&&ve.isElementByTable(v)){const w=Sk(n,v,m);if(w&&w.text&&w.textHeight){Tk(e,w);return}}}c(p)},n.pointerUp=p=>{const m=L.isPointer(n,qt.selection)||L.isPointer(n,qt.hand);if(!Us(p)||wd(n)||!m){h(p);return}if(JD(n)){const w=Et(n,At(n,p.x,p.y)),b=Ite(n)[0],E=Sk(n,b,w);E&&E.text&&E.textHeight&&UN(b,[E])}h(p)},n.buildTable=p=>p,eoe(n)},zE=e=>k6(e)&&py(e),$E=e=>k6(e)&&yc(e),noe=e=>{const{pointerMove:n,globalPointerUp:r,pointerUp:i}=e;let o=null,u=null;return e.pointerMove=l=>{o==null||o.remove(),o=Lt();const c=new by(e),d=L.getPointer(e),h=zE(e),p=Et(e,At(e,l.x,l.y));if(h){const m=B6(d,p);u=F1(d,m),c.processDrawing(u,o),L.getElementTopHost(e).append(o)}n(l)},e.pointerUp=l=>{zE(e)&&u||i(l)},e.globalPointerUp=l=>{zE(e)&&u&&_a(e,u),u=null,o==null||o.remove(),o=null,r(l)},e},roe=e=>{const{pointerDown:n,pointerMove:r,pointerUp:i,keyDown:o,keyUp:u}=e;let l=null,c=null,d=null,h=!1,p;return e.keyDown=m=>{h=Kt.isKeyHotkey("shift",m),o(m)},e.keyUp=m=>{h=!1,u(m)},e.pointerDown=m=>{!L.isReadonly(e)&&$E(e)&&(l=Et(e,At(e,m.x,m.y))),n(m)},e.pointerMove=m=>{c==null||c.remove(),c=Lt();const v=new by(e),w=Et(e,At(e,m.x,m.y)),b=L.getPointer(e);if(p==null||p.remove(),l&&$E(e)){let E=ac([l,w],h);const S=N.getRectangleByPoints(E),[T,C]=$n(l,w),B=Dy(e,[],{resizePoints:E,activeRectangle:S,directionFactors:[id(T),id(C)],isAspectRatio:h,isFromCorner:!0,isCreate:!0});p=B.snapG,L.getElementTopHost(e).append(p),E=ac(B.activePoints,h),d=F1(b,E),v.processDrawing(d,c),L.getElementTopHost(e).append(c)}r(m)},e.pointerUp=m=>{if($E(e)&&l){const v=Et(e,At(e,m.x,m.y)),{width:w,height:b}=N.getRectangleByPoints([l,v]);if(Math.hypot(w,b)<8){const E=L.getPointer(e),S=B6(E,v);d=F1(E,S)}d&&_a(e,d),p==null||p.remove(),c==null||c.remove(),c=null,l=null,d=null;return}i(m)},e},ioe=e=>{const{drawElement:n,buildTable:r,pointerUp:i}=e;return e.drawElement=o=>ve.isSwimlane(o.element)?z6:n(o),e.buildTable=o=>ve.isSwimlane(o)?ire(o):r(o),roe(noe(e))},ooe=e=>{const{pointerDown:n,pointerMove:r,dblClick:i,globalKeyDown:o}=e;let u=null,l=null,c=[];const d=()=>{l&&Ge.insertNode(e,l,[e.children.length]),L.getBoardContainer(e).classList.remove("vector-line-closed"),u==null||u.remove(),u=null,l=null,c=[]};return e.pointerDown=h=>{const p=Ste(),m=L.isInPointer(e,p);if(!L.isReadonly(e)&&m&&yc(e)){let v=Et(e,At(e,h.x,h.y));if(c.length>1&&bt(...v,...c[0])<=k1){c.push(c[0]),d();return}c.push(v);return}n(h)},e.pointerMove=h=>{u==null||u.remove(),u=Lt();let p=Et(e,At(e,h.x,h.y));L.getPointer(e)===L1.vectorLine&&c.length>0&&(bt(...p,...c[0])<=k1?(p=c[0],L.getBoardContainer(e).classList.add("vector-line-closed")):L.getBoardContainer(e).classList.remove("vector-line-closed"),l=mne(e,pp.straight,c,p,u)),r(h)},e.dblClick=h=>{if(!L.isReadonly(e)&&l){d(),gn.updatePointerType(e,qt.selection);return}i(h)},e.globalKeyDown=h=>{if(!L.isReadonly(e)){const p=Kt.isKeyHotkey("esc",h),m=Kt.isKeyHotkey("v",h);(p||m)&&l&&(d(),m&&gn.updatePointerType(e,qt.selection))}o(h)},e},soe=e=>(xc(e,{key:"draw-vector-line",canResize:()=>!0,hitTest:r=>{const i=T6(e);if(i.length>0){let o=null;return i.forEach(u=>{const l=w6(e,u,r);l&&(o={element:u,handle:l.handle,handleIndex:l.handleIndex})}),o}return null},onResize:(r,i)=>{let o=[...r.element.points],u=r.handleIndex;if(r.handle===Hr.source||r.handle===Hr.target)if(o[u]=i.endPoint,Vp(r.element.points))o[o.length-1]=i.endPoint;else{const l=r.handle===Hr.source?o[o.length-1]:o[0];bt(...i.endPoint,...l)<=k1&&(o[u]=l)}else r.handle===Hr.addHandle?o.splice(u+1,0,i.endPoint):o[u]=i.endPoint;Ge.setNode(e,{points:o},r.path)}}),e),$6=e=>{const{drawElement:n,getRectangle:r,isRectangleHit:i,isHit:o,isInsidePoint:u,isMovable:l,isAlign:c,getRelatedFragment:d,getOneHitElement:h}=e;return e.drawElement=p=>ve.isGeometry(p.element)?(ve.isUML(p.element),nM):ve.isArrowLine(p.element)?Hie:ve.isVectorLine(p.element)?Gie:ve.isImage(p.element)?Yie:n(p),e.getRectangle=p=>{if(ve.isGeometry(p))return N.getRectangleByPoints(p.points);if(ve.isArrowLine(p)){const m=Bi(e,p),v=p.texts.map((b,E)=>MS(e,p,E)),w=N.getRectangleByPoints(m);return N.getBoundingRectangle([w,...v])}if(ve.isVectorLine(p)){const m=ku(e,p),v=N.getRectangleByPoints(m);return N.getBoundingRectangle([v])}return ve.isImage(p)?N.getRectangleByPoints(p.points):r(p)},e.isRectangleHit=(p,m)=>{const v=wne(e,p,m);return v!==null?v:i(p,m)},e.isHit=(p,m,v)=>{const w=Dne(e,p,m,v);return w!==null?w:o(p,m,v)},e.getOneHitElement=p=>p.every(v=>ve.isDrawElement(v))?c6(e,p):h(p),e.isInsidePoint=(p,m)=>{const v=Tne(e,p,m);return v!==null?v:u(p,m)},e.isMovable=p=>{if(ve.isGeometry(p)||ve.isImage(p)||ve.isVectorLine(p))return!0;if(ve.isArrowLine(p)){const m=Xe(e),v=w=>!!m.find(b=>b.id===w);return!!(!p.source.boundId&&!p.target.boundId||p.source.boundId&&v(p.source.boundId)&&m.includes(p)||p.target.boundId&&v(p.target.boundId)&&m.includes(p))}return l(p)},e.isAlign=p=>ve.isGeometry(p)||ve.isImage(p)?!0:c(p),e.getRelatedFragment=(p,m)=>{const v=m!=null&&m.length?m:Xe(e),b=e.children.filter(E=>ve.isArrowLine(E)).filter(E=>{const S=v.find(B=>B.id===E.source.boundId),T=v.find(B=>B.id===E.target.boundId),C=v.includes(E);return S&&T&&!C});return d([...p,...b],m)},ioe(toe(vre(ooe(Zie(Wie(soe(Uie(Qie(Xie(Jie($ie(qie(Vie(jie(zie(_ie(e)))))))))))))))))},dt={isAbstract(e){return typeof e.start=="number"&&typeof e.end=="number"}};var Ve;(function(e){e.right="right",e.left="left",e.standard="standard",e.upward="upward",e.downward="downward",e.rightBottomIndented="right-bottom-indented",e.rightTopIndented="right-top-indented",e.leftTopIndented="left-top-indented",e.leftBottomIndented="left-bottom-indented"})(Ve||(Ve={}));var Ki;(function(e){e.logic="logic",e.indented="indented",e.fishBone="fish-bone"})(Ki||(Ki={}));function o3(e){return e.origin.layout?e.origin.layout:dt.isAbstract(e.origin)?qS(o3(e.parent)):e.parent?o3(e.parent):null}const Ys=e=>e===Ve.rightBottomIndented||e===Ve.rightTopIndented||e===Ve.leftBottomIndented||e===Ve.leftTopIndented,aoe=e=>e===Ve.right||e===Ve.left||e===Ve.downward||e===Ve.upward,Qi=e=>e===Ve.standard,ti=e=>e===Ve.right||e===Ve.left||e===Ve.standard||Ys(e),mp=e=>e===Ve.right||e===Ve.left||e===Ve.standard,s3=e=>e===Ve.upward||e===Ve.downward,Ru=e=>e===Ve.leftTopIndented||e===Ve.rightTopIndented||e===Ve.upward,uoe=e=>e===Ve.leftBottomIndented||e===Ve.rightBottomIndented||e===Ve.downward,vp=e=>e===Ve.left||e===Ve.leftTopIndented||e===Ve.leftBottomIndented,I1=e=>e===Ve.right||e===Ve.rightTopIndented||e===Ve.rightBottomIndented,UE=e=>Ys(e)?Ki.indented:(Qi(e)||aoe(e),Ki.logic),qS=e=>Ys(e)?I1(e)?Ve.right:Ve.left:e;class yp{constructor(n,r,i,o){this.x=0,this.y=0,this.vGap=0,this.hGap=0,this.width=0,this.height=0,this.depth=0,this.children=[],this.left=!1,this.up=!1;const u=r.getHorizontalGap(n,o),l=r.getVerticalGap(n,o);this.origin=n,this.width=r.getWidth(n),this.height=r.getHeight(n),this.x=this.y=0,o&&(this.parent=o);const c=o3(this);this.layout=c&&c!==Ve.standard?c:i.rootLayoutType;const d=r.getVerticalConnectingPosition(n,o);d&&(this.verticalConnectingPosition=d),this.addGap(u,l)}isRoot(){return this.depth===0}addGap(n,r){const i=this;i.hGap+=n,i.vGap+=r,i.width+=2*n,i.height+=2*r}eachNode(n){U6(this,n)}getBoundingBox(){const n={left:Number.MAX_VALUE,top:Number.MAX_VALUE,right:Number.MIN_VALUE,bottom:Number.MIN_VALUE,width:0,height:0};return this.eachNode(r=>{n.left=Math.min(n.left,r.x),n.top=Math.min(n.top,r.y),n.right=Math.max(n.right,r.x+r.width),n.bottom=Math.max(n.bottom,r.y+r.height)}),n.width=n.right-n.left,n.height=n.bottom-n.top,n}translate(n=0,r=0){this.eachNode(i=>{i.x+=n,i.y+=r})}right2left(){const n=this,r=n.getBoundingBox();n.eachNode(i=>{i.x=i.x-(i.x-r.left)*2-i.width,i.left=!0}),n.translate(r.width,0)}down2up(){const n=this,r=n.getBoundingBox();n.eachNode(i=>{i.y=i.y-(i.y-r.top)*2-i.height,i.up=!0}),n.translate(0,r.height)}}function U6(e,n){var r;(r=e.children)==null||r.forEach(i=>{U6(i,n)}),n(e)}class loe{constructor(n,r,i,o,u,l,c,d,h,p){this.left=n,this.right=r,this.top=i,this.bottom=o,this.width=u,this.height=l,this.rootX=c,this.rootY=d,this.rootWidth=h,this.rootHeight=p}}function coe(e){return{left:e.top,right:e.bottom,top:e.left,bottom:e.right,width:e.height,height:e.width,rootX:e.rootY,rootY:e.rootX,rootWidth:e.rootHeight,rootHeight:e.rootWidth}}var a3;(function(e){e.middle="middle",e.bottom="bottom"})(a3||(a3={}));class uc{constructor(n,r,i,o,u){this.width=n,this.height=r,this.y=i,this.children=o,this.childrenCount=o.length,this.x=0,this.preliminary=0,this.modifier=0,this.shift=0,this.change=0,this.tl=null,this.tr=null,this.el=null,this.er=null,this.msel=0,this.mser=0,this.origin=u}}const Xu=e=>{var n;return e.children?(n=e.children)==null?void 0:n.filter(r=>r instanceof yp?!dt.isAbstract(r.origin):r instanceof uc?!dt.isAbstract(r.origin.origin):!dt.isAbstract(r)):[]},W6=(e,n)=>{const r=e.children.indexOf(n);return e.children.find(i=>{if(i instanceof yp)return dt.isAbstract(i.origin)&&i.origin.end===r;if(i instanceof uc&&e instanceof uc){if(dt.isAbstract(i.origin.origin)){const{end:o}=Mu(i.origin.origin,e.origin);return o===r}return!1}return dt.isAbstract(i)&&i.end===r})},foe=(e,n)=>{const r=e.children.indexOf(n);return e.children.find(i=>{if(i instanceof yp)return dt.isAbstract(i.origin)&&i.origin.start===r;if(i instanceof uc&&e instanceof uc){if(dt.isAbstract(i.origin.origin)){const{start:o}=Mu(i.origin.origin,e.origin);return o===r}return!1}return dt.isAbstract(i)&&i.start===r})},Mu=(e,n)=>{let r=e.start,i=e.end;if(Qi(n.layout)){const o=n.origin.rightNodeCount;r>=o&&(i-=o,r-=o)}return{start:r,end:i}};function H1(e,n,r){e.children[n].modifier+=r}function doe(e){return e.childrenCount===0?null:e.children[0]}function X6(e){let n=Xu(e);return e.childrenCount===0?null:n[n.length-1]}function hoe(e,n){if(dt.isAbstract(e.children[n].origin.origin))return;let r=e.children[n-1],i=e.children[n],o=r.modifier+r.preliminary+r.width,u=i.modifier+i.preliminary,l=0,c=e,d=e;for(;r||i;){if(r){let p=l+r.modifier+r.preliminary+r.width;p>o&&(o=p),o=K6(c,r,o,l),c=r,l=r.modifier+l,r=X6(r)}if(i){let p=i.modifier+i.preliminary;p<u&&(u=p),u=moe(d,i,u),d=i,i=doe(i)}}const h=o-u;h>0&&H1(e,n,h)}function goe(e){const n=e.children[0];let r=n.preliminary+n.modifier;const i=Xu(e),o=i[i.length-1];let u=o.modifier+o.preliminary+o.width;n.origin.blackNode&&n.origin.blackNode.rootX>n.origin.blackNode.left&&(r=r+(n.origin.blackNode.rootX-n.origin.blackNode.left)),o.origin.blackNode&&o.origin.blackNode.rootX+o.origin.blackNode.rootWidth<o.origin.blackNode.right&&(u=u-(o.origin.blackNode.right-(o.origin.blackNode.rootX+o.origin.blackNode.rootWidth))),n.origin.verticalConnectingPosition&&o.origin.verticalConnectingPosition&&(r=r+n.width-n.origin.vGap,u=u-o.origin.vGap);let l=e.width/2;e.origin.verticalConnectingPosition&&(l=e.width-e.origin.vGap);const c=(r+u)/2-l;c>0?e.preliminary=c:e.children.forEach((d,h)=>{H1(e,h,Math.abs(c))})}function u3(e){if(e.childrenCount!==0){u3(e.children[0]);for(let n=1;n<e.childrenCount;n++){const r=e.children.find(i=>{let o=null;if(dt.isAbstract(i.origin.origin)){let{end:u}=Mu(i.origin.origin,e.origin);o=u}return o===n-1});r&&poe(e,r),u3(e.children[n]),hoe(e,n)}goe(e)}}function Y6(e,n){n+=e.modifier,e.x=e.preliminary+n;for(let r=0;r<e.childrenCount;r++)Y6(e.children[r],n)}function poe(e,n,r){const{start:i,end:o}=Mu(n.origin.origin,e.origin),u=e.children.indexOf(n),l=e.children[i];let c=e.children[o];const d=l.modifier;let h=c.modifier+c.preliminary+c.width,p=c.modifier,m=e;for(e.children[u].modifier=l.modifier;c.childrenCount;){m=c;const b=X6(c);c=b||c;let E=p+c.modifier+c.preliminary+c.width;h=K6(m,c,h,p),p+=c.modifier,E>h&&(h=E)}const v=n.origin.blackNode?n.origin.blackNode.rootX*2+n.origin.blackNode.rootWidth:n.width,w=h-d;if(w>v){const b=(w-v)/2;H1(e,u,b)}else{const b=(v-w)/2;for(let E=i;E<o+1;E++)H1(e,E,b)}}function K6(e,n,r,i){const o=W6(e,n);return o?Math.max(o.modifier+o.width+i,r):r}function moe(e,n,r){const i=foe(e,n);return i?Math.min(i.modifier+i.preliminary,r):r}function voe(e){u3(e),Y6(e,0)}function l3(e,n=0){e.x=n,e.children.forEach(r=>{if(dt.isAbstract(r.origin)){let i=0;for(let o=r.origin.start;o<=r.origin.end;o++){const u=e.children[o].getBoundingBox();i=Math.max(u.width,i)}l3(r,e.x+e.width/2+i)}else l3(r,e.x+e.width/2)})}function yoe(e,n){let r=e.y+e.height,i=null;o(e);function o(u){u.children.forEach((l,c)=>{const d=u.children.find(p=>dt.isAbstract(p.origin)&&p.origin.end===c-1);if(d){const p=i!=null&&i.origin.isCollapsed?n.getExtendHeight(l.origin):0;r=woe(u,d)+p}if(dt.isAbstract(l.origin))return;let h=r+l.vGap;i&&!mp(i.layout)&&i.origin.children.length>0&&(i.origin.isCollapsed?h=h+n.getExtendHeight(l.origin):h=h+n.getIndentedCrossLevelGap()),l.y=h,i=l,r=l.y+l.height,o(l)})}}function woe(e,n){const r=n.origin,i=e.children.indexOf(n),o=e.children[r.start],u=e.children[r.end];e.children[i].y=o.y;const l=o.y;let c=u.y+u.height,d=u,h=e;for(;d!=null&&d.children.length;){h=d;const w=Xu(h);d=w[w.length-1];const b=W6(h,d);c=b?Math.max(b.y+b.height,d.y+d.height):d.y+d.height}const p=c-l,m=n.blackNode?n.blackNode.height:n.height,v=n.blackNode?n.blackNode.rootY*2+n.blackNode.rootHeight:n.height;if(v>p){const w=(v-p)/2;for(let b=r.start;b<=r.end;b++)e.children[b].eachNode(E=>{E.y+=w})}else{const w=(p-v)/2;e.children[i].y+=w}return Math.max(n.y+m,o.y+p)}function q6(e,n,r){r?n.y=e.x:n.x=e.x,e.children.forEach((i,o)=>{q6(i,n.children[o],r)})}function Z6(e,n,r=0){var i,o;if(n){if(dt.isAbstract(e.origin)){const{start:u,end:l}=Mu(e.origin,e.parent);for(let c=u;c<=l;c++){const d=(i=e.parent)==null?void 0:i.children[c].getBoundingBox().right;r=Math.max(d,r)}}e.x=r,r+=e.width}else{if(dt.isAbstract(e.origin))for(let u=e.origin.start;u<=e.origin.end;u++){const l=(o=e.parent)==null?void 0:o.children[u].getBoundingBox().bottom;r=Math.max(l,r)}e.y=r,r+=e.height}e.children.forEach(u=>{Z6(u,n,r)})}const Q6=(e,n)=>{const r=[];return e.children.forEach(i=>{r.push(Q6(i,n))}),n?(e.blackNode&&(e.blackNode=coe(e.blackNode)),new uc(e.height,e.width,e.x,r,e)):new uc(e.width,e.height,e.y,r,e)};class xoe{constructor(){}layout(n,r,i,o,u=!1,l){const c=[],d=[],h=this.buildLayoutNode(n,i,o,c,l);switch(c.filter(m=>m.origin.children.length>0).forEach(m=>{const v=m.layout,w=o.toTop||ti(o.rootLayoutType)&&Ru(v),b=o.toLeft||!ti(o.rootLayoutType)&&vp(v),E=ti(v),S=this.layout(m.origin,UE(v),i,{toTop:w,toLeft:b,rootLayoutType:o.rootLayoutType},E,m.parent);!o.toTop&&w&&r!==Ki.indented&&S.down2up(),!o.toLeft&&b&&S.right2left();const T=S.getBoundingBox();m.width=T.width,m.height=T.height,m.blackNode=new loe(T.left,T.right,T.top,T.bottom,T.width,T.height,S.x,S.y,S.width,S.height),d.push(S)}),r){case Ki.indented:l3(h),yoe(h,i);break;case Ki.fishBone:break;case Ki.logic:default:Z6(h,u);const m=Q6(h,u);voe(m),q6(m,h,u);break}const p=[];return c.filter(m=>m.origin.children.length>0).forEach((m,v)=>{if(m.parent){const w=d[v];w.parent=m.parent;let b,E;ti(m.parent.layout)?(b=w.x,E=0):(b=0,E=w.y),w.translate(m.x-b,m.y-E);const T=m.parent.children.indexOf(m),C=m.parent.children[T];m.parent.children[T]=Object.assign(C,w);const B=p.find(P=>P.parent===m.parent&&!dt.isAbstract(m.origin));B?(B.offsetX<b&&(B.offsetX=b),B.offsetX<E&&(B.offsetX=E)):dt.isAbstract(m.origin)||p.push({parent:m.parent,offsetX:b,offsetY:E})}}),p.forEach(m=>{m.parent.children.forEach(v=>v.translate(m.offsetX,m.offsetY))}),h}buildLayoutNode(n,r,i,o,u){const l=new yp(n,r,i,u);if(!l.origin.isCollapsed){const c=[l];let d;for(;d=c.pop();)if(!d.origin.isCollapsed){const h=d.origin.children,p=h?h.length:0;if(d.children=[],h&&p)for(let m=0;m<p;m++){const v=new yp(h[m],r,i,d);d.children.push(v),v.depth=d.depth+1,(d.layout!==v.layout&&(UE(d.layout)!==UE(v.layout)||ti(d.layout)!==ti(v.layout))||dt.isAbstract(v.origin))&&!v.origin.isCollapsed?o.push(v):c.push(v)}}}return l}}class boe{static layout(n,r,i){const o=new xoe;if(Qi(i)){const m=n.children.length,v=[],w=[],b={...n};for(let C=0;C<m;C++){const B=n.children[C];if(dt.isAbstract(B)&&B.end<n.rightNodeCount){v.push(B);continue}if(dt.isAbstract(B)&&B.start>=n.rightNodeCount){w.push(B);continue}C<n.rightNodeCount?v.push(B):w.push(B)}b.children=v;const E=o.layout(b,Ki.logic,r,{toLeft:!1,toTop:!1,rootLayoutType:i},!0);b.children=w;const S=o.layout(b,Ki.logic,r,{toLeft:!0,toTop:!1,rootLayoutType:i},!0);S.right2left(),E.translate(S.x-E.x,S.y-E.y);const T=E.children.filter(C=>dt.isAbstract(C.origin));return E.children=E.children.filter(C=>!dt.isAbstract(C.origin)),S.children.forEach(C=>{E.children.push(C),C.parent=E}),E.children=E.children.concat(T),E.x=S.x,E.origin=n,E}const u=Ys(i),l=u?Ki.indented:Ki.logic,c=u?!0:ti(i),d=Ru(i),h=vp(i),p=o.layout(n,l,r,{toTop:d,toLeft:h,rootLayoutType:i},c);return d&&p.down2up(),h&&p.right2left(),p}}const wp=new WeakMap;var nn;(function(e){e.top="top",e.right="right",e.bottom="bottom",e.left="left"})(nn||(nn={}));const G1={[Ve.right]:[nn.right],[Ve.left]:[nn.left],[Ve.upward]:[nn.top],[Ve.downward]:[nn.bottom],[Ve.rightBottomIndented]:[nn.right,nn.bottom],[Ve.rightTopIndented]:[nn.right,nn.top],[Ve.leftBottomIndented]:[nn.left,nn.bottom],[Ve.leftTopIndented]:[nn.left,nn.top]};var Ba;(function(e){e.mind="mind"})(Ba||(Ba={}));const Coe=["#A287E0","#6E80DB","#6DC4C4","#E0B75E","#B1C675","#77C386","#C18976","#E48484","#E582D4","#6AB1E4"],Eoe=["#F94239","#FF8612","#F3D222","#B3D431","#00BC7B","#06ADBF","#476BFF","#4E49BE","#8957E5","#FE5DA1"],Doe=["#6D89C1","#F2BDC7","#B796D9","#5BA683","#B3D431 ","#F2DC6C","#F7C98D","#60B4D1","#838F9E","#C1A381"],Soe=["#459476","#9A894F","#D48444","#E9C358 ","#4B9D9D","#C14C41","#827086 ","#60718D","#D38183","#9DC19D"],Toe=["#3DD1AE","#F6C659","#A9E072","#FF877B ","#F693E7","#5DCFFF","#868AF6","#4C6DC7","#D97C26","#268FAC"],Aoe=["#E46C57","#579360","#B98339","#3A62D1 ","#B883B7","#42ABE5","#2B9D8F","#A4705E","#265833","#787865"],J6={...c4,branchColors:Coe,rootFill:"#f5f5f5",rootTextColor:Mi},Poe={...f4,branchColors:Eoe,rootFill:Mi,rootTextColor:"#FFFFFF"},Roe={...d4,branchColors:Doe,rootFill:"#FFFFFF",rootTextColor:Mi},Boe={...h4,branchColors:Soe,rootFill:"#153D5D",rootTextColor:"#FFFFFF"},koe={...g4,branchColors:Toe,rootFill:"#FFFFFF",rootTextColor:Mi},Moe={...p4,branchColors:Aoe,rootFill:"#FFFFFF",rootTextColor:Mi},e9=[J6,Poe,Roe,Boe,koe,Moe],Noe={isMindThemeColor(e){return!!(e.branchColors&&e.rootFill&&e.rootTextColor)}},Sy="plait-mind-plugin-key",Ir=4,qf="#6698FF",uM="#AAAAAA",c3=2,lM=8,t9=10,Gl=2,js=20,Dg=10,Ooe=qg("#000000",.2),Foe="#6698FF",cM="white",Loe=240;var ud;(function(e){e.mindCentralText="mind-center-text",e.abstractNodeText="abstract-node-text"})(ud||(ud={}));function f3(e,n){const r=e.getPluginOptions(Sy),i=n.data.emojis.length;return{width:n9(n)*i+i*2*r.emojiPadding+(i-1)*r.spaceBetweenEmojis,height:n.height}}function n9(e){return Tt.isMind(e)?20:16}const lc=(e,n,r)=>n[r],ld={branch:{color:uM,width:2},shape:{strokeColor:uM,strokeWidth:2}},Ty={shape:{rectangleRadius:4,strokeWidth:2,fill:"none"}},Ioe=e=>{const n=e.rightNodeCount,r=e.children;let i=[],o=[];for(let u=0;u<r.length;u++){const l=r[u];if(dt.isAbstract(l)&&l.end<n){i.push(l);continue}if(dt.isAbstract(l)&&l.start>=n){o.push(l);continue}u<n?i.push(l):o.push(l)}return{leftChildren:o,rightChildren:i}},Up=e=>{const n=Be.findParent(e);if(!n)return;const r=n.children.indexOf(e);return n.children.find(i=>dt.isAbstract(i)&&r>=i.start&&r<=i.end)},r9=e=>{const n=Be.findParent(e);if(!n)return[];const r=n.children.indexOf(e);return n.children.filter(i=>dt.isAbstract(i)&&i.start>r)},i9=(e,n)=>{const r=[];return n.filter(i=>!dt.isAbstract(i)&&!Tt.isMind(i)).forEach(i=>{const o=Up(i);if(o&&n.indexOf(o)===-1&&r.indexOf(o)===-1){const{start:u,end:l}=o;Be.getParent(i).children.slice(u,l+1).every(h=>n.indexOf(h)>-1)&&r.push(o)}}),r},o9=(e,n)=>{const r=[];return n.filter(i=>!dt.isAbstract(i)&&!Tt.isMind(i)).forEach(i=>{const o=Up(i);if(o&&n.indexOf(o)>0){const u=r.findIndex(l=>l.abstract===o);u===-1?r.push({abstract:o,references:[i]}):r[u].references.push(i)}}),r};function s9(e,n){const r=n.indexOf(e.references[0]),i=n.indexOf(e.references[e.references.length-1]);return{start:r,end:i}}const a9=(e,n,r=1,i=!0,o=new Map)=>{const u=Ut.parent(e,n),l=n[n.length-1]!==0;let c;if(!l)c=u.children.filter(m=>dt.isAbstract(m));else{const m=Ut.get(e,gt.previous(n));c=r9(m)}if(c.length&&c.forEach(m=>{let v=o.get(m);v||(v={start:0,end:0},o.set(m,v)),v.start=v.start+r,v.end=v.end+r}),!l)return o;const d=Ut.get(e,gt.previous(n)),h=Up(d),p=!i&&h&&h.end===n[n.length-1]-1;if(h&&!p){let m=o.get(h);m||(m={start:0,end:0},o.set(h,m)),m.end=m.end+r}return o},u9=(e,n,r=new Map)=>(n.forEach(i=>{if(!Tt.isMind(i)){const o=r9(i).filter(l=>!n.includes(l));o.length&&o.forEach(l=>{let c=r.get(l);c||(c={start:0,end:0},r.set(l,c)),c.start=c.start-1,c.end=c.end-1});const u=Up(i);if(u&&!n.includes(u)){let l=r.get(u);l||(l={start:0,end:0},r.set(u,l)),l.end=l.end-1}}}),r),l9=(e,n)=>!!Be.getAncestors(e,n).find(i=>dt.isAbstract(i)),ZS=(e,n)=>dt.isAbstract(n)||l9(e,n)?f9(e,n):lc(e,n,"branchColor")||lc(e,n,"strokeColor")||d9(e,n),QS=(e,n)=>lc(e,n,"branchShape")||cc.bight,c9=(e,n)=>lc(e,n,"branchWidth")||lc(e,n,"strokeWidth")||c3,Hoe=(e,n)=>h1(n.branchWidth)?ld.branch.width:n.branchWidth,f9=(e,n)=>n.branchColor||n.strokeColor?n.branchColor||n.strokeColor:ld.branch.color,d9=(e,n)=>{const r=L.findPath(e,n);return Goe(e,r[1])},Goe=(e,n)=>{const r=JS(e),i=r.branchColors.length,o=n%i;return r.branchColors[o]},JS=e=>{const r=L.getThemeColors(e).find(i=>i.mode===e.theme.themeColorMode);return r&&Noe.isMindThemeColor(r)?r:J6},_oe=(e,n)=>{if(Tt.isMind(n)){const r=JS(e).rootFill;return n.strokeColor||r}return dt.isAbstract(n)||l9(e,n)?n.strokeColor||ld.shape.strokeColor:lc(e,n,"strokeColor")||d9(e,n)},Ay=(e,n)=>n.strokeStyle||Ha.solid,Wp=(e,n)=>n.strokeWidth||(dt.isAbstract(n)?ld.shape.strokeWidth:Ty.shape.strokeWidth),Voe=(e,n)=>{if(n.fill)return n.fill;const r=JS(e).rootFill;return Tt.isMind(n)?r:Ty.shape.fill},xp=(e,n)=>lc(e,n,"shape")||ja.roundRectangle;function eT(e){const n=Ed(e);n==null||n.edit(()=>{},r=>{const i=r;return i.key==="Enter"&&!i.shiftKey})}const WE=(e,n)=>(n!=null&&n.length?n:Xe(e)).filter(i=>Be.isMindElement(e,i)),fM=e=>{const n=[];return e.forEach(r=>{G1[r].forEach(o=>{!n.includes(o)&&!n.includes(nT(o))&&n.push(o)})}),n},joe=(e,n)=>{const r=G1[e],i=G1[n];if(!i)throw new Error(`unexpected layout: ${n} on correct layout`);return i.find(o=>r.includes(nT(o)))},zoe=(e,n)=>{const r=n===nn.left||n===nn.right;let i=Ve.standard;switch(e){case Ve.left:i=Ve.right;break;case Ve.right:i=Ve.left;break;case Ve.downward:i=Ve.upward;break;case Ve.upward:i=Ve.downward;break;case Ve.rightBottomIndented:i=r?Ve.leftBottomIndented:Ve.rightTopIndented;break;case Ve.leftBottomIndented:i=r?Ve.rightBottomIndented:Ve.leftTopIndented;break;case Ve.rightTopIndented:i=r?Ve.leftTopIndented:Ve.rightBottomIndented;break;case Ve.leftTopIndented:i=r?Ve.rightTopIndented:Ve.leftBottomIndented;break}return i},tT=()=>Ve.standard,dM=e=>{const n=[],r=e.map(nT);for(const i in Ve){const o=Ve[i],u=G1[o];if(u){const l=u.some(d=>e.includes(d)),c=u.some(d=>r.includes(d));l&&!c&&n.push(o)}}return n},nT=e=>{let n=nn.right;switch(e){case nn.top:n=nn.bottom;break;case nn.bottom:n=nn.top;break;case nn.right:n=nn.left;break;case nn.left:n=nn.right;break}return n},Hu=e=>e.layout||tT(),$oe=e=>{function n(i,o){return Tt.isMind(i)?Ir*12:(o&&o.isRoot(),Ir*3)}function r(i,o){return Tt.isMind(i)?Ir*12:Ir*8.5}return{getHeight(i){return Sn.getNodeHeight(e,i)},getWidth(i){return Sn.getNodeWidth(e,i)},getHorizontalGap(i,o){const u=o&&o.layout||Hu(i),l=ti(u);return Ys(u)?Ir*6:l?r(i):n(i,o)},getVerticalGap(i,o){const u=o&&o.layout||Hu(i);return Ys(u)?Ir*3.5:ti(u)?n(i,o):r(i)},getVerticalConnectingPosition(i,o){if(i.shape===ja.underline&&o&&mp(o.layout))return a3.bottom},getExtendHeight(i){return 0},getIndentedCrossLevelGap(){return Ir*1}}},Uoe="中心主题",Woe="概要",Xoe=e=>fy(e,ud.mindCentralText,Uoe),Yoe=e=>fy(e,ud.abstractNodeText,Woe),hM=(e,n)=>{const r=Xoe(e),i=Py(r,{layout:Ve.right});i.type="mind";const o=Sn.getNodeWidth(e,i),u=Sn.getNodeHeight(e,i);return i.points=[[n[0]-o/2,n[1]-u/2]],i},Py=(e,n)=>{const r={id:yn(),type:"mind_child",data:{topic:wc(e)},children:[]};let i;for(i in n)h1(n[i])||(r[i]=n[i]);return r},Koe=["fill","strokeColor","strokeWidth","strokeStyle","shape","layout","branchColor","branchWidth","branchShape"],qoe=14,Zoe=18,Qoe=34,h9=e=>e.children.reduce((r,i)=>r+h9(i),0)+e.children.length,g9=(e,n)=>{let r=Be.findParent(n);for(;r;){if(r===e)return!0;r=Be.findParent(r)}return!1},jg=e=>{let n=[];return e.forEach(r=>{e.some(o=>g9(o,r))||n.push(r)}),n},gM=(e,n)=>e.y>n.y,p9=e=>{const n={...e};n.id=yn(),n.children=[];for(const r of e.children)n.children.push(p9(r));return n},rT=(e,n,r)=>{const i={};Tt.isMind(n)||(Koe.forEach(u=>{i[u]=n[u]}),delete i.layout);const o=Py("",i);Ge.insertNode(e,o,r),pd(e),mc(e,o),setTimeout(()=>{eT(o)})},Joe=e=>{const n=[],r=[];for(let i=0;i<e.length;i++){const o=Be.getParent(e[i]),u=r.indexOf(o);u===-1?(r.push(o),n.push([e[i]])):n[u].push(e[i])}return{parentElements:r,abstractIncludedGroups:n}},d3=e=>{if(Tt.isMind(e))return Zoe;if(Be.isMindElement(null,e))return qoe;throw new Error("can not find default font-size")},ese="#6698FF80",xu=3.5,pM=10,Nv=8,bp={horizontal:{nodeAndText:Ir*2.5,emojiAndText:Ir*1.5},vertical:{nodeAndText:Ir,nodeAndImage:Ir,imageAndText:Ir*1.5}},iT={horizontal:{nodeAndText:Ir*4,emojiAndText:Ir*2},vertical:{nodeAndText:Ir*2}},XE=(e,n)=>{const i=Tt.isMind(n)?iT.horizontal.nodeAndText:bp.horizontal.nodeAndText,o=Wp(e,n);return i+o},YE=(e,n)=>{const r=Tt.isMind(n),i=Wp(e,n);return(r?iT.vertical.nodeAndText:bp.vertical.nodeAndText)+i},mM=e=>Tt.isMind(e)?iT.horizontal.emojiAndText:bp.horizontal.emojiAndText,Sn={getNodeWidth(e,n){const r=XE(e,n);return Be.hasEmojis(n)?Sn.getEmojiLeftSpace(e,n)+f3(e,n).width+mM(n)+Sn.getTopicDynamicWidth(e,n)+r:r+Sn.getTopicDynamicWidth(e,n)+r},getNodeHeight(e,n){const r=ME(e,n.data.topic,{fontSize:up,fontFamily:Yf},Sn.getTopicMaxDynamicWidth(e,n)),i=Qv(e,n,r.width,r.height),o=YE(e,n);return Be.hasImage(n)?Sn.getTextTopSpace(e,n)+i.height+o:o+i.height+o},getTopicDynamicWidth(e,n){var l;const r=ME(e,n.data.topic,{fontSize:d3(n),fontFamily:Yf},Sn.getTopicMaxDynamicWidth(e,n)),i=Qv(e,n,r.width,r.width),o=n.manualWidth||i.width,u=Be.hasImage(n)?(l=n.data.image)==null?void 0:l.width:0;return Math.max(o,u)},getTopicHeight(e,n){const r=ME(e,n.data.topic,{fontSize:up,fontFamily:Yf},Sn.getTopicMaxDynamicWidth(e,n));return Qv(e,n,r.width,r.height).height},getTopicMaxDynamicWidth(e,n){var i,o;const r=d3(n);return n.manualWidth?Math.max(n.manualWidth,Be.hasImage(n)?(i=n.data.image)==null?void 0:i.width:0):Math.max(r*Qoe,Be.hasImage(n)?(o=n.data.image)==null?void 0:o.width:0)},getNodeResizableMinWidth(e,n){const r=Sn.getNodeTopicMinWidth(e,n);return Be.hasImage(n)&&n.data.image.width>r?n.data.image.width:r},getNodeTopicMinWidth(e,n){return tse(e,n)},getTextLeftSpace(e,n){const r=XE(e,n);return Be.hasEmojis(n)?Sn.getEmojiLeftSpace(e,n)+f3(e,n).width+mM(n):r},getTextTopSpace(e,n){const r=YE(e,n);return Be.hasImage(n)?Sn.getImageTopSpace(e,n)+n.data.image.height+bp.vertical.imageAndText:r},getImageTopSpace(e,n){return Wp(e,n)+bp.vertical.nodeAndImage},getEmojiLeftSpace(e,n){const r=e.getPluginOptions(Sy);return XE(e,n)-r.emojiPadding},getEmojiTopSpace(e,n){return YE(e,n)}},tse=(e,n)=>{const r=d3(n);return qD.getMarksByElement(n.data.topic)[Ai.fontSize]||r},Qv=(e,n,r,i)=>{const o=Sn.getNodeTopicMinWidth(e,n);return{width:r<o?o:r,height:i}};function Qn(e){const n=e.x+e.hGap;let r=e.y+e.vGap;const i=e.width-e.hGap*2,o=e.height-e.vGap*2;return{x:n,y:r,width:i,height:o}}function nse(e,n){const r=Sn.getNodeWidth(e,n),i=Sn.getNodeHeight(e,n);return{x:n.points[0][0],y:n.points[0][1],width:r,height:i}}function m9(e,n,r){const i=wp.get(r);return!!(i&&Bp(n[0],n[1],Qn(i))===0)}function v9(e,n){let{x:r,y:i}=Qn(Be.getNode(n));r=r+Sn.getEmojiLeftSpace(e,n);const{width:o}=f3(e,n);return{x:r,y:i,width:o,height:Sn.getNodeHeight(e,n)}}function y9(e,n){let r=Qn(n);return w9(e,r,n.origin)}function w9(e,n,r){const i=n.x+Sn.getTextLeftSpace(e,r),o=n.y+Sn.getTextTopSpace(e,r),u=Sn.getTopicDynamicWidth(e,r);return{height:Sn.getTopicHeight(e,r),width:u,x:i,y:o}}function Ry(e,n){let{x:r,y:i}=Qn(Be.getNode(n));const o=n.manualWidth||n.width;r=o>n.data.image.width?r+Sn.getTextLeftSpace(e,n)+(o-n.data.image.width)/2:r+Sn.getTextLeftSpace(e,n),i=Sn.getImageTopSpace(e,n)+i;const{width:u,height:l}=n.data.image;return{x:r,y:i,width:u,height:l}}const x9=(e,n,r)=>{const i=Ry(e,n),o=N.getOutlineRectangle(i,-9/2);return N.isPointInRectangle(o,r)},rse=(e,n,r)=>{const i=Ry(e,n);return hN(i,gs).find(l=>N.isHit(N.getRectangleByPoints([r,r]),l.rectangle))},ise=(e,n)=>{const r={...n};return delete r.rightNodeCount,r.type="mind_child",r.layout===Ve.standard&&delete r.layout,r},h3=e=>{const n={...e};return delete n.start,delete n.end,n},ose=(e,n)=>{const r={...n};return Le.string(r.data.topic)||(r.data.topic={children:[{text:"思维导图"}]}),r==null||delete r.strokeColor,r==null||delete r.fill,r==null||delete r.shape,r==null||delete r.strokeWidth,r==null||delete r.isCollapsed,{...r,layout:r.layout??Ve.right,type:"mind"}},sse=(e,n)=>{DN(e,n),sn.getElementRef(n).getGenerator(Ga.key).setFocus(n,!0)},Jv=(e,n)=>{iee(e),sn.getElementRef(n).getGenerator(Ga.key).setFocus(n,!1)},b9=e=>{sn.getElementG(e).classList.add("dragging-node"),!e.isCollapsed&&e.children.forEach(n=>{b9(n)})},C9=e=>{sn.getElementG(e).classList.remove("dragging-node"),!e.isCollapsed&&e.children.forEach(n=>{C9(n)})},vM=(e,n)=>{$a(e,n),n?L.getBoardContainer(e).classList.add("mind-node-dragging"):L.getBoardContainer(e).classList.remove("mind-node-dragging")},ase=(e,n,r)=>{let i=Xu(e);if(Tt.isMind(e)&&Qi(Hu(e))){const l=E9(e,n);l&&(i=i.slice(0,e.rightNodeCount)),l||(i=i.slice(e.rightNodeCount,i.length),r=[...r,r[r.length-1]-e.rightNodeCount])}let o=r[r.length-1]!==0,u=r[r.length-1]!==((i==null?void 0:i.length)||0);return e.isCollapsed&&(u=!1,o=!1),{hasPreviousNode:o,hasNextNode:u}},E9=(e,n)=>{const r=n.target;return Tt.isMind(e)&&Qi(Hu(e))&&e.children.indexOf(r)!==-1&&e.children.indexOf(r)<e.rightNodeCount||Tt.isMind(r)&&Qi(Hu(r))&&n.detectResult==="right"},use=(e,n,r)=>{if(!Tt.isMind(n.origin)&&!dt.isAbstract(n.origin)){const i=Ji.getCorrectLayoutByElement(e,n==null?void 0:n.parent.origin);if(Qi(i)){const u=n.parent.children.findIndex(l=>l===n)>=(n.parent.origin.rightNodeCount||0);return Hs(r,[u?"right":"left"])}if(vp(i))return Hs(r,["right"]);if(I1(i))return Hs(r,["left"]);if(i===Ve.upward)return Hs(r,["bottom"]);if(i===Ve.downward)return Hs(r,["top"])}else{const i=Ji.getCorrectLayoutByElement(e,n==null?void 0:n.origin);if(Qi(i))return Hs(r,["top","bottom"]);if(i===Ve.upward)return Hs(r,["left","right","bottom"]);if(i===Ve.downward)return Hs(r,["left","right","top"]);if(vp(i))return Hs(r,["right","top","bottom"]);if(I1(i))return Hs(r,["left","top","bottom"])}return null},Hs=(e,n)=>{const r=e;return n.forEach(i=>{const o=r.findIndex(u=>u===i);o!==-1&&r.splice(o,1)}),r.length?r:null},lse=(e,n,r,i)=>{let o=null;return ii(e,u=>{if(!Be.isMindElement(e,u)||o)return;const l=Be.getNode(u),c=cse(l,n);c&&(o=use(e,l,c)),r=null;const d=i.every(h=>fse(h,l.origin));o&&d&&(r={target:l.origin,detectResult:o[0]})},pc(e)),r},cse=(e,n)=>{const{x:r,y:i,width:o,height:u}=Qn(e),l=i+u/2,c=r+o/2,d=e.y,h=e.y+e.height,p=e.x,m=e.x+e.width,v=[];return n[1]>i&&n[1]<i+u?(n[0]>p&&n[0]<c&&v.push("left"),n[0]>c&&n[0]<m&&v.push("right"),(n[0]>r&&n[0]<c||n[0]>c&&n[0]<r+o)&&(n[1]<l?v.push("top"):v.push("bottom")),v.length?v:null):n[0]>r&&n[0]<r+o?(n[1]>d&&n[1]<l&&v.push("top"),n[1]>l&&n[1]<h&&v.push("bottom"),(n[1]>i&&n[1]<i+u||n[1]>l&&n[1]<i+u)&&(n[0]<c?v.push("left"):v.push("right")),v.length?v:null):null},fse=(e,n)=>e!==n&&!g9(e,n),dse=(e,n)=>{let r=L.findPath(e,n==null?void 0:n.target);const i=Tt.isMind(n==null?void 0:n.target)?Hu(n==null?void 0:n.target):Ji.getCorrectLayoutByElement(e,Be.getParent(n==null?void 0:n.target)),o=Xu(n.target);return s3(i)&&((n.detectResult==="top"||n.detectResult==="bottom")&&r.push(o.length),n.detectResult==="right"&&(r=gt.next(r))),mp(i)&&(n.detectResult==="right"&&(Tt.isMind(n==null?void 0:n.target)&&Qi(i)?r.push(n==null?void 0:n.target.rightNodeCount):r.push(o.length)),n.detectResult==="left"&&r.push(o.length),n.detectResult==="bottom"&&(r=gt.next(r))),Ys(i)&&(Ru(i)&&n.detectResult==="top"&&(r=gt.next(r)),uoe(i)&&n.detectResult==="bottom"&&(r=gt.next(r)),vp(i)&&n.detectResult==="left"&&r.push(o.length),I1(i)&&n.detectResult==="right"&&r.push(o.length)),r};function hse(e,n){const r=Qn(n);return oT(e,r,n.origin)}function oT(e,n,r){const i=Voe(e,r),o=_oe(e,r),u=Wp(e,r),l=Ay(e,r),c=zu(l,u),d=N.inflate(n,-u);return md(L.getRoughSVG(e),d.x,d.y,d.x+d.width,d.y+d.height,{stroke:o,strokeWidth:u,fill:i,fillStyle:"solid",strokeLineDash:c},!1,Ty.shape.rectangleRadius)}var Fn;(function(e){e.left="left",e.center="center",e.right="right"})(Fn||(Fn={}));var wn;(function(e){e.top="top",e.middle="middle",e.bottom="bottom"})(wn||(wn={}));const Ui=(e,n)=>{let r=e.x,i=e.y;return n[0]===Fn.center&&(r=e.x+e.width/2),n[0]===Fn.right&&(r=e.x+e.width),n[1]===wn.middle&&(i=e.y+e.height/2),n[1]===wn.bottom&&(i=e.y+e.height),[r,i]},Bu=(e,n)=>n?e.left?nn.left:nn.right:e.up?nn.top:nn.bottom,ho=(e,n)=>{if(n===nn.left&&(e[0]===Fn.right?e[0]=Fn.left:e[0]===Fn.left&&(e[0]=Fn.right)),n===nn.bottom||n===nn.top){let r=Fn.center,i=wn.middle;e[1]===wn.top&&(r=Fn.left),e[1]===wn.bottom&&(r=Fn.right),e[0]===Fn.left&&(i=wn.top),e[0]===Fn.right&&(i=wn.bottom),e[0]=r,e[1]=i}n===nn.top&&(e[1]===wn.bottom?e[1]=wn.top:e[1]===wn.top&&(e[1]=wn.bottom))};function gse(e,n,r,i=!0,o=null,u,l){const c=QS(e,n.origin),d=u||c9(e,r.origin),h=o||ZS(e,r.origin),p=Ay(e,r.origin),m=xp(e,r.origin)===ja.underline;let v,w,b,E,S=n,T=r;const C=Qn(S),B=Qn(T);v=S.x+S.width/2,w=gM(n,r)?C.y:C.y+C.height,b=n.left?T.x+T.hGap+B.width:T.x+T.hGap,E=m?T.y+T.height-T.vGap:T.y+T.height/2;let P=gM(n,r)?n.left?[-1,-1]:[1,-1]:n.left?[-1,1]:[1,1],I=[[v,w],[v,w],[v,w],[v,E-T.hGap*3*P[1]/5],[v,E-T.hGap*P[1]/5],[v+T.hGap*P[0]/4,E],[v+T.hGap*P[0]*3/5,E],m&&i?[b+(T.width-T.hGap*2)*P[0],E]:[b,E],m&&i?[b+(T.width-T.hGap*2)*P[0],E]:[b,E],m&&i?[b+(T.width-T.hGap*2)*P[0],E]:[b,E]];const z=zu(p,d);if(c===cc.polyline){const te=[[v,w],[v,E],[b,E],m&&i?[b+(T.width-T.hGap*2)*P[0],E]:[b,E]];return Ho(te,{stroke:h,strokeWidth:d,strokeLineDash:z})}const Y=Zi(I,.001);return aW(Y,{stroke:h,strokeWidth:d})}function pse(e,n,r,i,o=null,u,l){const c=QS(e,n.origin),d=o||ZS(e,r.origin),h=u||c9(e,r.origin),p=Ay(e,r.origin),m=c===cc.polyline?!0:!Tt.isMind(n.origin),v=xp(e,n.origin),b=xp(e,r.origin)===ja.underline,E=v===ja.underline,S=Qn(r),T=Qn(n),C=Bu(r,i),B=[Fn.right,wn.middle],P=[Fn.left,wn.middle];ho(B,C),ho(P,C),i&&E&&!Tt.isMind(n.origin)&&(B[1]=wn.bottom),i&&b&&(P[1]=wn.bottom);let I=Ui(T,B),z=Ui(S,P);const te=m?Un(I,8,C):I;let re=m?[I,te,te]:[];const ae=(n.hGap+r.hGap)/3,ce=-(n.hGap+r.hGap)/2.4;let ne=[te,Un(te,ae,C),Un(z,ce,C),z];const Q=Un(z,S.width,C),le=b&&i?[Q,Q,Q]:[],G=Zi([...re,...ne,...le]),R=zu(p,h);let k;if(c===cc.polyline){const _=Un(te,8,C),X=[...re,_,i?[_[0],z[1]]:[z[0],_[1]],z,...le];k=Ho(X,{stroke:d,strokeWidth:h,strokeLineDash:R})}else k=L.getRoughSVG(e).curve(G,{stroke:d,strokeWidth:h,strokeLineDash:R});return p===Ha.dotted&&Vt(k,"round"),k}function D9(e,n,r,i,o,u,l,c){return Be.isIndentedLayout(n.origin)?gse(e,n,r,o,u,l):pse(e,n,r,i,u,l)}const mse="foreign-object-emoji";class vse{constructor(n){this.board=n,this.emojiComponentRef=null}draw(n,r,i){this.destroy();const o={board:this.board,emojiItem:r,element:i,fontSize:n9(i)};this.emojiComponentRef=this.board.renderEmoji(n,o)}destroy(){this.emojiComponentRef&&(this.emojiComponentRef.destroy(),this.emojiComponentRef=null)}}const xT=class xT{constructor(n){this.board=n,this.emojiGenerators=[]}drawEmojis(n){if(this.destroy(),Be.hasEmojis(n)){this.g=Lt(),this.g.classList.add("emojis");const r=v9(this.board,n),i=z3(r.x,r.y,r.width,r.height);i.classList.add(mse),this.g.append(i);const o=document.createElement("div");return o.classList.add("node-emojis-container"),i.append(o),this.emojiGenerators=n.data.emojis.map(u=>{const l=new vse(this.board);return l.draw(o,u,n),l}),this.g}}destroy(){this.g&&this.g.remove(),this.emojiGenerators.forEach(n=>n.destroy()),this.emojiGenerators=[]}};xT.key="node-emojis-generator";let Cp=xT;const yse=(e,n,r,i)=>{const o=sn.getElementRef(n),u=Be.getNode(n),l=Lt();l.classList.add("dragging","fake-node","plait-board-attached");const c={...u,x:u.x+r,y:u.y+i},d=y9(e,u),h=hse(e,c),p=Ed(n).g.cloneNode(!0);if(Ng(p,d.width,d.height,d.x+r,d.y+i),l==null||l.append(h),l==null||l.append(p),Be.hasEmojis(n)){const v=o.getGenerator(Cp.key).g.cloneNode(!0),w=v9(e,n);Ng(v,w.width,w.height,w.x+r,w.y+i),l==null||l.append(v)}if(Be.hasImage(n)){const v=o.getGenerator(Ga.key).g.cloneNode(!0),w=Ry(e,n);Ng(v,w.width,w.height,w.x+r,w.y+i),l==null||l.append(v)}return l},wse=(e,n,r)=>{const i=n.target,o=Lt(),u=Ut.get(e,gt.parent(r)),l=Ji.getLayoutByElement(u),c=ti(l),{hasNextNode:d,hasPreviousNode:h}=ase(u,n,r),p=30,m=12;let v,w,b,E;if(!h&&!d){const te=Be.getNode(u),re=Qn(te);E=Bu(te,c),b=te,Tt.isMind(i)&&Qi(l)&&(n.detectResult==="left"?(E=nn.left,b.left=!0):(E=nn.right,b.left=!1));const ae=[Fn.right,wn.middle];ho(ae,E);const ce=Ui(re,ae);if(Ys(l)){const ne=[Fn.center,Ru(l)?wn.top:wn.bottom],Q=Ui(re,ne);w=Un(Q,m,E),w[1]=Ru(l)?w[1]-m:w[1]+m}else w=Un(ce,p,E)}else if(!h&&d){const te=Ut.get(e,r);b=Be.getNode(te);const re=Qn(b);E=Bu(b,c);const ae=[Fn.left,wn.top];ho(ae,E);let ce=-12;Be.isIndentedLayout(u)&&(ce=Ru(l)?ce/2+b.height-b.vGap:0),w=Ui(re,ae),w=Tv(w,ce,E)}else if(h&&!d){const te=Ut.get(e,gt.previous(r));b=Be.getNode(te);const re=Qn(b);E=Bu(b,c);const ae=[Fn.left,wn.bottom];ho(ae,E);let ce=m;Be.isIndentedLayout(u)&&(ce=Ru(l)?-ce-(b.height-b.vGap):ce),w=Ui(re,ae),w=Tv(w,ce,E)}else{const te=Ut.get(e,gt.previous(r));b=Be.getNode(te);const re=Qn(b),ae=Ut.get(e,r),ce=Be.getNode(ae),ne=Qn(ce),Q=[Fn.left,wn.bottom],le=[Fn.left,wn.top];E=Bu(b,c),ho(Q,E),ho(le,E);const G=Ui(re,Q),R=Ui(ne,le);w=[(G[0]+R[0])/2,(G[1]+R[1])/2]}let S=w,T=w;const C=c?m:p,B=c?p:m;S=Tv(S,-C/2,E),T=Tv(T,C/2,E),T=Un(T,B,E);const P=Math.min(S[0],T[0]),I=Math.min(S[1],T[1]);v={...b,x:P,y:I,width:p,height:m,hGap:Be.isIndentedLayout(u)?Ir*4+(b.origin.strokeWidth||c3):0,vGap:Be.isIndentedLayout(u)?Ir:0};const z=md(L.getRoughSVG(e),v.x,v.y,v.x+p,v.y+m,{stroke:qf,strokeWidth:2,fill:qf,fillStyle:"solid"}),Y=D9(e,Be.getNode(u),v,c,!1,qf,c3);return o==null||o.appendChild(Y),o==null||o.appendChild(z),o};var ni;(function(e){e.start="start",e.end="end"})(ni||(ni={}));var zg;(function(e){e.start="start",e.resizing="resizing",e.end="end"})(zg||(zg={}));function yM(e,n,r,i,o){const u=Lt(),l=Be.getParent(r),c=Ji.getCorrectLayoutByElement(e,r),d=ti(c),h=l.children.slice(r.start,r.end+1),p=an(e,h,!0),m=gi(e,p);let v=N.getOutlineRectangle(m,-3.5);o&&(v=Bg(v,o,i,d));const w=bse(n,v.x,v.y,v.x+v.width,v.y+v.height,d,{stroke:qf,strokeWidth:1,fillStyle:"solid"}),b=[Fn.center,wn.top],E=[Fn.center,wn.bottom],S=Bu(Be.getNode(r),d);ho(b,S),ho(E,S);let T=Ui(v,b),C=Ui(v,E);const B=Un(T,-10/2,S),P=Un(T,pM/2,S),I=Un(C,-10/2,S),z=Un(C,pM/2,S),Y=n.line(B[0],B[1],P[0],P[1],wM(i===ni.start)),te=n.line(I[0],I[1],z[0],z[1],wM(i===ni.end));return xse(e,i,d),Vt(Y,"round"),Vt(te,"round"),u.append(Y),u.append(te),u.append(w),u}function wM(e){return e?{stroke:qf,strokeWidth:4,fillStyle:"solid"}:{stroke:ese,strokeWidth:3,fillStyle:"solid"}}function xse(e,n,r){n?r?L.getBoardContainer(e).classList.add("abstract-resizing-horizontal"):L.getBoardContainer(e).classList.add("abstract-resizing-vertical"):(L.getBoardContainer(e).classList.remove("abstract-resizing-horizontal"),L.getBoardContainer(e).classList.remove("abstract-resizing-vertical"))}function bse(e,n,r,i,o,u,l){const c=Math.abs(n-i),d=Math.abs(r-o),h=5,v=10+4*2;if(u){const w=(c-v-h*2)/2,b=d-h*2;return e.path(`M${n+h},${r}
            l${w},0
            m${v},0
            l${w},0
            a${h},${h},0,0,1,${h},${h}
            l0,${b}
            a${h},${h},0,0,1,-${h},${h}
            l-${w},0
            m-${v},0
            l-${w},0
            a${h},${h},0,0,1,-${h},-${h}
            l0,-${b}
            a${h},${h},0,0,1,${h},-${h}`,l)}else{const w=(d-v-h*2)/2,b=c-h*2;return e.path(`M${n+h},${r}
            l${b},0
            a${h},${h},0,0,1,${h},${h}
            l0,${w}
            m0,${v}
            l0,${w}
            a${h},${h},0,0,1,-${h},${h}
            l-${b},0
            a${h},${h},0,0,1,-${h},-${h}
            l0,-${w}
            m0,-${v}
            l0,-${w}
            a${h},${h},0,0,1,${h},-${h}`,l)}}const bT=class bT extends bo{canDraw(n,r){return!!r.selected}draw(n,r){const i=Lt(),o=Be.getNode(n),u=Qn(o),l=gi(this.board,u),c=Wp(this.board,n),d=lr,h=N.inflate(l,d),p=md(L.getRoughSVG(this.board),h.x,h.y,h.x+h.width,h.y+h.height,{stroke:qf,strokeWidth:d,fill:""},!0,Ty.shape.rectangleRadius+(d+c)/2);return dt.isAbstract(n)&&(this.abstractOutlineG=yM(this.board,L.getRoughSVG(this.board),n),i.append(this.abstractOutlineG),p.classList.add("abstract-element")),i.appendChild(p),i.classList.add(Rp),i}updateAbstractOutline(n,r,i){const o=yM(this.board,L.getRoughSVG(this.board),n,r,i);this.abstractOutlineG&&(this.abstractOutlineG.replaceWith(o),this.abstractOutlineG=o)}};bT.key="mind-node-active";let Gu=bT;const Bg=(e,n,r,i)=>i?r===ni.start?{...e,y:n,height:e.height+e.y-n}:{...e,height:n-e.y}:r===ni.start?{...e,x:n,width:e.width+e.x-n}:{...e,width:n-e.x},Cse=(e,n,r,i,o,u)=>{const l=Be.getNode(i),{start:c,end:d}=Mu(l.origin,o),h=r[c],p=r[d];if(n===ni.start){const m=r.filter(E=>dt.isAbstract(E)&&E.end<i.start);let v;if(m.length){const E=m.map(S=>{const{end:T}=Mu(S,o);return T}).sort((S,T)=>T-S)[0];v=r[E+1]}else v=r[0];const w=an(e,[v],!0),b=an(e,[p],!1);return u?{max:b.y-xu,min:w.y-xu}:{max:b.x-xu,min:w.x-xu}}else{const m=r.filter(E=>dt.isAbstract(E)&&E.start>i.end);let v;if(m.length){const E=m.map(S=>{const{start:T}=Mu(S,o);return T}).sort((S,T)=>S-T)[0];v=r[E-1]}else{const E=r.filter(S=>!dt.isAbstract(S));v=r[E.length-1]}const w=an(e,[v],!0),b=an(e,[h],!1);return u?{max:w.y+w.height+xu,min:b.y+b.height+xu}:{max:w.x+w.width+xu,min:b.x+b.width+xu}}},S9=(e,n,r)=>{const i=Ji.getCorrectLayoutByElement(e,n),o=ti(i),l=Be.getParent(n).children.slice(n.start,n.end+1);let c=an(e,l,!0);c=N.getOutlineRectangle(c,-3.5);const d=xM(c,o,ni.start),h=xM(c,o,ni.end),p=N.getRectangleByPoints([r,r]);if(N.isHit(p,d))return ni.start;if(N.isHit(p,h))return ni.end},xM=(e,n,r)=>{let i;if(r===ni.start){const o=n?e.y:e.x;i=Bg(e,o+Nv/2,ni.end,n),i=Bg(i,o-Nv/2,r,n)}else{const o=n?e.y+e.height:e.x+e.width;i=Bg(e,o-Nv/2,ni.start,n),i=Bg(i,o+Nv/2,r,n)}return i};function Ese(e,n,r,i){const o=n.filter(p=>!dt.isAbstract(p)),u=o.map(p=>an(e,[p],!1)),l=an(e,[o[0]],!0),c={x:l.x-l.width,y:l.y-l.height,width:l.width,height:l.height},d=an(e,[o[o.length-1]],!0),h={x:d.x+d.width,y:d.y+d.height,width:d.width,height:d.height};u.push(h),u.unshift(c);for(let p=0;p<u.length-1;p++){const m=i?u[p].y:u[p].x,v=i?u[p].height:u[p].width;if(r>=m+v/2&&r<=u[p+1][i?"y":"x"]+u[p+1][i?"height":"width"]/2)return p-1}return 0}function Dse(e,n,r){let i;const o=Xe(e).filter(u=>dt.isAbstract(u)).find(u=>(i=S9(e,u,r),i));return n===o||(n&&(sn.getElementRef(n).getGenerator(Gu.key).updateAbstractOutline(n),n=void 0),o&&(n=o,sn.getElementRef(n).getGenerator(Gu.key).updateAbstractOutline(n,i))),n}const T9=e=>{const n=Be.findParent(e);if(n){const r=n.children.findIndex(i=>i.id===e.id);if(Tt.isMind(n)&&Hu(n)===Ve.standard&&n.rightNodeCount&&r<=n.rightNodeCount-1)return!0}return!1},A9=(e,n,r,i=[])=>{let o=i.findIndex(l=>gt.equals(l.path,n));const u=Ut.get(e,n);return o===-1?i.push({path:n,rightNodeCount:u.rightNodeCount+r}):i[o].rightNodeCount+=r,i},P9=(e,n,r=[])=>(n.forEach(i=>{if(T9(i)){const o=Be.getParent(i),u=L.findPath(e,o);let l=r.findIndex(c=>gt.equals(c.path,u));l===-1?r.push({path:u,rightNodeCount:o.rightNodeCount-1}):r[l].rightNodeCount-=1}}),r);function sT(e,n){const r=Xu(n);return L.findPath(e,n).concat(r.length)}function Sse(e,n){const r=L.findPath(e,n);return J.next(r)}const aT=(e,n)=>{const r=Be.getAncestors(e,n);r.unshift(n);const i=r[r.length-1];let o=Hu(i);if(Tt.isMind(n))return o;const u=Be.getNode(n);let l=o;o===Ve.standard&&(l=u.left?Ve.left:Ve.right);let c=null;const d=r.find(h=>h.layout||dt.isAbstract(h));if(d)if(dt.isAbstract(d)){const h=Be.getParent(d),p=aT(e,h);c=qS(p)}else c=d==null?void 0:d.layout;if(c===Ve.standard||!c)return l;{const h=joe(l,c);return h?zoe(c,h):c}},R9=(e,n)=>{const r=[];n.layout&&r.unshift(aT(e,n));let i=Be.findParent(n);for(;i;)i.layout&&r.unshift(i.layout),i=Be.findParent(i);return r},Tse=(e,n)=>{const r=Be.findParent(n);if(r){const i=R9(e,r);if(i[0]===Ve.standard){const h=Be.getNode(n);i[0]=h.left?Ve.left:Ve.right}const o=fM(i);let u=dM(o);const l=[i[i.length-1]],c=fM(l),d=dM(c);return u=u.filter(h=>d.some(p=>p===h)),u}},g3=e=>{const n=e.layout;if(n)return n;const r=!Tt.isMind(e)&&Be.getParent(e);return dt.isAbstract(e)&&r?qS(g3(r)):r?g3(r):tT()},Ji={getAvailableSubLayoutsByElement:Tse,getBranchLayouts:R9,getLayoutByElement:g3,getCorrectLayoutByElement:aT},Ase="mindmap",Tt={isMind:e=>e.type==="mind"||e.type===Ase},Be={hasLayout(e,n){return Ji.getLayoutByElement(e)===n},isIndentedLayout(e){const n=Ji.getLayoutByElement(e);return Ys(n)},isMindElement(e,n){return!!(n.data&&n.data.topic||n.type==="mind_child")},getParent(e){if(Tt.isMind(e))throw new Error("mind root node can not get parent");return Kl.get(e)},findParent(e){return Tt.isMind(e)?void 0:Kl.get(e)},getRoot(e,n){const r=L.findPath(e,n);return Ut.get(e,r.slice(0,1))},getAncestors(e,n){const r=L.findPath(e,n),i=[];for(const o of gt.ancestors(r,{reverse:!0})){const u=Ut.get(e,o);u&&!L.isBoard(u)&&i.push(u)}return i},getNode(e){const n=wp.get(e);if(!n)throw new Error(`can not get node from ${JSON.stringify(e)}`);return n},findParentNode(e){if(Tt.isMind(e))return;const n=Be.getParent(e);return Be.getNode(n)},hasEmojis(e){return!!e.data.emojis},hasImage(e){return!!e.data.image},getEmojis(e){return e.data.emojis}};var ja;(function(e){e.roundRectangle="round-rectangle",e.underline="underline"})(ja||(ja={}));var cc;(function(e){e.bight="bight",e.polyline="polyline"})(cc||(cc={}));function Pse(e,n,r){const o=Hoe(e,n.origin),u=f9(e,n.origin),l=Ay(e,n.origin),c=n.parent,d=QS(e,n.origin),h=Qn(n);let p=c.children.slice(n.origin.start,n.origin.end+1).map(re=>re.origin);const m=an(e,p,!0),v=Bu(n,r),w=[Fn.right,wn.top],b=[Fn.right,wn.bottom],E=[Fn.left,wn.middle];ho(w,v),ho(b,v),ho(E,v);let S=Ui(m,w),T=Ui(m,b),C=Ui(h,E),B=BN(C,S,r)-15*2;S=Un(S,15,v);let P=Un(S,B,v);T=Un(T,15,v);let I=Un(T,B,v),z=Un(C,-15,v);const Y=zu(l,o);if(d===cc.polyline){const re=Lt(),ae=Ho([S,P,z,I,T],{stroke:u,strokeWidth:o}),ce=Ho([C,z],{stroke:u,strokeWidth:o,strokeLineDash:Y});return re.appendChild(ae),re.appendChild(ce),re}return L.getRoughSVG(e).path(`M${S[0]},${S[1]} Q${P[0]},${P[1]} ${z[0]},${z[1]} Q${I[0]},${I[1]} ${T[0]},${T[1]} M${C[0]},${C[1]} L${z[0]},${z[1]}`,{stroke:u,strokeWidth:o,strokeLineDash:Y})}const B9=(e,n)=>{n.forEach((r,i)=>{const o=i.start+r.start,u=i.end+r.end,l=L.findPath(e,i);o>u?Ge.removeNode(e,l):Ge.setNode(e,{start:o,end:u},l)})},k9=(e,n)=>{const r=n.rightNodeCount,i=n.children.find(o=>dt.isAbstract(o)&&o.end>=r&&o.start<r);if(i){const o=L.findPath(e,i);Ge.setNode(e,{end:r-1},o)}},Rse=(e,n)=>{let r=jg(n);const{parentElements:i,abstractIncludedGroups:o}=Joe(r);o.forEach((u,l)=>{const c=i[l];Bse(e,c,u)})},Bse=(e,n,r)=>{const i=r.map(c=>n.children.indexOf(c)).sort((c,d)=>c-d),o=n==null?void 0:n.rightNodeCount,u=i[0],l=i[i.length-1];if(Qi(Ji.getLayoutByElement(n))&&o&&u<o&&l>=o){const c=n.children.length,d=[...L.findPath(e,n),c],h=i.filter(m=>m>=o),p=i.filter(m=>m<o);KE(e,d,p[0],p[p.length-1]),KE(e,gt.next(d),h[0],h[h.length-1])}else{const c=[...L.findPath(e,n),n.children.length];KE(e,c,u,l)}},KE=(e,n,r,i)=>{const o=Yoe(e),u=Py(o,{strokeWidth:ld.branch.width,branchWidth:ld.branch.width});u.start=r,u.end=i,Ge.insertNode(e,u,n),pd(e),mc(e,u)},kse=(e,n,r)=>{const i={data:{...n.data}};r&&(i.data.topic=r);const o=L.findPath(e,n);Ge.setNode(e,i,o)},Mse=(e,n,r)=>{const i=L.findPath(e,n),{width:o}=Qv(e,n,r,0),u={manualWidth:o,data:{...n.data,topic:{...n.data.topic}}};Ge.setNode(e,u,i)},M9=(e,n,r)=>{const i=e.pathRef(r);n.forEach(o=>{i.current&&Ge.insertNode(e,o,i.current)}),i.unref()},Nse=(e,n,r,i)=>{var c;const o=Ut.get(e,J.parent(i)),u=[...J.parent(i),(c=o.children)==null?void 0:c.length],l=n.map(d=>{const{start:h,end:p}=s9(d,r);return{...d.abstract,start:h+i[i.length-1],end:p+i[i.length-1]}});M9(e,l,u)},N9=(e,n)=>{n.forEach(r=>{Ge.setNode(e,{rightNodeCount:r.rightNodeCount},r.path)})},Ose=(e,n)=>{if(Be.isMindElement(e,n)){ay(e,n);const r=L.findPath(e,n);if(n.isCollapsed){const i={isCollapsed:!1};fs.withoutSaving(e,()=>{Ge.setNode(e,i,r)})}rT(e,n,sT(e,n))}},Fse=(e,n)=>{if(Be.isMindElement(e,n)&&!Tt.isMind(n)&&!dt.isAbstract(n)){const r=L.findPath(e,n);if(T9(n)){const o=A9(e,r.slice(0,1),1);N9(e,o)}const i=a9(e,J.next(r));B9(e,i),rT(e,n,Sse(e,n))}},Lse=(e,n)=>{Ge.insertNode(e,n,[e.children.length]),Ge.addSelectionWithTemporaryElements(e,[n])},Ise=(e,n,r)=>{const o=[...n.data.emojis||[]];o.push(r);const u={data:{...n.data,emojis:o}},l=L.findPath(e,n);Ge.setNode(e,u,l)},Hse=(e,n,r)=>{const i=n.data.emojis.filter(l=>l!==r),o={data:{topic:n.data.topic}};Be.hasImage(n)&&(o.data.image=n.data.image),i.length>0&&(o.data.emojis=i);const u=L.findPath(e,n);Ge.setNode(e,o,u)},Gse=(e,n,r,i)=>{const o={data:{...n.data}},u=n.data.emojis.map(c=>c===r?i:c);o.data.emojis=u;const l=L.findPath(e,n);Ge.setNode(e,o,l)},_se=(e,n)=>{Jv(e,n);const r={data:{...n.data,topic:{...n.data.topic}}};delete r.data.image;const i=L.findPath(e,n);Ge.setNode(e,r,i)},Vse=(e,n,r)=>{const i={data:{...n.data,image:r,topic:{...n.data.topic}}},o=L.findPath(e,n);Ge.setNode(e,i,o)},O9=(e,n,r)=>{var o;const i=Ut.get(e,r);i&&n&&((o=i.children)==null||o.forEach((u,l)=>{var c;u.layout&&((mp(n)&&s3(u.layout)||s3(n)&&mp(u.layout))&&Ge.setNode(e,{layout:null},[...r,l]),(c=u.children)!=null&&c.length&&O9(e,n,[...r,l]))}))},jse=(e,n)=>{const r=(i,o)=>{if(Be.isMindElement(e,i)){O9(e,n,o);const u=Ut.get(e,o);if(Tt.isMind(u)&&Qi(n)){let l={rightNodeCount:u.children.length/2};Ge.setNode(e,l,o),k9(e,u)}Ge.setNode(e,{layout:n},o)}};Ip.setProperty(e,{},{callback:r})},zse=(e,n)=>{Ip.setProperty(e,{shape:n})},$se=(e,n)=>{Ip.setProperty(e,{branchShape:n})},Use=(e,n)=>{Ip.setProperty(e,{branchWidth:n})},Wse=(e,n)=>{Ip.setProperty(e,{branchColor:n})},Pr={setLayout:jse,setShape:zse,setBranchShape:$se,setBranchWidth:Use,setBranchColor:Wse,setTopic:kse,setNodeManualWidth:Mse,addEmoji:Ise,removeEmoji:Hse,replaceEmoji:Gse,insertAbstract:Rse,setAbstractsByRefs:B9,setAbstractByStandardLayout:k9,insertNodes:M9,insertAbstractNodes:Nse,setRightNodeCountByRefs:N9,removeImage:_se,setImage:Vse,insertChildNode:Ose,insertSiblingNode:Fse,insertMind:Lse};class Xse extends bo{constructor(n){super(n,{prepend:!0})}canDraw(n,r){return xp(this.board,n)===ja.roundRectangle}draw(n,r){const i=Qn(r.node);return oT(this.board,i,r.node.origin)}}const CT=class CT extends bo{canDraw(n,r){return!!((r!=null&&r.isHovered||r!=null&&r.isHoveredCollapseArea||r!=null&&r.isHoveredAddArea)&&p3(this.board)||r!=null&&r.isSelected&&Kse(this.board,n)&&p3(this.board)||n.isCollapsed)}draw(n,r){const i=Lt(),o=ZS(this.board,n),u=L9(this.board,n),l=I9(this.board,n,u),c=Un(l[1],js/2,u),d=n.children.length>0,h=!n.isCollapsed&&(ql(this.board,n)||!!(r!=null&&r.isHovered)||!!(r!=null&&r.isHoveredCollapseArea)||!!(r!=null&&r.isHoveredAddArea)),p=h&&d&&!Tt.isMind(n),m=h&&!L.isReadonly(this.board),v=h&&F9(n,c,u)||null;return this.toggleCollapseOrAdd(c,v,o,i,p,m,!!(r!=null&&r.isHoveredAddArea),!!(r!=null&&r.isShowCollapseAnimation),!!(r!=null&&r.isShowAddAnimation)),this.toggleExpandBadge(n,l,c,o,i,!!n.isCollapsed,!!(r!=null&&r.isHoveredExpandArea)),i}toggleCollapseOrAdd(n,r,i,o,u,l,c,d,h){var p;if((p=this.collapseOrAddG)==null||p.remove(),!(!u&&!l)){if(this.collapseOrAddG=Lt(),u){const m=Lt();this.collapseOrAddG.appendChild(m),m.classList.add("collapse-button"),d&&m.classList.add("animated");const v=L.getRoughSVG(this.board).circle(n[0],n[1],js,{fill:"#fff",stroke:i,strokeWidth:Gl,fillStyle:"solid"}),w=Un(n,-10/2),b=Un(n,Dg/2),E=L.getRoughSVG(this.board).line(w[0],w[1],b[0],b[1],{fill:"#fff",stroke:i,strokeWidth:Gl,fillStyle:"solid"});m.appendChild(v),m.appendChild(E),Vt(E,"round")}if(l&&r){const m=Lt();this.collapseOrAddG.appendChild(m),m.classList.add("add-button"),h&&m.classList.add("animated");const v=L.getRoughSVG(this.board).circle(r[0],r[1],js+Gl,{fill:c?Foe:Ooe,stroke:XD,fillStyle:"solid"}),w=[r[0]-Dg/2,r[1]],b=[r[0]+Dg/2,r[1]],E=[r[0],r[1]-Dg/2],S=[r[0],r[1]+Dg/2],T=L.getRoughSVG(this.board).line(w[0],w[1],b[0],b[1],{stroke:cM,strokeWidth:Gl});Vt(T,"round");const C=L.getRoughSVG(this.board).line(E[0],E[1],S[0],S[1],{stroke:cM,strokeWidth:Gl});Vt(C,"round"),m.appendChild(v),m.appendChild(T),m.appendChild(C)}o.appendChild(this.collapseOrAddG)}}toggleExpandBadge(n,r,i,o,u,l,c){var C;if((C=this.expandG)==null||C.remove(),!l)return;this.expandG=Lt(),this.expandG.classList.add("expanded-button");const d=r[1],h=L.getRoughSVG(this.board).line(r[0][0],r[0][1],d[0],d[1],{fill:o,stroke:o,fillStyle:"solid",strokeWidth:Gl}),p=c?qg(o,.4):qg(o,.2),m=L.getRoughSVG(this.board).circle(i[0],i[1],js+Gl,{fill:p,stroke:XD,fillStyle:"solid"}),v=h9(n);let w=`${v}`,b=i[1]+4.5;v>=99&&(w="...",b=i[1]+1);const{width:E,height:S}=Hp(this.board,wc(w),{fontSize:Number(R1.fontSize12),fontFamily:Yf}),T=_U(i[0]-E/2,b,o,`${w}`);T.setAttribute("style",`font-size: ${Number(R1.fontSize12)}px;`),this.expandG.appendChild(h),this.expandG.appendChild(m),this.expandG.appendChild(T),u.appendChild(this.expandG)}};CT.key="mind-node-more";let Ep=CT;const Yse=(e,n)=>{const r=L9(e,n),[i,o]=I9(e,n,r),u=Un(o,js/2,r),l=F9(n,u,r);return{collapseCenter:u,addCenter:l}},F9=(e,n,r)=>{var o;let i=n;return((o=e.children)==null?void 0:o.length)>0&&!Tt.isMind(e)&&(i=Un(i,t9+js,r)),i},L9=(e,n)=>{const r=Be.getNode(n),i=Ji.getLayoutByElement(n),o=ti(i);let u=Bu(r,o);return Ys(i)&&(u=Ru(i)?nn.top:nn.bottom),u},I9=(e,n,r)=>{const i=Be.getNode(n),o=xp(e,n)===ja.underline,u=Qn(i);let l=[Fn.right,wn.middle];ho(l,r);const c=Ji.getLayoutByElement(n);ti(c)&&o&&!Tt.isMind(n)&&(l[1]=wn.bottom);let h=Ui(u,l);const p=Un(h,t9,r);return[h,p]},Kse=(e,n)=>{const i=Xe(e).filter(o=>Be.isMindElement(e,o)).reverse();return i[i.length-1]===n},p3=e=>!Pa(e)&&!mi(e)&&!wd(e)&&!td(e);class H9 extends $u{get textManage(){return this.getRef().getTextManages()[0]}constructor(){super(),this.shapeG=null,this.trackBy=(n,r)=>r.origin.id}initializeGenerator(){this.nodeShapeGenerator=new Xse(this.board),this.nodeEmojisGenerator=new Cp(this.board),this.activeGenerator=new Gu(this.board),this.nodeMoreGenerator=new Ep(this.board),this.imageGenerator=new Ga(this.board,{getRectangle:i=>Ry(this.board,i),getImageItem:i=>i.data.image});const n=(this.board.getPluginOptions(WD)||{}).textPlugins,r=new Gp(this.board,{getRectangle:()=>y9(this.board,this.node),onChange:i=>{Pr.setTopic(this.board,this.element,i.newText)},getMaxWidth:()=>Sn.getTopicMaxDynamicWidth(this.board,this.element),textPlugins:n||[]});this.getRef().addGenerator(Gu.key,this.activeGenerator),this.getRef().addGenerator(Cp.key,this.nodeEmojisGenerator),this.getRef().addGenerator(Ga.key,this.imageGenerator),this.getRef().addGenerator(Ep.key,this.nodeMoreGenerator),this.getRef().initializeTextManage(r),this.getRef().updateActiveSection=()=>{this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected})}}initialize(){super.initialize(),this.initializeGenerator(),this.node=Be.getNode(this.element),this.index=Uf.get(this.element)||0,this.roughSVG=L.getRoughSVG(this.board),this.nodeShapeGenerator.processDrawing(this.element,this.getElementG(),{node:this.node}),this.drawLink(),this.drawTopic(),this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}),this.nodeMoreGenerator.processDrawing(this.element,this.getElementG()),this.drawEmojis(),this.imageGenerator.processDrawing(this.element,this.getElementG()),Tt.isMind(this.context.parent)&&this.getElementG().classList.add("branch")}onContextChanged(n,r){const i=Be.getNode(n.element),o=N.isEqual(this.node,i);if(this.node=i,!o||n.element!==r.element||n.hasThemeChanged)this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}),this.nodeMoreGenerator.processDrawing(this.element,this.getElementG(),{isSelected:this.selected}),this.nodeShapeGenerator.processDrawing(this.element,this.getElementG(),{node:this.node}),this.drawLink(),this.drawEmojis(),!Be.hasImage(r.element)&&Be.hasImage(this.element)&&this.imageGenerator.processDrawing(this.element,this.getElementG()),Be.hasImage(r.element)&&Be.hasImage(this.element)&&this.imageGenerator.updateImage(this.getElementG(),r.element,n.element),Be.hasImage(r.element)&&!Be.hasImage(this.element)&&this.imageGenerator.destroy(),this.updateTopic();else{const u=n.selected===r.selected,l=n.parent===r.parent;(!u||n.selected)&&(this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected}),this.nodeMoreGenerator.processDrawing(this.element,this.getElementG(),{isSelected:this.selected})),l||this.drawLink()}}drawEmojis(){const n=this.nodeEmojisGenerator.drawEmojis(this.element);n&&this.getElementG().append(n)}drawLink(){if(Tt.isMind(this.element))return;const n=Be.getParent(this.element),r=Be.getNode(n);this.linkLineG&&this.linkLineG.remove();const i=Ji.getLayoutByElement(n);dt.isAbstract(this.node.origin)?this.linkLineG=Pse(this.board,this.node,ti(i)):this.linkLineG=D9(this.board,r,this.node,ti(i)),this.getElementG().append(this.linkLineG)}drawTopic(){this.textManage.draw(this.element.data.topic),this.getElementG().append(this.textManage.g)}updateTopic(){this.textManage.updateText(this.element.data.topic),this.textManage.updateRectangle()}destroy(){super.destroy(),this.nodeEmojisGenerator.destroy(),this.imageGenerator.destroy(),this.activeGenerator.destroy(),wp.get(this.element)===this.node&&wp.delete(this.element),this.getRef().destroyTextManage()}}class qse extends H9{initialize(){this.updateMindLayout(),super.initialize(),this.getElementG().classList.add("root")}beforeContextChange(n){n.element!==this.element&&this.initialized&&this.updateMindLayout(n.element)}updateMindLayout(n=this.element){const r=n.layout||tT();this.root=boe.layout(n,$oe(this.board),r),this.updateMindNodeLocation(n)}updateMindNodeLocation(n){const{x:r,y:i,hGap:o,vGap:u}=this.root,l=r+o,c=i+u;ii(this.root,d=>{d.x=d.x-l+n.points[0][0],d.y=d.y-c+n.points[0][1],wp.set(d.origin,d)})}}const Zse=5,Qse=e=>{const{pointerDown:n,pointerMove:r,globalPointerUp:i}=e;let o=[],u=[],l,c,d,h=null,p;return e.pointerDown=m=>{if(L.isReadonly(e)||L.hasBeenTextEditing(e)||!L.isPointer(e,qt.selection)||!Us(m)){n(m);return}const v=Et(e,At(e,m.x,m.y)),w=Xe(e),b=Zs(e,v);if(b&&Be.isMindElement(e,b)&&!Tt.isMind(b)&&!dt.isAbstract(b)){const E=w.filter(T=>Be.isMindElement(e,T)&&!Tt.isMind(T)&&!dt.isAbstract(T));w.length>0&&w.includes(b)?(o=E,l=v):(o=[b],l=v)}o.length&&(u=i9(e,o)),n(m)},e.pointerMove=m=>{if(!e.options.readonly&&o.length&&l){const v=Et(e,At(e,m.x,m.y));if(bt(l[0],l[1],v[0],v[1])<Zse)return;vM(e,!0),d==null||d.remove();const b=Et(e,At(e,m.x,m.y));h=lse(e,b,h,[...o,...u]),h!=null&&h.target&&(p=dse(e,h),d=wse(e,h,p),L.getHost(e).appendChild(d));const E=v[0]-l[0],S=v[1]-l[1];c==null||c.remove(),c=Lt(),[...o,...u].forEach(T=>{b9(T)}),o.forEach(T=>{const C=yse(e,T,E,S);c==null||c.appendChild(C)}),L.getHost(e).appendChild(c);return}r(m)},e.globalPointerUp=m=>{const v=jg(o);if(!e.options.readonly&&v.length){if(v.push(...u),wd(e)&&v.forEach(w=>{C9(w)}),h){const w=e.pathRef(p),b=gt.hasPrevious(p)&&e.pathRef(gt.previous(p)),E=e.pathRef(L.findPath(e,h.target));let S=o9(e,v);const T=v.filter(ae=>!S.some(ce=>ce.abstract===ae)).map(ae=>dt.isAbstract(ae)?h3(ae):ae);if(p[p.length-1]!==0){const ae=Ut.get(e,gt.previous(p)),ce=Up(ae);if(ce&&ce.end!==p[p.length-1]-1){const Q=S.map(le=>h3(le.abstract));T.push(...Q),S=[]}}const B=u9(e,v);a9(e,p,T.length,!1,B),Pr.setAbstractsByRefs(e,B);let P=P9(e,v);const I=Ut.get(e,gt.parent(p));E9(I,h)&&E.current&&(P=A9(e,E.current.slice(0,1),T.length,P)),Pr.setRightNodeCountByRefs(e,P),rS.removeElements(e,v);let Y=w.current;const te=gt.parent(w.current||p);if(!Y){const ae=b&&b.unref();if(ae)Y=gt.next(ae);else{const ce=Ut.get(e,te),ne=Xu(ce);Y=[...te,ne.length||0]}}Pr.insertNodes(e,T,Y),S.length&&Pr.insertAbstractNodes(e,S,T,Y),E.current&&w.current&&gt.isAncestor(E.current,w.current)&&h.target.isCollapsed&&Ge.setNode(e,{isCollapsed:!1},E.current),E.unref(),w.unref();let re=[];ii(e,ae=>{o.some(ne=>ne.id===ae.id)&&re.push(ae)}),Ge.addSelectionWithTemporaryElements(e,re)}vM(e,!1),o=[],c==null||c.remove(),c=void 0,d==null||d.remove(),d=void 0,h=null}i(m)},e},Jse=e=>{const n=e,{pointerDown:r,pointerMove:i,pointerUp:o}=e;let u,l,c,d;return e.pointerDown=h=>{if(!Us(h)||L.isReadonly(e)){r(h);return}const p=Xe(e).filter(v=>dt.isAbstract(v)),m=Et(e,At(e,h.x,h.y));if(u=p.find(v=>(l=S9(e,v,m),l)),u){n!=null&&n.onAbstractResize&&n.onAbstractResize(zg.start);return}r(h)},e.pointerMove=h=>{Xe(e);const p=Et(e,At(e,h.x,h.y));if(c=Dse(e,c,p),l&&u){const m=Ji.getCorrectLayoutByElement(e,u),v=ti(m),w=Be.getParent(u);let b=w.children;const E=Ji.getLayoutByElement(w);if(Qi(E)){const re=w.rightNodeCount,{leftChildren:ae,rightChildren:ce}=Ioe(w);u.end<re&&(b=ce),u.start>=re&&(b=ae)}n!=null&&n.onAbstractResize&&n.onAbstractResize(zg.resizing);const S=v?p[1]:p[0],T=Be.getNode(w),C=Cse(e,l,b,u,T,v),B=Math.min(C.max,Math.max(C.min,S));let P=Ese(e,b,B,v);if(l===ni.start&&P+1===u.start||l===ni.end&&P===u.end)d=void 0;else{if(Qi(T.layout)){const re=T.origin.rightNodeCount;u.start>=re&&(P+=re)}d=l===ni.start?{start:P+1}:{end:P}}const Y=sn.getElementRef(u).getGenerator(Gu.key),te=Zg(e,[B,B]);Y.updateAbstractOutline(u,l,v?te[1]:te[0])}i(h)},e.pointerUp=h=>{if(l=void 0,u){if(n!=null&&n.onAbstractResize&&n.onAbstractResize(zg.end),d){const p=L.findPath(e,u);Ge.setNode(e,d,p)}else sn.getElementRef(u).getGenerator(Gu.key).updateAbstractOutline(u);u=void 0;return}o(h)},e},eae=e=>{const n=e;return e.setPluginOptions(Sy,{spaceBetweenEmojis:4,emojiPadding:0}),n},tae="m",nae=e=>{const n=e,{keyDown:r,pointerDown:i,pointerMove:o,pointerUp:u}=e;let l=null,c=null;n.pointerDown=h=>{const p=L.isPointer(e,Ba.mind);if(!L.isReadonly(e)&&yc(e)&&p){const m=Et(e,At(e,h.x,h.y)),v=hM(n,m);Pr.insertMind(e,v),gn.updatePointerType(e,qt.selection);return}i(h)},n.pointerMove=h=>{if(L.isReadonly(e)){o(h);return}const p=L.isPointer(e,Ba.mind);py(e)&&p?ys(e,"with-mind-create",()=>{let m=L.getMovingPointInBoard(e);if(m){m=Et(n,At(e,m[0],m[1])),c=hM(n,m);const v=nse(n,c),w=oT(e,v,c),b=w9(n,v,c);if(l)l.textManage.updateRectangle(b),l.nodeG.remove(),l.nodeG=w,l.g.append(w),l.g.append(l.textManage.g);else{const E=new Gp(e,{getRectangle:()=>b});E.draw(c.data.topic),l={g:Lt(),nodeG:w,textManage:E},l.g.classList.add("root"),l.g.setAttribute("plait-mind-temporary","true"),L.getHost(e).append(l.g),l.g.append(l.nodeG,E.g)}}}):d(),o(h)},n.pointerUp=h=>{if(c){Pr.insertMind(e,c),gn.updatePointerType(e,qt.selection),c=null,d();return}u(h)},e.keyDown=h=>{if(L.isReadonly(e)||Xe(e).length>0){r(h);return}if(h.key===tae&&!L.isPointer(e,Ba.mind)){gn.updatePointerType(e,Ba.mind),$i(e,Gr.drawing),h.preventDefault();return}r(h)};function d(){l&&(l.textManage.destroy(),l.g.remove(),l=null)}return n},rae=e=>{const n=e,{keyDown:r,globalKeyDown:i}=n;return n.keyDown=o=>{const u=Xe(n),l=u.length===1,c=u.length===1&&Be.isMindElement(n,u[0]),d=u[0];if(eee(o)&&c&&!Tt.isMind(d)&&d.children&&d.children.length>0){Ge.setNode(n,{isCollapsed:!d.isCollapsed},L.findPath(n,d));return}if(!L.isReadonly(n)){if(tee(o)&&c){o.preventDefault(),Pr.insertChildNode(n,d);return}if(nee(o)&&c&&!Tt.isMind(d)&&!dt.isAbstract(d)){Pr.insertSiblingNode(n,d);return}if(!bS(o)&&!ES(o)&&!CS(o)&&l&&Be.isMindElement(n,d)){o.preventDefault(),eT(d);return}}r(o)},n.globalKeyDown=o=>{if(L.isFocus(n)&&L.hasBeenTextEditing(n)&&Kt.isHotkey("mod+z",o)){const{history:u}=n,{undos:l}=u,c=l.length>0?l[l.length-1][0]:void 0;c&&c.type==="insert_node"&&Be.isMindElement(n,c.node)&&Ed(c.node).isEditing&&n.undo()}i(o)},n},iae=e=>{const{pointerMove:n,pointerLeave:r,pointerUp:i}=e;let o=null;e.pointerMove=l=>{p3(e)&&ys(e,"with-mind-node-hover-hit-test",()=>{o&&!sn.hasMounted(o.target)&&(o=null);const c=bM(e,l.x,l.y);o&&c&&o.target===c.target||(o&&u({target:o.target,isHovered:!1,isHoveredCollapseArea:!1,isHoveredExpandArea:!1,isHoveredAddArea:!1}),c?(u(c),o?o.target=c.target:o=c):o=null)}),n(l)},e.pointerUp=l=>{if(o&&(o.isHoveredCollapseArea||o.isHoveredExpandArea)){const d={isCollapsed:!o.target.isCollapsed},h=L.findPath(e,o.target);Ge.setNode(e,d,h),setTimeout(()=>{const p=bM(e,l.x,l.y);p?(u(p),o=p):o=null},0);return}if(o&&o.isHoveredAddArea&&!L.isReadonly(e)){if(o){const c=sT(e,o.target);rT(e,o.target,c)}return}i(l)};const u=l=>{const c=sn.getElementRef(l.target),d=c==null?void 0:c.getGenerator(Ep.key);if(d){const h=sn.getElementG(l.target);d.processDrawing(l.target,h,{isHovered:l.isHovered,isHoveredCollapseArea:l.isHoveredCollapseArea,isHoveredExpandArea:l.isHoveredExpandArea,isSelected:ql(e,l.target),isHoveredAddArea:l.isHoveredAddArea,isShowCollapseAnimation:(l.isHovered||l.isHoveredCollapseArea)&&!ql(e,l.target),isShowAddAnimation:(l.isHovered||l.isHoveredAddArea)&&!ql(e,l.target)})}};return e.pointerLeave=l=>{o&&u({target:o.target,isHovered:!1,isHoveredCollapseArea:!1,isHoveredExpandArea:!1,isHoveredAddArea:!1}),o=null,r(l)},e},bM=(e,n,r)=>{let i=null,o=!1,u=!1,l=!1,c=!1;const d=Et(e,At(e,n,r));return ii(e,h=>{if(i||!Be.isMindElement(e,h))return;const p=Tt.isMind(h),m=m9(e,d,h);let v=!1,w=!1;const{collapseCenter:b,addCenter:E}=Yse(e,h),S=!p&&N.getRectangleByCenterPoint(b,js,js);v=S&&N.isHit(N.getRectangleByPoints([d,d]),S);const T=N.getRectangleByCenterPoint(E,js,js);w=N.isHit(N.getRectangleByPoints([d,d]),T),(m||v||w)&&(o=m,h.children.length>0&&(h.isCollapsed?l=v:u=v),c=w,i=h)},pc(e),!0),i?{target:i,isHovered:o,isHoveredCollapseArea:u,isHoveredExpandArea:l,isHoveredAddArea:c}:null},oae=e=>{const{keyDown:n,pointerUp:r,globalPointerUp:i,buildFragment:o,insertFragment:u,deleteFragment:l,afterChange:c}=e;return e.pointerUp=d=>{const h=ji(e);if(h&&Be.isMindElement(e,h)&&!AU(d)&&(L.isReadonly(e)||!Us(d)||!L.isPointer(e,qt.selection))){Jv(e,h),r(d);return}if(L.isReadonly(e)){r(d);return}const p=Et(e,At(e,d.x,d.y)),m=Zs(e,p),v=m&&Be.isMindElement(e,m)&&Be.hasImage(m)&&x9(e,m,p);if(v&&h&&m===h){PD(e),r(d);return}h&&Be.isMindElement(e,h)&&Jv(e,h),v&&m&&(PD(e),sse(e,m)),r(d)},e.keyDown=d=>{const h=ji(e);if(!L.isReadonly(e)&&h&&(hi.isDeleteBackward(d)||hi.isDeleteForward(d))){mc(e,h),Pr.removeImage(e,h);return}n(d)},e.globalPointerUp=d=>{if(L.isFocus(e)){const h=d.target instanceof Node&&L.getBoardContainer(e).contains(d.target),p=ji(e);p&&Be.isMindElement(e,p)&&!h&&Jv(e,p)}i(d)},e.buildFragment=(d,h,p,m)=>{const v=ji(e);return v&&(d=jW(Fa.medias,[v.data.image],"")),o(d,h,p,m)},e.deleteFragment=d=>{const h=ji(e);h&&Pr.removeImage(e,h),l(d)},e.insertFragment=(d,h,p)=>{var b,E;const m=Xe(e),v=!!ji(e),w=m.length===1&&Be.isMindElement(e,m[0]);if(v||w){if((b=d==null?void 0:d.files)!=null&&b.length){const S=fN.map(C=>"image/"+C),T=m[0]||ji(e);if(S.includes(d.files[0].type)){const C=d.files[0];EN(e,C,Loe,B=>{Pr.setImage(e,T,B)});return}}if((E=d==null?void 0:d.medias)!=null&&E.length){const S=m[0]||ji(e);Pr.setImage(e,S,d.medias[0]);return}}u(d,h,p)},e.afterChange=()=>{c();const d=ji(e);d&&Be.isMindElement(e,d)&&sn.getElementRef(d).getGenerator(Ga.key).setFocus(d,!0)},e},sae=e=>{let n=null;return xc(e,{key:"mind-node",canResize:()=>!0,hitTest:i=>{const o=aae(e,i);return o?{element:o,handle:null,cursorClass:ds.ew}:null},beforeResize:i=>{n={minWidth:Sn.getNodeResizableMinWidth(e,i.element),currentWidth:Sn.getTopicDynamicWidth(e,i.element),path:L.findPath(e,i.element),textManage:Ed(i.element)}},onResize:(i,o)=>{let u=n.currentWidth+ct.getOffsetX(o.startPoint,o.endPoint);u<=n.minWidth&&(u=n.minWidth);const l=Ut.get(e,n.path);l&&Sn.getNodeTopicMinWidth(e,l)!==u&&Pr.setNodeManualWidth(e,l,u)},afterResize:i=>{n=null}}),e},aae=(e,n)=>{const r=Xe(e).filter(i=>Be.isMindElement(e,i));if(r.length>0){const i=r.find(o=>{const u=uae(e,o);return Bp(n[0],n[1],u)<=0});return i||null}return null},uae=(e,n)=>{const r=Be.getNode(n),i=Qn(r);return{x:i.x+i.width-lM,y:i.y,width:lM*2,height:i.height}},lae=e=>(xc(e,{key:"mind-node-image",canResize:()=>!0,hitTest:r=>{const i=ji(e),o=i&&Be.isMindElement(e,i)?i:void 0;if(o){const u=rse(e,o,r);if(u)return{element:o,handle:u.handle,cursorClass:u.cursorClass}}return null},onResize:(r,i)=>{const o=ct.getOffsetX(i.startPoint,i.endPoint),u=r.element.data.image.width,l=r.element.data.image.height,c=r.path;let d=u+o;d<=100&&(d=100);const h=u/l,p=d/h,m={...r.element.data.image,width:d,height:p};Pr.setImage(e,Ut.get(e,c),m),DN(e,Ut.get(e,c))}}),e),cae=(e,n,r)=>{let i=[];const o=i9(e,n),u=o9(e,[...n,...o]),l=n.filter(d=>!u.find(h=>h.abstract===d));l.push(...u.map(d=>d.abstract));const c=l.map(d=>Be.getNode(d));return l.forEach((d,h)=>{const p=Qn(c[h]),m=[[p.x-r[0],p.y-r[1]]],v=u.find(w=>w.abstract===d);if(dt.isAbstract(d)&&v){const{start:w,end:b}=s9(v,l);i.push({...d,points:m,start:w,end:b})}else if(dt.isAbstract(d)){let w={...d,points:m};delete w.start,delete w.end,i.push(w)}else i.push({...d,points:m})}),i},fae=(e,n,r,i)=>{let o,u;const l=Xe(e);let c=[];const d=l.length===1,h=l[0],p=h&&L.findPath(e,h),m=h&&Xu(h).length;n.forEach((v,w)=>{if(o=p9(v),d&&i!==vs.duplicate)Tt.isMind(v)&&(o=ise(e,o)),dt.isAbstract(o)&&(o.start=o.start+m,o.end=o.end+m),u=[...p,m+w];else{const b=[r[0]+v.points[0][0],r[1]+v.points[0][1]];o.points=[b],dt.isAbstract(v)&&(o=h3(o)),Tt.isMind(v)||(o=ose(e,o)),u=[e.children.length]}c.push(o),Ge.insertNode(e,o,u)}),Ge.addSelectionWithTemporaryElements(e,c)},dae=(e,n,r)=>{const i=Py(r,{});Ge.insertNode(e,i,sT(e,n)),Ge.addSelectionWithTemporaryElements(e,[i])},hae=e=>{const n=e;let r;const{getDeletedFragment:i,insertFragment:o,buildFragment:u,deleteFragment:l}=n;return n.getDeletedFragment=c=>{const d=WE(n);if(d.length){r=jg(d).reverse();const h=u9(n,r);Pr.setAbstractsByRefs(n,h);const p=P9(n,d);Pr.setRightNodeCountByRefs(n,p);const m=jg(d);c.push(...m)}return i(c)},n.deleteFragment=c=>{if(l(c),r){const d=gae(n,r);d&&mc(n,d),r=null}},n.buildFragment=(c,d,h,p)=>{const m=WE(n,p),v=jg(m);if(v.length){const w=cae(n,v,d?[d.x,d.y]:[0,0]),E={text:CN(m),type:Fa.elements,elements:w};c=cy(c,E)}return u(c,d,h,p)},n.insertFragment=(c,d,h)=>{var p,m;if((p=c==null?void 0:c.elements)!=null&&p.length){const v=(m=c.elements)==null?void 0:m.filter(w=>Be.isMindElement(n,w));v&&v.length>0&&fae(n,v,d,h)}if(c!=null&&c.text){const v=WE(n);if(v.length===1){dae(n,v[0],wc(c.text));return}}o(c,d,h)},n},gae=(e,n)=>{let r;const i=n[0],o=L.findPath(e,i);let u=o;if(gt.hasPrevious(o)&&(u=gt.previous(o)),dt.isAbstract(i)){const h=Be.getParent(i);n.includes(h.children[i.start])||(r=h.children[i.start])}try{r||(r=Ut.get(e,u))}catch{}const l=n[0],c=Be.findParent(l),d=n.every(h=>Be.findParent(h)===c);return c&&d&&!r&&(r=c),r},pae=e=>{const n=e;return n.renderEmoji=(r,i)=>{throw new Error("No implementation for renderEmoji method.")},n},mae=e=>!(!e.data||!e.data.topic),vae=e=>{const n={children:[{text:""}]};if(e.data)e.data.topic||(e.data.topic=n);else{const r={topic:n};e.data=r}},G9=e=>{const n=e,{drawElement:r,dblClick:i,isRectangleHit:o,isHit:u,getRectangle:l,isMovable:c,isRecursion:d,isAlign:h,isImageBindingAllowed:p,canAddToGroup:m,canSetZIndex:v,isExpanded:w,getOneHitElement:b,normalizeElement:E}=n;return n.normalizeElement=S=>{Tt.isMind(S.element)&&ii(S.element,T=>{mae(T)||vae(T)}),E(S)},n.drawElement=S=>Tt.isMind(S.element)?qse:Be.isMindElement(n,S.element)?H9:r(S),n.applyTheme=S=>{const T=S,C=!L.isBoard(S)&&((T==null?void 0:T.branchColor)||(T==null?void 0:T.fill)||(T==null?void 0:T.strokeColor));if(Tt.isMind(S)&&C){const B=L.findPath(n,S);Ge.setNode(n,{fill:null,strokeColor:null,branchColor:null},B)}},n.getRectangle=S=>Be.isMindElement(n,S)?(sn.hasMounted(S)||console.error("mind element has not been mounted"),Qn(Be.getNode(S))):l(S),n.canAddToGroup=S=>Be.isMindElement(n,S)&&!Tt.isMind(S)?!1:m(S),n.canSetZIndex=S=>Be.isMindElement(n,S)&&!Tt.isMind(S)?!1:v(S),n.isRecursion=S=>Be.isMindElement(n,S)&&S.isCollapsed?!1:d(S),n.isRectangleHit=(S,T)=>{if(Be.isMindElement(n,S)){const C=Qn(Be.getNode(S));return N.isHit(N.getRectangleByPoints([T.anchor,T.focus]),C)}return o(S,T)},n.isHit=(S,T,C)=>{if(Be.isMindElement(n,S)){const B=Qn(Be.getNode(S));return N.isHit(N.getRectangleByPoints([T,T]),B)}return u(S,T,C)},n.getOneHitElement=S=>S.every(C=>Be.isMindElement(n,C))?S[0]:b(S),n.isMovable=S=>Tt.isMind(S)?!0:c(S),n.isImageBindingAllowed=S=>Be.isMindElement(n,S)?!0:p(S),n.isAlign=S=>Tt.isMind(S)?!0:h(S),n.isExpanded=S=>Be.isMindElement(n,S)&&!Tt.isMind(S)?!S.isCollapsed:w(S),n.dblClick=S=>{if(L.isReadonly(n)){i(S);return}const T=Et(n,At(n,S.x,S.y));n.children.filter(C=>Tt.isMind(C)).forEach(C=>{ii(C,B=>{!L.hasBeenTextEditing(n)&&m9(n,T,B)&&eT(B)},pc(n))}),!L.hasBeenTextEditing(n)&&i(S)},pae(sae(lae(oae(iae(hae(rae(eae(nae(Jse(Qse(n)))))))))))};var qE={exports:{}},CM;function yae(){return CM||(CM=1,function(e){/*!mobile-detect v1.4.5 2021-03-13*//*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/(function(n,r){n(function(){var i={};i.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",Pixel:"; \\bPixel\\b",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332",Asus:"Asus.*Galaxy|PadFone.*Mobile",Xiaomi:"^(?!.*\\bx11\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30|A3-A40",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android [0-9.]+; [a-z-]+; \\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",SailfishOS:"Sailfish",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"\\bEdgiOS\\b|Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version((?!\\bEdgiOS\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",SailfishBrowser:"SailfishBrowser/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",Sailfish:"Sailfish [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},i.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var o=Object.prototype.hasOwnProperty,u;i.FALLBACK_PHONE="UnknownPhone",i.FALLBACK_TABLET="UnknownTablet",i.FALLBACK_MOBILE="UnknownMobile",u="isArray"in Array?Array.isArray:function(m){return Object.prototype.toString.call(m)==="[object Array]"};function l(m,v){return m!=null&&v!=null&&m.toLowerCase()===v.toLowerCase()}function c(m,v){var w,b,E=m.length;if(!E||!v)return!1;for(w=v.toLowerCase(),b=0;b<E;++b)if(w===m[b].toLowerCase())return!0;return!1}function d(m){for(var v in m)o.call(m,v)&&(m[v]=new RegExp(m[v],"i"))}function h(m){return(m||"").substr(0,500)}(function(){var v,w,b,E,S,T,C=i.mobileDetectRules;for(v in C.props)if(o.call(C.props,v)){for(w=C.props[v],u(w)||(w=[w]),S=w.length,E=0;E<S;++E)b=w[E],T=b.indexOf("[VER]"),T>=0&&(b=b.substring(0,T)+"([\\w._\\+]+)"+b.substring(T+5)),w[E]=new RegExp(b,"i");C.props[v]=w}d(C.oss),d(C.phones),d(C.tablets),d(C.uas),d(C.utils),C.oss0={WindowsPhoneOS:C.oss.WindowsPhoneOS,WindowsMobileOS:C.oss.WindowsMobileOS}})(),i.findMatch=function(m,v){for(var w in m)if(o.call(m,w)&&m[w].test(v))return w;return null},i.findMatches=function(m,v){var w=[];for(var b in m)o.call(m,b)&&m[b].test(v)&&w.push(b);return w},i.getVersionStr=function(m,v){var w=i.mobileDetectRules.props,b,E,S,T;if(o.call(w,m)){for(b=w[m],S=b.length,E=0;E<S;++E)if(T=b[E].exec(v),T!==null)return T[1]}return null},i.getVersion=function(m,v){var w=i.getVersionStr(m,v);return w?i.prepareVersionNo(w):NaN},i.prepareVersionNo=function(m){var v;return v=m.split(/[a-z._ \/\-]/i),v.length===1&&(m=v[0]),v.length>1&&(m=v[0]+".",v.shift(),m+=v.join("")),Number(m)},i.isMobileFallback=function(m){return i.detectMobileBrowsers.fullPattern.test(m)||i.detectMobileBrowsers.shortPattern.test(m.substr(0,4))},i.isTabletFallback=function(m){return i.detectMobileBrowsers.tabletPattern.test(m)},i.prepareDetectionCache=function(m,v,w){if(m.mobile===r){var b,E,S;if(E=i.findMatch(i.mobileDetectRules.tablets,v),E){m.mobile=m.tablet=E,m.phone=null;return}if(b=i.findMatch(i.mobileDetectRules.phones,v),b){m.mobile=m.phone=b,m.tablet=null;return}i.isMobileFallback(v)?(S=p.isPhoneSized(w),S===r?(m.mobile=i.FALLBACK_MOBILE,m.tablet=m.phone=null):S?(m.mobile=m.phone=i.FALLBACK_PHONE,m.tablet=null):(m.mobile=m.tablet=i.FALLBACK_TABLET,m.phone=null)):i.isTabletFallback(v)?(m.mobile=m.tablet=i.FALLBACK_TABLET,m.phone=null):m.mobile=m.tablet=m.phone=null}},i.mobileGrade=function(m){var v=m.mobile()!==null;return m.os("iOS")&&m.version("iPad")>=4.3||m.os("iOS")&&m.version("iPhone")>=3.1||m.os("iOS")&&m.version("iPod")>=3.1||m.version("Android")>2.1&&m.is("Webkit")||m.version("Windows Phone OS")>=7||m.is("BlackBerry")&&m.version("BlackBerry")>=6||m.match("Playbook.*Tablet")||m.version("webOS")>=1.4&&m.match("Palm|Pre|Pixi")||m.match("hp.*TouchPad")||m.is("Firefox")&&m.version("Firefox")>=12||m.is("Chrome")&&m.is("AndroidOS")&&m.version("Android")>=4||m.is("Skyfire")&&m.version("Skyfire")>=4.1&&m.is("AndroidOS")&&m.version("Android")>=2.3||m.is("Opera")&&m.version("Opera Mobi")>11&&m.is("AndroidOS")||m.is("MeeGoOS")||m.is("Tizen")||m.is("Dolfin")&&m.version("Bada")>=2||(m.is("UC Browser")||m.is("Dolfin"))&&m.version("Android")>=2.3||m.match("Kindle Fire")||m.is("Kindle")&&m.version("Kindle")>=3||m.is("AndroidOS")&&m.is("NookTablet")||m.version("Chrome")>=11&&!v||m.version("Safari")>=5&&!v||m.version("Firefox")>=4&&!v||m.version("MSIE")>=7&&!v||m.version("Opera")>=10&&!v?"A":m.os("iOS")&&m.version("iPad")<4.3||m.os("iOS")&&m.version("iPhone")<3.1||m.os("iOS")&&m.version("iPod")<3.1||m.is("Blackberry")&&m.version("BlackBerry")>=5&&m.version("BlackBerry")<6||m.version("Opera Mini")>=5&&m.version("Opera Mini")<=6.5&&(m.version("Android")>=2.3||m.is("iOS"))||m.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||m.version("Opera Mobi")>=11&&m.is("SymbianOS")?"B":(m.version("BlackBerry")<5||m.match("MSIEMobile|Windows CE.*Mobile")||m.version("Windows Mobile")<=5.2,"C")},i.detectOS=function(m){return i.findMatch(i.mobileDetectRules.oss0,m)||i.findMatch(i.mobileDetectRules.oss,m)},i.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height};function p(m,v){this.ua=h(m),this._cache={},this.maxPhoneWidth=v||600}return p.prototype={constructor:p,mobile:function(){return i.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return i.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return i.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===r&&(this._cache.userAgent=i.findMatch(i.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===r&&(this._cache.userAgents=i.findMatches(i.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===r&&(this._cache.os=i.detectOS(this.ua)),this._cache.os},version:function(m){return i.getVersion(m,this.ua)},versionStr:function(m){return i.getVersionStr(m,this.ua)},is:function(m){return c(this.userAgents(),m)||l(m,this.os())||l(m,this.phone())||l(m,this.tablet())||c(i.findMatches(i.mobileDetectRules.utils,this.ua),m)},match:function(m){return m instanceof RegExp||(m=new RegExp(m,"i")),m.test(this.ua)},isPhoneSized:function(m){return p.isPhoneSized(m||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===r&&(this._cache.grade=i.mobileGrade(this)),this._cache.grade}},typeof window<"u"&&window.screen?p.isPhoneSized=function(m){return m<0?r:i.getDeviceSmallerSide()<=m}:p.isPhoneSized=function(){},p._impl=i,p.version="1.4.5 2021-03-13",p})})(function(n){if(e.exports)return function(r){e.exports=r()};if(typeof window<"u")return function(r){window.MobileDetect=r()};throw new Error("unknown environment")}())}(qE)),qE.exports}var wae=yae();const xae=gc(wae),EM=e=>V.jsxDEV("span",{className:"mind-node-emoji",style:{fontSize:`${e.fontSize}px`},children:e.emojiItem.name},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/plugins/components/emoji.tsx",lineNumber:5,columnNumber:5},void 0),bae=e=>{const n=e;return e.setPluginOptions(Sy,{emojiPadding:0,spaceBetweenEmojis:4}),n.renderEmoji=(r,i)=>{const o=document.createElement("span");r.appendChild(o);const u=q1.createRoot(o);u.render(V.jsxDEV(EM,{...i},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/plugins/with-mind-extend.tsx",lineNumber:31,columnNumber:17},void 0));let l={...i};return{destroy:()=>{setTimeout(()=>{u.unmount()},0)},update:d=>{l={...l,...d},u.render(V.jsxDEV(EM,{...l},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/plugins/with-mind-extend.tsx",lineNumber:41,columnNumber:21},void 0))}}},n},DM=e=>{const n={src:e.imageItem.url,draggable:!1,width:"100%"};return V.jsxDEV("div",{children:V.jsxDEV("img",{...n,className:vi("image-origin",{"image-origin--focus":e.isFocus})},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/plugins/components/image.tsx",lineNumber:12,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/plugins/components/image.tsx",lineNumber:11,columnNumber:5},void 0)};var cd=(e=>(e.COPY="copy",e.PASTE="paste",e.CUT="cut",e.KEYDOWN="keydown",e.KEYUP="keyup",e.MOUSE_MOVE="mousemove",e.RESIZE="resize",e.UNLOAD="unload",e.FOCUS="focus",e.BLUR="blur",e.DRAG_OVER="dragover",e.DROP="drop",e.GESTURE_END="gestureend",e.BEFORE_UNLOAD="beforeunload",e.GESTURE_START="gesturestart",e.GESTURE_CHANGE="gesturechange",e.POINTER_MOVE="pointermove",e.POINTER_DOWN="pointerdown",e.POINTER_UP="pointerup",e.STATE_CHANGE="statechange",e.WHEEL="wheel",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.HASHCHANGE="hashchange",e.VISIBILITY_CHANGE="visibilitychange",e.SCROLL="scroll",e.MENU_ITEM_SELECT="menu.itemSelect",e.MESSAGE="message",e.FULLSCREENCHANGE="fullscreenchange",e))(cd||{});const uT={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},lT={json:"application/json",drawnix:"application/vnd.drawnix+json",...uT},Cae={drawnix:1},cT=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),Eae=cT?Promise.resolve().then(function(){return Rae}):Promise.resolve().then(function(){return Fae});async function Dae(...e){return(await Eae).default(...e)}cT?Promise.resolve().then(function(){return kae}):Promise.resolve().then(function(){return Iae});const Sae=cT?Promise.resolve().then(function(){return Nae}):Promise.resolve().then(function(){return Gae});async function Tae(...e){return(await Sae).default(...e)}const Aae=async e=>{const n=await e.getFile();return n.handle=e,n};var Pae=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const n=[];e.forEach((o,u)=>{n[u]={description:o.description||"Files",accept:{}},o.mimeTypes?o.mimeTypes.map(l=>{n[u].accept[l]=o.extensions||[]}):n[u].accept["*/*"]=o.extensions||[]});const r=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:n,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),i=await Promise.all(r.map(Aae));return e[0].multiple?i:i[0]},Rae={__proto__:null,default:Pae};function e1(e){function n(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var i=r.done;return Promise.resolve(r.value).then(function(o){return{value:o,done:i}})}return e1=function(r){this.s=r,this.n=r.next},e1.prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(r){var i=this.s.return;return i===void 0?Promise.resolve({value:r,done:!0}):n(i.apply(this.s,arguments))},throw:function(r){var i=this.s.return;return i===void 0?Promise.reject(r):n(i.apply(this.s,arguments))}},new e1(e)}const _9=async(e,n,r=e.name,i)=>{const o=[],u=[];var l,c=!1,d=!1;try{for(var h,p=function(m){var v,w,b,E=2;for(typeof Symbol<"u"&&(w=Symbol.asyncIterator,b=Symbol.iterator);E--;){if(w&&(v=m[w])!=null)return v.call(m);if(b&&(v=m[b])!=null)return new e1(v.call(m));w="@@asyncIterator",b="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());c=!(h=await p.next()).done;c=!1){const m=h.value,v=`${r}/${m.name}`;m.kind==="file"?u.push(m.getFile().then(w=>(w.directoryHandle=e,w.handle=m,Object.defineProperty(w,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>v})))):m.kind!=="directory"||!n||i&&i(m)||o.push(_9(m,n,v,i))}}catch(m){d=!0,l=m}finally{try{c&&p.return!=null&&await p.return()}finally{if(d)throw l}}return[...(await Promise.all(o)).flat(),...await Promise.all(u)]};var Bae=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const n=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await n.values()).next()).done?[n]:_9(n,e.recursive,void 0,e.skipDirectory)},kae={__proto__:null,default:Bae},Mae=async(e,n=[{}],r=null,i=!1,o=null)=>{Array.isArray(n)||(n=[n]),n[0].fileName=n[0].fileName||"Untitled";const u=[];let l=null;if(e instanceof Blob&&e.type?l=e.type:e.headers&&e.headers.get("content-type")&&(l=e.headers.get("content-type")),n.forEach((h,p)=>{u[p]={description:h.description||"Files",accept:{}},h.mimeTypes?(p===0&&l&&h.mimeTypes.push(l),h.mimeTypes.map(m=>{u[p].accept[m]=h.extensions||[]})):l?u[p].accept[l]=h.extensions||[]:u[p].accept["*/*"]=h.extensions||[]}),r)try{await r.getFile()}catch(h){if(r=null,i)throw h}const c=r||await window.showSaveFilePicker({suggestedName:n[0].fileName,id:n[0].id,startIn:n[0].startIn,types:u,excludeAcceptAllOption:n[0].excludeAcceptAllOption||!1});!r&&o&&o(c);const d=await c.createWritable();return"stream"in e?(await e.stream().pipeTo(d),c):"body"in e?(await e.body.pipeTo(d),c):(await d.write(await e),await d.close(),c)},Nae={__proto__:null,default:Mae},Oae=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((n,r)=>{const i=document.createElement("input");i.type="file";const o=[...e.map(d=>d.mimeTypes||[]),...e.map(d=>d.extensions||[])].join();i.multiple=e[0].multiple||!1,i.accept=o||"",i.style.display="none",document.body.append(i);const u=d=>{typeof l=="function"&&l(),n(d)},l=e[0].legacySetup&&e[0].legacySetup(u,()=>l(r),i),c=()=>{window.removeEventListener("focus",c),i.remove()};i.addEventListener("click",()=>{window.addEventListener("focus",c)}),i.addEventListener("change",()=>{window.removeEventListener("focus",c),i.remove(),u(i.multiple?Array.from(i.files):i.files[0])}),"showPicker"in HTMLInputElement.prototype?i.showPicker():i.click()})),Fae={__proto__:null,default:Oae},Lae=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((n,r)=>{const i=document.createElement("input");i.type="file",i.webkitdirectory=!0;const o=l=>{typeof u=="function"&&u(),n(l)},u=e[0].legacySetup&&e[0].legacySetup(o,()=>u(r),i);i.addEventListener("change",()=>{let l=Array.from(i.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(l=l.filter(c=>c.webkitRelativePath.split("/").every(d=>!e[0].skipDirectory({name:d,kind:"directory"})))):l=l.filter(c=>c.webkitRelativePath.split("/").length===2),o(l)}),"showPicker"in HTMLInputElement.prototype?i.showPicker():i.click()})),Iae={__proto__:null,default:Lae},Hae=async(e,n={})=>{Array.isArray(n)&&(n=n[0]);const r=document.createElement("a");let i=e;"body"in e&&(i=await async function(l,c){const d=l.getReader(),h=new ReadableStream({start:v=>async function w(){return d.read().then(({done:b,value:E})=>{if(!b)return v.enqueue(E),w();v.close()})}()}),p=new Response(h),m=await p.blob();return d.releaseLock(),new Blob([m],{type:c})}(e.body,e.headers.get("content-type"))),r.download=n.fileName||"Untitled",r.href=URL.createObjectURL(await i);const o=()=>{typeof u=="function"&&u()},u=n.legacySetup&&n.legacySetup(o,()=>u(),r);return r.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(r.href),3e4),o()}),r.click(),null},Gae={__proto__:null,default:Hae};const V9=e=>{var i,o;const n=(i=e.extensions)==null?void 0:i.reduce((u,l)=>(u.push(lT[l]),u),[]),r=(o=e.extensions)==null?void 0:o.reduce((u,l)=>l==="jpg"?u.concat(".jpg",".jpeg"):u.concat(`.${l}`),[]);return Dae({description:e.description,extensions:r,mimeTypes:n,multiple:e.multiple??!1})},_ae=(e,n)=>Tae(e,{fileName:`${n.name}.${n.extension}`,description:n.description,extensions:[`.${n.extension}`]},n.fileHandle);var fT=(e=>(e.drawnix="drawnix",e))(fT||{});const Vae=()=>new Date().getTime().toString(),j9=async(e,n=Vae())=>{const r=$ae(e),i=new Blob([r],{type:lT.drawnix});return{fileHandle:await _ae(i,{name:n,extension:"drawnix",description:"Drawnix file"})}},jae=async e=>{const n=await V9({description:"Drawnix files"});return Uae(e,await Yae(n))},zae=e=>e&&e.type===fT.drawnix&&Array.isArray(e.elements)&&typeof e.viewport=="object",$ae=e=>{const n={type:fT.drawnix,version:Cae.drawnix,source:"web",elements:e.children,viewport:e.viewport};return JSON.stringify(n,null,2)},Uae=async(e,n)=>{const r=await Kae(n);let i;try{if(i=JSON.parse(r),zae(i))return i;throw new Error("Error: invalid file")}catch{throw new Error("Error: invalid file")}},Wae=(e,n,r)=>new File([e],r||"",{type:n}),Xae=e=>"arrayBuffer"in e?e.arrayBuffer():new Promise((n,r)=>{const i=new FileReader;i.onload=o=>{var u;if(!((u=o.target)!=null&&u.result))return r(new Error("Couldn't convert blob to ArrayBuffer"));n(o.target.result)},i.readAsArrayBuffer(e)}),Yae=async e=>{var n;return e.type||(n=e==null?void 0:e.name)!=null&&n.endsWith(".drawnix")&&(e=Wae(await Xae(e),lT.drawnix,e.name)),e},Kae=async e=>{let n;return"text"in Blob?n=await e.text():n=await new Promise(r=>{const i=new FileReader;i.readAsText(e,"utf8"),i.onloadend=()=>{i.readyState===FileReader.DONE&&r(i.result)}}),n},qae=async e=>new Promise((n,r)=>{const i=new FileReader;i.onload=()=>{const o=i.result;n(o)},i.onerror=o=>r(o),i.readAsDataURL(e)}),SM=e=>!!e&&Object.values(uT).includes(e),Zae=e=>new Promise((n,r)=>{const i=new Image;i.onload=()=>{n(i)},i.onerror=o=>{r(o)},i.src=e}),Qae=(e,n,r)=>{const i=e.width>r?r:e.width,o=i/e.width*e.height;return{url:n,width:i,height:o}},m3=async(e,n,r,i)=>{const o=Xe(e)[0]||ji(e),u=o?240:400,l=await qae(n),c=await Zae(l),d=Qae(c,l,u),h=r&&Zs(e,r);if(i&&h&&Be.isMindElement(e,h)){Pr.setImage(e,h,d);return}o&&Be.isMindElement(e,o)&&!i?Pr.setImage(e,o,d):ki.insertImage(e,d,r)};class Jae{constructor(n={}){this.overlay=null,this.imageContainer=null,this.image=null,this.closeButton=null,this.controlsContainer=null,this.delegationHandler=null,this.dragHandler=null,this.mouseUpHandler=null,this.animationFrameId=null,this.pendingUpdate=!1,this.state={zoom:1,x:0,y:0,isDragging:!1,dragStartX:0,dragStartY:0,imageStartX:0,imageStartY:0},this.styleElement=null,this.options={zoomStep:n.zoomStep||.2,minZoom:n.minZoom||.1,maxZoom:n.maxZoom||5,enableKeyboard:n.enableKeyboard!==!1},this.addStyles(),this.bindEvents()}open(n,r=""){this.createOverlay(),this.createImage(n,r),this.resetState(),document.body.style.overflow="hidden"}close(){this.overlay&&(this.cleanupDragEvents(),document.removeEventListener("mousemove",this.delegationHandler),document.removeEventListener("mouseup",this.delegationHandler),document.removeEventListener("keydown",this.delegationHandler),document.removeEventListener("wheel",this.delegationHandler),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),document.body.removeChild(this.overlay),this.overlay=null,this.image=null,this.imageContainer=null,this.closeButton=null,this.controlsContainer=null,this.delegationHandler=null,this.dragHandler=null,this.mouseUpHandler=null,this.pendingUpdate=!1),document.body.style.overflow=""}createOverlay(){this.overlay=document.createElement("div"),this.overlay.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(45, 45, 45, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      cursor: grab;
    `,this.overlay.addEventListener("click",n=>{n.target===this.overlay&&this.close()}),this.createCloseButton(),this.createControls(),document.body.appendChild(this.overlay)}createCloseButton(){this.closeButton=document.createElement("div"),this.closeButton.innerHTML="×",this.closeButton.className="image-viewer-close-btn",this.closeButton.addEventListener("click",()=>this.close()),this.overlay.appendChild(this.closeButton)}createControls(){this.controlsContainer=document.createElement("div"),this.controlsContainer.style.cssText=`
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 10001;
    `,this.addStyles();const n=document.createElement("button");n.innerHTML="+",n.className="image-viewer-control-btn",n.addEventListener("click",()=>this.zoomIn());const r=document.createElement("button");r.innerHTML="-",r.className="image-viewer-control-btn",r.addEventListener("click",()=>this.zoomOut());const i=document.createElement("button");i.innerHTML="⌂",i.className="image-viewer-control-btn",i.addEventListener("click",()=>this.resetState()),this.controlsContainer.appendChild(r),this.controlsContainer.appendChild(i),this.controlsContainer.appendChild(n),this.overlay.appendChild(this.controlsContainer)}createImage(n,r){this.imageContainer=document.createElement("div"),this.imageContainer.style.cssText=`
      position: relative;
      cursor: grab;
      display: flex;
      align-items: center;
      justify-content: center;
      max-width: calc(100vw - 80px);
      max-height: calc(100vh - 160px);
    `,this.image=document.createElement("img"),this.image.src=n,this.image.alt=r,this.image.style.cssText=`
      max-width: calc(100vw - 80px);
      max-height: calc(100vh - 160px);
      width: auto;
      height: auto;
      display: block;
      user-select: none;
      pointer-events: none;
      object-fit: contain;
    `,this.imageContainer.appendChild(this.image),this.overlay.appendChild(this.imageContainer),this.bindDragEvents()}bindDragEvents(){this.imageContainer&&(this.dragHandler=n=>{if(!this.state.isDragging)return;const r=n.clientX-this.state.dragStartX,i=n.clientY-this.state.dragStartY;this.state.x=this.state.imageStartX+r,this.state.y=this.state.imageStartY+i,this.pendingUpdate||(this.pendingUpdate=!0,this.animationFrameId=requestAnimationFrame(()=>{this.updateImageTransform(),this.pendingUpdate=!1}))},this.mouseUpHandler=()=>{this.state.isDragging&&(this.state.isDragging=!1,this.imageContainer&&(this.imageContainer.style.cursor="grab"),this.overlay&&(this.overlay.style.cursor="grab"),this.cleanupDragEvents())},this.imageContainer.addEventListener("mousedown",n=>{n.preventDefault(),this.state.isDragging=!0,this.state.dragStartX=n.clientX,this.state.dragStartY=n.clientY,this.state.imageStartX=this.state.x,this.state.imageStartY=this.state.y,this.imageContainer&&(this.imageContainer.style.cursor="grabbing"),this.overlay&&(this.overlay.style.cursor="grabbing"),this.dragHandler&&this.mouseUpHandler&&(document.addEventListener("mousemove",this.dragHandler,{passive:!0}),document.addEventListener("mouseup",this.mouseUpHandler,{once:!0}))}))}cleanupDragEvents(){this.dragHandler&&document.removeEventListener("mousemove",this.dragHandler),this.mouseUpHandler&&document.removeEventListener("mouseup",this.mouseUpHandler)}bindEvents(){this.delegationHandler=n=>{if(this.overlay){if(n.type==="keydown"&&this.options.enableKeyboard){const r=n;switch(r.key){case"Escape":this.close();break;case"+":case"=":r.preventDefault(),this.zoomIn();break;case"-":r.preventDefault(),this.zoomOut();break;case"0":r.preventDefault(),this.resetState();break}}else if(n.type==="wheel"){const r=n;r.preventDefault(),r.deltaY<0?this.zoomIn():this.zoomOut()}}},document.addEventListener("keydown",this.delegationHandler),document.addEventListener("wheel",this.delegationHandler,{passive:!1})}zoomIn(){this.state.zoom=Math.min(this.state.zoom+this.options.zoomStep,this.options.maxZoom),this.updateImageTransform()}zoomOut(){this.state.zoom=Math.max(this.state.zoom-this.options.zoomStep,this.options.minZoom),this.updateImageTransform()}resetState(){this.state.zoom=1,this.state.x=0,this.state.y=0,this.updateImageTransform()}updateImageTransform(){this.imageContainer&&(this.imageContainer.style.transform=`
      translate(${this.state.x}px, ${this.state.y}px) 
      scale(${this.state.zoom})
    `)}addStyles(){this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.textContent=`
        .image-viewer-control-btn {
          background: rgba(0, 0, 0, 0.8);
          color: white;
          border: none;
          padding: 8px 14px;
          border-radius: 4px;
          cursor: pointer;
          font-size: 18px;
          transition: background 0.2s;
          user-select: none;
        }
        
        .image-viewer-control-btn:hover {
          background: rgba(0, 0, 0, 0.4);
        }
        
        .image-viewer-close-btn {
          position: absolute;
          top: 20px;
          right: 30px;
          color: white;
          font-size: 18px;
          cursor: pointer;
          z-index: 10001;
          user-select: none;
          width: 36px;
          height: 34px;
          display: flex;
          border-radius: 50%;
          justify-content: center;
          background: rgba(0, 0, 0, 0.8);
          transition: all 0.2s ease;
          line-height: 34px;
          padding-bottom:2px;
        }
        
        .image-viewer-close-btn:hover {
          background: rgba(0, 0, 0, 0.4);
        }
      `,document.head.appendChild(this.styleElement))}removeStyles(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}destroy(){this.close(),this.removeStyles()}}const eue=e=>{const n=e,{insertFragment:r,drop:i,pointerUp:o}=n,u=new Jae({zoomStep:.3,minZoom:.1,maxZoom:5,enableKeyboard:!0});return n.insertFragment=(l,c,d)=>{var h;if((h=l==null?void 0:l.files)!=null&&h.length&&SM(l.files[0].type)){const p=l.files[0];m3(e,p,c,!1);return}r(l,c,d)},n.drop=l=>{var c,d;if((d=(c=l.dataTransfer)==null?void 0:c.files)!=null&&d.length){const h=l.dataTransfer.files[0];if(SM(h.type)){const p=Et(e,At(e,l.x,l.y));return m3(e,h,p,!0),!0}}return i(l)},n.pointerUp=l=>{const c=ji(e);if(c&&!Pa(e)&&!mi(e)&&!wd(e)){const d=Et(e,At(e,l.x,l.y)),h=Zs(e,d);h&&Be.isMindElement(e,h)&&Be.hasImage(h)&&x9(e,h,d)&&c===h&&u.open(h.data.image.url)}o(l)},n},tue={"toolbar.hand":"手形工具 — H","toolbar.selection":"选择 — V","toolbar.mind":"思维导图 — M","toolbar.text":"文本 — T","toolbar.arrow":"箭头 — A","toolbar.shape":"形状","toolbar.image":"图片 — Cmd+U","toolbar.extraTools":"更多工具","toolbar.pen":"画笔 — P","toolbar.eraser":"橡皮擦 — E","toolbar.arrow.straight":"直线","toolbar.arrow.elbow":"肘线","toolbar.arrow.curve":"曲线","toolbar.shape.rectangle":"长方形 — R","toolbar.shape.ellipse":"圆 — O","toolbar.shape.triangle":"三角形","toolbar.shape.terminal":"椭圆角矩形","toolbar.shape.diamond":"菱形","toolbar.shape.parallelogram":"平行四边形","toolbar.shape.roundRectangle":"圆角矩形","zoom.in":"放大 — Cmd++","zoom.out":"缩小 — Cmd+-","zoom.fit":"自适应","zoom.100":"缩放至 100%","theme.default":"默认","theme.colorful":"缤纷","theme.soft":"柔和","theme.retro":"复古","theme.dark":"暗夜","theme.starry":"星空","color.none":"主题颜色","color.unknown":"其他颜色","color.default":"黑色","color.white":"白色","color.gray":"灰色","color.deepBlue":"深蓝色","color.red":"红色","color.green":"绿色","color.yellow":"黄色","color.purple":"紫色","color.orange":"橙色","color.pastelPink":"淡粉色","color.cyan":"青色","color.brown":"棕色","color.forestGreen":"森绿色","color.lightGray":"浅灰色","general.undo":"撤销","general.redo":"重做","general.menu":"应用菜单","general.duplicate":"复制","general.delete":"删除","language.switcher":"Language","language.chinese":"中文","language.english":"English","language.russian":"Русский","language.arabic":"عربي","menu.open":"打开","menu.saveFile":"保存文件","menu.exportImage":"导出图片","menu.exportImage.png":"PNG","menu.exportImage.jpg":"JPG","menu.cleanBoard":"清除画布","menu.github":"GitHub","dialog.mermaid.title":"Mermaid 转 Drawnix","dialog.mermaid.description":"目前仅支持","dialog.mermaid.flowchart":"流程图","dialog.mermaid.sequence":"序列图","dialog.mermaid.class":"类图","dialog.mermaid.otherTypes":"。其他类型在 Drawnix 中将以图片呈现。","dialog.mermaid.syntax":"Mermaid 语法","dialog.mermaid.placeholder":"在此处编写 Mermaid 图表定义…","dialog.mermaid.preview":"预览","dialog.mermaid.insert":"插入","dialog.markdown.description":"支持 Markdown 语法自动转换为思维导图。","dialog.markdown.syntax":"Markdown 语法","dialog.markdown.placeholder":"在此处编写 Markdown 文本定义…","dialog.markdown.preview":"预览","dialog.markdown.insert":"插入","dialog.error.loadMermaid":"加载 Mermaid 库失败","extraTools.mermaidToDrawnix":"Mermaid 到 Drawnix","extraTools.markdownToDrawnix":"Markdown 到 Drawnix","cleanConfirm.title":"清除画布","cleanConfirm.description":"这将会清除整个画布。你是否要继续?","cleanConfirm.cancel":"取消","cleanConfirm.ok":"确认","popupLink.delLink":"移除连结","popupToolbar.fillColor":"填充颜色","popupToolbar.fontColor":"字体颜色","popupToolbar.link":"链接","popupToolbar.stroke":"边框","textPlaceholders.link":"链接","textPlaceholders.text":"文本","line.source":"起点","line.target":"终点","line.arrow":"箭头","line.none":"无","line.undefined":"未定义","line.open-triangle":"开放三角","line.solid-triangle":"实心三角","line.sharp-arrow":"尖箭头","line.one-side-up":"单侧上","line.one-side-down":"单侧下","line.hollow-triangle":"空心三角","line.single-slash":"单斜线","stroke.solid":"实线","stroke.dashed":"虚线","stroke.dotted":"点线","draw.lineText":"文本","draw.geometryText":"文本","mind.centralText":"中心主题","mind.abstractNodeText":"摘要","markdown.example":`# 我开始了
  
  - 让我看看是谁搞出了这个 bug 🕵️ ♂️ 🔍
    - 😯 💣
      - 原来是我 👈 🎯 💘
  
  - 竟然不可以运行，为什么呢 🚫 ⚙️ ❓
    - 竟然可以运行了，为什么呢？🎢 ✨
      - 🤯 ⚡ ➡️ 🎉
  
  - 能运行起来的 🐞 🚀
    - 就不要去动它 🛑 ✋
      - 👾 💥 🏹 🎯
      
  ## 男孩还是女孩 👶 ❓ 🤷 ♂️ ♀️
  
  ### Hello world 👋 🌍 ✨ 💻
  
  #### 哇 是个程序员 🤯 ⌨️ 💡 👩 💻`,"tutorial.title":"Drawnix","tutorial.description":"All-in-one 白板，包含思维导图、流程图、自由画笔等","tutorial.dataDescription":"所有数据被存在你的浏览器本地","tutorial.appToolbar":"导出，语言设置，...","tutorial.creationToolbar":"选择一个工具开始你的创作","tutorial.themeDescription":"在明亮和黑暗主题之间切换"},nue={"toolbar.hand":"Hand — H","toolbar.selection":"Selection — V","toolbar.mind":"Mind — M","toolbar.text":"Text — T","toolbar.arrow":"Arrow — A","toolbar.shape":"Shape","toolbar.image":"Image — Cmd+U","toolbar.extraTools":"Extra Tools","toolbar.pen":"Pen — P","toolbar.eraser":"Eraser — E","toolbar.arrow.straight":"Straight Arrow Line","toolbar.arrow.elbow":"Elbow Arrow Line","toolbar.arrow.curve":"Curve Arrow Line","toolbar.shape.rectangle":"Rectangle — R","toolbar.shape.ellipse":"Ellipse — O","toolbar.shape.triangle":"Triangle","toolbar.shape.terminal":"Terminal","toolbar.shape.diamond":"Diamond","toolbar.shape.parallelogram":"Parallelogram","toolbar.shape.roundRectangle":"Round Rectangle","zoom.in":"Zoom In — Cmd++","zoom.out":"Zoom Out — Cmd+-","zoom.fit":"Fit to Screen","zoom.100":"Zoom to 100%","theme.default":"Default","theme.colorful":"Colorful","theme.soft":"Soft","theme.retro":"Retro","theme.dark":"Dark","theme.starry":"Starry","color.none":"Topic Color","color.unknown":"Other Color","color.default":"Basic Black","color.white":"White","color.gray":"Grey","color.deepBlue":"Deep Blue","color.red":"Red","color.green":"Green","color.yellow":"Yellow","color.purple":"Purple","color.orange":"Orange","color.pastelPink":"Paster Pink","color.cyan":"Cyan","color.brown":"Brown","color.forestGreen":"Forest Green","color.lightGray":"Light Grey","general.undo":"Undo","general.redo":"Redo","general.menu":"App Menu","general.duplicate":"Duplicate","general.delete":"Delete","language.switcher":"Language","language.chinese":"中文","language.english":"English","language.russian":"Русский","language.arabic":"عربي","menu.open":"Open","menu.saveFile":"Save File","menu.exportImage":"Export Image","menu.exportImage.png":"PNG","menu.exportImage.jpg":"JPG","menu.cleanBoard":"Clear Board","menu.github":"GitHub","dialog.mermaid.title":"Mermaid to Drawnix","dialog.mermaid.description":"Currently supports","dialog.mermaid.flowchart":"flowcharts","dialog.mermaid.sequence":"sequence diagrams","dialog.mermaid.class":"class diagrams","dialog.mermaid.otherTypes":", and other diagram types (rendered as images).","dialog.mermaid.syntax":"Mermaid Syntax","dialog.mermaid.placeholder":"Write your Mermaid chart definition here…","dialog.mermaid.preview":"Preview","dialog.mermaid.insert":"Insert","dialog.markdown.description":"Supports automatic conversion of Markdown syntax to mind map.","dialog.markdown.syntax":"Markdown Syntax","dialog.markdown.placeholder":"Write your Markdown text definition here...","dialog.markdown.preview":"Preview","dialog.markdown.insert":"Insert","dialog.error.loadMermaid":"Failed to load Mermaid library","extraTools.mermaidToDrawnix":"Mermaid to Drawnix","extraTools.markdownToDrawnix":"Markdown to Drawnix","cleanConfirm.title":"Clear Board","cleanConfirm.description":"This will clear the entire board. Do you want to continue?","cleanConfirm.cancel":"Cancel","cleanConfirm.ok":"OK","popupLink.delLink":"Delete Link","popupToolbar.fillColor":"Fill Color","popupToolbar.fontColor":"Font Color","popupToolbar.link":"Insert Link","popupToolbar.stroke":"Stroke","textPlaceholders.link":"Link","textPlaceholders.text":"Text","line.source":"Start","line.target":"End","line.arrow":"Arrow","line.none":"None","line.undefined":"Undefined","line.open-triangle":"Open Triangle","line.solid-triangle":"Solid Triangle","line.sharp-arrow":"Sharp Arrow","line.one-side-up":"One Side Up","line.one-side-down":"One Side Down","line.hollow-triangle":"Hollow Triangle","line.single-slash":"Single Slash","stroke.solid":"Solid","stroke.dashed":"Dashed","stroke.dotted":"Dotted","markdown.example":`# I have started

  - Let me see who made this bug 🕵️ ♂️ 🔍
    - 😯 💣
      - Turns out it was me 👈 🎯 💘

  - Unexpectedly, it cannot run; why is that 🚫 ⚙️ ❓
    - Unexpectedly, it can run now; why is that? 🎢 ✨
      - 🤯 ⚡ ➡️ 🎉

  - What can run 🐞 🚀
    - then do not touch it 🛑 ✋
      - 👾 💥 🏹 🎯
    
  ## Boy or girl 👶 ❓ 🤷 ♂️ ♀️

  ### Hello world 👋 🌍 ✨ 💻

  #### Wow, a programmer 🤯 ⌨️ 💡 👩 💻`,"draw.lineText":"Text","draw.geometryText":"Text","mind.centralText":"Central Topic","mind.abstractNodeText":"Summary","tutorial.title":"Drawnix","tutorial.description":"All-in-one whiteboard, including mind maps, flowcharts, free drawing, and more","tutorial.dataDescription":"All data is stored locally in your browser","tutorial.appToolbar":"Export, language settings, ...","tutorial.creationToolbar":"Select a tool to start your creation","tutorial.themeDescription":"Switch between light and dark themes"},rue={"toolbar.hand":"Рука — H","toolbar.selection":"Выделение — V","toolbar.mind":"Mind-карта — M","toolbar.text":"Текст — T","toolbar.arrow":"Стрелка — A","toolbar.shape":"Фигуры","toolbar.image":"Изображение — Cmd+U","toolbar.extraTools":"Дополнительно","toolbar.pen":"Карандаш — P","toolbar.eraser":"Ластик — E","toolbar.arrow.straight":"Прямая стрелка","toolbar.arrow.elbow":"Ломаная стрелка","toolbar.arrow.curve":"Кривая стрелка","toolbar.shape.rectangle":"Прямоугольник — R","toolbar.shape.ellipse":"Эллипс — O","toolbar.shape.triangle":"Треугольник","toolbar.shape.terminal":"Останов","toolbar.shape.diamond":"Ромб","toolbar.shape.parallelogram":"Параллелограмм","toolbar.shape.roundRectangle":"Скруглённый прямоугольник","zoom.in":"Увеличить — Cmd++","zoom.out":"Уменьшить — Cmd+-","zoom.fit":"По размеру экрана","zoom.100":"Сбросить к 100%","theme.default":"Стандартная","theme.colorful":"Красочная","theme.soft":"Мягкая","theme.retro":"Старинная","theme.dark":"Тёмная","theme.starry":"Звёздная","color.none":"Автоматически","color.unknown":"Другой цвет","color.default":"Чёрный","color.white":"Белый","color.gray":"Серый","color.deepBlue":"Голубой","color.red":"Красный","color.green":"Зелёный","color.yellow":"Жёлтый","color.purple":"Фиолетовый","color.orange":"Оранжевый","color.pastelPink":"Розовый","color.cyan":"Лиловый","color.brown":"Коричневый","color.forestGreen":"Сосновный","color.lightGray":"Светло-серый","general.undo":"Отменить","general.redo":"Вернуть","general.menu":"Меню приложения","general.duplicate":"Дублировать","general.delete":"Удалить","language.switcher":"Language","language.chinese":"中文","language.english":"English","language.russian":"Русский","language.arabic":"عربي","menu.open":"Открыть","menu.saveFile":"Сохранить","menu.exportImage":"Экспортировать","menu.exportImage.png":"PNG","menu.exportImage.jpg":"JPG","menu.cleanBoard":"Очистить доску","menu.github":"GitHub","dialog.mermaid.title":"Mermaid в Drawnix","dialog.mermaid.description":"Поддерживаются","dialog.mermaid.flowchart":"блок-схемы","dialog.mermaid.sequence":"диаграммы последовательностей","dialog.mermaid.class":"диаграммы классов","dialog.mermaid.otherTypes":" и другие диаграммы (преобразуются в изображения).","dialog.mermaid.syntax":"Синтаксис Mermaid","dialog.mermaid.placeholder":"Введите сюда описание вашей Mermaid-диаграммы…","dialog.mermaid.preview":"Предпросмотр","dialog.mermaid.insert":"Вставить","dialog.markdown.description":"Поддерживается автоматическое преобразование синтаксиса Markdown в mind-карты.","dialog.markdown.syntax":"Синтаксис Markdown","dialog.markdown.placeholder":"Введите сюда описание вашего текста Markdown…","dialog.markdown.preview":"Предпросмотр","dialog.markdown.insert":"Вставить","dialog.error.loadMermaid":"Не удалось загрузить библотеку Mermaid","extraTools.mermaidToDrawnix":"Mermaid в Drawnix","extraTools.markdownToDrawnix":"Markdown в Drawnix","cleanConfirm.title":"Очистить доску","cleanConfirm.description":"Это удалит всё содержимое доски. Вы хотите продолжить?","cleanConfirm.cancel":"Отмена","cleanConfirm.ok":"ОК","popupLink.delLink":"Удалить ссылку","popupToolbar.fillColor":"Цвет заливки","popupToolbar.fontColor":"Цвет текста","popupToolbar.link":"Вставить ссылку","popupToolbar.stroke":"Контур","textPlaceholders.link":"Ссылка","textPlaceholders.text":"Текст","line.source":"Начало","line.target":"Конец","line.arrow":"Стрелка","line.none":"Нет","line.undefined":"Не определено","line.open-triangle":"Открытый треугольник","line.solid-triangle":"Сплошной треугольник","line.sharp-arrow":"Острый стрелка","line.one-side-up":"Одна сторона вверх","line.one-side-down":"Одна сторона вниз","line.hollow-triangle":"Пустой треугольник","line.single-slash":"Один слэш","stroke.solid":"Сплошной","stroke.dashed":"Штриховой","stroke.dotted":"Пунктирный","markdown.example":`# I have started

  - Let me see who made this bug 🕵️ ♂️ 🔍
    - 😯 💣
      - Turns out it was me 👈 🎯 💘

  - Unexpectedly, it cannot run; why is that 🚫 ⚙️ ❓
    - Unexpectedly, it can run now; why is that? 🎢 ✨
      - 🤯 ⚡ ➡️ 🎉

  - What can run 🐞 🚀
    - then do not touch it 🛑 ✋
      - 👾 💥 🏹 🎯
    
  ## Boy or girl 👶 ❓ 🤷 ♂️ ♀️

  ### Hello world 👋 🌍 ✨ 💻

  #### Wow, a programmer 🤯 ⌨️ 💡 👩 💻`,"draw.lineText":"Текст","draw.geometryText":"Текст","mind.centralText":"Центральная тема","mind.abstractNodeText":"Резюме","tutorial.title":"Tutorial","tutorial.description":"Description","tutorial.dataDescription":"Data Description","tutorial.appToolbar":"App Toolbar","tutorial.creationToolbar":"Creation Toolbar","tutorial.themeDescription":"Theme Description"},iue={"toolbar.hand":"اليد — H","toolbar.selection":"التحديد — V","toolbar.mind":"خريطة ذهنية — M","toolbar.eraser":"ممحاة — E","toolbar.text":"نص — T","toolbar.pen":"قلم — P","toolbar.arrow":"سهم — A","toolbar.shape":"أشكال","toolbar.image":"صورة — Cmd+U","toolbar.extraTools":"أدوات إضافية","toolbar.arrow.straight":"سهم مستقيم","toolbar.arrow.elbow":"سهم بزوايا","toolbar.arrow.curve":"سهم منحني","toolbar.shape.rectangle":"مستطيل — R","toolbar.shape.ellipse":"بيضاوي — O","toolbar.shape.triangle":"مثلث","toolbar.shape.terminal":"نهائي","toolbar.shape.diamond":"معين","toolbar.shape.parallelogram":"متوازي أضلاع","toolbar.shape.roundRectangle":"مستطيل دائري الحواف","zoom.in":"تكبير — Cmd++","zoom.out":"تصغير — Cmd+-","zoom.fit":"ملاءمة الشاشة","zoom.100":"تكبير إلى 100%","theme.default":"افتراضي","theme.colorful":"ملون","theme.soft":"ناعم","theme.retro":"كلاسيكي","theme.dark":"داكن","theme.starry":"ليلي","color.none":"لون الموضوع","color.unknown":"لون آخر","color.default":"أسود أساسي","color.white":"أبيض","color.gray":"رمادي","color.deepBlue":"أزرق غامق","color.red":"أحمر","color.green":"أخضر","color.yellow":"أصفر","color.purple":"بنفسجي","color.orange":"برتقالي","color.pastelPink":"وردي فاتح","color.cyan":"سماوي","color.brown":"بني","color.forestGreen":"أخضر غامق (غابة)","color.lightGray":"رمادي فاتح","general.undo":"تراجع","general.redo":"إعادة","general.menu":"قائمة التطبيق","general.duplicate":"تكرار","general.delete":"حذف","language.switcher":"اللغة","language.chinese":"中文","language.english":"English","language.russian":"Русский","language.arabic":"عربي","menu.open":"فتح","menu.saveFile":"حفظ الملف","menu.exportImage":"تصدير صورة","menu.exportImage.png":"PNG","menu.exportImage.jpg":"JPG","menu.cleanBoard":"مسح اللوحة","menu.github":"غيت هب","dialog.mermaid.title":"من Mermaid إلى Drawnix","dialog.mermaid.description":"يدعم حاليًا","dialog.mermaid.flowchart":"المخططات الانسيابية","dialog.mermaid.sequence":"مخططات التسلسل","dialog.mermaid.class":"مخططات الفئات","dialog.mermaid.otherTypes":"، وأنواع أخرى من المخططات (تُعرض كصور).","dialog.mermaid.syntax":"صيغة Mermaid","dialog.mermaid.placeholder":"اكتب تعريف المخطط هنا...","dialog.mermaid.preview":"معاينة","dialog.mermaid.insert":"إدراج","dialog.markdown.description":"يدعم التحويل التلقائي من Markdown إلى خريطة ذهنية.","dialog.markdown.syntax":"صيغة Markdown","dialog.markdown.placeholder":"اكتب نص Markdown هنا...","dialog.markdown.preview":"معاينة","dialog.markdown.insert":"إدراج","dialog.error.loadMermaid":"فشل في تحميل مكتبة Mermaid","extraTools.mermaidToDrawnix":"من Mermaid إلى Drawnix","extraTools.markdownToDrawnix":"من Markdown إلى Drawnix","cleanConfirm.title":"مسح اللوحة","cleanConfirm.description":"سيؤدي هذا إلى مسح اللوحة بالكامل. هل تريد المتابعة؟","cleanConfirm.cancel":"إلغاء","cleanConfirm.ok":"موافق","popupLink.delLink":"حذف الرابط","popupToolbar.fillColor":"لون التعبئة","popupToolbar.fontColor":"لون الخط","popupToolbar.link":"إدراج رابط","popupToolbar.stroke":"الحد","textPlaceholders.link":"رابط","textPlaceholders.text":"نص","line.source":"بداية","line.target":"نهاية","line.arrow":"سهم","line.none":"لا شيء","line.undefined":"غير محدد","line.open-triangle":"مثلث مفتوح","line.solid-triangle":"مثلث صلب","line.sharp-arrow":"سهم حاد","line.one-side-up":"جانب واحد لأعلى","line.one-side-down":"جانب واحد لأسفل","line.hollow-triangle":"مثلث مجوف","line.single-slash":"شرطة واحدة","stroke.solid":"صلب","stroke.dashed":"متقطع","stroke.dotted":"منقط","markdown.example":`# I have started

  - دعني أرى من تسبب بهذا الخطأ  🕵️ ♂️ 🔍
    - 😯 💣
      - اتضح أنه أنا 👈 🎯 💘

  - بشكل غير متوقع، لا يعمل؛ لماذا  🚫 ⚙️ ❓
    - بشكل غير متوقع، أصبح يعمل الآن؛ لماذا؟ 🎢 ✨
      - 🤯 ⚡ ➡️ 🎉

  - ما الذي يمكن تشغيله 🐞 🚀
    - إذًا لا تلمسه 🛑 ✋
      - 👾 💥 🏹 🎯
    
  ## ولد أم بنت  👶 ❓ 🤷 ♂️ ♀️

  ### Hello world 👋 🌍 ✨ 💻

  #### Wow, a programmer 🤯 ⌨️ 💡 👩 💻`,"draw.lineText":"نص","draw.geometryText":"نص","mind.centralText":"الموضوع المركزي","mind.abstractNodeText":"ملخص","tutorial.title":"Tutorial","tutorial.description":"Description","tutorial.dataDescription":"Data Description","tutorial.appToolbar":"App Toolbar","tutorial.creationToolbar":"Creation Toolbar","tutorial.themeDescription":"Theme Description"},z9={zh:tue,en:nue,ru:rue,ar:iue},$9=$.createContext(void 0),oue=({children:e,defaultLanguage:n="zh"})=>{const[r,i]=$.useState(()=>localStorage.getItem("language")||n),o=c=>{localStorage.setItem("language",c),i(c)},u=c=>z9[r][c]||c,l=$.useMemo(()=>({language:r,setLanguage:o,t:u}),[r]);return V.jsxDEV($9.Provider,{value:l,children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/i18n/index.tsx",lineNumber:44,columnNumber:12},void 0)},eo=()=>{const e=$.useContext($9);if(!e)throw new Error("useI18n must be used within I18nProvider");return e},sue=()=>({t:n=>{const r=localStorage.getItem("language")||"zh";return z9[r][n]||n},language:localStorage.getItem("language")||"zh"}),U9=e=>{const n=e;n.renderImage=(i,o)=>{const u=q1.createRoot(i);u.render(V.jsxDEV(DM,{...o},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/plugins/with-common.tsx",lineNumber:21,columnNumber:17},void 0));let l={...o};return{destroy:()=>{setTimeout(()=>{u.unmount()},0)},update:d=>{l={...l,...d},u.render(V.jsxDEV(DM,{...l},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/plugins/with-common.tsx",lineNumber:31,columnNumber:21},void 0))}}};const{t:r}=sue();return n.getI18nValue=i=>i===sd.lineText?r("draw.lineText"):i===sd.geometryText?r("draw.geometryText"):i===ud.mindCentralText?r("mind.centralText"):i===ud.abstractNodeText?r("mind.abstractNodeText"):null,eue(n)},Sd=vt.forwardRef(({children:e,padding:n,className:r,style:i,...o},u)=>V.jsxDEV("div",{className:vi("island",r),style:{"--padding":n,...i},ref:u,...o,children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/island.tsx",lineNumber:16,columnNumber:5},void 0)),aue=$.forwardRef(({children:e,gap:n,align:r,justifyContent:i,className:o,style:u},l)=>V.jsxDEV("div",{className:vi("stack stack_horizontal",o),style:{"--gap":n,alignItems:r,justifyContent:i,...u},ref:l,children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/stack.tsx",lineNumber:23,columnNumber:7},void 0)),uue=$.forwardRef(({children:e,gap:n,align:r,justifyContent:i,className:o,style:u},l)=>V.jsxDEV("div",{className:vi("stack stack_vertical",o),style:{"--gap":n,justifyItems:r,justifyContent:i,...u},ref:l,children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/stack.tsx",lineNumber:45,columnNumber:7},void 0)),fc={Row:aue,Col:uue};class lue extends DOMException{constructor(n="Request Aborted"){super(n,"AbortError")}}const cue=e=>!!e&&typeof e=="object"&&"then"in e&&"catch"in e&&"finally"in e,fue=(e,n,{checkForDefaultPrevented:r=!0}={})=>function(o){if(e==null||e(o),!r||!(o!=null&&o.defaultPrevented))return n==null?void 0:n(o)},due=e=>{const n=e.split(","),r=n[0].match(/:(.*?);/)[1],i=atob(n[1]);let o=i.length;const u=new Uint8Array(o);for(;o--;)u[o]=i.charCodeAt(o);return new Blob([u],{type:r})},hue=(e,n={})=>_W(e,{fillStyle:"transparent",inlineStyleClassNames:".extend,.emojis,.text",padding:20,ratio:4,...n});function gue(e,n){const r=document.createElement("a"),i=window.URL.createObjectURL(e);r.href=i,r.download=n,document.body.append(r),r.click(),window.URL.revokeObjectURL(i),r.remove()}const W9=(e,n)=>{const r=[];for(let i=0;i<e.length;i+=n)r.push(e.slice(i,i+n));return r},Dp=e=>(e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),p1||WU?e.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/gi,"Ctrl")),ms=vt.forwardRef((e,n)=>{const{id:r}={id:"drawnix"},i=vt.useRef(null);vt.useImperativeHandle(n,()=>i.current);const o=`tool-icon_size_${e.size||"medium"}`,[u,l]=$.useState(!1),c=$.useRef(!0),d=async p=>{var v;const m="onClick"in e&&((v=e.onClick)==null?void 0:v.call(e,p));if(cue(m))try{l(!0),await m}catch(w){if(w instanceof lue)console.warn(w);else throw w}finally{c.current&&l(!1)}};$.useEffect(()=>(c.current=!0,()=>{c.current=!1}),[]);const h=$.useRef(null);if(e.type==="button"||e.type==="icon"||e.type==="submit"){const p=e.type==="icon"?"button":e.type;return V.jsxDEV("button",{className:vi("tool-icon_type_button",o,e.className,e.visible&&!e.hidden?"tool-icon_type_button--show":"tool-icon_type_button--hide",{"tool-icon":!e.hidden,"tool-icon--selected":e.selected}),style:e.style,"data-testid":e["data-testid"],hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:p,onClick:d,onPointerDown:m=>{var v;(v=e.onPointerDown)==null||v.call(e,{pointerType:m.pointerType||null,event:m})},onPointerUp:m=>{var v;(v=e.onPointerUp)==null||v.call(e,{pointerType:m.pointerType||null})},ref:i,disabled:u||!!e.disabled,children:[(e.icon||e.label)&&V.jsxDEV("div",{className:"tool-icon__icon","aria-hidden":"true","aria-disabled":!!e.disabled,children:[e.icon||e.label,e.keyBindingLabel&&V.jsxDEV("span",{className:"tool-icon__keybinding",children:e.keyBindingLabel},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tool-button.tsx",lineNumber:149,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tool-button.tsx",lineNumber:142,columnNumber:11},void 0),e.showAriaLabel&&V.jsxDEV("div",{className:"tool-icon__label",children:e["aria-label"]},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tool-button.tsx",lineNumber:156,columnNumber:11},void 0),e.children&&V.jsxDEV("div",{className:"tool-icon__icon",children:e.children},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tool-button.tsx",lineNumber:159,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tool-button.tsx",lineNumber:109,columnNumber:7},void 0)}return V.jsxDEV("label",{className:vi("tool-icon",e.className),title:e.title,onPointerDown:p=>{var m;h.current=p.pointerType||null,(m=e.onPointerDown)==null||m.call(e,{pointerType:p.pointerType||null,event:p})},onPointerUp:p=>{var m;(m=e.onPointerUp)==null||m.call(e,{pointerType:p.pointerType||null}),requestAnimationFrame(()=>{h.current=null})},children:[V.jsxDEV("input",{className:`tool-icon_type_radio ${o}`,type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:`${r}-${e.id}`,onChange:()=>{var p;(p=e.onChange)==null||p.call(e,{pointerType:h.current})},checked:e.checked,ref:i},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tool-button.tsx",lineNumber:183,columnNumber:7},void 0),V.jsxDEV("div",{className:"tool-icon__icon",children:[e.icon,e.keyBindingLabel&&V.jsxDEV("span",{className:"tool-icon__keybinding",children:e.keyBindingLabel},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tool-button.tsx",lineNumber:200,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tool-button.tsx",lineNumber:197,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tool-button.tsx",lineNumber:166,columnNumber:5},void 0)});ms.displayName="ToolButton";const An=e=>e,pue=An(V.jsxDEV("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{id:"Hand",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M8.44583468,0.500225887 C9.07406934,0.510185679 9.54739531,0.839591366 9.86192311,1.34305279 C9.89696656,1.39914649 9.92878401,1.45492964 9.9576026,1.50991157 L9.9576026,1.50991157 L10.0210033,1.64201027 L10.061978,1.62350755 C10.1972891,1.56834247 10.3444107,1.53218464 10.5027907,1.51755353 L10.5027907,1.51755353 L10.6649031,1.51019133 C11.4883708,1.51019133 12.0208782,1.99343346 12.3023042,2.66393278 C12.3903714,2.87392911 12.4344191,3.10047818 12.4339446,3.3257952 L12.4339446,3.3257952 L12.4360033,3.80501027 L12.5160535,3.78341501 C12.6124478,3.76124046 12.7138812,3.74739854 12.820201,3.74250274 L12.820201,3.74250274 L12.9833264,3.74194533 C13.6121166,3.7657478 14.0645887,4.0801724 14.3087062,4.56112689 C14.4521117,4.8436609 14.4987984,5.11349437 14.4999262,5.33449618 L14.4999262,5.33449618 L14.3922653,12.049414 C14.3784752,12.909177 14.0717787,13.7360948 13.5212406,14.3825228 C13.4055676,14.5183496 13.2843697,14.643961 13.1582361,14.7596335 C12.4634771,15.3967716 11.755103,15.6538706 11.1897396,15.7000055 L11.1897396,15.7000055 L7.4723083,15.6798158 C7.14276373,15.634268 6.81580098,15.5154267 6.49455235,15.3472501 C6.25643701,15.2225944 6.06881706,15.0975452 5.88705731,14.9494308 L5.88705731,14.9494308 L2.55198782,11.500873 C2.39559475,11.3769079 2.17626793,11.1748532 1.9548636,10.9139403 C1.57867502,10.4706225 1.33501976,10.0139923 1.30330257,9.52833025 C1.28093191,9.18578476 1.37200912,8.85641102 1.5826788,8.56872564 C1.82538833,8.23725279 2.12881965,8.02107162 2.47470569,7.92957033 C2.95807982,7.80169771 3.42705723,7.92468989 3.86509644,8.18731167 C4.04431391,8.29475961 4.1816109,8.40304483 4.26225571,8.47866867 L4.26225571,8.47866867 L4.61400328,8.79701027 L4.57247249,3.59275349 L4.57628524,3.46204923 C4.5897691,3.23444442 4.64087578,2.95701848 4.75937106,2.66961597 C5.01017272,2.06131302 5.49670227,1.64692543 6.21363856,1.60818786 C6.44223508,1.59583681 6.65042099,1.62176802 6.83696985,1.68057551 L6.83696985,1.68057551 L6.86400328,1.69001027 C6.88501862,1.63593052 6.90764242,1.58175442 6.9331867,1.52672633 L6.9331867,1.52672633 L7.01883595,1.35955614 C7.31549194,0.832047939 7.79476072,0.48993549 8.44583468,0.500225887 Z M8.42684173,1.70001476 C8.26825412,1.69756905 8.16339456,1.77242008 8.06478367,1.94776814 C8.03967773,1.99241107 8.01831703,2.03811495 8.00083464,2.07855067 L8.00083464,2.07855067 L7.94879157,2.2035905 L7.94354455,2.20731401 L7.943,3.161 L7.97170661,3.16123746 L7.97170661,7.60991883 L6.77170661,7.60991883 L6.771,3.338 L6.74362358,3.33880359 C6.74284189,3.29064626 6.73014163,3.20282206 6.7002616,3.11094408 L6.66446012,3.01903385 C6.58982025,2.85766739 6.49843292,2.79455071 6.27838133,2.80644008 C6.07001018,2.81769881 5.95642108,2.91444507 5.86877664,3.12702089 C5.79792279,3.29887224 5.77228127,3.48655908 5.77246879,3.58977183 L5.77246879,3.58977183 L5.83613619,11.5252021 L3.41863956,9.33477657 L3.31637296,9.25979571 L3.24805011,9.21651224 C3.06096922,9.10434987 2.89279975,9.06024641 2.78159879,9.0896637 C2.71007735,9.10858411 2.63607367,9.1613084 2.55086305,9.27768211 C2.51020424,9.33320478 2.49638061,9.38319687 2.50075171,9.4501283 C2.51206889,9.62341997 2.64503022,9.87260054 2.86983366,10.1375191 C3.03268834,10.3294345 3.19762053,10.4813781 3.35554956,10.6131022 L3.35554956,10.6131022 L6.68454317,14.0569073 C6.71106575,14.0773808 6.74806086,14.1037158 6.79369091,14.1335929 L6.79369091,14.1335929 L6.95464838,14.2315311 L7.05111031,14.2841211 C7.25978123,14.3933622 7.46253523,14.4670573 7.55685495,14.4854708 L7.55685495,14.4854708 L11.1407985,14.5022108 C11.1503576,14.5013899 11.1627905,14.4997539 11.1779002,14.4971772 L11.1779002,14.4971772 L11.2991076,14.4694224 C11.3491682,14.4557375 11.4083624,14.437284 11.4751158,14.4130563 C11.769383,14.3062543 12.066676,14.1324596 12.3471758,13.8752234 C12.4371203,13.7927386 12.5240597,13.7026333 12.607654,13.6044743 C12.9760464,13.1719172 13.183059,12.6137678 13.1924195,12.030173 L13.1924195,12.030173 L13.3000132,5.32832551 C13.2997939,5.29016685 13.2826117,5.19085946 13.2386527,5.10425262 C13.1843838,4.99733326 13.1129774,4.94771265 12.9379578,4.94108739 C12.6814739,4.93138871 12.534132,5.11189595 12.4756792,5.39480062 L12.4768718,7.52734922 L11.2768718,7.52734922 L11.276,5.688 L11.2462883,5.6883208 L11.2339541,3.32771285 C11.2341,3.2560396 11.2209054,3.18817621 11.1957482,3.12818892 C11.0820579,2.85732094 10.9199288,2.71019133 10.6649031,2.71019133 C10.456829,2.71019133 10.3197487,2.87378067 10.2524297,3.11264939 L10.2530225,7.512783 L9.05302254,7.512783 L9.053,3.288 L9.01554331,3.28724203 L8.98800328,2.29901027 L8.9629175,2.22263368 C8.94515567,2.17417174 8.92167756,2.11937748 8.8924232,2.06330056 L8.8924232,2.06330056 L8.84420197,1.9788544 C8.72758855,1.79219249 8.59915015,1.70280728 8.42684173,1.70001476 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:10,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:9,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:8,columnNumber:3},void 0)),mue=An(V.jsxDEV("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{id:"selection",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M1.38232686,2.38218266 L5.4143451,14.2246629 L5.45540179,14.3136477 C5.6738376,14.7029541 6.25143564,14.7273637 6.49230627,14.3232393 L8.11486037,11.5990854 L10.8833927,14.4351257 C11.1162256,14.673686 11.4988798,14.6767204 11.7354668,14.4418826 L14.1933351,12.0021862 L14.263123,11.9192708 C14.4260847,11.6858139 14.4039042,11.3621027 14.1959502,11.1531274 L11.3598604,8.30408543 L14.0003903,6.44278167 C14.4042341,6.15799031 14.3099422,5.5344405 13.8399491,5.38178897 L2.13023795,1.60291226 C1.65322163,1.44797961 1.20794286,1.91192855 1.38232686,2.38218266 Z M2.93689198,3.12556703 L12.3288604,6.15308543 L10.0883903,7.73315528 L10.0121747,7.79676991 C9.78025886,8.02517222 9.77056424,8.40723513 10.0088753,8.64671667 L12.9218604,11.5730854 L11.3198604,13.1630854 L8.42938714,10.2026992 L8.35682877,10.1391916 C8.07802132,9.93187508 7.66955488,10.0042813 7.48460396,10.3145856 L6.10286037,12.6310854 L2.93689198,3.12556703 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:18,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:17,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:16,columnNumber:3},void 0)),vue=An(V.jsxDEV("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{id:"Mind",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M14.5,1.5 C15.3284271,1.5 16,2.17157288 16,3 L16,4.5 C16,5.32842712 15.3284271,6 14.5,6 L10.5,6 C9.70541385,6 9.05512881,5.38217354 9.00332687,4.60070262 L7.75,4.6 C6.70187486,4.6 5.75693372,5.0417832 5.09122946,5.7492967 L5.5,5.75 C6.32842712,5.75 7,6.42157288 7,7.25 L7,8.75 C7,9.57842712 6.32842712,10.25 5.5,10.25 L4.69703093,10.2512226 C5.3493111,11.2442937 6.47308134,11.9 7.75,11.9 L9.004,11.9 L9.00686658,11.85554 C9.07955132,11.0948881 9.72030388,10.5 10.5,10.5 L14.5,10.5 C15.3284271,10.5 16,11.1715729 16,12 L16,13.5 C16,14.3284271 15.3284271,15 14.5,15 L10.5,15 C9.67157288,15 9,14.3284271 9,13.5 L9,13.1 L7.75,13.1 C5.78479628,13.1 4.09258608,11.9311758 3.33061658,10.2507745 L1.5,10.25 C0.671572875,10.25 0,9.57842712 0,8.75 L0,7.25 C0,6.42157288 0.671572875,5.75 1.5,5.75 L3.5932906,5.74973863 C4.44206161,4.34167555 5.98606075,3.4 7.75,3.4 L9,3.4 L9,3 C9,2.17157288 9.67157288,1.5 10.5,1.5 L14.5,1.5 Z M14.5,11.7 L10.5,11.7 C10.3343146,11.7 10.2,11.8343146 10.2,12 L10.2,13.5 C10.2,13.6656854 10.3343146,13.8 10.5,13.8 L14.5,13.8 C14.6656854,13.8 14.8,13.6656854 14.8,13.5 L14.8,12 C14.8,11.8343146 14.6656854,11.7 14.5,11.7 Z M5.5,6.95 L1.5,6.95 C1.33431458,6.95 1.2,7.08431458 1.2,7.25 L1.2,8.75 C1.2,8.91568542 1.33431458,9.05 1.5,9.05 L5.5,9.05 C5.66568542,9.05 5.8,8.91568542 5.8,8.75 L5.8,7.25 C5.8,7.08431458 5.66568542,6.95 5.5,6.95 Z M14.5,2.7 L10.5,2.7 C10.3343146,2.7 10.2,2.83431458 10.2,3 L10.2,4.5 C10.2,4.66568542 10.3343146,4.8 10.5,4.8 L14.5,4.8 C14.6656854,4.8 14.8,4.66568542 14.8,4.5 L14.8,3 C14.8,2.83431458 14.6656854,2.7 14.5,2.7 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:26,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:25,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:24,columnNumber:3},void 0)),yue=An(V.jsxDEV("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{id:"geometry",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M9.3,6.7 L1.7,6.7 L1.7,14.3 L9.3,14.3 L9.3,6.7 Z M10.5,9.8 C12.8748244,9.8 14.8,7.87482442 14.8,5.5 C14.8,3.12517558 12.8748244,1.2 10.5,1.2 C8.12517558,1.2 6.2,3.12517558 6.2,5.5 L9.5,5.5 C10.0522847,5.5 10.5,5.94771525 10.5,6.5 L10.5,9.8 Z M10.5,14.5 C10.5,15.0522847 10.0522847,15.5 9.5,15.5 L1.5,15.5 C0.94771525,15.5 0.5,15.0522847 0.5,14.5 L0.5,6.5 C0.5,5.94771525 0.94771525,5.5 1.5,5.5 L5,5.5 C5,2.46243388 7.46243388,0 10.5,0 C13.5375661,0 16,2.46243388 16,5.5 C16,8.53756612 13.5375661,11 10.5,11 L10.5,14.5 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:34,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:33,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:32,columnNumber:3},void 0)),wue=An(V.jsxDEV("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{id:"font",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M4.75,14.5069828 C4.41862915,14.5069828 4.15,14.2383536 4.15,13.9069828 C4.15,13.5756119 4.41862915,13.3069828 4.75,13.3069828 L7.3993606,13.306 L7.3993606,2.7 L2.7113606,2.7 L2.7113606,4.10415313 C2.7113606,4.40238689 2.49377099,4.64979988 2.20868371,4.69630014 L2.1113606,4.70415313 C1.77998975,4.70415313 1.5113606,4.43552397 1.5113606,4.10415313 L1.5113606,2.1 C1.5113606,1.76862915 1.77998975,1.5 2.1113606,1.5 L13.8810378,1.5 C14.2124087,1.5 14.4810378,1.76862915 14.4810378,2.1 L14.4810378,4.10415313 C14.4810378,4.43552397 14.2124087,4.70415313 13.8810378,4.70415313 C13.549667,4.70415313 13.2810378,4.43552397 13.2810378,4.10415313 L13.2810378,2.7 L8.5993606,2.7 L8.5993606,13.306 L11.25,13.3069828 C11.5813708,13.3069828 11.85,13.5756119 11.85,13.9069828 C11.85,14.2383536 11.5813708,14.5069828 11.25,14.5069828 L4.75,14.5069828 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:42,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:41,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:40,columnNumber:3},void 0)),xue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[V.jsxDEV("path",{stroke:"none",d:"M0 0h24v24H0z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:57,columnNumber:5},void 0),V.jsxDEV("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:58,columnNumber:5},void 0),V.jsxDEV("path",{d:"M18 13.3l-6.3 -6.3"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:59,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:48,columnNumber:3},void 0)),bue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",version:"1.1",children:V.jsxDEV("g",{id:"straight-line",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M8.55595221,-1.5261864 C8.88741773,-1.5261864 9.15621426,-1.25765205 9.15653772,-0.926186684 L9.16739175,10.3828136 L10.9946787,10.3836977 C11.2708211,10.3836977 11.4946787,10.6075553 11.4946787,10.8836977 C11.4946787,10.9607525 11.4768694,11.0367648 11.4426413,11.1058002 L8.8378495,16.3594519 C8.7642512,16.5078936 8.58425218,16.5685662 8.43581043,16.4949679 C8.37895485,16.4667786 8.33250284,16.4212859 8.30313336,16.3650308 L5.56226325,11.1150985 C5.43446412,10.8703088 5.52930372,10.5682659 5.77409341,10.4404667 C5.84552557,10.4031736 5.92491301,10.3836977 6.0054942,10.3836977 L7.96739175,10.3828136 L7.95653772,-0.926186684 C7.95621467,-1.25723416 8.22431979,-1.52586306 8.55536727,-1.52618611 Z",id:"",transform:"translate(8.500035, 7.500035) rotate(-135.000000) translate(-8.500035, -7.500035) "},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:66,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:65,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:64,columnNumber:3},void 0)),Cue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:V.jsxDEV("path",{d:"M3 3h18v18H3z",stroke:"currentColor",strokeWidth:"2",fill:"none"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:77,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:76,columnNumber:3},void 0)),Eue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:V.jsxDEV("g",{id:"terminal",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M11,3 C13.7614237,3 16,5.23857625 16,8 C16,10.7614237 13.7614237,13 11,13 L5,13 C2.23857625,13 0,10.7614237 0,8 C0,5.23857625 2.23857625,3 5,3 L11,3 Z M11,4.2 L5,4.2 C2.90131795,4.2 1.2,5.90131795 1.2,8 C1.2,10.0330982 2.79664702,11.6932796 4.8044525,11.7950555 L5,11.8 L11,11.8 C13.098682,11.8 14.8,10.098682 14.8,8 C14.8,5.96690176 13.203353,4.30672042 11.1955475,4.20494454 L11,4.2 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:89,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:88,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:87,columnNumber:3},void 0)),Due=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",version:"1.1",children:V.jsxDEV("g",{id:"ellipse",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M8,1 C11.8659932,1 15,4.13400675 15,8 C15,11.8659932 11.8659932,15 8,15 C4.13400675,15 1,11.8659932 1,8 C1,4.13400675 4.13400675,1 8,1 Z M8,2.2 C4.79674845,2.2 2.2,4.79674845 2.2,8 C2.2,11.2032515 4.79674845,13.8 8,13.8 C11.2032515,13.8 13.8,11.2032515 13.8,8 C13.8,4.79674845 11.2032515,2.2 8,2.2 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:97,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:96,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:95,columnNumber:3},void 0)),Sue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",version:"1.1",children:V.jsxDEV("g",{id:"triangle",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M8.23125547,1.21366135 C8.3114266,1.25857939 8.37766784,1.32472334 8.42270367,1.40482837 L15.6471754,14.2549655 C15.7825042,14.4956743 15.6970768,14.800513 15.456368,14.9358418 C15.3815505,14.977905 15.2971646,15 15.2113335,15 L0.787227066,15 C0.511084691,15 0.287227066,14.7761424 0.287227066,14.5 C0.287227066,14.414418 0.309194147,14.3302684 0.351025556,14.2556064 L7.55066033,1.40546924 C7.6856352,1.1645618 7.99034802,1.07868648 8.23125547,1.21366135 Z M7.98695902,3.07926294 L1.98095902,13.7992629 L14.014959,13.7992629 L7.98695902,3.07926294 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:105,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:104,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:103,columnNumber:3},void 0)),Tue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",version:"1.1",children:V.jsxDEV("g",{stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M13.7636471,2.6449804 C13.7716713,2.69552516 13.7718878,2.74700226 13.7642892,2.79761274 L12.3875778,11.9671885 C12.3550099,12.1841069 12.184864,12.3544698 11.9679874,12.3873141 L2.78433018,13.7781116 C2.511301,13.8194599 2.25644773,13.6316454 2.21509947,13.3586162 C2.20737253,13.307594 2.20759072,13.2556831 2.21574631,13.2047277 L3.67471119,4.08923146 C3.70888725,3.87570215 3.87646006,3.70834166 4.09003253,3.67443635 L13.1914362,2.22955927 C13.4641633,2.18626298 13.7203508,2.37225335 13.7636471,2.6449804 Z M12.4355704,3.5645263 L4.77957044,4.7795263 L3.55157044,12.4485263 L11.2775704,11.2775263 L12.4355704,3.5645263 Z",transform:"translate(7.989647, 8.003560) rotate(-315.000000) translate(-7.989647, -8.003560) "},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:113,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:112,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:111,columnNumber:3},void 0)),Aue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",version:"1.1",children:V.jsxDEV("g",{stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M15.3062871,3.5 C15.5824294,3.5 15.8062871,3.72385763 15.8062871,4 C15.8062871,4.05374105 15.7976231,4.10713065 15.7806287,4.15811388 L13.113962,12.1581139 C13.045905,12.362285 12.8548356,12.5 12.6396204,12.5 L0.693712943,12.5 C0.417570568,12.5 0.193712943,12.2761424 0.193712943,12 C0.193712943,11.946259 0.202376883,11.8928694 0.219371294,11.8418861 L2.88603796,3.84188612 C2.95409498,3.63771505 3.14516441,3.5 3.36037961,3.5 L15.3062871,3.5 Z M14.335,4.7 L3.864,4.7 L1.664,11.3 L12.134,11.3 L14.335,4.7 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:124,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:123,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:122,columnNumber:3},void 0)),Pue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",version:"1.1",children:V.jsxDEV("g",{stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M11,3 C13.7614237,3 16,5.23857625 16,8 C16,10.7614237 13.7614237,13 11,13 L5,13 C2.23857625,13 0,10.7614237 0,8 C0,5.23857625 2.23857625,3 5,3 L11,3 Z M11,4.2 L5,4.2 C2.90131795,4.2 1.2,5.90131795 1.2,8 C1.2,10.0330982 2.79664702,11.6932796 4.8044525,11.7950555 L5,11.8 L11,11.8 C13.098682,11.8 14.8,10.098682 14.8,8 C14.8,5.96690176 13.203353,4.30672042 11.1955475,4.20494454 L11,4.2 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:132,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:131,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:130,columnNumber:3},void 0)),Rue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",version:"1.1",children:V.jsxDEV("g",{stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M8.55595221,-1.5261864 C8.88741773,-1.5261864 9.15621426,-1.25765205 9.15653772,-0.926186684 L9.16739175,10.3828136 L10.9946787,10.3836977 C11.2708211,10.3836977 11.4946787,10.6075553 11.4946787,10.8836977 C11.4946787,10.9607525 11.4768694,11.0367648 11.4426413,11.1058002 L8.8378495,16.3594519 C8.7642512,16.5078936 8.58425218,16.5685662 8.43581043,16.4949679 C8.37895485,16.4667786 8.33250284,16.4212859 8.30313336,16.3650308 L5.56226325,11.1150985 C5.43446412,10.8703088 5.52930372,10.5682659 5.77409341,10.4404667 C5.84552557,10.4031736 5.92491301,10.3836977 6.0054942,10.3836977 L7.96739175,10.3828136 L7.95653772,-0.926186684 C7.95621467,-1.25723416 8.22431979,-1.52586306 8.55536727,-1.52618611 Z",transform:"translate(8.500035, 7.500035) rotate(-135.000000) translate(-8.500035, -7.500035) "},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:140,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:139,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:138,columnNumber:3},void 0)),Bue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",version:"1.1",children:V.jsxDEV("g",{stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M10.0153197,2.75391207 C10.0923746,2.75391207 10.1683869,2.77172133 10.2374222,2.80594949 L15.4910739,5.41074126 C15.6395156,5.48433956 15.7001882,5.66433859 15.6265899,5.81278033 C15.5984006,5.86963592 15.5529079,5.91608792 15.4966529,5.9454574 L10.2467205,8.68632752 C10.0019308,8.81412664 9.69988791,8.71928704 9.57208878,8.47449735 C9.53479568,8.40306519 9.51531974,8.32367776 9.51531974,8.24309656 L9.51458753,6.62591207 L6.16858753,6.62651279 L6.16914066,12.0061269 C6.16914066,12.3043606 5.95155104,12.5517736 5.66646377,12.5982739 L5.56914066,12.6061269 L0.534587532,12.6061269 C0.203216682,12.6061269 -0.0654124678,12.3374977 -0.0654124678,12.0061269 C-0.0654124678,11.674756 0.203216682,11.4061269 0.534587532,11.4061269 L4.96858753,11.4055128 L4.96914066,6.02651279 C4.96914066,5.72827903 5.18673027,5.48086604 5.47181754,5.43436578 L5.56914066,5.42651279 L9.51458753,5.42591207 L9.51531974,3.25391207 C9.51531974,2.9777697 9.73917736,2.75391207 10.0153197,2.75391207 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:151,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:150,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:149,columnNumber:3},void 0)),kue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",version:"1.1",children:V.jsxDEV("g",{stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M10.0153197,2.75391207 C10.0923746,2.75391207 10.1683869,2.77172133 10.2374222,2.80594949 L15.4910739,5.41074126 C15.6395156,5.48433956 15.7001882,5.66433859 15.6265899,5.81278033 C15.5984006,5.86963592 15.5529079,5.91608792 15.4966529,5.9454574 L10.2467205,8.68632752 C10.0019308,8.81412664 9.69988791,8.71928704 9.57208878,8.47449735 C9.53479568,8.40306519 9.51531974,8.32367776 9.51531974,8.24309656 L9.51423005,6.39035523 C5.97984781,6.85936966 3.21691607,9.08498364 1.18879108,13.1285821 C1.04022695,13.4247836 0.679673152,13.5444674 0.383471635,13.3959033 C0.0872701176,13.2473391 -0.0324136308,12.8867853 0.116150501,12.5905838 C2.34388813,8.14900524 5.48945543,5.65776043 9.51468497,5.18078677 L9.51531974,3.25391207 C9.51531974,2.9777697 9.73917736,2.75391207 10.0153197,2.75391207 Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:159,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:158,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:157,columnNumber:3},void 0)),Mue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:V.jsxDEV("g",{strokeWidth:"1.5",children:[V.jsxDEV("path",{stroke:"none",d:"M0 0h24v24H0z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:175,columnNumber:7},void 0),V.jsxDEV("line",{x1:"4",y1:"6",x2:"20",y2:"6"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:176,columnNumber:7},void 0),V.jsxDEV("line",{x1:"4",y1:"12",x2:"20",y2:"12"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:177,columnNumber:7},void 0),V.jsxDEV("line",{x1:"4",y1:"18",x2:"20",y2:"18"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:178,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:174,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:165,columnNumber:3},void 0)),Nue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:V.jsxDEV("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:185,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:184,columnNumber:3},void 0)),Oue=An(V.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:V.jsxDEV("g",{strokeWidth:"1.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",children:[V.jsxDEV("path",{stroke:"none",d:"M0 0h24v24H0z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:205,columnNumber:7},void 0),V.jsxDEV("path",{d:"M15 8h.01"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:206,columnNumber:7},void 0),V.jsxDEV("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:207,columnNumber:7},void 0),V.jsxDEV("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:208,columnNumber:7},void 0),V.jsxDEV("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:209,columnNumber:7},void 0),V.jsxDEV("path",{d:"M19 16v6"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:210,columnNumber:7},void 0),V.jsxDEV("path",{d:"M22 19l-3 3l-3 -3"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:211,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:198,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:197,columnNumber:3},void 0)),Fue=An(V.jsxDEV("svg",{viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{id:"save-file",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{fillRule:"nonzero",d:"M11.064 9.1l2.645 2.595.03-.029.848.849-3.523 3.323-.848-.848 1.994-1.883H7.5v-1.2h4.712l-1.996-1.958.848-.849zM9.356.3L13.7 3.71V7.9h-1.2l-.001-2.633H8.5V1.5L3.1 1.5a.4.4 0 0 0-.392.32L2.7 1.9v12a.4.4 0 0 0 .32.392l.08.008h3.418v1.2H3.1a1.6 1.6 0 0 1-1.593-1.454L1.5 13.9v-12A1.6 1.6 0 0 1 2.954.307L3.1.3h6.256zM9.7 2.095v1.973l2.51-.001L9.7 2.095z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:241,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:240,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:239,columnNumber:3},void 0)),Lue=An(V.jsxDEV("svg",{viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{id:"save-file",stroke:"currentColor",fill:"none",children:V.jsxDEV("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:252,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:251,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:250,columnNumber:3},void 0)),Iue=An(V.jsxDEV("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{stroke:"none",fill:"currentColor",children:V.jsxDEV("g",{id:"undo-cion",transform:"translate(1 1)",children:V.jsxDEV("path",{d:"M3.84 5.825a.6.6 0 0 1 .063.774l-.064.075a.6.6 0 0 1-.774.063l-.074-.063L.176 3.859a.6.6 0 0 1-.064-.775l.064-.074L3.01.176a.6.6 0 0 1 .912.774l-.063.074-1.795 1.794h6.851a5.1 5.1 0 0 1 .216 10.196l-.216.004h-4a.6.6 0 0 1-.097-1.192l.097-.008h4a3.9 3.9 0 0 0 .201-7.795l-.2-.005H2.033l1.805 1.807z",id:"undo-icon-path"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:421,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:420,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:419,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:418,columnNumber:3},void 0)),Hue=An(V.jsxDEV("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{stroke:"none",fill:"currentColor",children:V.jsxDEV("g",{id:"redo-cion",transform:"matrix(-1 0 0 1 15.015 1)",children:V.jsxDEV("path",{d:"M3.84 5.825a.6.6 0 0 1 .063.774l-.064.075a.6.6 0 0 1-.774.063l-.074-.063L.176 3.859a.6.6 0 0 1-.064-.775l.064-.074L3.01.176a.6.6 0 0 1 .912.774l-.063.074-1.795 1.794h6.851a5.1 5.1 0 0 1 .216 10.196l-.216.004h-4a.6.6 0 0 1-.097-1.192l.097-.008h4a3.9 3.9 0 0 0 .201-7.795l-.2-.005H2.033l1.805 1.807z",id:"redo-icon-path"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:434,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:433,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:432,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:431,columnNumber:3},void 0)),X9=An(V.jsxDEV("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:V.jsxDEV("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:445,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:444,columnNumber:3},void 0)),Gue=An(V.jsxDEV("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{strokeWidth:"1.25",children:[V.jsxDEV("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:460,columnNumber:7},void 0),V.jsxDEV("path",{d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:461,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:459,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:453,columnNumber:3},void 0)),Y9=An(V.jsxDEV("svg",{viewBox:"0 0 1024 1024",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("path",{d:"M170.794667 896c3.456 0 6.912-0.426667 10.325333-1.28l170.666667-42.666667c7.509333-1.877333 14.378667-5.76 19.84-11.221333L896.128 316.330667c16.128-16.128 25.002667-37.546667 25.002667-60.330667s-8.874667-44.202667-25.002667-60.330667L828.458667 128c-32.256-32.256-88.405333-32.256-120.661334 0L183.296 652.501333a42.794667 42.794667 0 0 0-11.221333 19.797334l-42.666667 170.666666A42.666667 42.666667 0 0 0 170.794667 896z m597.333333-707.669333L835.797333 256l-67.669333 67.669333L700.458667 256l67.669333-67.669333zM251.989333 704.469333l388.138667-388.138666L707.797333 384l-388.181333 388.138667-90.197333 22.528 22.570666-90.197334z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:472,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:467,columnNumber:3},void 0)),_ue=An(V.jsxDEV("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{id:"image",stroke:"none",fill:"currentColor",children:V.jsxDEV("path",{d:"M10.496 7c-.824 0-1.572-.675-1.498-1.5 0-.825.674-1.5 1.498-1.5.823 0 1.497.675 1.497 1.5S11.319 7 10.496 7zM13.8 9.476V2.2H2.2v5.432l.1-.078C3.132 6.904 4.029 6.5 5 6.5c.823 0 1.552.27 2.342.778.226.145.449.304.735.518.06.045.546.413.69.52 1.634 1.21 2.833 1.6 4.798 1.207l.235-.047zm0 1.523V10.7c-5 1-6.3-3-8.8-3-1.5 0-2.8 1.6-2.8 1.6v4.6h11.6V11zM14 1c.6 0 1 .536 1 1.071v11.784c0 .642-.4 1.071-1 1.071H2c-.6 0-1-.429-1-1.07V2.07c0-.535.4-1.07 1-1.07h12z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:479,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:478,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:477,columnNumber:3},void 0)),Vue=An(V.jsxDEV("svg",{stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:V.jsxDEV("g",{strokeWidth:1.8,fill:"none",children:[V.jsxDEV("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:491,columnNumber:7},void 0),V.jsxDEV("path",{d:"M12 3l-4 7h8z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:492,columnNumber:7},void 0),V.jsxDEV("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:493,columnNumber:7},void 0),V.jsxDEV("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:494,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:490,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/icons.tsx",lineNumber:485,columnNumber:3},void 0)),K9={[ur.default]:{strokeColor:Mi,fill:"#FFFFFF"},[ur.colorful]:{strokeColor:"#06ADBF",fill:"#CDEFF2"},[ur.soft]:{strokeColor:"#6D89C1",fill:"#DADFEB"},[ur.retro]:{strokeColor:"#E9C358",fill:"#F6EDCF"},[ur.dark]:{strokeColor:"#FFFFFF",fill:"#434343"},[ur.starry]:{strokeColor:"#42ABE5",fill:"#163F5A"}};var po=(e=>(e.eraser="eraser",e.nibPen="nibPen",e.feltTipPen="feltTipPen",e.artisticBrush="artisticBrush",e.markerHighlight="markerHighlight",e))(po||{});const q9="freehand",ls={isFreehand:e=>e.type===q9},Z9=[{icon:Y9,pointer:po.feltTipPen,titleKey:"toolbar.pen"},{icon:xue,pointer:po.eraser,titleKey:"toolbar.eraser"}],jue=W9(Z9,5),zue=({onPointerUp:e})=>{const{t:n}=eo(),r=Vo();return V.jsxDEV(Sd,{padding:1,children:V.jsxDEV(fc.Col,{gap:1,children:jue.map((i,o)=>V.jsxDEV(fc.Row,{gap:1,children:i.map((u,l)=>V.jsxDEV(ms,{className:vi({fillable:!1}),selected:r.pointer===u.pointer,type:"icon",size:"small",visible:!0,icon:u.icon,title:n(u.titleKey),"aria-label":n(u.titleKey),onPointerDown:()=>{$i(r,Gr.dnd),gn.updatePointerType(r,u.pointer)},onPointerUp:()=>{$i(r,Gr.drawing),e(u.pointer)}},l,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/freehand-panel/freehand-panel.tsx",lineNumber:54,columnNumber:19},void 0))},o,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/freehand-panel/freehand-panel.tsx",lineNumber:51,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/freehand-panel/freehand-panel.tsx",lineNumber:48,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/freehand-panel/freehand-panel.tsx",lineNumber:47,columnNumber:5},void 0)},$ue=[{icon:Cue,title:"toolbar.shape.rectangle",pointer:lt.rectangle},{icon:Due,title:"toolbar.shape.ellipse",pointer:lt.ellipse},{icon:Sue,title:"toolbar.shape.triangle",pointer:lt.triangle},{icon:Eue,title:"toolbar.shape.terminal",pointer:ut.terminal},{icon:Tue,title:"toolbar.shape.diamond",pointer:lt.diamond},{icon:Aue,title:"toolbar.shape.parallelogram",pointer:lt.parallelogram},{icon:Pue,title:"toolbar.shape.roundRectangle",pointer:lt.roundRectangle}],Uue=W9($ue,5),Wue=({onPointerUp:e})=>{const n=Vo(),{t:r}=eo();return V.jsxDEV(Sd,{padding:1,children:V.jsxDEV(fc.Col,{gap:1,children:Uue.map((i,o)=>V.jsxDEV(fc.Row,{gap:1,children:i.map((u,l)=>V.jsxDEV(ms,{className:vi({fillable:!1}),type:"icon",size:"small",visible:!0,selected:L.isPointer(n,u.pointer),icon:u.icon,title:r(u.title||"toolbar.shape"),"aria-label":r(u.title||"toolbar.shape"),onPointerDown:()=>{$i(n,Gr.dnd),gn.updatePointerType(n,u.pointer)},onPointerUp:()=>{$i(n,Gr.drawing),e(u.pointer)}},l,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/shape-picker.tsx",lineNumber:85,columnNumber:19},void 0))},o,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/shape-picker.tsx",lineNumber:82,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/shape-picker.tsx",lineNumber:79,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/shape-picker.tsx",lineNumber:78,columnNumber:5},void 0)},Xue=[{icon:Rue,title:"toolbar.arrow.straight",pointer:Rn.straight},{icon:Bue,title:"toolbar.arrow.elbow",pointer:Rn.elbow},{icon:kue,title:"toolbar.arrow.curve",pointer:Rn.curve}],Yue=({onPointerUp:e})=>{const n=Vo(),{t:r}=eo();return V.jsxDEV(Sd,{padding:1,children:V.jsxDEV(fc.Row,{gap:1,children:Xue.map((i,o)=>V.jsxDEV(ms,{className:vi({fillable:!1}),type:"icon",size:"small",visible:!0,selected:L.isPointer(n,i.pointer),icon:i.icon,title:r(i.title),"aria-label":r(i.title),onPointerDown:()=>{$i(n,Gr.drawing),gn.updatePointerType(n,i.pointer)},onPointerUp:()=>{e(i.pointer)}},o,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/arrow-picker.tsx",lineNumber:49,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/arrow-picker.tsx",lineNumber:46,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/arrow-picker.tsx",lineNumber:45,columnNumber:5},void 0)};function By(){return typeof window<"u"}function Yu(e){return Q9(e)?(e.nodeName||"").toLowerCase():"#document"}function vo(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Js(e){var n;return(n=(Q9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function Q9(e){return By()?e instanceof Node||e instanceof vo(e).Node:!1}function nr(e){return By()?e instanceof Element||e instanceof vo(e).Element:!1}function _r(e){return By()?e instanceof HTMLElement||e instanceof vo(e).HTMLElement:!1}function v3(e){return!By()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vo(e).ShadowRoot}function Xp(e){const{overflow:n,overflowX:r,overflowY:i,display:o}=Go(e);return/auto|scroll|overlay|hidden|clip/.test(n+i+r)&&!["inline","contents"].includes(o)}function Kue(e){return["table","td","th"].includes(Yu(e))}function ky(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function dT(e){const n=My(),r=nr(e)?Go(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function que(e){let n=za(e);for(;_r(n)&&!_u(n);){if(dT(n))return n;if(ky(n))return null;n=za(n)}return null}function My(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _u(e){return["html","body","#document"].includes(Yu(e))}function Go(e){return vo(e).getComputedStyle(e)}function Ny(e){return nr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function za(e){if(Yu(e)==="html")return e;const n=e.assignedSlot||e.parentNode||v3(e)&&e.host||Js(e);return v3(n)?n.host:n}function J9(e){const n=za(e);return _u(n)?e.ownerDocument?e.ownerDocument.body:e.body:_r(n)&&Xp(n)?n:J9(n)}function Nu(e,n,r){var i;n===void 0&&(n=[]),r===void 0&&(r=!0);const o=J9(e),u=o===((i=e.ownerDocument)==null?void 0:i.body),l=vo(o);if(u){const c=y3(l);return n.concat(l,l.visualViewport||[],Xp(o)?o:[],c&&r?Nu(c):[])}return n.concat(o,Nu(o,[],r))}function y3(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $l(e){let n=e.activeElement;for(;((r=n)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;n=n.shadowRoot.activeElement}return n}function co(e,n){if(!e||!n)return!1;const r=n.getRootNode==null?void 0:n.getRootNode();if(e.contains(n))return!0;if(r&&v3(r)){let i=n;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function eO(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function tO(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(n=>{let{brand:r,version:i}=n;return r+"/"+i}).join(" "):navigator.userAgent}function Zue(e){return e.mozInputSource===0&&e.isTrusted?!0:w3()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Que(e){return ele()?!1:!w3()&&e.width===0&&e.height===0||w3()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Jue(){return/apple/i.test(navigator.vendor)}function w3(){const e=/android/i;return e.test(eO())||e.test(tO())}function ele(){return tO().includes("jsdom/")}function TM(e,n){return["mouse","pen"].includes(e)}function tle(e){return"nativeEvent"in e}function nle(e){return e.matches("html,body")}function cs(e){return(e==null?void 0:e.ownerDocument)||document}function ZE(e,n){if(n==null)return!1;if("composedPath"in e)return e.composedPath().includes(n);const r=e;return r.target!=null&&n.contains(r.target)}function Wl(e){return"composedPath"in e?e.composedPath()[0]:e.target}const rle="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function nO(e){return _r(e)&&e.matches(rle)}function QE(e){e.preventDefault(),e.stopPropagation()}function ile(e){return e?e.getAttribute("role")==="combobox"&&nO(e):!1}const _1=Math.min,tc=Math.max,V1=Math.round,Ov=Math.floor,$s=e=>({x:e,y:e}),ole={left:"right",right:"left",bottom:"top",top:"bottom"},sle={start:"end",end:"start"};function AM(e,n,r){return tc(e,_1(n,r))}function Oy(e,n){return typeof e=="function"?e(n):e}function dc(e){return e.split("-")[0]}function Fy(e){return e.split("-")[1]}function rO(e){return e==="x"?"y":"x"}function iO(e){return e==="y"?"height":"width"}function fd(e){return["top","bottom"].includes(dc(e))?"y":"x"}function oO(e){return rO(fd(e))}function ale(e,n,r){r===void 0&&(r=!1);const i=Fy(e),o=oO(e),u=iO(o);let l=o==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return n.reference[u]>n.floating[u]&&(l=j1(l)),[l,j1(l)]}function ule(e){const n=j1(e);return[x3(e),n,x3(n)]}function x3(e){return e.replace(/start|end/g,n=>sle[n])}function lle(e,n,r){const i=["left","right"],o=["right","left"],u=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return r?n?o:i:n?i:o;case"left":case"right":return n?u:l;default:return[]}}function cle(e,n,r,i){const o=Fy(e);let u=lle(dc(e),r==="start",i);return o&&(u=u.map(l=>l+"-"+o),n&&(u=u.concat(u.map(x3)))),u}function j1(e){return e.replace(/left|right|bottom|top/g,n=>ole[n])}function fle(e){return{top:0,right:0,bottom:0,left:0,...e}}function dle(e){return typeof e!="number"?fle(e):{top:e,right:e,bottom:e,left:e}}function z1(e){const{x:n,y:r,width:i,height:o}=e;return{width:i,height:o,top:r,left:n,right:n+i,bottom:r+o,x:n,y:r}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var hle=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],$1=hle.join(","),sO=typeof Element>"u",dd=sO?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,U1=!sO&&Element.prototype.getRootNode?function(e){var n;return e==null||(n=e.getRootNode)===null||n===void 0?void 0:n.call(e)}:function(e){return e==null?void 0:e.ownerDocument},W1=function e(n,r){var i;r===void 0&&(r=!0);var o=n==null||(i=n.getAttribute)===null||i===void 0?void 0:i.call(n,"inert"),u=o===""||o==="true",l=u||r&&n&&e(n.parentNode);return l},gle=function(n){var r,i=n==null||(r=n.getAttribute)===null||r===void 0?void 0:r.call(n,"contenteditable");return i===""||i==="true"},ple=function(n,r,i){if(W1(n))return[];var o=Array.prototype.slice.apply(n.querySelectorAll($1));return r&&dd.call(n,$1)&&o.unshift(n),o=o.filter(i),o},mle=function e(n,r,i){for(var o=[],u=Array.from(n);u.length;){var l=u.shift();if(!W1(l,!1))if(l.tagName==="SLOT"){var c=l.assignedElements(),d=c.length?c:l.children,h=e(d,!0,i);i.flatten?o.push.apply(o,h):o.push({scopeParent:l,candidates:h})}else{var p=dd.call(l,$1);p&&i.filter(l)&&(r||!n.includes(l))&&o.push(l);var m=l.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(l),v=!W1(m,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(l));if(m&&v){var w=e(m===!0?l.children:m.children,!0,i);i.flatten?o.push.apply(o,w):o.push({scopeParent:l,candidates:w})}else u.unshift.apply(u,l.children)}}return o},aO=function(n){return!isNaN(parseInt(n.getAttribute("tabindex"),10))},uO=function(n){if(!n)throw new Error("No node provided");return n.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(n.tagName)||gle(n))&&!aO(n)?0:n.tabIndex},vle=function(n,r){var i=uO(n);return i<0&&r&&!aO(n)?0:i},yle=function(n,r){return n.tabIndex===r.tabIndex?n.documentOrder-r.documentOrder:n.tabIndex-r.tabIndex},lO=function(n){return n.tagName==="INPUT"},wle=function(n){return lO(n)&&n.type==="hidden"},xle=function(n){var r=n.tagName==="DETAILS"&&Array.prototype.slice.apply(n.children).some(function(i){return i.tagName==="SUMMARY"});return r},ble=function(n,r){for(var i=0;i<n.length;i++)if(n[i].checked&&n[i].form===r)return n[i]},Cle=function(n){if(!n.name)return!0;var r=n.form||U1(n),i=function(c){return r.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=i(window.CSS.escape(n.name));else try{o=i(n.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var u=ble(o,n.form);return!u||u===n},Ele=function(n){return lO(n)&&n.type==="radio"},Dle=function(n){return Ele(n)&&!Cle(n)},Sle=function(n){var r,i=n&&U1(n),o=(r=i)===null||r===void 0?void 0:r.host,u=!1;if(i&&i!==n){var l,c,d;for(u=!!((l=o)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(o)||n!=null&&(d=n.ownerDocument)!==null&&d!==void 0&&d.contains(n));!u&&o;){var h,p,m;i=U1(o),o=(h=i)===null||h===void 0?void 0:h.host,u=!!((p=o)!==null&&p!==void 0&&(m=p.ownerDocument)!==null&&m!==void 0&&m.contains(o))}}return u},PM=function(n){var r=n.getBoundingClientRect(),i=r.width,o=r.height;return i===0&&o===0},Tle=function(n,r){var i=r.displayCheck,o=r.getShadowRoot;if(getComputedStyle(n).visibility==="hidden")return!0;var u=dd.call(n,"details>summary:first-of-type"),l=u?n.parentElement:n;if(dd.call(l,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof o=="function"){for(var c=n;n;){var d=n.parentElement,h=U1(n);if(d&&!d.shadowRoot&&o(d)===!0)return PM(n);n.assignedSlot?n=n.assignedSlot:!d&&h!==n.ownerDocument?n=h.host:n=d}n=c}if(Sle(n))return!n.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return PM(n);return!1},Ale=function(n){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(n.tagName))for(var r=n.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var i=0;i<r.children.length;i++){var o=r.children.item(i);if(o.tagName==="LEGEND")return dd.call(r,"fieldset[disabled] *")?!0:!o.contains(n)}return!0}r=r.parentElement}return!1},Ple=function(n,r){return!(r.disabled||W1(r)||wle(r)||Tle(r,n)||xle(r)||Ale(r))},b3=function(n,r){return!(Dle(r)||uO(r)<0||!Ple(n,r))},Rle=function(n){var r=parseInt(n.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},Ble=function e(n){var r=[],i=[];return n.forEach(function(o,u){var l=!!o.scopeParent,c=l?o.scopeParent:o,d=vle(c,l),h=l?e(o.candidates):c;d===0?l?r.push.apply(r,h):r.push(c):i.push({documentOrder:u,tabIndex:d,item:o,isScope:l,content:h})}),i.sort(yle).reduce(function(o,u){return u.isScope?o.push.apply(o,u.content):o.push(u.content),o},[]).concat(r)},Ly=function(n,r){r=r||{};var i;return r.getShadowRoot?i=mle([n],r.includeContainer,{filter:b3.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Rle}):i=ple(n,r.includeContainer,b3.bind(null,r)),Ble(i)},kle=function(n,r){if(r=r||{},!n)throw new Error("No node provided");return dd.call(n,$1)===!1?!1:b3(r,n)};function RM(e,n,r){let{reference:i,floating:o}=e;const u=fd(n),l=oO(n),c=iO(l),d=dc(n),h=u==="y",p=i.x+i.width/2-o.width/2,m=i.y+i.height/2-o.height/2,v=i[c]/2-o[c]/2;let w;switch(d){case"top":w={x:p,y:i.y-o.height};break;case"bottom":w={x:p,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:m};break;case"left":w={x:i.x-o.width,y:m};break;default:w={x:i.x,y:i.y}}switch(Fy(n)){case"start":w[l]-=v*(r&&h?-1:1);break;case"end":w[l]+=v*(r&&h?-1:1);break}return w}const Mle=async(e,n,r)=>{const{placement:i="bottom",strategy:o="absolute",middleware:u=[],platform:l}=r,c=u.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(n));let h=await l.getElementRects({reference:e,floating:n,strategy:o}),{x:p,y:m}=RM(h,i,d),v=i,w={},b=0;for(let E=0;E<c.length;E++){const{name:S,fn:T}=c[E],{x:C,y:B,data:P,reset:I}=await T({x:p,y:m,initialPlacement:i,placement:v,strategy:o,middlewareData:w,rects:h,platform:l,elements:{reference:e,floating:n}});p=C??p,m=B??m,w={...w,[S]:{...w[S],...P}},I&&b<=50&&(b++,typeof I=="object"&&(I.placement&&(v=I.placement),I.rects&&(h=I.rects===!0?await l.getElementRects({reference:e,floating:n,strategy:o}):I.rects),{x:p,y:m}=RM(h,v,d)),E=-1)}return{x:p,y:m,placement:v,strategy:o,middlewareData:w}};async function cO(e,n){var r;n===void 0&&(n={});const{x:i,y:o,platform:u,rects:l,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:w=0}=Oy(n,e),b=dle(w),S=c[v?m==="floating"?"reference":"floating":m],T=z1(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(S)))==null||r?S:S.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:d})),C=m==="floating"?{x:i,y:o,width:l.floating.width,height:l.floating.height}:l.reference,B=await(u.getOffsetParent==null?void 0:u.getOffsetParent(c.floating)),P=await(u.isElement==null?void 0:u.isElement(B))?await(u.getScale==null?void 0:u.getScale(B))||{x:1,y:1}:{x:1,y:1},I=z1(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:B,strategy:d}):C);return{top:(T.top-I.top+b.top)/P.y,bottom:(I.bottom-T.bottom+b.bottom)/P.y,left:(T.left-I.left+b.left)/P.x,right:(I.right-T.right+b.right)/P.x}}const Nle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,i;const{placement:o,middlewareData:u,rects:l,initialPlacement:c,platform:d,elements:h}=n,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:E=!0,...S}=Oy(e,n);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const T=dc(o),C=fd(c),B=dc(c)===c,P=await(d.isRTL==null?void 0:d.isRTL(h.floating)),I=v||(B||!E?[j1(c)]:ule(c)),z=b!=="none";!v&&z&&I.push(...cle(c,E,b,P));const Y=[c,...I],te=await cO(n,S),re=[];let ae=((i=u.flip)==null?void 0:i.overflows)||[];if(p&&re.push(te[T]),m){const le=ale(o,l,P);re.push(te[le[0]],te[le[1]])}if(ae=[...ae,{placement:o,overflows:re}],!re.every(le=>le<=0)){var ce,ne;const le=(((ce=u.flip)==null?void 0:ce.index)||0)+1,G=Y[le];if(G)return{data:{index:le,overflows:ae},reset:{placement:G}};let R=(ne=ae.filter(k=>k.overflows[0]<=0).sort((k,H)=>k.overflows[1]-H.overflows[1])[0])==null?void 0:ne.placement;if(!R)switch(w){case"bestFit":{var Q;const k=(Q=ae.filter(H=>{if(z){const _=fd(H.placement);return _===C||_==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(_=>_>0).reduce((_,X)=>_+X,0)]).sort((H,_)=>H[1]-_[1])[0])==null?void 0:Q[0];k&&(R=k);break}case"initialPlacement":R=c;break}if(o!==R)return{reset:{placement:R}}}return{}}}};async function Ole(e,n){const{placement:r,platform:i,elements:o}=e,u=await(i.isRTL==null?void 0:i.isRTL(o.floating)),l=dc(r),c=Fy(r),d=fd(r)==="y",h=["left","top"].includes(l)?-1:1,p=u&&d?-1:1,m=Oy(n,e);let{mainAxis:v,crossAxis:w,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof b=="number"&&(w=c==="end"?b*-1:b),d?{x:w*p,y:v*h}:{x:v*h,y:w*p}}const Fle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,i;const{x:o,y:u,placement:l,middlewareData:c}=n,d=await Ole(n,e);return l===((r=c.offset)==null?void 0:r.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+d.x,y:u+d.y,data:{...d,placement:l}}}}},Lle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:i,placement:o}=n,{mainAxis:u=!0,crossAxis:l=!1,limiter:c={fn:S=>{let{x:T,y:C}=S;return{x:T,y:C}}},...d}=Oy(e,n),h={x:r,y:i},p=await cO(n,d),m=fd(dc(o)),v=rO(m);let w=h[v],b=h[m];if(u){const S=v==="y"?"top":"left",T=v==="y"?"bottom":"right",C=w+p[S],B=w-p[T];w=AM(C,w,B)}if(l){const S=m==="y"?"top":"left",T=m==="y"?"bottom":"right",C=b+p[S],B=b-p[T];b=AM(C,b,B)}const E=c.fn({...n,[v]:w,[m]:b});return{...E,data:{x:E.x-r,y:E.y-i,enabled:{[v]:u,[m]:l}}}}}};function fO(e){const n=Go(e);let r=parseFloat(n.width)||0,i=parseFloat(n.height)||0;const o=_r(e),u=o?e.offsetWidth:r,l=o?e.offsetHeight:i,c=V1(r)!==u||V1(i)!==l;return c&&(r=u,i=l),{width:r,height:i,$:c}}function hT(e){return nr(e)?e:e.contextElement}function Zf(e){const n=hT(e);if(!_r(n))return $s(1);const r=n.getBoundingClientRect(),{width:i,height:o,$:u}=fO(n);let l=(u?V1(r.width):r.width)/i,c=(u?V1(r.height):r.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Ile=$s(0);function dO(e){const n=vo(e);return!My()||!n.visualViewport?Ile:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Hle(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==vo(e)?!1:n}function hc(e,n,r,i){n===void 0&&(n=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),u=hT(e);let l=$s(1);n&&(i?nr(i)&&(l=Zf(i)):l=Zf(e));const c=Hle(u,r,i)?dO(u):$s(0);let d=(o.left+c.x)/l.x,h=(o.top+c.y)/l.y,p=o.width/l.x,m=o.height/l.y;if(u){const v=vo(u),w=i&&nr(i)?vo(i):i;let b=v,E=y3(b);for(;E&&i&&w!==b;){const S=Zf(E),T=E.getBoundingClientRect(),C=Go(E),B=T.left+(E.clientLeft+parseFloat(C.paddingLeft))*S.x,P=T.top+(E.clientTop+parseFloat(C.paddingTop))*S.y;d*=S.x,h*=S.y,p*=S.x,m*=S.y,d+=B,h+=P,b=vo(E),E=y3(b)}}return z1({width:p,height:m,x:d,y:h})}function gT(e,n){const r=Ny(e).scrollLeft;return n?n.left+r:hc(Js(e)).left+r}function hO(e,n,r){r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=i.left+n.scrollLeft-(r?0:gT(e,i)),u=i.top+n.scrollTop;return{x:o,y:u}}function Gle(e){let{elements:n,rect:r,offsetParent:i,strategy:o}=e;const u=o==="fixed",l=Js(i),c=n?ky(n.floating):!1;if(i===l||c&&u)return r;let d={scrollLeft:0,scrollTop:0},h=$s(1);const p=$s(0),m=_r(i);if((m||!m&&!u)&&((Yu(i)!=="body"||Xp(l))&&(d=Ny(i)),_r(i))){const w=hc(i);h=Zf(i),p.x=w.x+i.clientLeft,p.y=w.y+i.clientTop}const v=l&&!m&&!u?hO(l,d,!0):$s(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+p.x+v.x,y:r.y*h.y-d.scrollTop*h.y+p.y+v.y}}function _le(e){return Array.from(e.getClientRects())}function Vle(e){const n=Js(e),r=Ny(e),i=e.ownerDocument.body,o=tc(n.scrollWidth,n.clientWidth,i.scrollWidth,i.clientWidth),u=tc(n.scrollHeight,n.clientHeight,i.scrollHeight,i.clientHeight);let l=-r.scrollLeft+gT(e);const c=-r.scrollTop;return Go(i).direction==="rtl"&&(l+=tc(n.clientWidth,i.clientWidth)-o),{width:o,height:u,x:l,y:c}}function jle(e,n){const r=vo(e),i=Js(e),o=r.visualViewport;let u=i.clientWidth,l=i.clientHeight,c=0,d=0;if(o){u=o.width,l=o.height;const h=My();(!h||h&&n==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:u,height:l,x:c,y:d}}function zle(e,n){const r=hc(e,!0,n==="fixed"),i=r.top+e.clientTop,o=r.left+e.clientLeft,u=_r(e)?Zf(e):$s(1),l=e.clientWidth*u.x,c=e.clientHeight*u.y,d=o*u.x,h=i*u.y;return{width:l,height:c,x:d,y:h}}function BM(e,n,r){let i;if(n==="viewport")i=jle(e,r);else if(n==="document")i=Vle(Js(e));else if(nr(n))i=zle(n,r);else{const o=dO(e);i={x:n.x-o.x,y:n.y-o.y,width:n.width,height:n.height}}return z1(i)}function gO(e,n){const r=za(e);return r===n||!nr(r)||_u(r)?!1:Go(r).position==="fixed"||gO(r,n)}function $le(e,n){const r=n.get(e);if(r)return r;let i=Nu(e,[],!1).filter(c=>nr(c)&&Yu(c)!=="body"),o=null;const u=Go(e).position==="fixed";let l=u?za(e):e;for(;nr(l)&&!_u(l);){const c=Go(l),d=dT(l);!d&&c.position==="fixed"&&(o=null),(u?!d&&!o:!d&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Xp(l)&&!d&&gO(e,l))?i=i.filter(p=>p!==l):o=c,l=za(l)}return n.set(e,i),i}function Ule(e){let{element:n,boundary:r,rootBoundary:i,strategy:o}=e;const l=[...r==="clippingAncestors"?ky(n)?[]:$le(n,this._c):[].concat(r),i],c=l[0],d=l.reduce((h,p)=>{const m=BM(n,p,o);return h.top=tc(m.top,h.top),h.right=_1(m.right,h.right),h.bottom=_1(m.bottom,h.bottom),h.left=tc(m.left,h.left),h},BM(n,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Wle(e){const{width:n,height:r}=fO(e);return{width:n,height:r}}function Xle(e,n,r){const i=_r(n),o=Js(n),u=r==="fixed",l=hc(e,!0,u,n);let c={scrollLeft:0,scrollTop:0};const d=$s(0);if(i||!i&&!u)if((Yu(n)!=="body"||Xp(o))&&(c=Ny(n)),i){const v=hc(n,!0,u,n);d.x=v.x+n.clientLeft,d.y=v.y+n.clientTop}else o&&(d.x=gT(o));const h=o&&!i&&!u?hO(o,c):$s(0),p=l.left+c.scrollLeft-d.x-h.x,m=l.top+c.scrollTop-d.y-h.y;return{x:p,y:m,width:l.width,height:l.height}}function JE(e){return Go(e).position==="static"}function kM(e,n){if(!_r(e)||Go(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return Js(e)===r&&(r=r.ownerDocument.body),r}function pO(e,n){const r=vo(e);if(ky(e))return r;if(!_r(e)){let o=za(e);for(;o&&!_u(o);){if(nr(o)&&!JE(o))return o;o=za(o)}return r}let i=kM(e,n);for(;i&&Kue(i)&&JE(i);)i=kM(i,n);return i&&_u(i)&&JE(i)&&!dT(i)?r:i||que(e)||r}const Yle=async function(e){const n=this.getOffsetParent||pO,r=this.getDimensions,i=await r(e.floating);return{reference:Xle(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Kle(e){return Go(e).direction==="rtl"}const qle={convertOffsetParentRelativeRectToViewportRelativeRect:Gle,getDocumentElement:Js,getClippingRect:Ule,getOffsetParent:pO,getElementRects:Yle,getClientRects:_le,getDimensions:Wle,getScale:Zf,isElement:nr,isRTL:Kle};function mO(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function Zle(e,n){let r=null,i;const o=Js(e);function u(){var c;clearTimeout(i),(c=r)==null||c.disconnect(),r=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),u();const h=e.getBoundingClientRect(),{left:p,top:m,width:v,height:w}=h;if(c||n(),!v||!w)return;const b=Ov(m),E=Ov(o.clientWidth-(p+v)),S=Ov(o.clientHeight-(m+w)),T=Ov(p),B={rootMargin:-b+"px "+-E+"px "+-S+"px "+-T+"px",threshold:tc(0,_1(1,d))||1};let P=!0;function I(z){const Y=z[0].intersectionRatio;if(Y!==d){if(!P)return l();Y?l(!1,Y):i=setTimeout(()=>{l(!1,1e-7)},1e3)}Y===1&&!mO(h,e.getBoundingClientRect())&&l(),P=!1}try{r=new IntersectionObserver(I,{...B,root:o.ownerDocument})}catch{r=new IntersectionObserver(I,B)}r.observe(e)}return l(!0),u}function Qle(e,n,r,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=hT(e),p=o||u?[...h?Nu(h):[],...Nu(n)]:[];p.forEach(T=>{o&&T.addEventListener("scroll",r,{passive:!0}),u&&T.addEventListener("resize",r)});const m=h&&c?Zle(h,r):null;let v=-1,w=null;l&&(w=new ResizeObserver(T=>{let[C]=T;C&&C.target===h&&w&&(w.unobserve(n),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var B;(B=w)==null||B.observe(n)})),r()}),h&&!d&&w.observe(h),w.observe(n));let b,E=d?hc(e):null;d&&S();function S(){const T=hc(e);E&&!mO(E,T)&&r(),E=T,b=requestAnimationFrame(S)}return r(),()=>{var T;p.forEach(C=>{o&&C.removeEventListener("scroll",r),u&&C.removeEventListener("resize",r)}),m==null||m(),(T=w)==null||T.disconnect(),w=null,d&&cancelAnimationFrame(b)}}const Jle=Fle,ece=Lle,tce=Nle,nce=(e,n,r)=>{const i=new Map,o={platform:qle,...r},u={...o.platform,_c:i};return Mle(e,n,{...o,platform:u})};var t1=typeof document<"u"?$.useLayoutEffect:$.useEffect;function X1(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,i,o;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(i=r;i--!==0;)if(!X1(e[i],n[i]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){const u=o[i];if(!(u==="_owner"&&e.$$typeof)&&!X1(e[u],n[u]))return!1}return!0}return e!==e&&n!==n}function vO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function MM(e,n){const r=vO(e);return Math.round(n*r)/r}function eD(e){const n=$.useRef(e);return t1(()=>{n.current=e}),n}function rce(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:u,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[p,m]=$.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[v,w]=$.useState(i);X1(v,i)||w(i);const[b,E]=$.useState(null),[S,T]=$.useState(null),C=$.useCallback(H=>{H!==z.current&&(z.current=H,E(H))},[]),B=$.useCallback(H=>{H!==Y.current&&(Y.current=H,T(H))},[]),P=u||b,I=l||S,z=$.useRef(null),Y=$.useRef(null),te=$.useRef(p),re=d!=null,ae=eD(d),ce=eD(o),ne=eD(h),Q=$.useCallback(()=>{if(!z.current||!Y.current)return;const H={placement:n,strategy:r,middleware:v};ce.current&&(H.platform=ce.current),nce(z.current,Y.current,H).then(_=>{const X={..._,isPositioned:ne.current!==!1};le.current&&!X1(te.current,X)&&(te.current=X,vS.flushSync(()=>{m(X)}))})},[v,n,r,ce,ne]);t1(()=>{h===!1&&te.current.isPositioned&&(te.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[h]);const le=$.useRef(!1);t1(()=>(le.current=!0,()=>{le.current=!1}),[]),t1(()=>{if(P&&(z.current=P),I&&(Y.current=I),P&&I){if(ae.current)return ae.current(P,I,Q);Q()}},[P,I,Q,ae,re]);const G=$.useMemo(()=>({reference:z,floating:Y,setReference:C,setFloating:B}),[C,B]),R=$.useMemo(()=>({reference:P,floating:I}),[P,I]),k=$.useMemo(()=>{const H={position:r,left:0,top:0};if(!R.floating)return H;const _=MM(R.floating,p.x),X=MM(R.floating,p.y);return c?{...H,transform:"translate("+_+"px, "+X+"px)",...vO(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:_,top:X}},[r,c,R.floating,p.x,p.y]);return $.useMemo(()=>({...p,update:Q,refs:G,elements:R,floatingStyles:k}),[p,Q,G,R,k])}const ice=(e,n)=>({...Jle(e),options:[e,n]}),oce=(e,n)=>({...ece(e),options:[e,n]}),sce=(e,n)=>({...tce(e),options:[e,n]});function Iy(e){return $.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})},e)}const yO={...x$},ace=yO.useInsertionEffect,uce=ace||(e=>e());function Tu(e){const n=$.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return uce(()=>{n.current=e}),$.useCallback(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.current==null?void 0:n.current(...i)},[])}var mo=typeof document<"u"?$.useLayoutEffect:$.useEffect;function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Sp.apply(this,arguments)}let NM=!1,lce=0;const OM=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+lce++;function cce(){const[e,n]=$.useState(()=>NM?OM():void 0);return mo(()=>{e==null&&n(OM())},[]),$.useEffect(()=>{NM=!0},[]),e}const fce=yO.useId,Yp=fce||cce;let C3;C3=new Set;function dce(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const o="Floating UI: "+r.join(" ");if(!((e=C3)!=null&&e.has(o))){var u;(u=C3)==null||u.add(o),console.error(o)}}function hce(){const e=new Map;return{emit(n,r){var i;(i=e.get(n))==null||i.forEach(o=>o(r))},on(n,r){e.set(n,[...e.get(n)||[],r])},off(n,r){var i;e.set(n,((i=e.get(n))==null?void 0:i.filter(o=>o!==r))||[])}}}const gce=$.createContext(null),pce=$.createContext(null),wO=()=>{var e;return((e=$.useContext(gce))==null?void 0:e.id)||null},pT=()=>$.useContext(pce);function Tp(e){return"data-floating-ui-"+e}function tD(e){const n=$.useRef(e);return mo(()=>{n.current=e}),n}let FM=0;function Nf(e,n){n===void 0&&(n={});const{preventScroll:r=!1,cancelPrevious:i=!0,sync:o=!1}=n;i&&cancelAnimationFrame(FM);const u=()=>e==null?void 0:e.focus({preventScroll:r});o?u():FM=requestAnimationFrame(u)}function mce(e,n){var r;let i=[],o=(r=e.find(u=>u.id===n))==null?void 0:r.parentId;for(;o;){const u=e.find(l=>l.id===o);o=u==null?void 0:u.parentId,u&&(i=i.concat(u))}return i}function $g(e,n){let r=e.filter(o=>{var u;return o.parentId===n&&((u=o.context)==null?void 0:u.open)}),i=r;for(;i.length;)i=e.filter(o=>{var u;return(u=i)==null?void 0:u.some(l=>{var c;return o.parentId===l.id&&((c=o.context)==null?void 0:c.open)})}),r=r.concat(i);return r}let Of=new WeakMap,Fv=new WeakSet,Lv={},nD=0;const vce=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,xO=e=>e&&(e.host||xO(e.parentNode)),yce=(e,n)=>n.map(r=>{if(e.contains(r))return r;const i=xO(r);return e.contains(i)?i:null}).filter(r=>r!=null);function wce(e,n,r,i){const o="data-floating-ui-inert",u=i?"inert":r?"aria-hidden":null,l=yce(n,e),c=new Set,d=new Set(l),h=[];Lv[o]||(Lv[o]=new WeakMap);const p=Lv[o];l.forEach(m),v(n),c.clear();function m(w){!w||c.has(w)||(c.add(w),w.parentNode&&m(w.parentNode))}function v(w){!w||d.has(w)||[].forEach.call(w.children,b=>{if(Yu(b)!=="script")if(c.has(b))v(b);else{const E=u?b.getAttribute(u):null,S=E!==null&&E!=="false",T=(Of.get(b)||0)+1,C=(p.get(b)||0)+1;Of.set(b,T),p.set(b,C),h.push(b),T===1&&S&&Fv.add(b),C===1&&b.setAttribute(o,""),!S&&u&&b.setAttribute(u,"true")}})}return nD++,()=>{h.forEach(w=>{const b=(Of.get(w)||0)-1,E=(p.get(w)||0)-1;Of.set(w,b),p.set(w,E),b||(!Fv.has(w)&&u&&w.removeAttribute(u),Fv.delete(w)),E||w.removeAttribute(o)}),nD--,nD||(Of=new WeakMap,Of=new WeakMap,Fv=new WeakSet,Lv={})}}function LM(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);const i=cs(e[0]).body;return wce(e.concat(Array.from(i.querySelectorAll("[aria-live]"))),i,n,r)}const Ap=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function bO(e,n){const r=Ly(e,Ap());n==="prev"&&r.reverse();const i=r.indexOf($l(cs(e)));return r.slice(i+1)[0]}function CO(){return bO(document.body,"next")}function EO(){return bO(document.body,"prev")}function Ug(e,n){const r=n||e.currentTarget,i=e.relatedTarget;return!i||!co(r,i)}function xce(e){Ly(e,Ap()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function IM(e){e.querySelectorAll("[data-tabindex]").forEach(r=>{const i=r.dataset.tabindex;delete r.dataset.tabindex,i?r.setAttribute("tabindex",i):r.removeAttribute("tabindex")})}const Hy={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let bce;function HM(e){e.key==="Tab"&&(e.target,clearTimeout(bce))}const Y1=$.forwardRef(function(n,r){const[i,o]=$.useState();mo(()=>(Jue()&&o("button"),document.addEventListener("keydown",HM),()=>{document.removeEventListener("keydown",HM)}),[]);const u={ref:r,tabIndex:0,role:i,"aria-hidden":i?void 0:!0,[Tp("focus-guard")]:"",style:Hy};return $.createElement("span",Sp({},n,u))}),DO=$.createContext(null),GM=Tp("portal");function Cce(e){e===void 0&&(e={});const{id:n,root:r}=e,i=Yp(),o=TO(),[u,l]=$.useState(null),c=$.useRef(null);return mo(()=>()=>{u==null||u.remove(),queueMicrotask(()=>{c.current=null})},[u]),mo(()=>{if(!i||c.current)return;const d=n?document.getElementById(n):null;if(!d)return;const h=document.createElement("div");h.id=i,h.setAttribute(GM,""),d.appendChild(h),c.current=h,l(h)},[n,i]),mo(()=>{if(r===null||!i||c.current)return;let d=r||(o==null?void 0:o.portalNode);d&&!nr(d)&&(d=d.current),d=d||document.body;let h=null;n&&(h=document.createElement("div"),h.id=n,d.appendChild(h));const p=document.createElement("div");p.id=i,p.setAttribute(GM,""),d=h||d,d.appendChild(p),c.current=p,l(p)},[n,r,i,o]),u}function SO(e){const{children:n,id:r,root:i,preserveTabOrder:o=!0}=e,u=Cce({id:r,root:i}),[l,c]=$.useState(null),d=$.useRef(null),h=$.useRef(null),p=$.useRef(null),m=$.useRef(null),v=l==null?void 0:l.modal,w=l==null?void 0:l.open,b=!!l&&!l.modal&&l.open&&o&&!!(i||u);return $.useEffect(()=>{if(!u||!o||v)return;function E(S){u&&Ug(S)&&(S.type==="focusin"?IM:xce)(u)}return u.addEventListener("focusin",E,!0),u.addEventListener("focusout",E,!0),()=>{u.removeEventListener("focusin",E,!0),u.removeEventListener("focusout",E,!0)}},[u,o,v]),$.useEffect(()=>{u&&(w||IM(u))},[w,u]),$.createElement(DO.Provider,{value:$.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:d,afterOutsideRef:h,beforeInsideRef:p,afterInsideRef:m,portalNode:u,setFocusManagerState:c}),[o,u])},b&&u&&$.createElement(Y1,{"data-type":"outside",ref:d,onFocus:E=>{if(Ug(E,u)){var S;(S=p.current)==null||S.focus()}else{const T=EO()||(l==null?void 0:l.refs.domReference.current);T==null||T.focus()}}}),b&&u&&$.createElement("span",{"aria-owns":u.id,style:Hy}),u&&vS.createPortal(n,u),b&&u&&$.createElement(Y1,{"data-type":"outside",ref:h,onFocus:E=>{if(Ug(E,u)){var S;(S=m.current)==null||S.focus()}else{const T=CO()||(l==null?void 0:l.refs.domReference.current);T==null||T.focus(),l!=null&&l.closeOnFocusOut&&(l==null||l.onOpenChange(!1,E.nativeEvent,"focus-out"))}}}))}const TO=()=>$.useContext(DO),E3="data-floating-ui-focusable";function Ece(e){return e?e.hasAttribute(E3)?e:e.querySelector("["+E3+"]")||e:null}const Dce=20;let Ul=[];function rD(e){Ul=Ul.filter(r=>r.isConnected);let n=e;if(!(!n||Yu(n)==="body")){if(!kle(n,Ap())){const r=Ly(n,Ap())[0];r&&(n=r)}Ul.push(n),Ul.length>Dce&&(Ul=Ul.slice(-20))}}function _M(){return Ul.slice().reverse().find(e=>e.isConnected)}const Sce=$.forwardRef(function(n,r){return $.createElement("button",Sp({},n,{type:"button",ref:r,tabIndex:-1,style:Hy}))});function AO(e){const{context:n,children:r,disabled:i=!1,order:o=["content"],guards:u=!0,initialFocus:l=0,returnFocus:c=!0,restoreFocus:d=!1,modal:h=!0,visuallyHiddenDismiss:p=!1,closeOnFocusOut:m=!0}=e,{open:v,refs:w,nodeId:b,onOpenChange:E,events:S,dataRef:T,floatingId:C,elements:{domReference:B,floating:P}}=n,I=typeof l=="number"&&l<0,z=ile(B)&&I,Y=vce()?u:!0,te=tD(o),re=tD(l),ae=tD(c),ce=pT(),ne=TO(),Q=$.useRef(null),le=$.useRef(null),G=$.useRef(!1),R=$.useRef(!1),k=$.useRef(-1),H=ne!=null,_=Ece(P),X=Tu(function(ue){return ue===void 0&&(ue=_),ue?Ly(ue,Ap()):[]}),U=Tu(ue=>{const xe=X(ue);return te.current.map(fe=>B&&fe==="reference"?B:_&&fe==="floating"?_:xe).filter(Boolean).flat()});$.useEffect(()=>{if(i||!h)return;function ue(fe){if(fe.key==="Tab"){co(_,$l(cs(_)))&&X().length===0&&!z&&QE(fe);const Te=U(),ke=Wl(fe);te.current[0]==="reference"&&ke===B&&(QE(fe),fe.shiftKey?Nf(Te[Te.length-1]):Nf(Te[1])),te.current[1]==="floating"&&ke===_&&fe.shiftKey&&(QE(fe),Nf(Te[0]))}}const xe=cs(_);return xe.addEventListener("keydown",ue),()=>{xe.removeEventListener("keydown",ue)}},[i,B,_,h,te,z,X,U]),$.useEffect(()=>{if(i||!P)return;function ue(xe){const fe=Wl(xe),ke=X().indexOf(fe);ke!==-1&&(k.current=ke)}return P.addEventListener("focusin",ue),()=>{P.removeEventListener("focusin",ue)}},[i,P,X]),$.useEffect(()=>{if(i||!m)return;function ue(){R.current=!0,setTimeout(()=>{R.current=!1})}function xe(fe){const Te=fe.relatedTarget;queueMicrotask(()=>{const ke=!(co(B,Te)||co(P,Te)||co(Te,P)||co(ne==null?void 0:ne.portalNode,Te)||Te!=null&&Te.hasAttribute(Tp("focus-guard"))||ce&&($g(ce.nodesRef.current,b).find(Z=>{var de,me;return co((de=Z.context)==null?void 0:de.elements.floating,Te)||co((me=Z.context)==null?void 0:me.elements.domReference,Te)})||mce(ce.nodesRef.current,b).find(Z=>{var de,me;return((de=Z.context)==null?void 0:de.elements.floating)===Te||((me=Z.context)==null?void 0:me.elements.domReference)===Te})));if(d&&ke&&$l(cs(_))===cs(_).body){_r(_)&&_.focus();const Z=k.current,de=X(),me=de[Z]||de[de.length-1]||_;_r(me)&&me.focus()}(z||!h)&&Te&&ke&&!R.current&&Te!==_M()&&(G.current=!0,E(!1,fe,"focus-out"))})}if(P&&_r(B))return B.addEventListener("focusout",xe),B.addEventListener("pointerdown",ue),P.addEventListener("focusout",xe),()=>{B.removeEventListener("focusout",xe),B.removeEventListener("pointerdown",ue),P.removeEventListener("focusout",xe)}},[i,B,P,_,h,b,ce,ne,E,m,d,X,z]),$.useEffect(()=>{var ue;if(i)return;const xe=Array.from((ne==null||(ue=ne.portalNode)==null?void 0:ue.querySelectorAll("["+Tp("portal")+"]"))||[]);if(P){const fe=[P,...xe,Q.current,le.current,te.current.includes("reference")||z?B:null].filter(ke=>ke!=null),Te=h||z?LM(fe,Y,!Y):LM(fe);return()=>{Te()}}},[i,B,P,h,te,ne,z,Y]),mo(()=>{if(i||!_r(_))return;const ue=cs(_),xe=$l(ue);queueMicrotask(()=>{const fe=U(_),Te=re.current,ke=(typeof Te=="number"?fe[Te]:Te.current)||_,Z=co(_,xe);!I&&!Z&&v&&Nf(ke,{preventScroll:ke===_})})},[i,v,_,I,U,re]),mo(()=>{if(i||!_)return;let ue=!1;const xe=cs(_),fe=$l(xe);let ke=T.current.openEvent;rD(fe);function Z(Ce){let{open:$e,reason:Pe,event:ot,nested:je}=Ce;$e&&(ke=ot),Pe==="escape-key"&&w.domReference.current&&rD(w.domReference.current),Pe==="hover"&&ot.type==="mouseleave"&&(G.current=!0),Pe==="outside-press"&&(je?(G.current=!1,ue=!0):G.current=!(Zue(ot)||Que(ot)))}S.on("openchange",Z);const de=xe.createElement("span");de.setAttribute("tabindex","-1"),de.setAttribute("aria-hidden","true"),Object.assign(de.style,Hy),H&&B&&B.insertAdjacentElement("afterend",de);function me(){return typeof ae.current=="boolean"?_M()||de:ae.current.current||de}return()=>{S.off("openchange",Z);const Ce=$l(xe),$e=co(P,Ce)||ce&&$g(ce.nodesRef.current,b).some(je=>{var Ie;return co((Ie=je.context)==null?void 0:Ie.elements.floating,Ce)});($e||ke&&["click","mousedown"].includes(ke.type))&&w.domReference.current&&rD(w.domReference.current);const ot=me();queueMicrotask(()=>{ae.current&&!G.current&&_r(ot)&&(!(ot!==Ce&&Ce!==xe.body)||$e)&&ot.focus({preventScroll:ue}),de.remove()})}},[i,P,_,ae,T,w,S,ce,b,H,B]),$.useEffect(()=>{queueMicrotask(()=>{G.current=!1})},[i]),mo(()=>{if(!i&&ne)return ne.setFocusManagerState({modal:h,closeOnFocusOut:m,open:v,onOpenChange:E,refs:w}),()=>{ne.setFocusManagerState(null)}},[i,ne,h,v,E,w,m]),mo(()=>{if(i||!_||typeof MutationObserver!="function"||I)return;const ue=()=>{const fe=_.getAttribute("tabindex"),Te=X(),ke=$l(cs(P)),Z=Te.indexOf(ke);Z!==-1&&(k.current=Z),te.current.includes("floating")||ke!==w.domReference.current&&Te.length===0?fe!=="0"&&_.setAttribute("tabindex","0"):fe!=="-1"&&_.setAttribute("tabindex","-1")};ue();const xe=new MutationObserver(ue);return xe.observe(_,{childList:!0,subtree:!0,attributes:!0}),()=>{xe.disconnect()}},[i,P,_,w,te,X,I]);function ie(ue){return i||!p||!h?null:$.createElement(Sce,{ref:ue==="start"?Q:le,onClick:xe=>E(!1,xe.nativeEvent)},typeof p=="string"?p:"Dismiss")}const q=!i&&Y&&(h?!z:!0)&&(H||h);return $.createElement($.Fragment,null,q&&$.createElement(Y1,{"data-type":"inside",ref:ne==null?void 0:ne.beforeInsideRef,onFocus:ue=>{if(h){const fe=U();Nf(o[0]==="reference"?fe[0]:fe[fe.length-1])}else if(ne!=null&&ne.preserveTabOrder&&ne.portalNode)if(G.current=!1,Ug(ue,ne.portalNode)){const fe=CO()||B;fe==null||fe.focus()}else{var xe;(xe=ne.beforeOutsideRef.current)==null||xe.focus()}}}),!z&&ie("start"),r,ie("end"),q&&$.createElement(Y1,{"data-type":"inside",ref:ne==null?void 0:ne.afterInsideRef,onFocus:ue=>{if(h)Nf(U()[0]);else if(ne!=null&&ne.preserveTabOrder&&ne.portalNode)if(m&&(G.current=!0),Ug(ue,ne.portalNode)){const fe=EO()||B;fe==null||fe.focus()}else{var xe;(xe=ne.afterOutsideRef.current)==null||xe.focus()}}}))}let Iv=0;function Tce(){const e=/iP(hone|ad|od)|iOS/.test(eO()),n=document.body.style,i=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth,u=n.left?parseFloat(n.left):window.scrollX,l=n.top?parseFloat(n.top):window.scrollY;if(n.overflow="hidden",o&&(n[i]=o+"px"),e){var c,d;const h=((c=window.visualViewport)==null?void 0:c.offsetLeft)||0,p=((d=window.visualViewport)==null?void 0:d.offsetTop)||0;Object.assign(n,{position:"fixed",top:-(l-Math.floor(p))+"px",left:-(u-Math.floor(h))+"px",right:"0"})}return()=>{Object.assign(n,{overflow:"",[i]:""}),e&&(Object.assign(n,{position:"",top:"",left:"",right:""}),window.scrollTo(u,l))}}let VM=()=>{};const Ace=$.forwardRef(function(n,r){const{lockScroll:i=!1,...o}=n;return mo(()=>{if(i)return Iv++,Iv===1&&(VM=Tce()),()=>{Iv--,Iv===0&&VM()}},[i]),$.createElement("div",Sp({ref:r},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function jM(e){return _r(e.target)&&e.target.tagName==="BUTTON"}function zM(e){return nO(e)}function PO(e,n){n===void 0&&(n={});const{open:r,onOpenChange:i,dataRef:o,elements:{domReference:u}}=e,{enabled:l=!0,event:c="click",toggle:d=!0,ignoreMouse:h=!1,keyboardHandlers:p=!0,stickIfOpen:m=!0}=n,v=$.useRef(),w=$.useRef(!1),b=$.useMemo(()=>({onPointerDown(E){v.current=E.pointerType},onMouseDown(E){const S=v.current;E.button===0&&c!=="click"&&(TM(S)&&h||(r&&d&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="mousedown")?i(!1,E.nativeEvent,"click"):(E.preventDefault(),i(!0,E.nativeEvent,"click"))))},onClick(E){const S=v.current;if(c==="mousedown"&&v.current){v.current=void 0;return}TM(S)&&h||(r&&d&&(!(o.current.openEvent&&m)||o.current.openEvent.type==="click")?i(!1,E.nativeEvent,"click"):i(!0,E.nativeEvent,"click"))},onKeyDown(E){v.current=void 0,!(E.defaultPrevented||!p||jM(E))&&(E.key===" "&&!zM(u)&&(E.preventDefault(),w.current=!0),E.key==="Enter"&&i(!(r&&d),E.nativeEvent,"click"))},onKeyUp(E){E.defaultPrevented||!p||jM(E)||zM(u)||E.key===" "&&w.current&&(w.current=!1,i(!(r&&d),E.nativeEvent,"click"))}}),[o,u,c,h,p,i,r,m,d]);return $.useMemo(()=>l?{reference:b}:{},[l,b])}const Pce={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Rce={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},$M=e=>{var n,r;return{escapeKey:typeof e=="boolean"?e:(n=e==null?void 0:e.escapeKey)!=null?n:!1,outsidePress:typeof e=="boolean"?e:(r=e==null?void 0:e.outsidePress)!=null?r:!0}};function RO(e,n){n===void 0&&(n={});const{open:r,onOpenChange:i,elements:o,dataRef:u}=e,{enabled:l=!0,escapeKey:c=!0,outsidePress:d=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:m="pointerdown",ancestorScroll:v=!1,bubbles:w,capture:b}=n,E=pT(),S=Tu(typeof d=="function"?d:()=>!1),T=typeof d=="function"?S:d,C=$.useRef(!1),B=$.useRef(!1),{escapeKey:P,outsidePress:I}=$M(w),{escapeKey:z,outsidePress:Y}=$M(b),te=$.useRef(!1),re=Tu(G=>{var R;if(!r||!l||!c||G.key!=="Escape"||te.current)return;const k=(R=u.current.floatingContext)==null?void 0:R.nodeId,H=E?$g(E.nodesRef.current,k):[];if(!P&&(G.stopPropagation(),H.length>0)){let _=!0;if(H.forEach(X=>{var U;if((U=X.context)!=null&&U.open&&!X.context.dataRef.current.__escapeKeyBubbles){_=!1;return}}),!_)return}i(!1,tle(G)?G.nativeEvent:G,"escape-key")}),ae=Tu(G=>{var R;const k=()=>{var H;re(G),(H=Wl(G))==null||H.removeEventListener("keydown",k)};(R=Wl(G))==null||R.addEventListener("keydown",k)}),ce=Tu(G=>{var R;const k=C.current;C.current=!1;const H=B.current;if(B.current=!1,h==="click"&&H||k||typeof T=="function"&&!T(G))return;const _=Wl(G),X="["+Tp("inert")+"]",U=cs(o.floating).querySelectorAll(X);let ie=nr(_)?_:null;for(;ie&&!_u(ie);){const fe=za(ie);if(_u(fe)||!nr(fe))break;ie=fe}if(U.length&&nr(_)&&!nle(_)&&!co(_,o.floating)&&Array.from(U).every(fe=>!co(ie,fe)))return;if(_r(_)&&le){const fe=_.clientWidth>0&&_.scrollWidth>_.clientWidth,Te=_.clientHeight>0&&_.scrollHeight>_.clientHeight;let ke=Te&&G.offsetX>_.clientWidth;if(Te&&Go(_).direction==="rtl"&&(ke=G.offsetX<=_.offsetWidth-_.clientWidth),ke||fe&&G.offsetY>_.clientHeight)return}const q=(R=u.current.floatingContext)==null?void 0:R.nodeId,ue=E&&$g(E.nodesRef.current,q).some(fe=>{var Te;return ZE(G,(Te=fe.context)==null?void 0:Te.elements.floating)});if(ZE(G,o.floating)||ZE(G,o.domReference)||ue)return;const xe=E?$g(E.nodesRef.current,q):[];if(xe.length>0){let fe=!0;if(xe.forEach(Te=>{var ke;if((ke=Te.context)!=null&&ke.open&&!Te.context.dataRef.current.__outsidePressBubbles){fe=!1;return}}),!fe)return}i(!1,G,"outside-press")}),ne=Tu(G=>{var R;const k=()=>{var H;ce(G),(H=Wl(G))==null||H.removeEventListener(h,k)};(R=Wl(G))==null||R.addEventListener(h,k)});$.useEffect(()=>{if(!r||!l)return;u.current.__escapeKeyBubbles=P,u.current.__outsidePressBubbles=I;let G=-1;function R(U){i(!1,U,"ancestor-scroll")}function k(){window.clearTimeout(G),te.current=!0}function H(){G=window.setTimeout(()=>{te.current=!1},My()?5:0)}const _=cs(o.floating);c&&(_.addEventListener("keydown",z?ae:re,z),_.addEventListener("compositionstart",k),_.addEventListener("compositionend",H)),T&&_.addEventListener(h,Y?ne:ce,Y);let X=[];return v&&(nr(o.domReference)&&(X=Nu(o.domReference)),nr(o.floating)&&(X=X.concat(Nu(o.floating))),!nr(o.reference)&&o.reference&&o.reference.contextElement&&(X=X.concat(Nu(o.reference.contextElement)))),X=X.filter(U=>{var ie;return U!==((ie=_.defaultView)==null?void 0:ie.visualViewport)}),X.forEach(U=>{U.addEventListener("scroll",R,{passive:!0})}),()=>{c&&(_.removeEventListener("keydown",z?ae:re,z),_.removeEventListener("compositionstart",k),_.removeEventListener("compositionend",H)),T&&_.removeEventListener(h,Y?ne:ce,Y),X.forEach(U=>{U.removeEventListener("scroll",R)}),window.clearTimeout(G)}},[u,o,c,T,h,r,i,v,l,P,I,re,z,ae,ce,Y,ne]),$.useEffect(()=>{C.current=!1},[T,h]);const Q=$.useMemo(()=>({onKeyDown:re,[Pce[m]]:G=>{p&&i(!1,G.nativeEvent,"reference-press")}}),[re,i,p,m]),le=$.useMemo(()=>({onKeyDown:re,onMouseDown(){B.current=!0},onMouseUp(){B.current=!0},[Rce[h]]:()=>{C.current=!0}}),[re,h]);return $.useMemo(()=>l?{reference:Q,floating:le}:{},[l,Q,le])}function Bce(e){const{open:n=!1,onOpenChange:r,elements:i}=e,o=Yp(),u=$.useRef({}),[l]=$.useState(()=>hce()),c=wO()!=null;{const w=i.reference;w&&!nr(w)&&dce("Cannot pass a virtual element to the `elements.reference` option,","as it must be a real DOM element. Use `refs.setPositionReference()`","instead.")}const[d,h]=$.useState(i.reference),p=Tu((w,b,E)=>{u.current.openEvent=w?b:void 0,l.emit("openchange",{open:w,event:b,reason:E,nested:c}),r==null||r(w,b,E)}),m=$.useMemo(()=>({setPositionReference:h}),[]),v=$.useMemo(()=>({reference:d||i.reference||null,floating:i.floating||null,domReference:i.reference}),[d,i.reference,i.floating]);return $.useMemo(()=>({dataRef:u,open:n,onOpenChange:p,elements:v,events:l,floatingId:o,refs:m}),[n,p,v,l,o,m])}function BO(e){e===void 0&&(e={});const{nodeId:n}=e,r=Bce({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||r,o=i.elements,[u,l]=$.useState(null),[c,d]=$.useState(null),p=(o==null?void 0:o.domReference)||u,m=$.useRef(null),v=pT();mo(()=>{p&&(m.current=p)},[p]);const w=rce({...e,elements:{...o,...c&&{reference:c}}}),b=$.useCallback(B=>{const P=nr(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),contextElement:B}:B;d(P),w.refs.setReference(P)},[w.refs]),E=$.useCallback(B=>{(nr(B)||B===null)&&(m.current=B,l(B)),(nr(w.refs.reference.current)||w.refs.reference.current===null||B!==null&&!nr(B))&&w.refs.setReference(B)},[w.refs]),S=$.useMemo(()=>({...w.refs,setReference:E,setPositionReference:b,domReference:m}),[w.refs,E,b]),T=$.useMemo(()=>({...w.elements,domReference:p}),[w.elements,p]),C=$.useMemo(()=>({...w,...i,refs:S,elements:T,nodeId:n}),[w,S,T,n,i]);return mo(()=>{i.dataRef.current.floatingContext=C;const B=v==null?void 0:v.nodesRef.current.find(P=>P.id===n);B&&(B.context=C)}),$.useMemo(()=>({...w,context:C,refs:S,elements:T}),[w,S,T,C])}const UM="active",WM="selected";function iD(e,n,r){const i=new Map,o=r==="item";let u=e;if(o&&e){const{[UM]:l,[WM]:c,...d}=e;u=d}return{...r==="floating"&&{tabIndex:-1,[E3]:""},...u,...n.map(l=>{const c=l?l[r]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((l,c)=>(c&&Object.entries(c).forEach(d=>{let[h,p]=d;if(!(o&&[UM,WM].includes(h)))if(h.indexOf("on")===0){if(i.has(h)||i.set(h,[]),typeof p=="function"){var m;(m=i.get(h))==null||m.push(p),l[h]=function(){for(var v,w=arguments.length,b=new Array(w),E=0;E<w;E++)b[E]=arguments[E];return(v=i.get(h))==null?void 0:v.map(S=>S(...b)).find(S=>S!==void 0)}}}else l[h]=p}),l),{})}}function kO(e){e===void 0&&(e=[]);const n=e.map(c=>c==null?void 0:c.reference),r=e.map(c=>c==null?void 0:c.floating),i=e.map(c=>c==null?void 0:c.item),o=$.useCallback(c=>iD(c,e,"reference"),n),u=$.useCallback(c=>iD(c,e,"floating"),r),l=$.useCallback(c=>iD(c,e,"item"),i);return $.useMemo(()=>({getReferenceProps:o,getFloatingProps:u,getItemProps:l}),[o,u,l])}const kce=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function MO(e,n){var r;n===void 0&&(n={});const{open:i,floatingId:o}=e,{enabled:u=!0,role:l="dialog"}=n,c=(r=kce.get(l))!=null?r:l,d=Yp(),p=wO()!=null,m=$.useMemo(()=>c==="tooltip"||l==="label"?{["aria-"+(l==="label"?"labelledby":"describedby")]:i?o:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":i?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:d},...c==="menu"&&p&&{role:"menuitem"},...l==="select"&&{"aria-autocomplete":"none"},...l==="combobox"&&{"aria-autocomplete":"list"}},[c,o,p,i,d,l]),v=$.useMemo(()=>{const b={id:o,...c&&{role:c}};return c==="tooltip"||l==="label"?b:{...b,...c==="menu"&&{"aria-labelledby":d}}},[c,o,d,l]),w=$.useCallback(b=>{let{active:E,selected:S}=b;const T={role:"option",...E&&{id:o+"-option"}};switch(l){case"select":return{...T,"aria-selected":E&&S};case"combobox":return{...T,...E&&{"aria-selected":!0}}}return{}},[o,l]);return $.useMemo(()=>u?{reference:m,floating:v,item:w}:{},[u,m,v,w])}function Mce({initialOpen:e=!1,placement:n="bottom",modal:r,sideOffset:i,open:o,onOpenChange:u}={}){const[l,c]=$.useState(e),[d,h]=$.useState(),[p,m]=$.useState(),v=o??l,w=u??c,b=BO({placement:n,open:v,onOpenChange:w,whileElementsMounted:Qle,middleware:[ice(i||4),sce({crossAxis:n.includes("-"),fallbackAxisSideDirection:"end",padding:5}),oce({padding:5})]}),E=b.context,S=PO(E,{enabled:o==null}),T=RO(E),C=MO(E),B=kO([S,T,C]);return $.useMemo(()=>({open:v,setOpen:w,...B,...b,modal:r,labelId:d,descriptionId:p,setLabelId:h,setDescriptionId:m}),[v,w,B,b,r,d,p])}const NO=$.createContext(null),OO=()=>{const e=$.useContext(NO);if(e==null)throw new Error("Popover components must be wrapped in <Popover />");return e};function Wg({children:e,modal:n=!1,...r}){const i=Mce({modal:n,...r});return V.jsxDEV(NO.Provider,{value:i,children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/popover/popover.tsx",lineNumber:118,columnNumber:5},this)}const n1=$.forwardRef(function({children:n,asChild:r=!1,...i},o){const u=OO(),l=n.ref,c=Iy([u.refs.setReference,o,l]);return r&&$.isValidElement(n)?$.cloneElement(n,u.getReferenceProps({ref:c,...i,...n.props,"data-state":u.open?"open":"closed"})):V.jsxDEV("button",{ref:c,type:"button","data-state":u.open?"open":"closed",...u.getReferenceProps(i),children:n},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/popover/popover.tsx",lineNumber:151,columnNumber:5},this)}),Xg=$.forwardRef(function({container:n,style:r,...i},o){const{context:u,...l}=OO(),c=Iy([l.refs.setFloating,o]);return u.open?V.jsxDEV(SO,{root:n,children:V.jsxDEV(AO,{context:u,modal:l.modal,children:V.jsxDEV("div",{ref:c,style:{...l.floatingStyles,...r},"aria-labelledby":l.labelId,"aria-describedby":l.descriptionId,...l.getFloatingProps(i),children:i.children},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/popover/popover.tsx",lineNumber:175,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/popover/popover.tsx",lineNumber:174,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/popover/popover.tsx",lineNumber:173,columnNumber:5},this):null});var kg=(e=>(e.mermaidToDrawnix="mermaidToDrawnix",e.markdownToDrawnix="markdownToDrawnix",e))(kg||{});const FO=$.createContext(null),Cc=()=>{const e=$.useContext(FO);if(!e)throw new Error("The `useDrawnix` hook must be used inside the <Drawnix> component's context.");return e},Nce=()=>{const{appState:e,setAppState:n}=Cc();return r=>{n({...e,pointer:r})}},XM=[{icon:pue,pointer:qt.hand,titleKey:"toolbar.hand"},{icon:mue,pointer:qt.selection,titleKey:"toolbar.selection"},{icon:vue,pointer:Ba.mind,titleKey:"toolbar.mind"},{icon:wue,pointer:lt.text,titleKey:"toolbar.text"},{icon:Y9,pointer:po.feltTipPen,titleKey:"toolbar.pen",key:"freehand"},{icon:bue,titleKey:"toolbar.arrow",key:"arrow",pointer:Rn.straight},{icon:yue,titleKey:"toolbar.shape",key:"shape",pointer:lt.rectangle},{icon:_ue,titleKey:"toolbar.image",key:"image"},{icon:Vue,titleKey:"toolbar.extraTools",key:"extra-tools"}],YM=e=>Object.keys(Rn).includes(e.pointer),KM=e=>Object.keys(lt).includes(e.pointer)||Object.keys(ut).includes(e.pointer),Oce=()=>{const e=Vo(),{appState:n}=Cc(),{t:r}=eo(),i=Nce(),o=L.getBoardContainer(e),[u,l]=$.useState(!1),[c,d]=$.useState(!1),[h,p]=$.useState(!1),[m,v]=$.useState(XM.find(S=>S.key==="freehand")),w=S=>{$i(e,Gr.dnd),gn.updatePointerType(e,S),i(S)},b=()=>{$i(e,Gr.drawing)},E=S=>L.isInPointer(S,[po.feltTipPen,po.eraser]);return V.jsxDEV(Sd,{padding:1,className:vi("draw-toolbar",M3),children:V.jsxDEV(fc.Row,{gap:1,children:XM.map((S,T)=>{if(n.isMobile&&S.pointer===qt.hand)return V.jsxDEV(V.Fragment,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:180,columnNumber:20},void 0);if(S.key==="freehand")return V.jsxDEV(Wg,{open:u||E(e),sideOffset:12,onOpenChange:C=>{l(C)},children:[V.jsxDEV(n1,{asChild:!0,children:V.jsxDEV(ms,{type:"icon",visible:!0,selected:u||E(e),icon:m.icon,title:m.titleKey?r(m.titleKey):"Freehand","aria-label":m.titleKey?r(m.titleKey):"Freehand",onPointerDown:()=>{l(!u),w(m.pointer)},onPointerUp:()=>{b()}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:193,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:192,columnNumber:17},void 0),V.jsxDEV(Xg,{container:o,children:V.jsxDEV(zue,{onPointerUp:C=>{i(C),v(Z9.find(B=>B.pointer===C))}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:220,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:219,columnNumber:17},void 0)]},T,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:184,columnNumber:15},void 0);if(S.key==="shape")return V.jsxDEV(Wg,{open:h,sideOffset:12,onOpenChange:C=>{p(C)},children:[V.jsxDEV(n1,{asChild:!0,children:V.jsxDEV(ms,{type:"icon",visible:!0,selected:h||KM(e)&&!L.isPointer(e,lt.text),icon:S.icon,title:S.titleKey?r(S.titleKey):"Shape","aria-label":S.titleKey?r(S.titleKey):"Shape",onPointerDown:()=>{p(!h),KM(e)?gn.updatePointerType(e,e.pointer):gn.updatePointerType(e,S.pointer)}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:243,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:242,columnNumber:17},void 0),V.jsxDEV(Xg,{container:o,children:V.jsxDEV(Wue,{onPointerUp:C=>{p(!1),i(C)}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:276,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:275,columnNumber:17},void 0)]},T,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:234,columnNumber:15},void 0);if(S.key==="arrow")return V.jsxDEV(Wg,{open:c,sideOffset:12,onOpenChange:C=>{d(C)},children:[V.jsxDEV(n1,{asChild:!0,children:V.jsxDEV(ms,{type:"icon",visible:!0,selected:c||YM(e),icon:S.icon,title:S.titleKey?r(S.titleKey):"","aria-label":S.titleKey?r(S.titleKey):"",onPointerDown:()=>{d(!c),YM(e)?gn.updatePointerType(e,e.pointer):gn.updatePointerType(e,S.pointer)}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:297,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:296,columnNumber:17},void 0),V.jsxDEV(Xg,{container:o,children:V.jsxDEV(Yue,{onPointerUp:C=>{d(!1),i(C)}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:326,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:325,columnNumber:17},void 0)]},T,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:288,columnNumber:15},void 0)})},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:177,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/creation-toolbar.tsx",lineNumber:173,columnNumber:5},void 0)},Gy=vt.createContext({}),D3=(e="",n=!1)=>`menu-item menu-item-base ${e} ${n?"menu-item--active":""}`.trim(),LO=(e,n)=>{const r=$.useContext(Gy);return fue(e,i=>{var u;const o=new CustomEvent(cd.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});n==null||n(o),o.defaultPrevented||(u=r.onSelect)==null||u.call(r,o)})},IO=({icon:e,shortcut:n,children:r})=>V.jsxDEV(V.Fragment,{children:[e&&V.jsxDEV("div",{className:"menu-item__icon",children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item-content.tsx",lineNumber:14,columnNumber:16},void 0),V.jsxDEV("div",{className:"menu-item__text",children:r},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item-content.tsx",lineNumber:15,columnNumber:7},void 0),n&&V.jsxDEV("div",{className:"menu-item__shortcut",children:n},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item-content.tsx",lineNumber:17,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item-content.tsx",lineNumber:13,columnNumber:5},void 0),go=({icon:e,onSelect:n,children:r,shortcut:i,className:o,selected:u,submenu:l,...c})=>{const[d,h]=$.useState(!1),p=$.useRef(),m=LO(c.onClick,n),v=V.jsxDEV(IO,{icon:e,shortcut:i,children:r},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item.tsx",lineNumber:32,columnNumber:5},void 0),w=()=>{p.current&&window.clearTimeout(p.current),h(!0)},b=()=>{p.current=window.setTimeout(()=>{h(!1)},100)};return l?V.jsxDEV(Wg,{open:d,onOpenChange:h,placement:"right-start",children:[V.jsxDEV(n1,{asChild:!0,children:V.jsxDEV("button",{...c,type:"button",className:D3(o,u||d),title:c.title??c["aria-label"],onClick:m,onMouseEnter:w,onMouseLeave:b,children:v},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item.tsx",lineNumber:58,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item.tsx",lineNumber:57,columnNumber:9},void 0),V.jsxDEV(Xg,{onMouseEnter:w,onMouseLeave:b,children:l},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item.tsx",lineNumber:70,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item.tsx",lineNumber:52,columnNumber:7},void 0):V.jsxDEV("button",{...c,onClick:m,type:"button",className:D3(o,u),title:c.title??c["aria-label"],children:v},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item.tsx",lineNumber:78,columnNumber:5},void 0)};go.displayName="MenuItem";const HO=({children:e})=>V.jsxDEV("div",{style:{display:"inline-flex",marginLeft:"auto",padding:"2px 4px",background:"var(--color-promo)",color:"var(--color-surface-lowest)",borderRadius:6,fontSize:9,fontFamily:"Cascadia, monospace"},children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item.tsx",lineNumber:97,columnNumber:5},void 0);HO.displayName="MenuItemBadge";go.Badge=HO;const GO=({icon:e,shortcut:n,href:r,children:i,onSelect:o,className:u="",selected:l,...c})=>{const d=LO(c.onClick,o);return V.jsxDEV("a",{...c,href:r,target:"_blank",rel:"noreferrer",className:D3(u,l),title:c.title??c["aria-label"],onClick:d,children:V.jsxDEV(IO,{icon:e,shortcut:n,children:i},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item-link.tsx",lineNumber:35,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-item-link.tsx",lineNumber:26,columnNumber:5},void 0)};GO.displayName="MenuItemLink";const r1=(e,n)=>{const r=Xe(e);hue(e,{elements:r.length>0?r:void 0,fillStyle:n?"transparent":"white"}).then(i=>{if(i){const o=n?"png":"jpg",u=due(i),l=`drawnix-${new Date().getTime()}.${o}`;gue(u,l)}})},Fce=async e=>{const n=await V9({description:"Image",extensions:Object.keys(uT)});m3(e,n)},_y=({children:e,className:n="",onSelect:r,style:i})=>{const o=vi(`menu ${n}`).trim();return V.jsxDEV(Gy.Provider,{value:{onSelect:r},children:V.jsxDEV("div",{className:o,style:i,"data-testid":"menu",children:V.jsxDEV(Sd,{className:"menu-container",padding:2,children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu.tsx",lineNumber:27,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu.tsx",lineNumber:25,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu.tsx",lineNumber:24,columnNumber:5},void 0)};_y.displayName="Menu";const _O=()=>{const e=Vo(),{t:n}=eo();return V.jsxDEV(go,{"data-testid":"save-button",onSelect:()=>{j9(e)},icon:Fue,"aria-label":n("menu.saveFile"),shortcut:Dp("CtrlOrCmd+S"),children:n("menu.saveFile")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-menu-items.tsx",lineNumber:33,columnNumber:5},void 0)};_O.displayName="SaveToFile";const VO=()=>{const e=Vo(),n=T4(),{t:r}=eo(),i=(o,u,l)=>{e.children=o,e.viewport=u||{zoom:1},e.theme={themeColorMode:ur.default},n.update(e.children,{board:e,parent:e,parentG:L.getElementHost(e)}),gn.fitViewport(e)};return V.jsxDEV(go,{"data-testid":"open-button",onSelect:()=>{jae(e).then(o=>{i(o.elements,o.viewport)})},icon:Lue,"aria-label":r("menu.open"),children:r("menu.open")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-menu-items.tsx",lineNumber:66,columnNumber:5},void 0)};VO.displayName="OpenFile";const jO=()=>{const e=Vo(),n=$.useContext(Gy),{t:r}=eo();return V.jsxDEV(go,{icon:Oue,"data-testid":"image-export-button",onSelect:()=>{r1(e,!0)},submenu:V.jsxDEV(_y,{onSelect:()=>{var o;const i=new CustomEvent(cd.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});(o=n.onSelect)==null||o.call(n,i)},children:[V.jsxDEV(go,{onSelect:()=>{r1(e,!0)},"aria-label":r("menu.exportImage.png"),children:r("menu.exportImage.png")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-menu-items.tsx",lineNumber:99,columnNumber:11},void 0),V.jsxDEV(go,{onSelect:()=>{r1(e,!1)},"aria-label":r("menu.exportImage.jpg"),children:r("menu.exportImage.jpg")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-menu-items.tsx",lineNumber:107,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-menu-items.tsx",lineNumber:92,columnNumber:9},void 0),shortcut:Dp("CtrlOrCmd+Shift+E"),"aria-label":r("menu.exportImage"),children:r("menu.exportImage")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-menu-items.tsx",lineNumber:85,columnNumber:5},void 0)};jO.displayName="SaveAsImage";const zO=()=>{const{appState:e,setAppState:n}=Cc(),{t:r}=eo();return V.jsxDEV(go,{icon:X9,"data-testid":"reset-button",onSelect:()=>{n({...e,openCleanConfirm:!0})},shortcut:Dp("CtrlOrCmd+Backspace"),"aria-label":r("menu.cleanBoard"),children:r("menu.cleanBoard")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-menu-items.tsx",lineNumber:130,columnNumber:5},void 0)};zO.displayName="CleanBoard";const $O=()=>V.jsxDEV(GO,{icon:Nue,href:"https://github.com/plait-board/drawnix","aria-label":"GitHub",children:"GitHub"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-menu-items.tsx",lineNumber:150,columnNumber:5},void 0);$O.displayName="Socials";const UO=()=>{const{language:e,setLanguage:n,t:r}=eo(),i=$.useContext(Gy);return V.jsxDEV(go,{icon:Mue,"data-testid":"language-switcher-button",onSelect:()=>{},submenu:V.jsxDEV(_y,{onSelect:()=>{var u;const o=new CustomEvent(cd.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});(u=i.onSelect)==null||u.call(i,o)},children:[V.jsxDEV(go,{onSelect:()=>{n("zh")},"aria-label":r("language.chinese"),selected:e==="zh",children:r("language.chinese")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/language-switcher-menu.tsx",lineNumber:28,columnNumber:11},void 0),V.jsxDEV(go,{onSelect:()=>{n("en")},"aria-label":r("language.english"),selected:e==="en",children:r("language.english")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/language-switcher-menu.tsx",lineNumber:37,columnNumber:11},void 0),V.jsxDEV(go,{onSelect:()=>{n("ru")},"aria-label":r("language.russian"),selected:e==="ru",children:r("language.russian")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/language-switcher-menu.tsx",lineNumber:46,columnNumber:13},void 0),V.jsxDEV(go,{onSelect:()=>{n("ar")},"aria-label":r("language.arabic"),selected:e==="ar",children:r("language.arabic")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/language-switcher-menu.tsx",lineNumber:55,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/language-switcher-menu.tsx",lineNumber:21,columnNumber:9},void 0),"aria-label":r("language.switcher"),children:r("language.switcher")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/language-switcher-menu.tsx",lineNumber:14,columnNumber:5},void 0)};UO.displayName="LanguageSwitcherMenu";const WO=()=>V.jsxDEV("div",{style:{height:"1px",backgroundColor:"var(--color-gray-10)",margin:".5rem 0"}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/menu/menu-separator.tsx",lineNumber:2,columnNumber:3},void 0);WO.displayName="MenuSeparator";const Lce=()=>{const e=Vo(),{t:n}=eo(),r=L.getBoardContainer(e),i=Xe(e),[o,u]=$.useState(!1),l=e.history.undos.length<=0,c=e.history.redos.length<=0;return V.jsxDEV(Sd,{padding:1,className:vi("app-toolbar",M3),children:V.jsxDEV(fc.Row,{gap:1,children:[V.jsxDEV(Wg,{sideOffset:12,open:o,onOpenChange:d=>{u(d)},placement:"bottom-start",children:V.jsxDEV(Xg,{container:r,children:V.jsxDEV(_y,{onSelect:()=>{u(!1)},children:[V.jsxDEV(VO,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:63,columnNumber:15},void 0),V.jsxDEV(_O,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:64,columnNumber:15},void 0),V.jsxDEV(jO,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:65,columnNumber:15},void 0),V.jsxDEV(zO,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:66,columnNumber:15},void 0),V.jsxDEV(WO,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:67,columnNumber:15},void 0),V.jsxDEV(UO,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:68,columnNumber:15},void 0),V.jsxDEV($O,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:69,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:58,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:57,columnNumber:11},void 0)},0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:48,columnNumber:9},void 0),V.jsxDEV(ms,{type:"icon",icon:Iue,visible:!0,title:n("general.undo"),"aria-label":n("general.undo"),onPointerUp:()=>{e.undo()},disabled:l},1,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:73,columnNumber:9},void 0),V.jsxDEV(ms,{type:"icon",icon:Hue,visible:!0,title:n("general.redo"),"aria-label":n("general.redo"),onPointerUp:()=>{e.redo()},disabled:c},2,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:85,columnNumber:9},void 0),i.length>0&&V.jsxDEV(ms,{className:"duplicate",type:"icon",icon:Gue,visible:!0,title:n("general.duplicate"),"aria-label":n("general.duplicate"),onPointerUp:()=>{nS(e)}},3,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:98,columnNumber:11},void 0),i.length>0&&V.jsxDEV(ms,{className:"trash",type:"icon",icon:X9,visible:!0,title:n("general.delete"),"aria-label":n("general.delete"),onPointerUp:()=>{tS(e)}},4,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:112,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:47,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/toolbar/app-toolbar/app-toolbar.tsx",lineNumber:43,columnNumber:5},void 0)},Ice=e=>r=>{const{globalKeyDown:i,keyDown:o}=r;return r.globalKeyDown=u=>{if(!(u.target instanceof HTMLInputElement||u.target instanceof HTMLTextAreaElement)&&(L.getMovingPointInBoard(r)||L.isMovingPointInBoard(r))&&!L.hasBeenTextEditing(r)){if(Kt.isHotkey(["mod+shift+e"],{byKey:!0})(u)){r1(r,!0),u.preventDefault();return}if(Kt.isHotkey(["mod+s"],{byKey:!0})(u)){j9(r),u.preventDefault();return}if(Kt.isHotkey(["mod+backspace"])(u)||Kt.isHotkey(["mod+delete"])(u)){e({openCleanConfirm:!0}),u.preventDefault();return}if(Kt.isHotkey(["mod+u"])(u)){Fce(r),u.preventDefault();return}if(!u.altKey&&!u.metaKey&&!u.ctrlKey){if(u.key==="h"){gn.updatePointerType(r,qt.hand),e({pointer:qt.hand}),u.preventDefault();return}if(u.key==="v"){gn.updatePointerType(r,qt.selection),e({pointer:qt.selection}),u.preventDefault();return}if(u.key==="m"){$i(r,Gr.dnd),gn.updatePointerType(r,Ba.mind),e({pointer:Ba.mind}),u.preventDefault();return}if(u.key==="e"){$i(r,Gr.drawing),gn.updatePointerType(r,po.eraser),e({pointer:po.eraser}),u.preventDefault();return}if(u.key==="p"){$i(r,Gr.drawing),gn.updatePointerType(r,po.feltTipPen),e({pointer:po.feltTipPen}),u.preventDefault();return}if(u.key==="a"&&!Kt.isHotkey(["mod+a"])(u)&&Xe(r).length===0){$i(r,Gr.drawing),gn.updatePointerType(r,Rn.straight),e({pointer:Rn.straight}),u.preventDefault();return}if(u.key==="r"||u.key==="o"||u.key==="t"){const c={r:lt.rectangle,o:lt.ellipse,t:lt.text};c[u.key]===lt.text?$i(r,Gr.dnd):$i(r,Gr.drawing),gn.updatePointerType(r,c[u.key]),e({pointer:c[u.key]}),u.preventDefault();return}}}i(u)},r.keyDown=u=>{if(Kt.isHotkey(["mod+z"],{byKey:!0})(u)){r.undo(),u.preventDefault();return}if(Kt.isHotkey(["mod+shift+z"],{byKey:!0})(u)){r.redo(),u.preventDefault();return}o(u)},r};function Hce(){return[po.feltTipPen,po.eraser]}const qM=(e,n)=>({id:yn(),type:"freehand",shape:e,points:n}),XO=(e,n,r)=>{const i=Lu(e,r,n)||r,o=n.points;return Vp(n.points)&&Fu(i,o)||dp(o,i)},Gce=(e,n,r)=>{const i=N.getRectangleByPoints([r.anchor,r.focus]);return N1(i,n.points,n.angle)},ZM=e=>Xe(e).filter(n=>ls.isFreehand(n)),_ce=e=>K9[e].strokeColor,Vce=e=>K9[e].fill,jce=(e,n)=>{const r=_ce(e.theme.themeColorMode);return n.strokeColor||r},zce=(e,n)=>{const r=ls.isFreehand(n)&&g6(e,n)?Vce(e.theme.themeColorMode):vy.fill;return n.fill||r};function $ce(e,n){return Math.exp(-(e*e)/(2*n*n))}function Uce(e,n,r){if(e.length<2)return e;const i=Math.floor(r/2),o=[];function u(c){if(c<0){const d=-c-1;if(d<e.length)return[2*e[0][0]-e[d][0],2*e[0][1]-e[d][1]]}else if(c>=e.length){const d=2*e.length-c-1;if(d>=0)return[2*e[e.length-1][0]-e[d][0],2*e[e.length-1][1]-e[d][1]]}return e[c]}function l(c){const d=Math.min(c,e.length-1-c);return Math.min(i,d+Math.floor(i/2))}for(let c=0;c<e.length;c++){let d=0,h=0,p=0;const m=l(c);for(let v=-m;v<=m;v++){const w=c+v,b=u(w);let E=$ce(v,n);if(c<i||c>=e.length-i){const S=1+.5*(1-Math.abs(v)/m);E*=v===0?S:1}d+=b[0]*E,h+=b[1]*E,p+=E}c===0||c===e.length-1?o.push([e[c][0],e[c][1]]):o.push([d/p,h/p])}return o}class YO extends bo{draw(n){const r=$t(n),i=jce(this.board,n),o=zce(this.board,n),u={strokeWidth:r,stroke:i,fill:o,fillStyle:"solid"},l=L.getRoughSVG(this.board).curve(Uce(n.points,1,3),u);return Vt(l,"round"),l}canDraw(n){return!0}}class Wce extends $u{constructor(){super()}initializeGenerator(){this.activeGenerator=Op(this.board,{getRectangle:n=>N.getRectangleByPoints(n.points),getStrokeWidth:()=>lr,getStrokeOpacity:()=>1,hasResizeHandle:()=>gy(this.board,this.element)}),this.generator=new YO(this.board)}initialize(){super.initialize(),this.initializeGenerator(),this.generator.processDrawing(this.element,this.getElementG())}onContextChanged(n,r){n.element!==r.element||n.hasThemeChanged?(this.generator.processDrawing(this.element,this.getElementG()),this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected})):(n.selected!==r.selected||n.selected)&&this.activeGenerator.processDrawing(this.element,L.getActiveHost(this.board),{selected:this.selected})}destroy(){var n;super.destroy(),(n=this.activeGenerator)==null||n.destroy()}}class Xce{constructor(n={}){this.defaultOptions={smoothing:.65,velocityWeight:.2,curvatureWeight:.3,minDistance:.2,maxPoints:8,pressureSensitivity:.5,tiltSensitivity:.3,velocityThreshold:800,samplingRate:5},this.points=[],this.lastProcessedTime=0,this.movingAverageVelocity=[],this.velocityWindowSize=3,this.options={...this.defaultOptions,...n}}process(n,r={}){const i=r.timestamp??Date.now();if(this.points.length===0){const d={point:n,timestamp:i,...r};return this.points.push(d),this.lastProcessedTime=i,n}if(i-this.lastProcessedTime<this.options.samplingRate&&i-this.lastProcessedTime<2)return null;const o={point:n,timestamp:i,...r};if(!this.checkDistance(n)&&this.points.length>1&&i-this.lastProcessedTime<32)return null;this.updatePoints(o);const l=this.calculateDynamicParameters(o),c=this.smooth(n,l);return this.lastProcessedTime=i,c}reset(){this.points=[],this.lastProcessedTime=0,this.movingAverageVelocity=[]}updatePoints(n){this.points.push(n),this.points.length>this.options.maxPoints&&this.points.shift()}checkDistance(n){if(this.points.length===0)return!0;const r=this.points[this.points.length-1].point,i=this.getDistance(r,n);let o=this.options.minDistance;if(this.movingAverageVelocity.length>0){const u=this.getAverageVelocity();o*=Math.max(.5,Math.min(1.5,u/200))}return i>=o}calculateDynamicParameters(n){const r=this.calculateVelocity(n);this.updateMovingAverage(r);const i=this.getAverageVelocity(),o={...this.options};if(n.pressure!==void 0){const l=Math.pow(n.pressure,1.2);o.smoothing*=1-l*o.pressureSensitivity*.8}const u=Math.min(i/o.velocityThreshold,1);if(o.velocityWeight=.2+u*.3,o.smoothing*=1+u*.2,n.tiltX!==void 0&&n.tiltY!==void 0){const l=Math.sqrt(n.tiltX**2+n.tiltY**2)/90;o.smoothing*=1+l*o.tiltSensitivity*.7}return o}smooth(n,r){if(this.points.length<2)return n;const i=this.calculateWeights(r),o=i.reduce((l,c)=>l+c,0);if(o===0)return n;const u=[0,0];for(let l=0;l<this.points.length;l++){const c=i[l]/o;u[0]+=this.points[l].point[0]*c,u[1]+=this.points[l].point[1]*c}return u}calculateWeights(n){const r=[],i=this.points.length-1;for(let o=0;o<this.points.length;o++){let u=Math.pow(n.smoothing,(i-o)*.8);if(o<i){const l=this.getPointVelocity(o);u*=1+l*n.velocityWeight*.8}if(o>0&&o<i){const l=this.getPointCurvature(o);u*=1+l*n.curvatureWeight*.7}r.push(u)}return r}getDistance(n,r){return bt(n[0],n[1],r[0],r[1])}calculateVelocity(n){if(this.points.length<2)return 0;const r=this.points[this.points.length-1],i=this.getDistance(r.point,n.point),o=n.timestamp-r.timestamp;return o>0?i/o:0}updateMovingAverage(n){this.movingAverageVelocity.push(n),this.movingAverageVelocity.length>this.velocityWindowSize&&this.movingAverageVelocity.shift()}getAverageVelocity(){return this.movingAverageVelocity.length===0?0:this.movingAverageVelocity.reduce((n,r)=>n+r)/this.movingAverageVelocity.length}getPointVelocity(n){if(n>=this.points.length-1)return 0;const r=this.points[n],i=this.points[n+1],o=this.getDistance(r.point,i.point),u=i.timestamp-r.timestamp;return u>0?o/u:0}getPointCurvature(n){if(n<=0||n>=this.points.length-1)return 0;const r=this.points[n-1].point,i=this.points[n].point,o=this.points[n+1].point,u=this.getDistance(r,i),l=this.getDistance(i,o),c=this.getDistance(r,o),d=(u+l+c)/2;return 4*Math.sqrt(Math.max(0,d*(d-u)*(d-l)*(d-c)))/(u*l*c+1e-4)}}const Yce=e=>{const{pointerDown:n,pointerMove:r,pointerUp:i,globalPointerUp:o}=e;let u=!1,l=!1,c=[],d=null;const h=new YO(e),p=new Xce({smoothing:.7,pressureSensitivity:.6});let m=null;const v=w=>{if(u){const b=L.getPointer(e);l&&c.push(c[0]),m=qM(b,c)}m&&!w&&Ge.insertNode(e,m,[e.children.length]),h==null||h.destroy(),m=null,u=!1,c=[],p.reset()};return e.pointerDown=w=>{const b=Hce();if(L.isInPointer(e,b)&&yc(e)){u=!0,d=[w.x,w.y];const S=p.process(d),T=Et(e,At(e,S[0],S[1]));c.push(T)}n(w)},e.pointerMove=w=>{if(u){const b=[w.x,w.y];d&&bt(d[0],d[1],b[0],b[1])<8?l=!0:l=!1;const E=p.process(b);if(E){h==null||h.destroy();const S=Et(e,At(e,E[0],E[1]));c.push(S);const T=L.getPointer(e);m=qM(T,c),h.processDrawing(m,L.getElementTopHost(e))}return}r(w)},e.pointerUp=w=>{v(),i(w)},e.globalPointerUp=w=>{v(!0),o(w)},e},Kce=e=>{const n=e,{getDeletedFragment:r,buildFragment:i,insertFragment:o}=n;return n.getDeletedFragment=u=>{const l=ZM(n);return l.length&&u.push(...l),r(u)},n.buildFragment=(u,l,c,d)=>{const h=ZM(n);if(h.length){const p=PN(n,h,l?[l.x,l.y]:[0,0]);u=cy(u,{text:"",type:Fa.elements,elements:p})}return i(u,l,c,d)},n.insertFragment=(u,l,c)=>{var h;const d=(h=u==null?void 0:u.elements)==null?void 0:h.filter(p=>ls.isFreehand(p));d&&d.length>0&&RN(n,d,l),o(u,l,c)},n};var i1={exports:{}},qce=i1.exports,QM;function Zce(){return QM||(QM=1,function(e,n){(function(r,i){e.exports=i()})(qce,function(){return(()=>{var r={607:(o,u,l)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.drawLaserPen=u.drawRoundCap=u.drawDrawingBezierData=u.calDrawingData=u.transformPointToBezier=u.calControlPoints=u.drainPoints=u.setRoundCap=u.setColor=u.setOpacity=u.setTension=u.setMinWidth=u.setMaxWidth=u.setDelay=void 0;var c=l(405),d=10,h=0,p=300,m=.3,v=0,w=255,b=0,E=0,S=!1;function T(C,B){return Math.sqrt(C*C+B*B)}u.setDelay=function(C){p=C},u.setMaxWidth=function(C){d=C},u.setMinWidth=function(C){h=C},u.setTension=function(C){m=C},u.setOpacity=function(C){v=C},u.setColor=function(C,B,P){w=C,b=B,E=P},u.setRoundCap=function(C){S=C},u.drainPoints=function(C){for(var B,P=Date.now()-p,I=0;I<C.length;I++)if(C[I].time>=P){B=I;break}var z=B===0?C:B===void 0?[]:C.slice(B);for(I=z.length-1;I>0;I--)(Y=z[I]).x===z[I-1].x&&Y.y===z[I-1].y&&z.splice(I,1);for(I=z.length-1;I>1;I--){var Y;(Y=z[I]).x===z[I-2].x&&Y.y===z[I-2].y&&(z.splice(I-1,2),I--)}return z},u.calControlPoints=function(C){if(C.length<3)throw new Error("to calculate control points, the point counts should be larger than 3");for(var B=Array(C.length),P=C.length,I=P-2;I>0;I--){var z=C[I],Y=C[I+1],te=C[I-1],re=te.x-Y.x,ae=te.y-Y.y,ce=T(re,ae),ne=re/ce,Q=ae/ce,le=T(z.x-Y.x,z.y-Y.y),G=T(z.x-te.x,z.y-te.y),R=z.x-ne*le*m,k=z.y-Q*le*m,H=z.x+ne*G*m,_=z.y+Q*G*m;B[I]={cn:{x:R,y:k},cp:{x:H,y:_}},(isNaN(R)||isNaN(k)||isNaN(H)||isNaN(_))&&console.log("a")}return B[P-1]={cn:{x:C[P-1].x,y:C[P-1].y},cp:{x:(C[P-1].x+C[P-2].x)/2,y:(C[P-1].y+C[P-2].y)/2}},B[0]={cn:{x:(C[0].x+C[I+1].x)/2,y:(C[0].y+C[I+1].y)/2},cp:{x:C[0].x,y:C[0].y}},B},u.transformPointToBezier=function(C,B){for(var P=[],I=1;I<C.length;I++){var z=C[I-1],Y=C[I],te=B[I-1].cn,re=B[I].cp,ae=new c.Bezier(z.x,z.y,te.x,te.y,re.x,re.y,Y.x,Y.y);P.push(ae)}return P},u.calDrawingData=function(C,B){for(var P=[],I=1-v,z=d-h,Y=0,te=0;te<C.length;te++){var re=C[te],ae=re.length(),ce=v+(Y+=ae)/B*I,ne=h+Y/B*z;P.push({bezier:re,opacity:ce,width:ne})}return P},u.drawDrawingBezierData=function(C,B){C.save(),C.lineCap="butt";for(var P=0;P<B.length;P++){C.beginPath();var I=B[P],z=I.bezier,Y=I.width,te=I.opacity;C.lineWidth=Y,C.strokeStyle="rgba(".concat(w,",").concat(b,",").concat(E,",").concat(te,")");var re=z.points[0].x,ae=z.points[0].y;if(z.points[0].x!==z.points[1].x){var ce=z.points[0].x,ne=z.points[0].y,Q=(ne-z.points[1].y)/(ce-z.points[1].x),le=ne-Q*ce,G=Math.sqrt(.005/(1+Q*Q));ae=Q*(re=(z.points[1].x>ce?-G:G)+ce)+le}else ae+=z.points[0].y>z.points[1].y?.005:-.005;var R=z.points[3].x,k=z.points[3].y;if(z.points[2].x!==z.points[3].x){var H=z.points[3].x,_=z.points[3].y,X=(_-z.points[2].y)/(H-z.points[2].x),U=_-X*H;G=Math.sqrt(.005/(1+X*X)),k=X*(R=(z.points[2].x>H?-G:G)+H)+U}else k+=z.points[2].y>z.points[3].y?-.005:.005;C.moveTo(re,ae),C.bezierCurveTo(z.points[1].x,z.points[1].y,z.points[2].x,z.points[2].y,R,k),C.stroke(),C.closePath()}C.restore()},u.drawRoundCap=function(C,B){var P=B.bezier.points[3];C.save(),C.beginPath(),C.fillStyle="rgba(".concat(w,",").concat(b,",").concat(E,",").concat(B.opacity,")"),C.arc(P.x,P.y,B.width/2,0,2*Math.PI,!1),C.closePath(),C.fill(),C.restore()},u.drawLaserPen=function(C,B){if(B.length<3)throw new Error("too less points");var P=(0,u.calControlPoints)(B),I=(0,u.transformPointToBezier)(B,P),z=I.reduce(function(ne,Q){return ne+Q.length()},0),Y=z/50,te=[];I.forEach(function(ne,Q){var le=ne.length(),G=Math.ceil(le/Y)+2,R=ne.getLUT(G);Q<I.length-1&&R.pop(),te.push.apply(te,R)});var re=(0,u.calControlPoints)(te),ae=(0,u.transformPointToBezier)(te,re),ce=(0,u.calDrawingData)(ae,z);(0,u.drawDrawingBezierData)(C,ce),S&&(0,u.drawRoundCap)(C,ce[ce.length-1])}},405:(o,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Bezier=void 0;const{abs:l,cos:c,sin:d,acos:h,atan2:p,sqrt:m,pow:v}=Math;function w(G){return G<0?-v(-G,.3333333333333333):v(G,.3333333333333333)}const b=Math.PI,E=2*b,S=b/2,T=Number.MAX_SAFE_INTEGER||9007199254740991,C=Number.MIN_SAFE_INTEGER||-9007199254740991,B={x:0,y:0,z:0},P={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(G,R){const k=R(G);let H=k.x*k.x+k.y*k.y;return k.z!==void 0&&(H+=k.z*k.z),m(H)},compute:function(G,R,k){if(G===0)return R[0].t=0,R[0];const H=R.length-1;if(G===1)return R[H].t=1,R[H];const _=1-G;let X=R;if(H===0)return R[0].t=G,R[0];if(H===1){const ie={x:_*X[0].x+G*X[1].x,y:_*X[0].y+G*X[1].y,t:G};return k&&(ie.z=_*X[0].z+G*X[1].z),ie}if(H<4){let ie,q,ue,xe=_*_,fe=G*G,Te=0;H===2?(X=[X[0],X[1],X[2],B],ie=xe,q=_*G*2,ue=fe):H===3&&(ie=xe*_,q=xe*G*3,ue=_*fe*3,Te=G*fe);const ke={x:ie*X[0].x+q*X[1].x+ue*X[2].x+Te*X[3].x,y:ie*X[0].y+q*X[1].y+ue*X[2].y+Te*X[3].y,t:G};return k&&(ke.z=ie*X[0].z+q*X[1].z+ue*X[2].z+Te*X[3].z),ke}const U=JSON.parse(JSON.stringify(R));for(;U.length>1;){for(let ie=0;ie<U.length-1;ie++)U[ie]={x:U[ie].x+(U[ie+1].x-U[ie].x)*G,y:U[ie].y+(U[ie+1].y-U[ie].y)*G},U[ie].z!==void 0&&(U[ie]=U[ie].z+(U[ie+1].z-U[ie].z)*G);U.splice(U.length-1,1)}return U[0].t=G,U[0]},computeWithRatios:function(G,R,k,H){const _=1-G,X=k,U=R;let ie,q=X[0],ue=X[1],xe=X[2],fe=X[3];return q*=_,ue*=G,U.length===2?(ie=q+ue,{x:(q*U[0].x+ue*U[1].x)/ie,y:(q*U[0].y+ue*U[1].y)/ie,z:!!H&&(q*U[0].z+ue*U[1].z)/ie,t:G}):(q*=_,ue*=2*_,xe*=G*G,U.length===3?(ie=q+ue+xe,{x:(q*U[0].x+ue*U[1].x+xe*U[2].x)/ie,y:(q*U[0].y+ue*U[1].y+xe*U[2].y)/ie,z:!!H&&(q*U[0].z+ue*U[1].z+xe*U[2].z)/ie,t:G}):(q*=_,ue*=1.5*_,xe*=3*_,fe*=G*G*G,U.length===4?(ie=q+ue+xe+fe,{x:(q*U[0].x+ue*U[1].x+xe*U[2].x+fe*U[3].x)/ie,y:(q*U[0].y+ue*U[1].y+xe*U[2].y+fe*U[3].y)/ie,z:!!H&&(q*U[0].z+ue*U[1].z+xe*U[2].z+fe*U[3].z)/ie,t:G}):void 0))},derive:function(G,R){const k=[];for(let H=G,_=H.length,X=_-1;_>1;_--,X--){const U=[];for(let ie,q=0;q<X;q++)ie={x:X*(H[q+1].x-H[q].x),y:X*(H[q+1].y-H[q].y)},R&&(ie.z=X*(H[q+1].z-H[q].z)),U.push(ie);k.push(U),H=U}return k},between:function(G,R,k){return R<=G&&G<=k||P.approximately(G,R)||P.approximately(G,k)},approximately:function(G,R,k){return l(G-R)<=(k||1e-6)},length:function(G){const R=P.Tvalues.length;let k=0;for(let H,_=0;_<R;_++)H=.5*P.Tvalues[_]+.5,k+=P.Cvalues[_]*P.arcfn(H,G);return .5*k},map:function(G,R,k,H,_){return H+(G-R)/(k-R)*(_-H)},lerp:function(G,R,k){const H={x:R.x+G*(k.x-R.x),y:R.y+G*(k.y-R.y)};return R.z!==void 0&&k.z!==void 0&&(H.z=R.z+G*(k.z-R.z)),H},pointToString:function(G){let R=G.x+"/"+G.y;return G.z!==void 0&&(R+="/"+G.z),R},pointsToString:function(G){return"["+G.map(P.pointToString).join(", ")+"]"},copy:function(G){return JSON.parse(JSON.stringify(G))},angle:function(G,R,k){const H=R.x-G.x,_=R.y-G.y,X=k.x-G.x,U=k.y-G.y;return p(H*U-_*X,H*X+_*U)},round:function(G,R){const k=""+G,H=k.indexOf(".");return parseFloat(k.substring(0,H+1+R))},dist:function(G,R){const k=G.x-R.x,H=G.y-R.y;return m(k*k+H*H)},closest:function(G,R){let k,H,_=v(2,63);return G.forEach(function(X,U){H=P.dist(R,X),H<_&&(_=H,k=U)}),{mdist:_,mpos:k}},abcratio:function(G,R){if(R!==2&&R!==3)return!1;if(G===void 0)G=.5;else if(G===0||G===1)return G;const k=v(G,R)+v(1-G,R);return l((k-1)/k)},projectionratio:function(G,R){if(R!==2&&R!==3)return!1;if(G===void 0)G=.5;else if(G===0||G===1)return G;const k=v(1-G,R);return k/(v(G,R)+k)},lli8:function(G,R,k,H,_,X,U,ie){const q=(G-k)*(X-ie)-(R-H)*(_-U);return q!=0&&{x:((G*H-R*k)*(_-U)-(G-k)*(_*ie-X*U))/q,y:((G*H-R*k)*(X-ie)-(R-H)*(_*ie-X*U))/q}},lli4:function(G,R,k,H){const _=G.x,X=G.y,U=R.x,ie=R.y,q=k.x,ue=k.y,xe=H.x,fe=H.y;return P.lli8(_,X,U,ie,q,ue,xe,fe)},lli:function(G,R){return P.lli4(G,G.c,R,R.c)},makeline:function(G,R){return new le(G.x,G.y,(G.x+R.x)/2,(G.y+R.y)/2,R.x,R.y)},findbbox:function(G){let R=T,k=T,H=C,_=C;return G.forEach(function(X){const U=X.bbox();R>U.x.min&&(R=U.x.min),k>U.y.min&&(k=U.y.min),H<U.x.max&&(H=U.x.max),_<U.y.max&&(_=U.y.max)}),{x:{min:R,mid:(R+H)/2,max:H,size:H-R},y:{min:k,mid:(k+_)/2,max:_,size:_-k}}},shapeintersections:function(G,R,k,H,_){if(!P.bboxoverlap(R,H))return[];const X=[],U=[G.startcap,G.forward,G.back,G.endcap],ie=[k.startcap,k.forward,k.back,k.endcap];return U.forEach(function(q){q.virtual||ie.forEach(function(ue){if(ue.virtual)return;const xe=q.intersects(ue,_);xe.length>0&&(xe.c1=q,xe.c2=ue,xe.s1=G,xe.s2=k,X.push(xe))})}),X},makeshape:function(G,R,k){const H=R.points.length,_=G.points.length,X=P.makeline(R.points[H-1],G.points[0]),U=P.makeline(G.points[_-1],R.points[0]),ie={startcap:X,forward:G,back:R,endcap:U,bbox:P.findbbox([X,G,R,U]),intersections:function(q){return P.shapeintersections(ie,ie.bbox,q,q.bbox,k)}};return ie},getminmax:function(G,R,k){if(!k)return{min:0,max:0};let H,_,X=T,U=C;k.indexOf(0)===-1&&(k=[0].concat(k)),k.indexOf(1)===-1&&k.push(1);for(let ie=0,q=k.length;ie<q;ie++)H=k[ie],_=G.get(H),_[R]<X&&(X=_[R]),_[R]>U&&(U=_[R]);return{min:X,mid:(X+U)/2,max:U,size:U-X}},align:function(G,R){const k=R.p1.x,H=R.p1.y,_=-p(R.p2.y-H,R.p2.x-k);return G.map(function(X){return{x:(X.x-k)*c(_)-(X.y-H)*d(_),y:(X.x-k)*d(_)+(X.y-H)*c(_)}})},roots:function(G,R){R=R||{p1:{x:0,y:0},p2:{x:1,y:0}};const k=G.length-1,H=P.align(G,R),_=function(Ie){return 0<=Ie&&Ie<=1};if(k===2){const Ie=H[0].y,ht=H[1].y,Je=H[2].y,Dt=Ie-2*ht+Je;if(Dt!==0){const ft=-m(ht*ht-Ie*Je),Rt=-Ie+ht;return[-(ft+Rt)/Dt,-(-ft+Rt)/Dt].filter(_)}return ht!==Je&&Dt===0?[(2*ht-Je)/(2*ht-2*Je)].filter(_):[]}const X=H[0].y,U=H[1].y,ie=H[2].y;let q=3*U-X-3*ie+H[3].y,ue=3*X-6*U+3*ie,xe=-3*X+3*U,fe=X;if(P.approximately(q,0)){if(P.approximately(ue,0))return P.approximately(xe,0)?[]:[-fe/xe].filter(_);const Ie=m(xe*xe-4*ue*fe),ht=2*ue;return[(Ie-xe)/ht,(-xe-Ie)/ht].filter(_)}ue/=q,xe/=q,fe/=q;const Te=(3*xe-ue*ue)/3,ke=Te/3,Z=(2*ue*ue*ue-9*ue*xe+27*fe)/27,de=Z/2,me=de*de+ke*ke*ke;let Ce,$e,Pe,ot,je;if(me<0){const Ie=-Te/3,ht=m(Ie*Ie*Ie),Je=-Z/(2*ht),Dt=h(Je<-1?-1:Je>1?1:Je),ft=2*w(ht);return Pe=ft*c(Dt/3)-ue/3,ot=ft*c((Dt+E)/3)-ue/3,je=ft*c((Dt+2*E)/3)-ue/3,[Pe,ot,je].filter(_)}if(me===0)return Ce=de<0?w(-de):-w(de),Pe=2*Ce-ue/3,ot=-Ce-ue/3,[Pe,ot].filter(_);{const Ie=m(me);return Ce=w(-de+Ie),$e=w(de+Ie),[Ce-$e-ue/3].filter(_)}},droots:function(G){if(G.length===3){const R=G[0],k=G[1],H=G[2],_=R-2*k+H;if(_!==0){const X=-m(k*k-R*H),U=-R+k;return[-(X+U)/_,-(-X+U)/_]}return k!==H&&_===0?[(2*k-H)/(2*(k-H))]:[]}if(G.length===2){const R=G[0],k=G[1];return R!==k?[R/(R-k)]:[]}return[]},curvature:function(G,R,k,H,_){let X,U,ie,q,ue=0,xe=0;const fe=P.compute(G,R),Te=P.compute(G,k),ke=fe.x*fe.x+fe.y*fe.y;if(H?(X=m(v(fe.y*Te.z-Te.y*fe.z,2)+v(fe.z*Te.x-Te.z*fe.x,2)+v(fe.x*Te.y-Te.x*fe.y,2)),U=v(ke+fe.z*fe.z,1.5)):(X=fe.x*Te.y-fe.y*Te.x,U=v(ke,1.5)),X===0||U===0)return{k:0,r:0};if(ue=X/U,xe=U/X,!_){const Z=P.curvature(G-.001,R,k,H,!0).k,de=P.curvature(G+.001,R,k,H,!0).k;q=(de-ue+(ue-Z))/2,ie=(l(de-ue)+l(ue-Z))/2}return{k:ue,r:xe,dk:q,adk:ie}},inflections:function(G){if(G.length<4)return[];const R=P.align(G,{p1:G[0],p2:G.slice(-1)[0]}),k=R[2].x*R[1].y,H=R[3].x*R[1].y,_=R[1].x*R[2].y,X=18*(-3*k+2*H+3*_-R[3].x*R[2].y),U=18*(3*k-H-3*_),ie=18*(_-k);if(P.approximately(X,0)){if(!P.approximately(U,0)){let fe=-ie/U;if(0<=fe&&fe<=1)return[fe]}return[]}const q=U*U-4*X*ie,ue=Math.sqrt(q),xe=2*X;return P.approximately(xe,0)?[]:[(ue-U)/xe,-(U+ue)/xe].filter(function(fe){return 0<=fe&&fe<=1})},bboxoverlap:function(G,R){const k=["x","y"],H=k.length;for(let _,X,U,ie,q=0;q<H;q++)if(_=k[q],X=G[_].mid,U=R[_].mid,ie=(G[_].size+R[_].size)/2,l(X-U)>=ie)return!1;return!0},expandbox:function(G,R){R.x.min<G.x.min&&(G.x.min=R.x.min),R.y.min<G.y.min&&(G.y.min=R.y.min),R.z&&R.z.min<G.z.min&&(G.z.min=R.z.min),R.x.max>G.x.max&&(G.x.max=R.x.max),R.y.max>G.y.max&&(G.y.max=R.y.max),R.z&&R.z.max>G.z.max&&(G.z.max=R.z.max),G.x.mid=(G.x.min+G.x.max)/2,G.y.mid=(G.y.min+G.y.max)/2,G.z&&(G.z.mid=(G.z.min+G.z.max)/2),G.x.size=G.x.max-G.x.min,G.y.size=G.y.max-G.y.min,G.z&&(G.z.size=G.z.max-G.z.min)},pairiteration:function(G,R,k){const H=G.bbox(),_=R.bbox(),X=1e5,U=k||.5;if(H.x.size+H.y.size<U&&_.x.size+_.y.size<U)return[(X*(G._t1+G._t2)/2|0)/X+"/"+(X*(R._t1+R._t2)/2|0)/X];let ie=G.split(.5),q=R.split(.5),ue=[{left:ie.left,right:q.left},{left:ie.left,right:q.right},{left:ie.right,right:q.right},{left:ie.right,right:q.left}];ue=ue.filter(function(fe){return P.bboxoverlap(fe.left.bbox(),fe.right.bbox())});let xe=[];return ue.length===0||(ue.forEach(function(fe){xe=xe.concat(P.pairiteration(fe.left,fe.right,U))}),xe=xe.filter(function(fe,Te){return xe.indexOf(fe)===Te})),xe},getccenter:function(G,R,k){const H=R.x-G.x,_=R.y-G.y,X=k.x-R.x,U=k.y-R.y,ie=H*c(S)-_*d(S),q=H*d(S)+_*c(S),ue=X*c(S)-U*d(S),xe=X*d(S)+U*c(S),fe=(G.x+R.x)/2,Te=(G.y+R.y)/2,ke=(R.x+k.x)/2,Z=(R.y+k.y)/2,de=fe+ie,me=Te+q,Ce=ke+ue,$e=Z+xe,Pe=P.lli8(fe,Te,de,me,ke,Z,Ce,$e),ot=P.dist(Pe,G);let je,Ie=p(G.y-Pe.y,G.x-Pe.x),ht=p(R.y-Pe.y,R.x-Pe.x),Je=p(k.y-Pe.y,k.x-Pe.x);return Ie<Je?((Ie>ht||ht>Je)&&(Ie+=E),Ie>Je&&(je=Je,Je=Ie,Ie=je)):Je<ht&&ht<Ie?(je=Je,Je=Ie,Ie=je):Je+=E,Pe.s=Ie,Pe.e=Je,Pe.r=ot,Pe},numberSort:function(G,R){return G-R}};class I{constructor(R){this.curves=[],this._3d=!1,R&&(this.curves=R,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(R){return P.pointsToString(R.points)}).join(", ")+"]"}addCurve(R){this.curves.push(R),this._3d=this._3d||R._3d}length(){return this.curves.map(function(R){return R.length()}).reduce(function(R,k){return R+k})}curve(R){return this.curves[R]}bbox(){const R=this.curves;for(var k=R[0].bbox(),H=1;H<R.length;H++)P.expandbox(k,R[H].bbox());return k}offset(R){const k=[];return this.curves.forEach(function(H){k.push(...H.offset(R))}),new I(k)}}const{abs:z,min:Y,max:te,cos:re,sin:ae,acos:ce,sqrt:ne}=Math,Q=Math.PI;class le{constructor(R){let k=R&&R.forEach?R:Array.from(arguments).slice(),H=!1;if(typeof k[0]=="object"){H=k.length;const ke=[];k.forEach(function(Z){["x","y","z"].forEach(function(de){Z[de]!==void 0&&ke.push(Z[de])})}),k=ke}let _=!1;const X=k.length;if(H){if(H>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");_=!0}}else if(X!==6&&X!==8&&X!==9&&X!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const U=this._3d=!_&&(X===9||X===12)||R&&R[0]&&R[0].z!==void 0,ie=this.points=[];for(let ke=0,Z=U?3:2;ke<X;ke+=Z){var q={x:k[ke],y:k[ke+1]};U&&(q.z=k[ke+2]),ie.push(q)}const ue=this.order=ie.length-1,xe=this.dims=["x","y"];U&&xe.push("z"),this.dimlen=xe.length;const fe=P.align(ie,{p1:ie[0],p2:ie[ue]}),Te=P.dist(ie[0],ie[ue]);this._linear=fe.reduce((ke,Z)=>ke+z(Z.y),0)<Te/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(R,k,H,_){if(_===void 0&&(_=.5),_===0)return new le(k,k,H);if(_===1)return new le(R,k,k);const X=le.getABC(2,R,k,H,_);return new le(R,X.A,H)}static cubicFromPoints(R,k,H,_,X){_===void 0&&(_=.5);const U=le.getABC(3,R,k,H,_);X===void 0&&(X=P.dist(k,U.C));const ie=X*(1-_)/_,q=P.dist(R,H),ue=(H.x-R.x)/q,xe=(H.y-R.y)/q,fe=X*ue,Te=X*xe,ke=ie*ue,Z=ie*xe,de=k.x-fe,me=k.y-Te,Ce=k.x+ke,$e=k.y+Z,Pe=U.A,ot=Pe.x+(de-Pe.x)/(1-_),je=Pe.y+(me-Pe.y)/(1-_),Ie=Pe.x+(Ce-Pe.x)/_,ht=Pe.y+($e-Pe.y)/_,Je={x:R.x+(ot-R.x)/_,y:R.y+(je-R.y)/_},Dt={x:H.x+(Ie-H.x)/(1-_),y:H.y+(ht-H.y)/(1-_)};return new le(R,Je,Dt,H)}static getUtils(){return P}getUtils(){return le.getUtils()}static get PolyBezier(){return I}valueOf(){return this.toString()}toString(){return P.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const R=this.points,k=["M",R[0].x,R[0].y,this.order===2?"Q":"C"];for(let H=1,_=R.length;H<_;H++)k.push(R[H].x),k.push(R[H].y);return k.join(" ")}setRatios(R){if(R.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=R,this._lut=[]}verify(){const R=this.coordDigest();R!==this._print&&(this._print=R,this.update())}coordDigest(){return this.points.map(function(R,k){return""+k+R.x+R.y+(R.z?R.z:0)}).join("")}update(){this._lut=[],this.dpoints=P.derive(this.points,this._3d),this.computedirection()}computedirection(){const R=this.points,k=P.angle(R[0],R[this.order],R[1]);this.clockwise=k>0}length(){return P.length(this.derivative.bind(this))}static getABC(R=2,k,H,_,X=.5){const U=P.projectionratio(X,R),ie=1-U,q={x:U*k.x+ie*_.x,y:U*k.y+ie*_.y},ue=P.abcratio(X,R);return{A:{x:H.x+(H.x-q.x)/ue,y:H.y+(H.y-q.y)/ue},B:H,C:q,S:k,E:_}}getABC(R,k){k=k||this.get(R);let H=this.points[0],_=this.points[this.order];return le.getABC(this.order,H,k,_,R)}getLUT(R){if(this.verify(),R=R||100,this._lut.length===R)return this._lut;this._lut=[],R++,this._lut=[];for(let k,H,_=0;_<R;_++)H=_/(R-1),k=this.compute(H),k.t=H,this._lut.push(k);return this._lut}on(R,k){k=k||5;const H=this.getLUT(),_=[];for(let X,U=0,ie=0;U<H.length;U++)X=H[U],P.dist(X,R)<k&&(_.push(X),ie+=U/H.length);return!!_.length&&(t/=_.length)}project(R){const k=this.getLUT(),H=k.length-1,_=P.closest(k,R),X=_.mpos,U=(X-1)/H,ie=(X+1)/H,q=.1/H;let ue,xe,fe=_.mdist,Te=U,ke=Te;for(fe+=1;Te<ie+q;Te+=q)ue=this.compute(Te),xe=P.dist(R,ue),xe<fe&&(fe=xe,ke=Te);return ke=ke<0?0:ke>1?1:ke,ue=this.compute(ke),ue.t=ke,ue.d=fe,ue}get(R){return this.compute(R)}point(R){return this.points[R]}compute(R){return this.ratios?P.computeWithRatios(R,this.points,this.ratios,this._3d):P.compute(R,this.points,this._3d,this.ratios)}raise(){const R=this.points,k=[R[0]],H=R.length;for(let _,X,U=1;U<H;U++)_=R[U],X=R[U-1],k[U]={x:(H-U)/H*_.x+U/H*X.x,y:(H-U)/H*_.y+U/H*X.y};return k[H]=R[H-1],new le(k)}derivative(R){return P.compute(R,this.dpoints[0],this._3d)}dderivative(R){return P.compute(R,this.dpoints[1],this._3d)}align(){let R=this.points;return new le(P.align(R,{p1:R[0],p2:R[R.length-1]}))}curvature(R){return P.curvature(R,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return P.inflections(this.points)}normal(R){return this._3d?this.__normal3(R):this.__normal2(R)}__normal2(R){const k=this.derivative(R),H=ne(k.x*k.x+k.y*k.y);return{x:-k.y/H,y:k.x/H}}__normal3(R){const k=this.derivative(R),H=this.derivative(R+.01),_=ne(k.x*k.x+k.y*k.y+k.z*k.z),X=ne(H.x*H.x+H.y*H.y+H.z*H.z);k.x/=_,k.y/=_,k.z/=_,H.x/=X,H.y/=X,H.z/=X;const U={x:H.y*k.z-H.z*k.y,y:H.z*k.x-H.x*k.z,z:H.x*k.y-H.y*k.x},ie=ne(U.x*U.x+U.y*U.y+U.z*U.z);U.x/=ie,U.y/=ie,U.z/=ie;const q=[U.x*U.x,U.x*U.y-U.z,U.x*U.z+U.y,U.x*U.y+U.z,U.y*U.y,U.y*U.z-U.x,U.x*U.z-U.y,U.y*U.z+U.x,U.z*U.z];return{x:q[0]*k.x+q[1]*k.y+q[2]*k.z,y:q[3]*k.x+q[4]*k.y+q[5]*k.z,z:q[6]*k.x+q[7]*k.y+q[8]*k.z}}hull(R){let k=this.points,H=[],_=[],X=0;for(_[X++]=k[0],_[X++]=k[1],_[X++]=k[2],this.order===3&&(_[X++]=k[3]);k.length>1;){H=[];for(let U,ie=0,q=k.length-1;ie<q;ie++)U=P.lerp(R,k[ie],k[ie+1]),_[X++]=U,H.push(U);k=H}return _}split(R,k){if(R===0&&k)return this.split(k).left;if(k===1)return this.split(R).right;const H=this.hull(R),_={left:this.order===2?new le([H[0],H[3],H[5]]):new le([H[0],H[4],H[7],H[9]]),right:this.order===2?new le([H[5],H[4],H[2]]):new le([H[9],H[8],H[6],H[3]]),span:H};return _.left._t1=P.map(0,0,1,this._t1,this._t2),_.left._t2=P.map(R,0,1,this._t1,this._t2),_.right._t1=P.map(R,0,1,this._t1,this._t2),_.right._t2=P.map(1,0,1,this._t1,this._t2),k?(k=P.map(k,R,1,0,1),_.right.split(k).left):_}extrema(){const R={};let k=[];return this.dims.forEach((function(H){let _=function(U){return U[H]},X=this.dpoints[0].map(_);R[H]=P.droots(X),this.order===3&&(X=this.dpoints[1].map(_),R[H]=R[H].concat(P.droots(X))),R[H]=R[H].filter(function(U){return U>=0&&U<=1}),k=k.concat(R[H].sort(P.numberSort))}).bind(this)),R.values=k.sort(P.numberSort).filter(function(H,_){return k.indexOf(H)===_}),R}bbox(){const R=this.extrema(),k={};return this.dims.forEach((function(H){k[H]=P.getminmax(this,H,R[H])}).bind(this)),k}overlaps(R){const k=this.bbox(),H=R.bbox();return P.bboxoverlap(k,H)}offset(R,k){if(k!==void 0){const H=this.get(R),_=this.normal(R),X={c:H,n:_,x:H.x+_.x*k,y:H.y+_.y*k};return this._3d&&(X.z=H.z+_.z*k),X}if(this._linear){const H=this.normal(0),_=this.points.map(function(X){const U={x:X.x+R*H.x,y:X.y+R*H.y};return X.z&&H.z&&(U.z=X.z+R*H.z),U});return[new le(_)]}return this.reduce().map(function(H){return H._linear?H.offset(R)[0]:H.scale(R)})}simple(){if(this.order===3){const _=P.angle(this.points[0],this.points[3],this.points[1]),X=P.angle(this.points[0],this.points[3],this.points[2]);if(_>0&&X<0||_<0&&X>0)return!1}const R=this.normal(0),k=this.normal(1);let H=R.x*k.x+R.y*k.y;return this._3d&&(H+=R.z*k.z),z(ce(H))<Q/3}reduce(){let R,k,H=0,_=0,X=.01,U=[],ie=[],q=this.extrema().values;for(q.indexOf(0)===-1&&(q=[0].concat(q)),q.indexOf(1)===-1&&q.push(1),H=q[0],R=1;R<q.length;R++)_=q[R],k=this.split(H,_),k._t1=H,k._t2=_,U.push(k),H=_;return U.forEach(function(ue){for(H=0,_=0;_<=1;)for(_=H+X;_<=1.01;_+=X)if(k=ue.split(H,_),!k.simple()){if(_-=X,z(H-_)<X)return[];k=ue.split(H,_),k._t1=P.map(H,0,1,ue._t1,ue._t2),k._t2=P.map(_,0,1,ue._t1,ue._t2),ie.push(k),H=_;break}H<1&&(k=ue.split(H,1),k._t1=P.map(H,0,1,ue._t1,ue._t2),k._t2=ue._t2,ie.push(k))}),ie}translate(R,k,H){H=typeof H=="number"?H:k;const _=this.order;let X=this.points.map((U,ie)=>(1-ie/_)*k+ie/_*H);return new le(this.points.map((U,ie)=>({x:U.x+R.x*X[ie],y:U.y+R.y*X[ie]})))}scale(R){const k=this.order;let H=!1;if(typeof R=="function"&&(H=R),H&&k===2)return this.raise().scale(H);const _=this.clockwise,X=this.points;if(this._linear)return this.translate(this.normal(0),H?H(0):R,H?H(1):R);const U=H?H(0):R,ie=H?H(1):R,q=[this.offset(0,10),this.offset(1,10)],ue=[],xe=P.lli4(q[0],q[0].c,q[1],q[1].c);if(!xe)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(fe){const Te=ue[fe*k]=P.copy(X[fe*k]);Te.x+=(fe?ie:U)*q[fe].n.x,Te.y+=(fe?ie:U)*q[fe].n.y}),H?([0,1].forEach(function(fe){if(k!==2||!fe){var Te=X[fe+1],ke={x:Te.x-xe.x,y:Te.y-xe.y},Z=H?H((fe+1)/k):R;H&&!_&&(Z=-Z);var de=ne(ke.x*ke.x+ke.y*ke.y);ke.x/=de,ke.y/=de,ue[fe+1]={x:Te.x+Z*ke.x,y:Te.y+Z*ke.y}}}),new le(ue)):([0,1].forEach(fe=>{if(k===2&&fe)return;const Te=ue[fe*k],ke=this.derivative(fe),Z={x:Te.x+ke.x,y:Te.y+ke.y};ue[fe+1]=P.lli4(Te,Z,xe,X[fe+1])}),new le(ue))}outline(R,k,H,_){if(k=k===void 0?R:k,this._linear){const je=this.normal(0),Ie=this.points[0],ht=this.points[this.points.length-1];let Je,Dt,ft;H===void 0&&(H=R,_=k),Je={x:Ie.x+je.x*R,y:Ie.y+je.y*R},ft={x:ht.x+je.x*H,y:ht.y+je.y*H},Dt={x:(Je.x+ft.x)/2,y:(Je.y+ft.y)/2};const Rt=[Je,Dt,ft];Je={x:Ie.x-je.x*k,y:Ie.y-je.y*k},ft={x:ht.x-je.x*_,y:ht.y-je.y*_},Dt={x:(Je.x+ft.x)/2,y:(Je.y+ft.y)/2};const pn=[ft,Dt,Je],rr=P.makeline(pn[2],Rt[0]),rn=P.makeline(Rt[2],pn[0]),Wn=[rr,new le(Rt),rn,new le(pn)];return new I(Wn)}const X=this.reduce(),U=X.length,ie=[];let q,ue=[],xe=0,fe=this.length();const Te=H!==void 0&&_!==void 0;function ke(je,Ie,ht,Je,Dt){return function(ft){const Rt=Je/ht,pn=(Je+Dt)/ht,rr=Ie-je;return P.map(ft,0,1,je+Rt*rr,je+pn*rr)}}X.forEach(function(je){const Ie=je.length();Te?(ie.push(je.scale(ke(R,H,fe,xe,Ie))),ue.push(je.scale(ke(-k,-_,fe,xe,Ie)))):(ie.push(je.scale(R)),ue.push(je.scale(-k))),xe+=Ie}),ue=ue.map(function(je){return q=je.points,q[3]?je.points=[q[3],q[2],q[1],q[0]]:je.points=[q[2],q[1],q[0]],je}).reverse();const Z=ie[0].points[0],de=ie[U-1].points[ie[U-1].points.length-1],me=ue[U-1].points[ue[U-1].points.length-1],Ce=ue[0].points[0],$e=P.makeline(me,Z),Pe=P.makeline(de,Ce),ot=[$e].concat(ie).concat([Pe]).concat(ue);return new I(ot)}outlineshapes(R,k,H){k=k||R;const _=this.outline(R,k).curves,X=[];for(let U=1,ie=_.length;U<ie/2;U++){const q=P.makeshape(_[U],_[ie-U],H);q.startcap.virtual=U>1,q.endcap.virtual=U<ie/2-1,X.push(q)}return X}intersects(R,k){return R?R.p1&&R.p2?this.lineIntersects(R):(R instanceof le&&(R=R.reduce()),this.curveintersects(this.reduce(),R,k)):this.selfintersects(k)}lineIntersects(R){const k=Y(R.p1.x,R.p2.x),H=Y(R.p1.y,R.p2.y),_=te(R.p1.x,R.p2.x),X=te(R.p1.y,R.p2.y);return P.roots(this.points,R).filter(U=>{var ie=this.get(U);return P.between(ie.x,k,_)&&P.between(ie.y,H,X)})}selfintersects(R){const k=this.reduce(),H=k.length-2,_=[];for(let X,U,ie,q=0;q<H;q++)U=k.slice(q,q+1),ie=k.slice(q+2),X=this.curveintersects(U,ie,R),_.push(...X);return _}curveintersects(R,k,H){const _=[];R.forEach(function(U){k.forEach(function(ie){U.overlaps(ie)&&_.push({left:U,right:ie})})});let X=[];return _.forEach(function(U){const ie=P.pairiteration(U.left,U.right,H);ie.length>0&&(X=X.concat(ie))}),X}arcs(R){return R=R||.5,this._iterate(R,[])}_error(R,k,H,_){const X=(_-H)/4,U=this.get(H+X),ie=this.get(_-X),q=P.dist(R,k),ue=P.dist(R,U),xe=P.dist(R,ie);return z(ue-q)+z(xe-q)}_iterate(R,k){let H,_=0,X=1;do{H=0,X=1;let U,ie,q,ue,xe,fe=this.get(_),Te=!1,ke=!1,Z=X,de=1;do if(ke=Te,ue=q,Z=(_+X)/2,U=this.get(Z),ie=this.get(X),q=P.getccenter(fe,U,ie),q.interval={start:_,end:X},Te=this._error(q,fe,_,X)<=R,xe=ke&&!Te,xe||(de=X),Te){if(X>=1){if(q.interval.end=de=1,ue=q,X>1){let me={x:q.x+q.r*re(q.e),y:q.y+q.r*ae(q.e)};q.e+=P.angle({x:q.x,y:q.y},me,this.get(1))}break}X+=(X-_)/2}else X=Z;while(!xe&&H++<100);if(H>=100)break;ue=ue||q,k.push(ue),_=de}while(X<1);return k}}u.Bezier=le}},i={};return function o(u){var l=i[u];if(l!==void 0)return l.exports;var c=i[u]={exports:{}};return r[u](c,c.exports,o),c.exports}(607)})()})}(i1)),i1.exports}var bu=Zce();const KO="laser-pointer",Qce=e=>{const n=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/n};class Jce{constructor(){this.mouseTrack=[],this.mouseMoveHandler=null,this.resizeHandler=null,this.cvsDom=null,this.ctx=null,this.canvasPos=null,this.drawing=!1,this.container=null}init(n){this.container=L.getBoardContainer(n).closest(".drawnix"),this.cvsDom=this.container.querySelector(`.${KO}`),this.ctx=this.cvsDom.getContext("2d"),this.canvasPos=this.cvsDom.getBoundingClientRect(),this.mouseMoveHandler=r=>{if(!this.canvasPos)return;const i=r.clientX-this.canvasPos.x,o=r.clientY-this.canvasPos.y;this.mouseTrack.push({x:i,y:o,time:Date.now()}),this.ctx&&this.startDraw()},this.resizeHandler=()=>this.setCanvasSize(),this.container.addEventListener("pointermove",this.mouseMoveHandler),window.addEventListener("resize",this.resizeHandler),this.setCanvasSize()}destroy(){this.mouseMoveHandler&&this.container&&(this.container.removeEventListener("pointermove",this.mouseMoveHandler),this.mouseMoveHandler=null),this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.ctx&&this.cvsDom&&this.ctx.clearRect(0,0,this.cvsDom.width,this.cvsDom.height),this.cvsDom=null,this.ctx=null,this.canvasPos=null,this.drawing=!1}startDraw(){this.drawing||(this.drawing=!0,this.draw())}draw(){if(!this.ctx||!this.cvsDom)return;this.ctx.clearRect(0,0,this.cvsDom.width,this.cvsDom.height);let n=!1;if(this.mouseTrack=bu.drainPoints(this.mouseTrack),this.mouseTrack.length>=3)bu.setColor(211,211,211),bu.setDelay(180),bu.setRoundCap(!0),bu.setMaxWidth(10),bu.setMinWidth(0),bu.setOpacity(.6),bu.drawLaserPen(this.ctx,this.mouseTrack),n=!0;else{const r=this.mouseTrack[this.mouseTrack.length-1];if(!r)return;this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle="rgba(211, 211, 211)",this.ctx.arc(r.x,r.y,5,0,Math.PI*2,!1),this.ctx.closePath(),this.ctx.fill(),this.ctx.restore()}n?requestAnimationFrame(()=>this.draw()):this.drawing=!1}setCanvasSize(){if(!this.cvsDom||!this.ctx)return;const n=this.cvsDom.getBoundingClientRect(),r=Qce(this.ctx);this.cvsDom.setAttribute("width",`${n.width*r}px`),this.cvsDom.setAttribute("height",`${n.height*r}px`),this.ctx.scale(r,r),this.canvasPos=this.cvsDom.getBoundingClientRect()}}const efe=e=>{const{pointerDown:n,pointerMove:r,pointerUp:i,globalPointerUp:o}=e,u=new Jce;let l=!1;const c=new Set,d=m=>{const v=Et(e,At(e,m[0],m[1]));e.children.filter(b=>ls.isFreehand(b)).forEach(b=>{!c.has(b.id)&&XO(e,b,v)&&(sn.getElementG(b).style.opacity="0.2",c.add(b.id))})},h=()=>{if(c.size>0){const m=e.children.filter(v=>c.has(v.id));m.length>0&&rS.removeElements(e,m)}},p=()=>{l&&(h(),l=!1,c.clear(),u.destroy())};return e.pointerDown=m=>{if(L.isInPointer(e,[po.eraser])&&yc(e)){l=!0,c.clear();const w=[m.x,m.y];d(w),u.init(e);return}n(m)},e.pointerMove=m=>{if(l){ys(e,"with-freehand-erase",()=>{const v=[m.x,m.y];d(v)});return}r(m)},e.pointerUp=m=>{if(l){p();return}i(m)},e.globalPointerUp=m=>{if(l){p();return}o(m)},e},tfe=e=>{const{getRectangle:n,drawElement:r,isHit:i,isRectangleHit:o,getOneHitElement:u,isMovable:l,isAlign:c}=e;return e.drawElement=d=>ls.isFreehand(d.element)?Wce:r(d),e.getRectangle=d=>ls.isFreehand(d)?N.getRectangleByPoints(d.points):n(d),e.isRectangleHit=(d,h)=>ls.isFreehand(d)?Gce(e,d,h):o(d,h),e.isHit=(d,h,p)=>ls.isFreehand(d)?XO(e,d,h):i(d,h,p),e.getOneHitElement=d=>d.every(p=>ls.isFreehand(p))?c6(e,d):u(d),e.isMovable=d=>ls.isFreehand(d)?!0:l(d),e.isAlign=d=>ls.isFreehand(d)?!0:c(d),e.setPluginOptions(ON,{customGeometryTypes:[q9]}),efe(Kce(Yce(e)))},qO=new WeakMap,JM=e=>!!qO.get(e),nfe=(e,n)=>{qO.set(e,n)},rfe=e=>r=>{const{pointerDown:i}=r;return r.pointerDown=o=>{OD(o)&&!JM(r)&&(nfe(r,!0),e({isPencilMode:!0})),!(JM(r)&&!OD(o))&&i(o)},r};function ife({initialOpen:e=!1,open:n,onOpenChange:r}={}){const[i,o]=$.useState(e),[u,l]=$.useState(),[c,d]=$.useState(),h=n??i,p=r??o,m=BO({open:h,onOpenChange:p}),v=m.context,w=PO(v,{enabled:n==null}),b=RO(v,{outsidePressEvent:"mousedown"}),E=MO(v),S=kO([w,b,E]);return $.useMemo(()=>({open:h,setOpen:p,...S,...m,labelId:u,descriptionId:c,setLabelId:l,setDescriptionId:d}),[h,p,S,m,u,c])}const ZO=$.createContext(null),Kp=()=>{const e=$.useContext(ZO);if(e==null)throw new Error("Dialog components must be wrapped in <Dialog />");return e};function S3({children:e,...n}){const r=ife(n);return V.jsxDEV(ZO.Provider,{value:r,children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/dialog/dialog.tsx",lineNumber:95,columnNumber:5},this)}$.forwardRef(function({children:n,asChild:r=!1,...i},o){const u=Kp(),l=n.ref,c=Iy([u.refs.setReference,o,l]);return r&&$.isValidElement(n)?$.cloneElement(n,u.getReferenceProps({ref:c,...i,...n.props,"data-state":u.open?"open":"closed"})):V.jsxDEV("button",{ref:c,"data-state":u.open?"open":"closed",...u.getReferenceProps(i),children:n},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/dialog/dialog.tsx",lineNumber:126,columnNumber:5},this)});const T3=$.forwardRef(function(n,r){const{context:i,...o}=Kp(),u=Iy([o.refs.setFloating,r]);return i.open?V.jsxDEV(SO,{root:n.container,children:V.jsxDEV(Ace,{className:"Dialog-overlay",lockScroll:!0,children:V.jsxDEV(AO,{context:i,children:V.jsxDEV("div",{ref:u,"aria-labelledby":o.labelId,"aria-describedby":o.descriptionId,...o.getFloatingProps(n),children:n.children},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/dialog/dialog.tsx",lineNumber:150,columnNumber:11},this)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/dialog/dialog.tsx",lineNumber:149,columnNumber:9},this)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/dialog/dialog.tsx",lineNumber:148,columnNumber:7},this)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/dialog/dialog.tsx",lineNumber:147,columnNumber:5},this):null});$.forwardRef(function({children:n,...r},i){const{setLabelId:o}=Kp(),u=Yp();return $.useLayoutEffect(()=>(o(u),()=>o(void 0)),[u,o]),V.jsxDEV("h2",{...r,ref:i,id:u,children:n},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/dialog/dialog.tsx",lineNumber:179,columnNumber:5},this)});$.forwardRef(function({children:n,...r},i){const{setDescriptionId:o}=Kp(),u=Yp();return $.useLayoutEffect(()=>(o(u),()=>o(void 0)),[u,o]),V.jsxDEV("p",{...r,ref:i,id:u,children:n},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/dialog/dialog.tsx",lineNumber:200,columnNumber:5},this)});$.forwardRef(function(n,r){const{setOpen:i}=Kp();return V.jsxDEV("button",{type:"button",...n,ref:r,onClick:()=>i(!1)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/dialog/dialog.tsx",lineNumber:212,columnNumber:5},this)});const ofe="modulepreload",sfe=function(e){return"/"+e},e8={},QO=function(n,r,i){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(r.map(d=>{if(d=sfe(d),d in e8)return;e8[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":ofe,h||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((v,w)=>{m.addEventListener("load",v),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function u(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&u(c.reason);return n().catch(u)})},JO=({children:e})=>V.jsxDEV("div",{className:"ttd-dialog-panels",children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-panels.tsx",lineNumber:4,columnNumber:10},void 0),K1=({label:e,children:n,panelAction:r,panelActionDisabled:i=!1,onTextSubmitInProgress:o,renderTopRight:u,renderSubmitShortcut:l,renderBottomRight:c})=>V.jsxDEV("div",{className:"ttd-dialog-panel",children:[V.jsxDEV("div",{className:"ttd-dialog-panel__header",children:[V.jsxDEV("label",{children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-panel.tsx",lineNumber:32,columnNumber:9},void 0),u==null?void 0:u()]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-panel.tsx",lineNumber:31,columnNumber:7},void 0),n,V.jsxDEV("div",{className:vi("ttd-dialog-panel-button-container",{invisible:!r}),style:{display:"flex",alignItems:"center"},children:[V.jsxDEV("button",{className:"ttd-dialog-panel-button drawnix-button ",onClick:r&&r.action,disabled:i||o,children:V.jsxDEV("div",{className:vi({invisible:o}),children:[r==null?void 0:r.label,(r==null?void 0:r.icon)&&V.jsxDEV("span",{children:r.icon},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-panel.tsx",lineNumber:50,columnNumber:35},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-panel.tsx",lineNumber:48,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-panel.tsx",lineNumber:43,columnNumber:9},void 0),!i&&!o&&(l==null?void 0:l()),c==null?void 0:c()]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-panel.tsx",lineNumber:37,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-panel.tsx",lineNumber:30,columnNumber:5},void 0),t8={CTRL_OR_CMD:XU||p1?"metaKey":"ctrlKey",ENTER:"Enter"},eF=({input:e,placeholder:n,onChange:r,onKeyboardSubmit:i})=>{const o=$.useRef(null),u=$.useRef(i);return u.current=i,$.useEffect(()=>{if(!u.current)return;const l=o.current;if(l){const c=d=>{var h;d[t8.CTRL_OR_CMD]&&d.key===t8.ENTER&&(d.preventDefault(),(h=u.current)==null||h.call(u))};return l.addEventListener(cd.KEYDOWN,c),()=>{l.removeEventListener(cd.KEYDOWN,c)}}},[]),V.jsxDEV("textarea",{className:"ttd-dialog-input",onChange:r,value:e,placeholder:n,autoFocus:!0,ref:o},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-input.tsx",lineNumber:44,columnNumber:5},void 0)},afe=({error:e})=>V.jsxDEV("div",{"data-testid":"ttd-dialog-output-error",className:"ttd-dialog-output-error",children:["Error! ",V.jsxDEV("p",{children:e},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-output.tsx",lineNumber:14,columnNumber:14},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-output.tsx",lineNumber:10,columnNumber:5},void 0),tF=({error:e,value:n,loaded:r})=>{const i=[$6,G9,kN,U9],o={readonly:!0,hideScrollbar:!1,disabledScrollOnNonFocus:!0,themeColors:e9};return V.jsxDEV("div",{className:"ttd-dialog-output-wrapper",children:[e&&V.jsxDEV(afe,{error:e.message},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-output.tsx",lineNumber:39,columnNumber:17},void 0),V.jsxDEV("div",{style:{opacity:e?"0.15":1},className:"ttd-dialog-output-canvas-container",children:V.jsxDEV(NN,{value:n,options:o,plugins:i,children:V.jsxDEV(A4,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-output.tsx",lineNumber:46,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-output.tsx",lineNumber:45,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-output.tsx",lineNumber:41,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-output.tsx",lineNumber:38,columnNumber:5},void 0)},nF=()=>V.jsxDEV("div",{className:"ttd-dialog-submit-shortcut",children:[V.jsxDEV("div",{className:"ttd-dialog-submit-shortcut__key",children:Dp("CtrlOrCmd")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-submit-shortcut.tsx",lineNumber:6,columnNumber:7},void 0),V.jsxDEV("div",{className:"ttd-dialog-submit-shortcut__key",children:Dp("Enter")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-submit-shortcut.tsx",lineNumber:9,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog-submit-shortcut.tsx",lineNumber:5,columnNumber:5},void 0),ufe=`flowchart TD
 A[Christmas] -->|Get money| B(Go shopping)
 B --> C{Let me think}
 C -->|One| D[Laptop]
 C -->|Two| E[iPhone]
 C -->|Three| F[Car]`,lfe=()=>{const{appState:e,setAppState:n}=Cc(),{t:r,language:i}=eo(),[o,u]=$.useState({loaded:!1,api:Promise.resolve({parseMermaidToDrawnix:async()=>({elements:[]})})});$.useEffect(()=>{(async()=>{try{const S=await QO(()=>import("./index-XK61J9Y4.js").then(T=>T.b6),[]);u({loaded:!0,api:Promise.resolve(S)})}catch(S){console.error("Failed to load mermaid library:",S),v(new Error(r("dialog.error.loadMermaid")))}})()},[]);const[l,c]=$.useState(()=>ufe),[d,h]=$.useState(()=>[]),p=$.useDeferredValue(l.trim()),[m,v]=$.useState(null),w=Vo();$.useEffect(()=>{(async()=>{try{const S=await o.api;let T;try{T=await S.parseMermaidToDrawnix(p)}catch{T=await S.parseMermaidToDrawnix(p.replace(/"/g,"'"))}const{elements:C}=T;h(C),v(null)}catch(S){v(S)}})()},[p,o]);const b=()=>{if(!d.length)return;const E=L.getBoardContainer(w).getBoundingClientRect(),S=[E.width/2,E.height/2],T=w.viewport.zoom,C=yd(w),B=C[0]+S[0]/T,P=C[1]+S[1]/T,I=d,z=N.getBoundingRectangle(I.filter(te=>!Ri.isGroup(te)).map(te=>N.getRectangleByPoints(te.points))),Y=[B-z.width/2,P-z.height/2];w.insertFragment({elements:JSON.parse(JSON.stringify(I))},Y,vs.paste),n({...e,openDialogType:null})};return V.jsxDEV(V.Fragment,{children:[V.jsxDEV("div",{className:"ttd-dialog-desc",children:i==="zh"?V.jsxDEV(V.Fragment,{children:[r("dialog.mermaid.description")," ",V.jsxDEV("a",{href:"https://mermaid.js.org/syntax/flowchart.html",target:"_blank",rel:"noreferrer",children:r("dialog.mermaid.flowchart")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:134,columnNumber:13},void 0),"、",V.jsxDEV("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",target:"_blank",rel:"noreferrer",children:r("dialog.mermaid.sequence")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:142,columnNumber:13},void 0)," ","和"," ",V.jsxDEV("a",{href:"https://mermaid.js.org/syntax/classDiagram.html",target:"_blank",rel:"noreferrer",children:r("dialog.mermaid.class")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:152,columnNumber:13},void 0),r("dialog.mermaid.otherTypes")]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:131,columnNumber:11},void 0):V.jsxDEV(V.Fragment,{children:[r("dialog.mermaid.description")," ",V.jsxDEV("a",{href:"https://mermaid.js.org/syntax/flowchart.html",target:"_blank",rel:"noreferrer",children:r("dialog.mermaid.flowchart")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:165,columnNumber:13},void 0),","," ",V.jsxDEV("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",target:"_blank",rel:"noreferrer",children:r("dialog.mermaid.sequence")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:173,columnNumber:13},void 0),","," ",V.jsxDEV("a",{href:"https://mermaid.js.org/syntax/classDiagram.html",target:"_blank",rel:"noreferrer",children:r("dialog.mermaid.class")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:181,columnNumber:13},void 0),r("dialog.mermaid.otherTypes")]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:162,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:129,columnNumber:7},void 0),V.jsxDEV(JO,{children:[V.jsxDEV(K1,{label:r("dialog.mermaid.syntax"),children:V.jsxDEV(eF,{input:l,placeholder:r("dialog.mermaid.placeholder"),onChange:E=>c(E.target.value),onKeyboardSubmit:()=>{b()}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:194,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:193,columnNumber:9},void 0),V.jsxDEV(K1,{label:r("dialog.mermaid.preview"),panelAction:{action:()=>{b()},label:r("dialog.mermaid.insert")},renderSubmitShortcut:()=>V.jsxDEV(nF,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:211,columnNumber:39},void 0),children:V.jsxDEV(tF,{value:d,loaded:o.loaded,error:m},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:213,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:203,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:192,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/mermaid-to-drawnix.tsx",lineNumber:128,columnNumber:5},void 0)},cfe=()=>{const{appState:e,setAppState:n}=Cc(),{t:r,language:i}=eo(),[o,u]=$.useState({loaded:!1,api:Promise.resolve({parseMarkdownToDrawnix:(E,S)=>null})});$.useEffect(()=>{(async()=>{try{const S=await QO(()=>import("./index-CbZlvb4d.js"),__vite__mapDeps([0,1]));u({loaded:!0,api:Promise.resolve(S)})}catch(S){console.error("Failed to load mermaid library:",S),v(new Error(r("dialog.error.loadMermaid")))}})()},[]);const[l,c]=$.useState(()=>r("markdown.example")),[d,h]=$.useState(()=>[]),p=$.useDeferredValue(l.trim()),[m,v]=$.useState(null),w=Vo();$.useEffect(()=>{c(r("markdown.example"))},[i]),$.useEffect(()=>{(async()=>{try{const S=await o.api;let T;try{T=await S.parseMarkdownToDrawnix(p)}catch{T=await S.parseMarkdownToDrawnix(p.replace(/"/g,"'"))}const C=T;C.points=[[0,0]],C&&(h([C]),v(null))}catch(S){v(S)}})()},[p,o]);const b=()=>{if(!d.length)return;const E=L.getBoardContainer(w).getBoundingClientRect(),S=[E.width/4,E.height/2-20],T=w.viewport.zoom,C=yd(w),B=C[0]+S[0]/T,P=C[1]+S[1]/T,I=d;w.insertFragment({elements:JSON.parse(JSON.stringify(I))},[B,P],vs.paste),n({...e,openDialogType:null})};return V.jsxDEV(V.Fragment,{children:[V.jsxDEV("div",{className:"ttd-dialog-desc",children:r("dialog.markdown.description")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/markdown-to-drawnix.tsx",lineNumber:120,columnNumber:7},void 0),V.jsxDEV(JO,{children:[V.jsxDEV(K1,{label:r("dialog.markdown.syntax"),children:V.jsxDEV(eF,{input:l,placeholder:r("dialog.markdown.placeholder"),onChange:E=>c(E.target.value),onKeyboardSubmit:()=>{b()}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/markdown-to-drawnix.tsx",lineNumber:125,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/markdown-to-drawnix.tsx",lineNumber:124,columnNumber:9},void 0),V.jsxDEV(K1,{label:r("dialog.markdown.preview"),panelAction:{action:()=>{b()},label:r("dialog.markdown.insert")},renderSubmitShortcut:()=>V.jsxDEV(nF,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/markdown-to-drawnix.tsx",lineNumber:142,columnNumber:39},void 0),children:V.jsxDEV(tF,{value:d,loaded:o.loaded,error:m},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/markdown-to-drawnix.tsx",lineNumber:144,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/markdown-to-drawnix.tsx",lineNumber:134,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/markdown-to-drawnix.tsx",lineNumber:123,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/markdown-to-drawnix.tsx",lineNumber:119,columnNumber:5},void 0)},ffe=({container:e})=>{const{appState:n,setAppState:r}=Cc();return V.jsxDEV(V.Fragment,{children:[V.jsxDEV(S3,{open:n.openDialogType===kg.mermaidToDrawnix,onOpenChange:i=>{r({...n,openDialogType:i?kg.mermaidToDrawnix:null})},children:V.jsxDEV(T3,{className:"Dialog ttd-dialog",container:e,children:V.jsxDEV(lfe,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog.tsx",lineNumber:20,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog.tsx",lineNumber:19,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog.tsx",lineNumber:10,columnNumber:7},void 0),V.jsxDEV(S3,{open:n.openDialogType===kg.markdownToDrawnix,onOpenChange:i=>{r({...n,openDialogType:i?kg.markdownToDrawnix:null})},children:V.jsxDEV(T3,{className:"Dialog ttd-dialog",container:e,children:V.jsxDEV(cfe,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog.tsx",lineNumber:33,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog.tsx",lineNumber:32,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog.tsx",lineNumber:23,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/ttd-dialog/ttd-dialog.tsx",lineNumber:9,columnNumber:5},void 0)},dfe=({container:e})=>{const{appState:n,setAppState:r}=Cc(),{t:i}=eo(),o=Vo();return V.jsxDEV(S3,{open:n.openCleanConfirm,onOpenChange:u=>{r({...n,openCleanConfirm:u})},children:V.jsxDEV(T3,{className:"clean-confirm",container:e,children:[V.jsxDEV("h2",{className:"clean-confirm__title",children:i("cleanConfirm.title")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/clean-confirm/clean-confirm.tsx",lineNumber:23,columnNumber:9},void 0),V.jsxDEV("p",{className:"clean-confirm__description",children:i("cleanConfirm.description")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/clean-confirm/clean-confirm.tsx",lineNumber:24,columnNumber:9},void 0),V.jsxDEV("div",{className:"clean-confirm__actions",children:[V.jsxDEV("button",{className:"clean-confirm__button clean-confirm__button--cancel",onClick:()=>{r({...n,openCleanConfirm:!1})},children:i("cleanConfirm.cancel")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/clean-confirm/clean-confirm.tsx",lineNumber:28,columnNumber:11},void 0),V.jsxDEV("button",{className:"clean-confirm__button clean-confirm__button--ok",autoFocus:!0,onClick:()=>{o.deleteFragment(o.children),r({...n,openCleanConfirm:!1})},children:i("cleanConfirm.ok")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/clean-confirm/clean-confirm.tsx",lineNumber:36,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/clean-confirm/clean-confirm.tsx",lineNumber:27,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/clean-confirm/clean-confirm.tsx",lineNumber:22,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/clean-confirm/clean-confirm.tsx",lineNumber:16,columnNumber:5},void 0)},n8=e=>{const{appState:n}=e;return n&&n.linkState&&n.linkState.isHovering},r8=e=>{const{appState:n}=e;return n&&n.linkState&&n.linkState.isEditing},hfe=e=>r=>{const{pointerMove:i}=r;let o=null,u=null;return r.pointerMove=l=>{(L.isPointer(r,qt.selection)||L.isPointer(r,qt.hand))&&!td(r)&&!Pa(r)&&!n8(r)&&!r8(r)&&ys(r,"with-text-link",()=>{const c=l.target.closest(".plait-board-link");if(c&&c!==o){const d=c.closest(".plait-text-container"),h=Fe.toSlateNode(void 0,d),p=Fe.toSlateNode(void 0,c);o=c,e({linkState:{targetDom:c,targetElement:p,editor:h,isEditing:!1,isHovering:!1,isHoveringOrigin:!0}}),clearTimeout(u)}else!c&&o&&(u=setTimeout(()=>{!n8(r)&&!r8(r)&&e({linkState:null})},300),o=null)}),i(l)},r},gfe=()=>{const{t:e}=eo();return V.jsxDEV("div",{className:"drawnix-tutorial",children:V.jsxDEV("div",{className:"tutorial-overlay",children:V.jsxDEV("div",{className:"tutorial-content",children:[V.jsxDEV("h1",{className:"brand-title",children:e("tutorial.title")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:13,columnNumber:11},void 0),V.jsxDEV("p",{className:"brand-description",children:e("tutorial.description")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:14,columnNumber:11},void 0),V.jsxDEV("p",{className:"brand-tooltip",children:e("tutorial.dataDescription")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:15,columnNumber:11},void 0),V.jsxDEV("div",{className:"feature-pointer top-left",children:[V.jsxDEV("svg",{className:"pointer-arrow-svg",width:"130",height:"100",viewBox:"0 0 130 100",children:[V.jsxDEV("defs",{children:V.jsxDEV("marker",{id:"arrow-left",markerWidth:"10",markerHeight:"10",refX:"0",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:V.jsxDEV("path",{d:"M0,0 L0,6 L6,3 z",fill:"#888"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:21,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:20,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:19,columnNumber:15},void 0),V.jsxDEV("path",{d:"M 80,70 Q 35,60 15,15",fill:"none",stroke:"#aaa",strokeWidth:"1.5",markerEnd:"url(#arrow-left)"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:24,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:18,columnNumber:13},void 0),V.jsxDEV("div",{className:"pointer-content",children:V.jsxDEV("p",{children:e("tutorial.appToolbar")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:27,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:26,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:17,columnNumber:11},void 0),V.jsxDEV("div",{className:"feature-pointer top-center",children:[V.jsxDEV("svg",{className:"pointer-arrow-svg",width:"100",height:"130",viewBox:"0 0 100 130",children:[V.jsxDEV("defs",{children:V.jsxDEV("marker",{id:"arrow-top",markerWidth:"10",markerHeight:"10",refX:"0",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:V.jsxDEV("path",{d:"M0,0 L0,6 L6,3 z",fill:"#888"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:35,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:34,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:33,columnNumber:15},void 0),V.jsxDEV("path",{d:"M 45,90 Q 20,50 45,10",fill:"none",stroke:"#aaa",strokeWidth:"1.5",markerEnd:"url(#arrow-top)"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:38,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:32,columnNumber:13},void 0),V.jsxDEV("div",{className:"pointer-content",children:V.jsxDEV("p",{children:e("tutorial.creationToolbar")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:41,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:40,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:31,columnNumber:11},void 0),V.jsxDEV("div",{className:"feature-pointer bottom-right",children:[V.jsxDEV("svg",{className:"pointer-arrow-svg",width:"180",height:"100",viewBox:"0 0 180 100",children:[V.jsxDEV("defs",{children:V.jsxDEV("marker",{id:"arrow-right",markerWidth:"10",markerHeight:"10",refX:"0",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:V.jsxDEV("path",{d:"M0,0 L0,6 L6,3 z",fill:"#888"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:49,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:48,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:47,columnNumber:15},void 0),V.jsxDEV("path",{d:"M 20,25 Q 75,20 105,70",fill:"none",stroke:"#aaa",strokeWidth:"1.5",markerEnd:"url(#arrow-right)"},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:52,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:46,columnNumber:13},void 0),V.jsxDEV("div",{className:"pointer-content",children:V.jsxDEV("p",{children:e("tutorial.themeDescription")},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:55,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:54,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:45,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:11,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:10,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/components/tutorial.tsx",lineNumber:9,columnNumber:5},void 0)},pfe=({value:e,viewport:n,theme:r,onChange:i,onSelectionChange:o,onViewportChange:u,onThemeChange:l,onValueChange:c,afterInit:d,tutorial:h=!1})=>{const p={readonly:!1,hideScrollbar:!1,disabledScrollOnNonFocus:!1,themeColors:e9},[m,v]=$.useState(()=>{const C=new xae(window.navigator.userAgent);return{pointer:qt.hand,isMobile:C.mobile()!==null,isPencilMode:!1,openDialogType:null,openCleanConfirm:!1}}),[w,b]=$.useState(null);w&&(w.appState=m);const E=C=>{v({...m,...C})},S=[$6,kN,G9,bae,U9,Ice(E),tfe,rfe(E),hfe(E)],T=$.useRef(null);return V.jsxDEV(oue,{children:V.jsxDEV(FO.Provider,{value:{appState:m,setAppState:v},children:V.jsxDEV("div",{className:vi("drawnix",{"drawnix--mobile":m.isMobile}),ref:T,children:[V.jsxDEV(NN,{value:e,viewport:n,theme:r,options:p,plugins:S,onChange:C=>{i&&i(C)},onSelectionChange:o,onViewportChange:u,onThemeChange:l,onValueChange:c,children:[V.jsxDEV(A4,{afterInit:C=>{b(C),d&&d(C)},children:h&&w&&L.isPointer(w,qt.selection)&&V.jsxDEV(gfe,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:147,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:138,columnNumber:13},void 0),V.jsxDEV(Lce,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:150,columnNumber:13},void 0),V.jsxDEV(Oce,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:151,columnNumber:13},void 0),V.jsxDEV(ffe,{container:T.current},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:157,columnNumber:13},void 0),V.jsxDEV(dfe,{container:T.current},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:158,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:124,columnNumber:11},void 0),V.jsxDEV("canvas",{className:`${KO} mouse-course-hidden`},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:160,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:118,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:117,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/packages/drawnix/src/drawnix.tsx",lineNumber:116,columnNumber:5},void 0)},mfe=JSON.parse('[{"id":"Aheki","type":"arrow-line","shape":"curve","source":{"marker":"none","connection":[1,0.5000000000000003],"boundId":"swTmx"},"texts":[],"target":{"marker":"arrow","connection":[0,0.5],"boundId":"XjwHr"},"opacity":1,"points":[[-17.722576361929214,-272.01384139827655],[158.35898162750777,-84.9963952128378]],"strokeWidth":2},{"id":"erABA","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"Education"}],"type":"paragraph","align":"center"},"points":[[165.4587246165798,-141.08645635559824],[552.3973214695168,-106.95559698059824]],"strokeWidth":2,"fill":"#D3D3D3ed"},{"id":"XjwHr","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":""}],"type":"paragraph","align":"center"},"points":[[165.4587246165798,-103.87174931652245],[552.3973214695168,-45.8252691803888]],"strokeWidth":2},{"id":"JSMsb","type":"geometry","shape":"text","angle":0,"opacity":1,"textHeight":40,"text":{"children":[{"text":"Shiv Nadar University Chennai (2023 - 2027)\\nB.Tech in AI & DS"}],"type":"paragraph"},"points":[[171.12084479730203,-98.77422383609795],[547.420649484802,-58.774223836097946]],"autoSize":false},{"id":"BPhwe","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"","color":"#333333ff"}],"type":"paragraph","align":"center"},"points":[[165.4587246165798,-561.6143898524552],[552.3973214695168,-384.254082625054]],"strokeWidth":2,"strokeColor":"#333333"},{"id":"WfXiF","type":"geometry","shape":"text","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"Find me here ->","url":"https://try3d.github.io"}],"type":"paragraph"},"points":[[186.1529120268866,-545.2749153647385],[296.9107245268866,-525.2749153647385]],"autoSize":true},{"id":"mNNFr","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"","color":"#1E90FFff"},{"type":"link","url":"https://github.com/try3d","children":[{"text":"Github","url":"try3d.github.io","color":"#1E90FFff"}]},{"text":"","color":"#1E90FFff"}],"type":"paragraph","align":"center"},"points":[[186.1529120268866,-515.486560215457],[353.79264203738745,-482.8834091648982]],"strokeWidth":2,"strokeColor":"#1E90FF"},{"id":"KeajT","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"External Links"}],"type":"paragraph","align":"center"},"points":[[165.4587246165798,-598.2293236786966],[552.3973214695168,-564.0984643036966]],"strokeWidth":2,"fill":"#D3D3D3ed"},{"id":"RAXPz","type":"arrow-line","shape":"curve","source":{"marker":"none","connection":[1,0.5000000000000003],"boundId":"swTmx"},"texts":[],"target":{"marker":"arrow","connection":[0,0.5000000000000002],"boundId":"BPhwe"},"opacity":1,"points":[[-16.132864869715377,-270.05802639738795],[164.27286060491224,-344.2798675264945]],"strokeWidth":2},{"id":"swTmx","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":40,"text":{"children":[{"text":"Saran Shankar\\n{ SDE, CSE Undergrad }"}],"type":"paragraph","align":"center"},"points":[[-257.66082576610256,-298.0654309039652],[-18.69497452867421,-247.19205639377142]],"strokeWidth":2,"strokeColor":null,"fill":"#D3D3D3ed"},{"id":"MsFyt","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"Tech Stack"}],"type":"paragraph","align":"center"},"points":[[-321.1066383272281,-37.027113136197954],[44.75083803245132,-4.639178059489656]],"strokeWidth":2,"fill":"#D3D3D3ed"},{"id":"HWEsX","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":""}],"type":"paragraph","align":"center"},"points":[[-321.1066383272281,-1.7128099644717325],[44.75083803245132,136.3824139324994]],"strokeWidth":2},{"id":"rPDmr","type":"geometry","shape":"text","angle":0,"opacity":1,"textHeight":120,"text":{"children":[{"text":"Languages: Node, Python, Go\\nBackend: Express.JS, AWS Lambda, Flask\\nFrontend: React, Expo, Next.JS, Svelte, Tailwind\\nDB: PostgreSQL, MySQL, Redis, Supabase, Firebase\\nCloud: AWS, GCP, Docker, Kubernetes\\nMisc: Git, CI/CD, Posthog","url":"https://try3d.github.io"}],"type":"paragraph"},"points":[[-313.65959426597885,3.369804386940075],[37.30379397120208,130.6038761139684]],"autoSize":false},{"id":"ipTGK","type":"arrow-line","shape":"straight","source":{"marker":"none","connection":[0.5,1],"boundId":"swTmx"},"texts":[],"target":{"marker":"arrow","connection":[0.5,0],"boundId":"MsFyt"},"opacity":1,"points":[[-139.16387297181473,-128.39249803979885],[-138.15027144853926,-35.34903231933856]],"strokeWidth":2},{"id":"JWQGY","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"Summary"}],"type":"paragraph","align":"center"},"points":[[-286.7844167219062,-649.6158917751985],[9.795917212181848,-615.4850324001985]],"strokeWidth":2,"fill":"#D3D3D3ed"},{"id":"eatrn","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":""}],"type":"paragraph","align":"center"},"points":[[-286.7844167219062,-612.4011847361227],[9.795917212181848,-342.868570106885]],"strokeWidth":2},{"id":"Srwwb","type":"geometry","shape":"text","angle":0,"opacity":1,"textHeight":80,"text":{"children":[{"text":"> I am a Software Engineer with hands-on experience building practical solutions through clean and efficient code\\n","url":"https://try3d.github.io"}],"type":"paragraph"},"points":[[-268.9483443603937,-557.9104966605281],[-3.3542921467943643,-469.160327680709]],"autoSize":false},{"id":"StZBX","type":"geometry","shape":"text","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"👋 Hello, I am Saran","url":"https://try3d.github.io"}],"type":"paragraph"},"points":[[-268.9483443603937,-591.6030496716606],[-130.62021936039378,-571.6030496716606]],"autoSize":true},{"id":"dExeP","type":"geometry","shape":"text","angle":0,"opacity":1,"textHeight":40,"text":{"children":[{"text":"> Curious about anything new, tools, frameworks and technologies","url":"https://try3d.github.io"}],"type":"paragraph"},"points":[[-268.9483443603937,-407.22087124133134],[-3.3542921467943643,-364.9952894121917]],"autoSize":false},{"id":"TFHAA","type":"geometry","shape":"text","angle":0,"opacity":1,"textHeight":60,"text":{"children":[{"text":"> Skilled in translating real-world requirements into robust, production-ready software","url":"https://try3d.github.io"}],"type":"paragraph"},"points":[[-268.9483443603937,-467.21383952908707],[-3.3542921467943643,-409.16735939295336]],"autoSize":false},{"id":"aRAKz","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"Projects"}],"type":"paragraph","align":"center"},"points":[[-904.1385034669252,-637.1947952330391],[-437.1286619088203,-603.0639358580391]],"strokeWidth":2,"fill":"#D3D3D3ed"},{"id":"xhkNH","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":""}],"type":"paragraph","align":"center"},"points":[[-904.1385034669252,-601.1174477064172],[-437.1286619088203,56.475908843702314]],"strokeWidth":2},{"id":"szPMh","type":"geometry","shape":"text","angle":0,"opacity":1,"textHeight":660,"text":{"children":[{"text":"1. Eunoia\\nPersonalized DIY project recommendation platform that fine-tuned models + Agentic RAG to detect objects in the user’s environment and suggest relevant, hands-on activities for children\\nTech Stack: Python, FastAPI, Expo, BS4, Gemini, ChromaDB\\n","url":"https://try3d.github.io"},{"type":"link","url":"https://github.com/try3d/eunoia","children":[{"url":"https://try3d.github.io","text":"Github"}]},{"url":"https://try3d.github.io","text":" | "},{"type":"link","url":"https://github.com/Try3D/Eunoia/releases/tag/v1.0.0","children":[{"url":"https://try3d.github.io","text":"Release"}]},{"url":"https://try3d.github.io","text":"\\n\\n2. RaftKV\\nFault-tolerant key-value store based on the Raft consensus algorithm for strong consistency across nodes, leader election, log replication, term-based safety, and snapshotting. Built for resilience over network partitions, failovers and recovery from faults\\nTech Stack: Go, Raft, CLI, Distributed Systems\\n"},{"type":"link","url":"https://github.com/try3d/raftkv","children":[{"url":"https://try3d.github.io","text":"Github"}]},{"url":"https://try3d.github.io","text":"\\n\\n"},{"text":"3. Fraud Detection System  \\nBehavioral analytics–based fraud detection platform leveraging geolocation shifts, typing cadence, and temporal anomalies for ML-driven anomaly detection. Includes a Kotlin Android app for phishing/spam alerts and a React-Flask web dashboard for real-time monitoring.  \\nTech Stack: React, Flask, Kotlin, Scikit-Learn, MongoDB\\n"},{"type":"link","url":"https://github.com/Vishwa-docs/Fraud-Transaction-Detection","children":[{"text":"Github"}]},{"text":"\\n\\n4. GPA Calculator  \\nGPA management for calculating and tracking SGPA/CGPA with persistent storage. Integrated PostHog analytics for usage insights and data-driven improvements across 500+ users, including 300+ monthly active users.\\nTech Stack: Svelte, PocketBase, PostHog\\n"},{"type":"link","url":"https://github.com/Try3D/snu-chennai-gpa-calculator","children":[{"text":"Github"}]},{"text":"\\n\\n\\n"}],"type":"paragraph"},"points":[[-898.1872420344937,-584.7765315302842],[-441.81452491135656,58.78857787753719]],"autoSize":false},{"id":"Ztyhj","type":"geometry","shape":"text","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"","url":"https://try3d.github.io"}],"type":"paragraph"},"points":[[-894.963048525845,-334.7681163499882],[-881.963048525845,-314.7681163499882]],"autoSize":true},{"id":"jzktk","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"","color":"#1E90FFff"},{"type":"link","url":"mailto:rsarans186@gmail.com","children":[{"text":"Email","url":"try3d.github.io","color":"#1E90FFff"}]},{"text":"","color":"#1E90FFff"}],"type":"paragraph","align":"center"},"points":[[186.1529120268866,-477.84034079735636],[353.79264203738745,-445.2371897467976]],"strokeWidth":2,"strokeColor":"#1E90FF"},{"id":"njcJG","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"","color":"#1E90FFff"},{"type":"link","url":"https://try3d.github.io","children":[{"text":"Resume","url":"try3d.github.io","color":"#1E90FFff"}]},{"text":"","color":"#1E90FFff"}],"type":"paragraph","align":"center"},"points":[[358.92802304304826,-477.84034079735636],[526.567753053549,-445.2371897467976]],"strokeWidth":2,"strokeColor":"#1E90FF"},{"id":"tiszc","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"","color":"#1E90FFff"},{"type":"link","url":"https://linkedin.com/in/rsarans186","children":[{"text":"Linkedin","url":"try3d.github.io","color":"#1E90FFff"}]},{"text":"","color":"#1E90FFff"}],"type":"paragraph","align":"center"},"points":[[358.92802304304826,-515.486560215457],[526.567753053549,-482.8834091648982]],"strokeWidth":2,"strokeColor":"#1E90FF"},{"id":"ZTXhk","type":"arrow-line","shape":"curve","source":{"marker":"none","connection":[0,0.5000000000000003],"boundId":"swTmx"},"texts":[],"target":{"marker":"arrow","connection":[1,0.5],"boundId":"xhkNH"},"opacity":1,"points":[[-259.0043524828395,-269.8729812309857],[-430.8909177471004,-281.3951968546901]],"strokeWidth":2},{"id":"bEaGs","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"","color":"#1E90FFff"},{"type":"link","url":"mailto:rsarans186@gmail.com","children":[{"text":"Blogs","url":"try3d.github.io","color":"#1E90FFff"}]},{"text":"","color":"#1E90FFff"}],"type":"paragraph","align":"center"},"points":[[186.1529120268866,-440.1941213792557],[353.79264203738745,-407.5909703286969]],"strokeWidth":2,"strokeColor":"#1E90FF"},{"id":"EThby","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":"Experience"}],"type":"paragraph","align":"center"},"points":[[165.4587246165798,-347.220264595432],[552.3973214695168,-313.08940522043196]],"strokeWidth":2,"fill":"#D3D3D3ed"},{"id":"hjTYc","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":""}],"type":"paragraph","align":"center"},"points":[[165.4587246165798,-310.0055575563562],[552.3973214695168,-235.25711157287952]],"strokeWidth":2},{"id":"JMpSi","type":"geometry","shape":"text","angle":0,"opacity":1,"textHeight":40,"text":{"children":[{"text":"Miniture\\nSDE Intern (March 2025 - Present)","url":"https://try3d.github.io"}],"type":"paragraph"},"points":[[176.5863728409787,-300.7310471064089],[411.3923965928926,-242.68456697027523]],"autoSize":false},{"id":"jdiFS","type":"arrow-line","shape":"straight","source":{"marker":"none","connection":[0.5,0],"boundId":"swTmx"},"texts":[],"target":{"marker":"arrow","connection":[0.5,1],"boundId":"eatrn"},"opacity":1,"points":[[-136.5157470703125,-299.3460693359375],[-136.58767418701245,-416.0579360467864]],"strokeWidth":2},{"id":"hcWSj","type":"arrow-line","shape":"straight","source":{"marker":"none","connection":[1,0.5000000000000003],"boundId":"swTmx"},"texts":[],"target":{"marker":"arrow","connection":[0,0.5],"boundId":"hjTYc"},"opacity":1,"points":[[-17.125418747942604,-273.61023415449563],[163.29201687777163,-272.6287436488683]],"strokeWidth":2},{"id":"GpHCY","type":"geometry","shape":"rectangle","angle":0,"opacity":1,"textHeight":20,"text":{"children":[{"text":""}],"type":"paragraph","align":"center"},"points":[[-1032.248381073963,-737.2072643669562],[682.1667885219258,223.66121271494285]],"strokeWidth":2,"strokeColor":"#FFFFFF"}]'),vfe={zoom:.7830923535707552,origination:[-1052.680198505257,-769.3097848854153]},Hv={elements:mfe,viewport:vfe};function yfe(){const[e,n]=$.useState({children:[]}),[r,i]=$.useState(!1);return $.useEffect(()=>{Array.isArray(Hv.elements)?(n({children:Hv.elements,viewport:Hv.viewport}),Hv.elements.length===0&&i(!0)):i(!0)},[]),V.jsxDEV(pfe,{value:e.children,viewport:e.viewport,theme:e.theme,onChange:o=>{const u=o;n(u),u.children&&u.children.length>0&&i(!1)},tutorial:r,afterInit:o=>{console.log("board initialized")}},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/apps/web/src/app/app.tsx",lineNumber:34,columnNumber:5},this)}const wfe=q1.createRoot(document.getElementById("root"));wfe.render(V.jsxDEV($.StrictMode,{children:V.jsxDEV(yfe,{},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/apps/web/src/main.tsx",lineNumber:11,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/runner/work/try3d.github.io/try3d.github.io/apps/web/src/main.tsx",lineNumber:10,columnNumber:3},void 0));export{Lr as A,lt as B,up as D,ut as F,Ve as M,Le as N,Ri as P,N as R,Ha as S,QO as _,jp as a,wc as b,gX as c,VS as d,Yf as e,ine as f,gc as g,$N as h,Rn as i,tt as j,yn as k,Py as l,Hp as m,av as n};
